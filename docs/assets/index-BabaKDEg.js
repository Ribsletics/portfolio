const __vite__fileDeps=["portfolio/assets/browserAll-DKH6R0BN.js","portfolio/assets/webworkerAll-CQN-Pt1Y.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function PC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function To(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var AC={exports:{}},hm={},RC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),DI=Symbol.for("react.portal"),kI=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),II=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),NI=Symbol.for("react.suspense"),GI=Symbol.for("react.memo"),zI=Symbol.for("react.lazy"),rw=Symbol.iterator;function $I(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var MC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BC=Object.assign,DC={};function _l(t,e,r){this.props=t,this.context=e,this.refs=DC,this.updater=r||MC}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kC(){}kC.prototype=_l.prototype;function Rx(t,e,r){this.props=t,this.context=e,this.refs=DC,this.updater=r||MC}var Mx=Rx.prototype=new kC;Mx.constructor=Rx;BC(Mx,_l.prototype);Mx.isPureReactComponent=!0;var nw=Array.isArray,OC=Object.prototype.hasOwnProperty,Bx={current:null},IC={key:!0,ref:!0,__self:!0,__source:!0};function FC(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)OC.call(e,n)&&!IC.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:qd,type:t,key:s,ref:o,props:i,_owner:Bx.current}}function HI(t,e){return{$$typeof:qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dx(t){return typeof t=="object"&&t!==null&&t.$$typeof===qd}function jI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var iw=/\/+/g;function f0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jI(""+t.key):e.toString(36)}function Bf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qd:case DI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+f0(o,0):n,nw(i)?(r="",t!=null&&(r=t.replace(iw,"$&/")+"/"),Bf(i,e,r,"",function(l){return l})):i!=null&&(Dx(i)&&(i=HI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",nw(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+f0(s,a);o+=Bf(s,e,r,u,i)}else if(u=$I(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+f0(s,a++),o+=Bf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dh(t,e,r){if(t==null)return t;var n=[],i=0;return Bf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function WI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},Df={transition:null},VI={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:Df,ReactCurrentOwner:Bx};function UC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Dh,forEach:function(t,e,r){Dh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Dh(t,function(){e++}),e},toArray:function(t){return Dh(t,function(e){return e})||[]},only:function(t){if(!Dx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=_l;ye.Fragment=kI;ye.Profiler=II;ye.PureComponent=Rx;ye.StrictMode=OI;ye.Suspense=NI;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;ye.act=UC;ye.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=BC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)OC.call(e,u)&&!IC.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:qd,type:t.type,key:i,ref:s,props:n,_owner:o}};ye.createContext=function(t){return t={$$typeof:UI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FI,_context:t},t.Consumer=t};ye.createElement=FC;ye.createFactory=function(t){var e=FC.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:LI,render:t}};ye.isValidElement=Dx;ye.lazy=function(t){return{$$typeof:zI,_payload:{_status:-1,_result:t},_init:WI}};ye.memo=function(t,e){return{$$typeof:GI,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Df.transition;Df.transition={};try{t()}finally{Df.transition=e}};ye.unstable_act=UC;ye.useCallback=function(t,e){return Cr.current.useCallback(t,e)};ye.useContext=function(t){return Cr.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Cr.current.useEffect(t,e)};ye.useId=function(){return Cr.current.useId()};ye.useImperativeHandle=function(t,e,r){return Cr.current.useImperativeHandle(t,e,r)};ye.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Cr.current.useMemo(t,e)};ye.useReducer=function(t,e,r){return Cr.current.useReducer(t,e,r)};ye.useRef=function(t){return Cr.current.useRef(t)};ye.useState=function(t){return Cr.current.useState(t)};ye.useSyncExternalStore=function(t,e,r){return Cr.current.useSyncExternalStore(t,e,r)};ye.useTransition=function(){return Cr.current.useTransition()};ye.version="18.3.1";RC.exports=ye;var P=RC.exports;const ln=gl(P),Hu=PC({__proto__:null,default:ln},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=P,YI=Symbol.for("react.element"),qI=Symbol.for("react.fragment"),KI=Object.prototype.hasOwnProperty,QI=XI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZI={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)KI.call(e,n)&&!ZI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:YI,type:t,key:s,ref:o,props:i,_owner:QI.current}}hm.Fragment=qI;hm.jsx=LC;hm.jsxs=LC;AC.exports=hm;var V=AC.exports,j_={},NC={exports:{}},Tn={},GC={exports:{}},zC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var G=O.length;O.push(F);e:for(;0<G;){var oe=G-1>>>1,W=O[oe];if(0<i(W,F))O[oe]=F,O[G]=W,G=oe;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var F=O[0],G=O.pop();if(G!==F){O[0]=G;e:for(var oe=0,W=O.length,ve=W>>>1;oe<ve;){var re=2*(oe+1)-1,ae=O[re],me=re+1,Ue=O[me];if(0>i(ae,G))me<W&&0>i(Ue,ae)?(O[oe]=Ue,O[me]=G,oe=me):(O[oe]=ae,O[re]=G,oe=re);else if(me<W&&0>i(Ue,G))O[oe]=Ue,O[me]=G,oe=me;else break e}}return F}function i(O,F){var G=O.sortIndex-F.sortIndex;return G!==0?G:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var F=r(l);F!==null;){if(F.callback===null)n(l);else if(F.startTime<=O)n(l),F.sortIndex=F.expirationTime,e(u,F);else break;F=r(l)}}function x(O){if(m=!1,y(O),!p)if(r(u)!==null)p=!0,I(S);else{var F=r(l);F!==null&&$(x,F.startTime-O)}}function S(O,F){p=!1,m&&(m=!1,_(E),E=-1),f=!0;var G=h;try{for(y(F),d=r(u);d!==null&&(!(d.expirationTime>F)||O&&!M());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var W=oe(d.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?d.callback=W:d===r(u)&&n(u),y(F)}else n(u);d=r(u)}if(d!==null)var ve=!0;else{var re=r(l);re!==null&&$(x,re.startTime-F),ve=!1}return ve}finally{d=null,h=G,f=!1}}var w=!1,b=null,E=-1,T=5,C=-1;function M(){return!(t.unstable_now()-C<T)}function N(){if(b!==null){var O=t.unstable_now();C=O;var F=!0;try{F=b(!0,O)}finally{F?D():(w=!1,b=null)}}else w=!1}var D;if(typeof v=="function")D=function(){v(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=N,D=function(){U.postMessage(null)}}else D=function(){g(N,0)};function I(O){b=O,w||(w=!0,D())}function $(O,F){E=g(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var G=h;h=F;try{return O()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=h;h=O;try{return F()}finally{h=G}},t.unstable_scheduleCallback=function(O,F,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,O={id:c++,callback:F,priorityLevel:O,startTime:G,expirationTime:W,sortIndex:-1},G>oe?(O.sortIndex=G,e(l,O),r(u)===null&&O===r(l)&&(m?(_(E),E=-1):m=!0,$(x,G-oe))):(O.sortIndex=W,e(u,O),p||f||(p=!0,I(S))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var F=h;return function(){var G=h;h=F;try{return O.apply(this,arguments)}finally{h=G}}}})(zC);GC.exports=zC;var JI=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF=P,_n=JI;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $C=new Set,Qc={};function Oa(t,e){ju(t,e),ju(t+"Capture",e)}function ju(t,e){for(Qc[t]=e,t=0;t<e.length;t++)$C.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W_=Object.prototype.hasOwnProperty,tF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sw={},ow={};function rF(t){return W_.call(ow,t)?!0:W_.call(sw,t)?!1:tF.test(t)?ow[t]=!0:(sw[t]=!0,!1)}function nF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iF(t,e,r,n){if(e===null||typeof e>"u"||nF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var kx=/[\-:]([a-z])/g;function Ox(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kx,Ox);ir[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kx,Ox);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kx,Ox);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ix(t,e,r,n){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iF(e,r,i,n)&&(r=null),n||i===null?rF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ps=eF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),ou=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),V_=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),Ux=Symbol.for("react.forward_ref"),X_=Symbol.for("react.suspense"),Y_=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),WC=Symbol.for("react.offscreen"),aw=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,p0;function dc(t){if(p0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);p0=e&&e[1]||""}return`
`+p0+t}var m0=!1;function g0(t,e){if(!t||m0)return"";m0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{m0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dc(t):""}function sF(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=g0(t.type,!1),t;case 11:return t=g0(t.type.render,!1),t;case 1:return t=g0(t.type,!0),t;default:return""}}function q_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case au:return"Fragment";case ou:return"Portal";case V_:return"Profiler";case Fx:return"StrictMode";case X_:return"Suspense";case Y_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jC:return(t.displayName||"Context")+".Consumer";case HC:return(t._context.displayName||"Context")+".Provider";case Ux:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lx:return e=t.displayName||null,e!==null?e:q_(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return q_(t(e))}catch{}}return null}function oF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q_(e);case 8:return e===Fx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aF(t){var e=VC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=aF(t))}function XC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=VC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ip(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K_(t,e){var r=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function uw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=_o(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YC(t,e){e=e.checked,e!=null&&Ix(t,"checked",e,!1)}function Q_(t,e){YC(t,e);var r=_o(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z_(t,e.type,r):e.hasOwnProperty("defaultValue")&&Z_(t,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Z_(t,e,r){(e!=="number"||ip(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hc=Array.isArray;function Tu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+_o(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function J_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(hc(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:_o(r)}}function qC(t,e){var r=_o(e.value),n=_o(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function dw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ey(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ih,QC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ih=Ih||document.createElement("div"),Ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uF=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){uF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function ZC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function JC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ZC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lF=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ty(t,e){if(e){if(lF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=null;function Nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iy=null,Cu=null,Pu=null;function hw(t){if(t=Zd(t)){if(typeof iy!="function")throw Error(H(280));var e=t.stateNode;e&&(e=_m(e),iy(t.stateNode,t.type,e))}}function eP(t){Cu?Pu?Pu.push(t):Pu=[t]:Cu=t}function tP(){if(Cu){var t=Cu,e=Pu;if(Pu=Cu=null,hw(t),e)for(t=0;t<e.length;t++)hw(e[t])}}function rP(t,e){return t(e)}function nP(){}var _0=!1;function iP(t,e,r){if(_0)return t(e,r);_0=!0;try{return rP(t,e,r)}finally{_0=!1,(Cu!==null||Pu!==null)&&(nP(),tP())}}function Jc(t,e){var r=t.stateNode;if(r===null)return null;var n=_m(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var sy=!1;if(ms)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{sy=!1}function cF(t,e,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Cc=!1,sp=null,op=!1,oy=null,dF={onError:function(t){Cc=!0,sp=t}};function hF(t,e,r,n,i,s,o,a,u){Cc=!1,sp=null,cF.apply(dF,arguments)}function fF(t,e,r,n,i,s,o,a,u){if(hF.apply(this,arguments),Cc){if(Cc){var l=sp;Cc=!1,sp=null}else throw Error(H(198));op||(op=!0,oy=l)}}function Ia(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fw(t){if(Ia(t)!==t)throw Error(H(188))}function pF(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fw(i),t;if(s===n)return fw(i),e;s=s.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function oP(t){return t=pF(t),t!==null?aP(t):null}function aP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aP(t);if(e!==null)return e;t=t.sibling}return null}var uP=_n.unstable_scheduleCallback,pw=_n.unstable_cancelCallback,mF=_n.unstable_shouldYield,gF=_n.unstable_requestPaint,bt=_n.unstable_now,_F=_n.unstable_getCurrentPriorityLevel,Gx=_n.unstable_ImmediatePriority,lP=_n.unstable_UserBlockingPriority,ap=_n.unstable_NormalPriority,yF=_n.unstable_LowPriority,cP=_n.unstable_IdlePriority,fm=null,Ni=null;function vF(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(fm,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:SF,xF=Math.log,bF=Math.LN2;function SF(t){return t>>>=0,t===0?32:31-(xF(t)/bF|0)|0}var Fh=64,Uh=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function up(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=fc(a):(s&=o,s!==0&&(n=fc(s)))}else o=r&~i,o!==0?n=fc(o):s!==0&&(n=fc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-bi(e),i=1<<r,n|=t[r],e&=~i;return n}function wF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bi(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=wF(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function ay(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dP(){var t=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),t}function y0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=r}function TF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-bi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function zx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-bi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ke=0;function hP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fP,$x,pP,mP,gP,uy=!1,Lh=[],oo=null,ao=null,uo=null,ed=new Map,td=new Map,Xs=[],CF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(t,e){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(e.pointerId)}}function Ll(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zd(e),e!==null&&$x(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PF(t,e,r,n,i){switch(e){case"focusin":return oo=Ll(oo,t,e,r,n,i),!0;case"dragenter":return ao=Ll(ao,t,e,r,n,i),!0;case"mouseover":return uo=Ll(uo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ed.set(s,Ll(ed.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,td.set(s,Ll(td.get(s)||null,t,e,r,n,i)),!0}return!1}function _P(t){var e=ea(t.target);if(e!==null){var r=Ia(e);if(r!==null){if(e=r.tag,e===13){if(e=sP(r),e!==null){t.blockedOn=e,gP(t.priority,function(){pP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ly(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ny=n,r.target.dispatchEvent(n),ny=null}else return e=Zd(r),e!==null&&$x(e),t.blockedOn=r,!1;e.shift()}return!0}function gw(t,e,r){kf(t)&&r.delete(e)}function AF(){uy=!1,oo!==null&&kf(oo)&&(oo=null),ao!==null&&kf(ao)&&(ao=null),uo!==null&&kf(uo)&&(uo=null),ed.forEach(gw),td.forEach(gw)}function Nl(t,e){t.blockedOn===e&&(t.blockedOn=null,uy||(uy=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,AF)))}function rd(t){function e(i){return Nl(i,t)}if(0<Lh.length){Nl(Lh[0],t);for(var r=1;r<Lh.length;r++){var n=Lh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(oo!==null&&Nl(oo,t),ao!==null&&Nl(ao,t),uo!==null&&Nl(uo,t),ed.forEach(e),td.forEach(e),r=0;r<Xs.length;r++)n=Xs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)_P(r),r.blockedOn===null&&Xs.shift()}var Au=Ps.ReactCurrentBatchConfig,lp=!0;function RF(t,e,r,n){var i=ke,s=Au.transition;Au.transition=null;try{ke=1,Hx(t,e,r,n)}finally{ke=i,Au.transition=s}}function MF(t,e,r,n){var i=ke,s=Au.transition;Au.transition=null;try{ke=4,Hx(t,e,r,n)}finally{ke=i,Au.transition=s}}function Hx(t,e,r,n){if(lp){var i=ly(t,e,r,n);if(i===null)A0(t,e,n,cp,r),mw(t,n);else if(PF(i,t,e,r,n))n.stopPropagation();else if(mw(t,n),e&4&&-1<CF.indexOf(t)){for(;i!==null;){var s=Zd(i);if(s!==null&&fP(s),s=ly(t,e,r,n),s===null&&A0(t,e,n,cp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else A0(t,e,n,null,r)}}var cp=null;function ly(t,e,r,n){if(cp=null,t=Nx(n),t=ea(t),t!==null)if(e=Ia(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cp=t,null}function yP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_F()){case Gx:return 1;case lP:return 4;case ap:case yF:return 16;case cP:return 536870912;default:return 16}default:return 16}}var Ks=null,jx=null,Of=null;function vP(){if(Of)return Of;var t,e=jx,r=e.length,n,i="value"in Ks?Ks.value:Ks.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Of=i.slice(t,1<n?1-n:void 0)}function If(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function _w(){return!1}function Cn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nh:_w,this.isPropagationStopped=_w,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wx=Cn(yl),Qd=ct({},yl,{view:0,detail:0}),BF=Cn(Qd),v0,x0,Gl,pm=ct({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(v0=t.screenX-Gl.screenX,x0=t.screenY-Gl.screenY):x0=v0=0,Gl=t),v0)},movementY:function(t){return"movementY"in t?t.movementY:x0}}),yw=Cn(pm),DF=ct({},pm,{dataTransfer:0}),kF=Cn(DF),OF=ct({},Qd,{relatedTarget:0}),b0=Cn(OF),IF=ct({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),FF=Cn(IF),UF=ct({},yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LF=Cn(UF),NF=ct({},yl,{data:0}),vw=Cn(NF),GF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$F[t])?!!e[t]:!1}function Vx(){return HF}var jF=ct({},Qd,{key:function(t){if(t.key){var e=GF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=If(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vx,charCode:function(t){return t.type==="keypress"?If(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?If(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WF=Cn(jF),VF=ct({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=Cn(VF),XF=ct({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vx}),YF=Cn(XF),qF=ct({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KF=Cn(qF),QF=ct({},pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZF=Cn(QF),JF=[9,13,27,32],Xx=ms&&"CompositionEvent"in window,Pc=null;ms&&"documentMode"in document&&(Pc=document.documentMode);var eU=ms&&"TextEvent"in window&&!Pc,xP=ms&&(!Xx||Pc&&8<Pc&&11>=Pc),bw=" ",Sw=!1;function bP(t,e){switch(t){case"keyup":return JF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uu=!1;function tU(t,e){switch(t){case"compositionend":return SP(e);case"keypress":return e.which!==32?null:(Sw=!0,bw);case"textInput":return t=e.data,t===bw&&Sw?null:t;default:return null}}function rU(t,e){if(uu)return t==="compositionend"||!Xx&&bP(t,e)?(t=vP(),Of=jx=Ks=null,uu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xP&&e.locale!=="ko"?null:e.data;default:return null}}var nU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nU[t.type]:e==="textarea"}function wP(t,e,r,n){eP(n),e=dp(e,"onChange"),0<e.length&&(r=new Wx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ac=null,nd=null;function iU(t){OP(t,0)}function mm(t){var e=du(t);if(XC(e))return t}function sU(t,e){if(t==="change")return e}var EP=!1;if(ms){var S0;if(ms){var w0="oninput"in document;if(!w0){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),w0=typeof Ew.oninput=="function"}S0=w0}else S0=!1;EP=S0&&(!document.documentMode||9<document.documentMode)}function Tw(){Ac&&(Ac.detachEvent("onpropertychange",TP),nd=Ac=null)}function TP(t){if(t.propertyName==="value"&&mm(nd)){var e=[];wP(e,nd,t,Nx(t)),iP(iU,e)}}function oU(t,e,r){t==="focusin"?(Tw(),Ac=e,nd=r,Ac.attachEvent("onpropertychange",TP)):t==="focusout"&&Tw()}function aU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mm(nd)}function uU(t,e){if(t==="click")return mm(e)}function lU(t,e){if(t==="input"||t==="change")return mm(e)}function cU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ei=typeof Object.is=="function"?Object.is:cU;function id(t,e){if(Ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!W_.call(e,i)||!Ei(t[i],e[i]))return!1}return!0}function Cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var r=Cw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cw(r)}}function CP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PP(){for(var t=window,e=ip();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ip(t.document)}return e}function Yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dU(t){var e=PP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&CP(r.ownerDocument.documentElement,r)){if(n!==null&&Yx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Pw(r,s);var o=Pw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hU=ms&&"documentMode"in document&&11>=document.documentMode,lu=null,cy=null,Rc=null,dy=!1;function Aw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dy||lu==null||lu!==ip(n)||(n=lu,"selectionStart"in n&&Yx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rc&&id(Rc,n)||(Rc=n,n=dp(cy,"onSelect"),0<n.length&&(e=new Wx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=lu)))}function Gh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cu={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},E0={},AP={};ms&&(AP=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function gm(t){if(E0[t])return E0[t];if(!cu[t])return t;var e=cu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in AP)return E0[t]=e[r];return t}var RP=gm("animationend"),MP=gm("animationiteration"),BP=gm("animationstart"),DP=gm("transitionend"),kP=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){kP.set(t,e),Oa(e,[t])}for(var T0=0;T0<Rw.length;T0++){var C0=Rw[T0],fU=C0.toLowerCase(),pU=C0[0].toUpperCase()+C0.slice(1);Co(fU,"on"+pU)}Co(RP,"onAnimationEnd");Co(MP,"onAnimationIteration");Co(BP,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(DP,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mU=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Mw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fF(n,e,void 0,t),t.currentTarget=null}function OP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Mw(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Mw(i,a,l),s=u}}}if(op)throw t=oy,op=!1,oy=null,t}function Ve(t,e){var r=e[gy];r===void 0&&(r=e[gy]=new Set);var n=t+"__bubble";r.has(n)||(IP(e,t,2,!1),r.add(n))}function P0(t,e,r){var n=0;e&&(n|=4),IP(r,t,n,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[zh]){t[zh]=!0,$C.forEach(function(r){r!=="selectionchange"&&(mU.has(r)||P0(r,!1,t),P0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,P0("selectionchange",!1,e))}}function IP(t,e,r,n){switch(yP(e)){case 1:var i=RF;break;case 4:i=MF;break;default:i=Hx}r=i.bind(null,e,r,t),i=void 0,!sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function A0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ea(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}iP(function(){var l=s,c=Nx(r),d=[];e:{var h=kP.get(t);if(h!==void 0){var f=Wx,p=t;switch(t){case"keypress":if(If(r)===0)break e;case"keydown":case"keyup":f=WF;break;case"focusin":p="focus",f=b0;break;case"focusout":p="blur",f=b0;break;case"beforeblur":case"afterblur":f=b0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=kF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=YF;break;case RP:case MP:case BP:f=FF;break;case DP:f=KF;break;case"scroll":f=BF;break;case"wheel":f=ZF;break;case"copy":case"cut":case"paste":f=LF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xw}var m=(e&4)!==0,g=!m&&t==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var v=l,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,_!==null&&(x=Jc(v,_),x!=null&&m.push(od(v,x,y)))),g)break;v=v.return}0<m.length&&(h=new f(h,p,null,r,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==ny&&(p=r.relatedTarget||r.fromElement)&&(ea(p)||p[gs]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=l,p=p?ea(p):null,p!==null&&(g=Ia(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(m=yw,x="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=xw,x="onPointerLeave",_="onPointerEnter",v="pointer"),g=f==null?h:du(f),y=p==null?h:du(p),h=new m(x,v+"leave",f,r,c),h.target=g,h.relatedTarget=y,x=null,ea(c)===l&&(m=new m(_,v+"enter",p,r,c),m.target=y,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,_=p,v=0,y=m;y;y=za(y))v++;for(y=0,x=_;x;x=za(x))y++;for(;0<v-y;)m=za(m),v--;for(;0<y-v;)_=za(_),y--;for(;v--;){if(m===_||_!==null&&m===_.alternate)break t;m=za(m),_=za(_)}m=null}else m=null;f!==null&&Bw(d,h,f,m,!1),p!==null&&g!==null&&Bw(d,g,p,m,!0)}}e:{if(h=l?du(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=sU;else if(ww(h))if(EP)S=lU;else{S=aU;var w=oU}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=uU);if(S&&(S=S(t,l))){wP(d,S,r,c);break e}w&&w(t,h,l),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Z_(h,"number",h.value)}switch(w=l?du(l):window,t){case"focusin":(ww(w)||w.contentEditable==="true")&&(lu=w,cy=l,Rc=null);break;case"focusout":Rc=cy=lu=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,Aw(d,r,c);break;case"selectionchange":if(hU)break;case"keydown":case"keyup":Aw(d,r,c)}var b;if(Xx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else uu?bP(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(xP&&r.locale!=="ko"&&(uu||E!=="onCompositionStart"?E==="onCompositionEnd"&&uu&&(b=vP()):(Ks=c,jx="value"in Ks?Ks.value:Ks.textContent,uu=!0)),w=dp(l,E),0<w.length&&(E=new vw(E,t,null,r,c),d.push({event:E,listeners:w}),b?E.data=b:(b=SP(r),b!==null&&(E.data=b)))),(b=eU?tU(t,r):rU(t,r))&&(l=dp(l,"onBeforeInput"),0<l.length&&(c=new vw("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=b))}OP(d,e)})}function od(t,e,r){return{instance:t,listener:e,currentTarget:r}}function dp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jc(t,r),s!=null&&n.unshift(od(t,s,i)),s=Jc(t,e),s!=null&&n.push(od(t,s,i))),t=t.return}return n}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bw(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=Jc(r,s),u!=null&&o.unshift(od(r,u,a))):i||(u=Jc(r,s),u!=null&&o.push(od(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gU=/\r\n?/g,_U=/\u0000|\uFFFD/g;function Dw(t){return(typeof t=="string"?t:""+t).replace(gU,`
`).replace(_U,"")}function $h(t,e,r){if(e=Dw(e),Dw(t)!==e&&r)throw Error(H(425))}function hp(){}var hy=null,fy=null;function py(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,yU=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,vU=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(t){return kw.resolve(null).then(t).catch(xU)}:my;function xU(t){setTimeout(function(){throw t})}function R0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),rd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);rd(e)}function lo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ow(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Fi="__reactFiber$"+vl,ad="__reactProps$"+vl,gs="__reactContainer$"+vl,gy="__reactEvents$"+vl,bU="__reactListeners$"+vl,SU="__reactHandles$"+vl;function ea(t){var e=t[Fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gs]||r[Fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ow(t);t!==null;){if(r=t[Fi])return r;t=Ow(t)}return e}t=r,r=t.parentNode}return null}function Zd(t){return t=t[Fi]||t[gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function _m(t){return t[ad]||null}var _y=[],hu=-1;function Po(t){return{current:t}}function Ye(t){0>hu||(t.current=_y[hu],_y[hu]=null,hu--)}function je(t,e){hu++,_y[hu]=t.current,t.current=e}var yo={},gr=Po(yo),Gr=Po(!1),_a=yo;function Wu(t,e){var r=t.type.contextTypes;if(!r)return yo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function fp(){Ye(Gr),Ye(gr)}function Iw(t,e,r){if(gr.current!==yo)throw Error(H(168));je(gr,e),je(Gr,r)}function FP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(H(108,oF(t)||"Unknown",i));return ct({},r,n)}function pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,_a=gr.current,je(gr,t),je(Gr,Gr.current),!0}function Fw(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=FP(t,e,_a),n.__reactInternalMemoizedMergedChildContext=t,Ye(Gr),Ye(gr),je(gr,t)):Ye(Gr),je(Gr,r)}var as=null,ym=!1,M0=!1;function UP(t){as===null?as=[t]:as.push(t)}function wU(t){ym=!0,UP(t)}function Ao(){if(!M0&&as!==null){M0=!0;var t=0,e=ke;try{var r=as;for(ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}as=null,ym=!1}catch(i){throw as!==null&&(as=as.slice(t+1)),uP(Gx,Ao),i}finally{ke=e,M0=!1}}return null}var fu=[],pu=0,mp=null,gp=0,zn=[],$n=0,ya=null,cs=1,ds="";function jo(t,e){fu[pu++]=gp,fu[pu++]=mp,mp=t,gp=e}function LP(t,e,r){zn[$n++]=cs,zn[$n++]=ds,zn[$n++]=ya,ya=t;var n=cs;t=ds;var i=32-bi(n)-1;n&=~(1<<i),r+=1;var s=32-bi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,cs=1<<32-bi(e)+i|r<<i|n,ds=s+t}else cs=1<<s|r<<i|n,ds=t}function qx(t){t.return!==null&&(jo(t,1),LP(t,1,0))}function Kx(t){for(;t===mp;)mp=fu[--pu],fu[pu]=null,gp=fu[--pu],fu[pu]=null;for(;t===ya;)ya=zn[--$n],zn[$n]=null,ds=zn[--$n],zn[$n]=null,cs=zn[--$n],zn[$n]=null}var fn=null,cn=null,Qe=!1,yi=null;function NP(t,e){var r=Xn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Uw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=lo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ya!==null?{id:cs,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fn=t,cn=null,!0):!1;default:return!1}}function yy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vy(t){if(Qe){var e=cn;if(e){var r=e;if(!Uw(t,e)){if(yy(t))throw Error(H(418));e=lo(r.nextSibling);var n=fn;e&&Uw(t,e)?NP(n,r):(t.flags=t.flags&-4097|2,Qe=!1,fn=t)}}else{if(yy(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,fn=t}}}function Lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Hh(t){if(t!==fn)return!1;if(!Qe)return Lw(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!py(t.type,t.memoizedProps)),e&&(e=cn)){if(yy(t))throw GP(),Error(H(418));for(;e;)NP(t,e),e=lo(e.nextSibling)}if(Lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=lo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?lo(t.stateNode.nextSibling):null;return!0}function GP(){for(var t=cn;t;)t=lo(t.nextSibling)}function Vu(){cn=fn=null,Qe=!1}function Qx(t){yi===null?yi=[t]:yi.push(t)}var EU=Ps.ReactCurrentBatchConfig;function zl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function jh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nw(t){var e=t._init;return e(t._payload)}function zP(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=po(_,v),_.index=0,_.sibling=null,_}function s(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,x){return v===null||v.tag!==6?(v=U0(y,_.mode,x),v.return=_,v):(v=i(v,y),v.return=_,v)}function u(_,v,y,x){var S=y.type;return S===au?c(_,v,y.props.children,x,y.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===js&&Nw(S)===v.type)?(x=i(v,y.props),x.ref=zl(_,v,y),x.return=_,x):(x=$f(y.type,y.key,y.props,null,_.mode,x),x.ref=zl(_,v,y),x.return=_,x)}function l(_,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=L0(y,_.mode,x),v.return=_,v):(v=i(v,y.children||[]),v.return=_,v)}function c(_,v,y,x,S){return v===null||v.tag!==7?(v=ca(y,_.mode,x,S),v.return=_,v):(v=i(v,y),v.return=_,v)}function d(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=U0(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kh:return y=$f(v.type,v.key,v.props,null,_.mode,y),y.ref=zl(_,null,v),y.return=_,y;case ou:return v=L0(v,_.mode,y),v.return=_,v;case js:var x=v._init;return d(_,x(v._payload),y)}if(hc(v)||Fl(v))return v=ca(v,_.mode,y,null),v.return=_,v;jh(_,v)}return null}function h(_,v,y,x){var S=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(_,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kh:return y.key===S?u(_,v,y,x):null;case ou:return y.key===S?l(_,v,y,x):null;case js:return S=y._init,h(_,v,S(y._payload),x)}if(hc(y)||Fl(y))return S!==null?null:c(_,v,y,x,null);jh(_,y)}return null}function f(_,v,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(y)||null,a(v,_,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kh:return _=_.get(x.key===null?y:x.key)||null,u(v,_,x,S);case ou:return _=_.get(x.key===null?y:x.key)||null,l(v,_,x,S);case js:var w=x._init;return f(_,v,y,w(x._payload),S)}if(hc(x)||Fl(x))return _=_.get(y)||null,c(v,_,x,S,null);jh(v,x)}return null}function p(_,v,y,x){for(var S=null,w=null,b=v,E=v=0,T=null;b!==null&&E<y.length;E++){b.index>E?(T=b,b=null):T=b.sibling;var C=h(_,b,y[E],x);if(C===null){b===null&&(b=T);break}t&&b&&C.alternate===null&&e(_,b),v=s(C,v,E),w===null?S=C:w.sibling=C,w=C,b=T}if(E===y.length)return r(_,b),Qe&&jo(_,E),S;if(b===null){for(;E<y.length;E++)b=d(_,y[E],x),b!==null&&(v=s(b,v,E),w===null?S=b:w.sibling=b,w=b);return Qe&&jo(_,E),S}for(b=n(_,b);E<y.length;E++)T=f(b,_,E,y[E],x),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?E:T.key),v=s(T,v,E),w===null?S=T:w.sibling=T,w=T);return t&&b.forEach(function(M){return e(_,M)}),Qe&&jo(_,E),S}function m(_,v,y,x){var S=Fl(y);if(typeof S!="function")throw Error(H(150));if(y=S.call(y),y==null)throw Error(H(151));for(var w=S=null,b=v,E=v=0,T=null,C=y.next();b!==null&&!C.done;E++,C=y.next()){b.index>E?(T=b,b=null):T=b.sibling;var M=h(_,b,C.value,x);if(M===null){b===null&&(b=T);break}t&&b&&M.alternate===null&&e(_,b),v=s(M,v,E),w===null?S=M:w.sibling=M,w=M,b=T}if(C.done)return r(_,b),Qe&&jo(_,E),S;if(b===null){for(;!C.done;E++,C=y.next())C=d(_,C.value,x),C!==null&&(v=s(C,v,E),w===null?S=C:w.sibling=C,w=C);return Qe&&jo(_,E),S}for(b=n(_,b);!C.done;E++,C=y.next())C=f(b,_,E,C.value,x),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?E:C.key),v=s(C,v,E),w===null?S=C:w.sibling=C,w=C);return t&&b.forEach(function(N){return e(_,N)}),Qe&&jo(_,E),S}function g(_,v,y,x){if(typeof y=="object"&&y!==null&&y.type===au&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case kh:e:{for(var S=y.key,w=v;w!==null;){if(w.key===S){if(S=y.type,S===au){if(w.tag===7){r(_,w.sibling),v=i(w,y.props.children),v.return=_,_=v;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===js&&Nw(S)===w.type){r(_,w.sibling),v=i(w,y.props),v.ref=zl(_,w,y),v.return=_,_=v;break e}r(_,w);break}else e(_,w);w=w.sibling}y.type===au?(v=ca(y.props.children,_.mode,x,y.key),v.return=_,_=v):(x=$f(y.type,y.key,y.props,null,_.mode,x),x.ref=zl(_,v,y),x.return=_,_=x)}return o(_);case ou:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(_,v.sibling),v=i(v,y.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=L0(y,_.mode,x),v.return=_,_=v}return o(_);case js:return w=y._init,g(_,v,w(y._payload),x)}if(hc(y))return p(_,v,y,x);if(Fl(y))return m(_,v,y,x);jh(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,y),v.return=_,_=v):(r(_,v),v=U0(y,_.mode,x),v.return=_,_=v),o(_)):r(_,v)}return g}var Xu=zP(!0),$P=zP(!1),_p=Po(null),yp=null,mu=null,Zx=null;function Jx(){Zx=mu=yp=null}function e1(t){var e=_p.current;Ye(_p),t._currentValue=e}function xy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ru(t,e){yp=t,Zx=mu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nr=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Zx!==t)if(t={context:t,memoizedValue:e,next:null},mu===null){if(yp===null)throw Error(H(308));mu=t,yp.dependencies={lanes:0,firstContext:t}}else mu=mu.next=t;return e}var ta=null;function t1(t){ta===null?ta=[t]:ta.push(t)}function HP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,t1(e)):(r.next=i.next,i.next=r),e.interleaved=r,_s(t,n)}function _s(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ws=!1;function r1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,_s(t,r)}return i=n.interleaved,i===null?(e.next=e,t1(n)):(e.next=i.next,i.next=e),n.interleaved=e,_s(t,r)}function Ff(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zx(t,r)}}function Gw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vp(t,e,r,n){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ct({},d,h);break e;case 2:Ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=f,u=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xa|=o,t.lanes=o,t.memoizedState=d}}function zw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var Jd={},Gi=Po(Jd),ud=Po(Jd),ld=Po(Jd);function ra(t){if(t===Jd)throw Error(H(174));return t}function n1(t,e){switch(je(ld,e),je(ud,t),je(Gi,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ey(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ey(e,t)}Ye(Gi),je(Gi,e)}function Yu(){Ye(Gi),Ye(ud),Ye(ld)}function WP(t){ra(ld.current);var e=ra(Gi.current),r=ey(e,t.type);e!==r&&(je(ud,t),je(Gi,r))}function i1(t){ud.current===t&&(Ye(Gi),Ye(ud))}var it=Po(0);function xp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var B0=[];function s1(){for(var t=0;t<B0.length;t++)B0[t]._workInProgressVersionPrimary=null;B0.length=0}var Uf=Ps.ReactCurrentDispatcher,D0=Ps.ReactCurrentBatchConfig,va=0,ut=null,It=null,Wt=null,bp=!1,Mc=!1,cd=0,TU=0;function lr(){throw Error(H(321))}function o1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ei(t[r],e[r]))return!1;return!0}function a1(t,e,r,n,i,s){if(va=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uf.current=t===null||t.memoizedState===null?RU:MU,t=r(n,i),Mc){s=0;do{if(Mc=!1,cd=0,25<=s)throw Error(H(301));s+=1,Wt=It=null,e.updateQueue=null,Uf.current=BU,t=r(n,i)}while(Mc)}if(Uf.current=Sp,e=It!==null&&It.next!==null,va=0,Wt=It=ut=null,bp=!1,e)throw Error(H(300));return t}function u1(){var t=cd!==0;return cd=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function ei(){if(It===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Wt===null?ut.memoizedState:Wt.next;if(e!==null)Wt=e,It=t;else{if(t===null)throw Error(H(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function dd(t,e){return typeof e=="function"?e(t):e}function k0(t){var e=ei(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=It,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((va&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,ut.lanes|=c,xa|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,Ei(n,e.memoizedState)||(Nr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,xa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function O0(t){var e=ei(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ei(s,e.memoizedState)||(Nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function VP(){}function XP(t,e){var r=ut,n=ei(),i=e(),s=!Ei(n.memoizedState,i);if(s&&(n.memoizedState=i,Nr=!0),n=n.queue,l1(KP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,hd(9,qP.bind(null,r,n,i,e),void 0,null),Yt===null)throw Error(H(349));va&30||YP(r,e,i)}return i}function YP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function qP(t,e,r,n){e.value=r,e.getSnapshot=n,QP(e)&&ZP(t)}function KP(t,e,r){return r(function(){QP(e)&&ZP(t)})}function QP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ei(t,r)}catch{return!0}}function ZP(t){var e=_s(t,1);e!==null&&Si(e,t,1,-1)}function $w(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},e.queue=t,t=t.dispatch=AU.bind(null,ut,t),[e.memoizedState,t]}function hd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function JP(){return ei().memoizedState}function Lf(t,e,r,n){var i=Di();ut.flags|=t,i.memoizedState=hd(1|e,r,void 0,n===void 0?null:n)}function vm(t,e,r,n){var i=ei();n=n===void 0?null:n;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,n!==null&&o1(n,o.deps)){i.memoizedState=hd(e,r,s,n);return}}ut.flags|=t,i.memoizedState=hd(1|e,r,s,n)}function Hw(t,e){return Lf(8390656,8,t,e)}function l1(t,e){return vm(2048,8,t,e)}function eA(t,e){return vm(4,2,t,e)}function tA(t,e){return vm(4,4,t,e)}function rA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nA(t,e,r){return r=r!=null?r.concat([t]):null,vm(4,4,rA.bind(null,e,t),r)}function c1(){}function iA(t,e){var r=ei();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&o1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sA(t,e){var r=ei();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&o1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oA(t,e,r){return va&21?(Ei(r,e)||(r=dP(),ut.lanes|=r,xa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nr=!0),t.memoizedState=r)}function CU(t,e){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var n=D0.transition;D0.transition={};try{t(!1),e()}finally{ke=r,D0.transition=n}}function aA(){return ei().memoizedState}function PU(t,e,r){var n=fo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uA(t))lA(e,r);else if(r=HP(t,e,r,n),r!==null){var i=Tr();Si(r,t,n,i),cA(r,e,n)}}function AU(t,e,r){var n=fo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uA(t))lA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ei(a,o)){var u=e.interleaved;u===null?(i.next=i,t1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=HP(t,e,i,n),r!==null&&(i=Tr(),Si(r,t,n,i),cA(r,e,n))}}function uA(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function lA(t,e){Mc=bp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zx(t,r)}}var Sp={readContext:Jn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},RU={readContext:Jn,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:Hw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lf(4194308,4,rA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lf(4,2,t,e)},useMemo:function(t,e){var r=Di();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Di();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=PU.bind(null,ut,t),[n.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:c1,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=CU.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ut,i=Di();if(Qe){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),Yt===null)throw Error(H(349));va&30||YP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Hw(KP.bind(null,n,s,t),[t]),n.flags|=2048,hd(9,qP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Di(),e=Yt.identifierPrefix;if(Qe){var r=ds,n=cs;r=(n&~(1<<32-bi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=TU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MU={readContext:Jn,useCallback:iA,useContext:Jn,useEffect:l1,useImperativeHandle:nA,useInsertionEffect:eA,useLayoutEffect:tA,useMemo:sA,useReducer:k0,useRef:JP,useState:function(){return k0(dd)},useDebugValue:c1,useDeferredValue:function(t){var e=ei();return oA(e,It.memoizedState,t)},useTransition:function(){var t=k0(dd)[0],e=ei().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:XP,useId:aA,unstable_isNewReconciler:!1},BU={readContext:Jn,useCallback:iA,useContext:Jn,useEffect:l1,useImperativeHandle:nA,useInsertionEffect:eA,useLayoutEffect:tA,useMemo:sA,useReducer:O0,useRef:JP,useState:function(){return O0(dd)},useDebugValue:c1,useDeferredValue:function(t){var e=ei();return It===null?e.memoizedState=t:oA(e,It.memoizedState,t)},useTransition:function(){var t=O0(dd)[0],e=ei().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:XP,useId:aA,unstable_isNewReconciler:!1};function mi(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function by(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xm={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=fo(t),s=hs(n,i);s.payload=e,r!=null&&(s.callback=r),e=co(t,s,i),e!==null&&(Si(e,t,i,n),Ff(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=fo(t),s=hs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=co(t,s,i),e!==null&&(Si(e,t,i,n),Ff(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=fo(t),i=hs(r,n);i.tag=2,e!=null&&(i.callback=e),e=co(t,i,n),e!==null&&(Si(e,t,n,r),Ff(e,t,n))}};function jw(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!id(r,n)||!id(i,s):!0}function dA(t,e,r){var n=!1,i=yo,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=zr(e)?_a:gr.current,n=e.contextTypes,s=(n=n!=null)?Wu(t,i):yo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ww(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function Sy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},r1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=zr(e)?_a:gr.current,i.context=Wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(by(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xm.enqueueReplaceState(i,i.state,null),vp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qu(t,e){try{var r="",n=e;do r+=sF(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function I0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var DU=typeof WeakMap=="function"?WeakMap:Map;function hA(t,e,r){r=hs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ep||(Ep=!0,ky=n),wy(t,e)},r}function fA(t,e,r){r=hs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){wy(t,e),typeof n!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Vw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new DU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=VU.bind(null,t,e,r),e.then(t,t))}function Xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hs(-1,1),e.tag=2,co(r,e,1))),r.lanes|=1),t)}var kU=Ps.ReactCurrentOwner,Nr=!1;function br(t,e,r,n){e.child=t===null?$P(e,null,r,n):Xu(e,t.child,r,n)}function qw(t,e,r,n,i){r=r.render;var s=e.ref;return Ru(e,i),n=a1(t,e,r,n,s,i),r=u1(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ys(t,e,i)):(Qe&&r&&qx(e),e.flags|=1,br(t,e,n,i),e.child)}function Kw(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!y1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,pA(t,e,s,n,i)):(t=$f(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:id,r(o,n)&&t.ref===e.ref)return ys(t,e,i)}return e.flags|=1,t=po(s,n),t.ref=e.ref,t.return=e,e.child=t}function pA(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(id(s,n)&&t.ref===e.ref)if(Nr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Nr=!0);else return e.lanes=t.lanes,ys(t,e,i)}return Ey(t,e,r,n,i)}function mA(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(_u,sn),sn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(_u,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,je(_u,sn),sn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,je(_u,sn),sn|=n;return br(t,e,i,r),e.child}function gA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ey(t,e,r,n,i){var s=zr(r)?_a:gr.current;return s=Wu(e,s),Ru(e,i),r=a1(t,e,r,n,s,i),n=u1(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ys(t,e,i)):(Qe&&n&&qx(e),e.flags|=1,br(t,e,r,i),e.child)}function Qw(t,e,r,n,i){if(zr(r)){var s=!0;pp(e)}else s=!1;if(Ru(e,i),e.stateNode===null)Nf(t,e),dA(e,r,n),Sy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Jn(l):(l=zr(r)?_a:gr.current,l=Wu(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&Ww(e,o,n,l),Ws=!1;var h=e.memoizedState;o.state=h,vp(e,n,o,i),u=e.memoizedState,a!==n||h!==u||Gr.current||Ws?(typeof c=="function"&&(by(e,r,c,n),u=e.memoizedState),(a=Ws||jw(e,r,a,n,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,jP(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:mi(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=zr(r)?_a:gr.current,u=Wu(e,u));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&Ww(e,o,n,u),Ws=!1,h=e.memoizedState,o.state=h,vp(e,n,o,i);var p=e.memoizedState;a!==d||h!==p||Gr.current||Ws?(typeof f=="function"&&(by(e,r,f,n),p=e.memoizedState),(l=Ws||jw(e,r,l,n,h,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ty(t,e,r,n,s,i)}function Ty(t,e,r,n,i,s){gA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Fw(e,r,!1),ys(t,e,s);n=e.stateNode,kU.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,a,s)):br(t,e,a,s),e.memoizedState=n.state,i&&Fw(e,r,!0),e.child}function _A(t){var e=t.stateNode;e.pendingContext?Iw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iw(t,e.context,!1),n1(t,e.containerInfo)}function Zw(t,e,r,n,i){return Vu(),Qx(i),e.flags|=256,br(t,e,r,n),e.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function Py(t){return{baseLanes:t,cachePool:null,transitions:null}}function yA(t,e,r){var n=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(it,i&1),t===null)return vy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wm(o,n,0,null),t=ca(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Py(r),e.memoizedState=Cy,t):d1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OU(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=po(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=po(a,s):(s=ca(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Py(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Cy,n}return s=t.child,t=s.sibling,n=po(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function d1(t,e){return e=wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wh(t,e,r,n){return n!==null&&Qx(n),Xu(e,t.child,null,r),t=d1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OU(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=I0(Error(H(422))),Wh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=wm({mode:"visible",children:n.children},i,0,null),s=ca(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=Py(o),e.memoizedState=Cy,s);if(!(e.mode&1))return Wh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(H(419)),n=I0(s,n,void 0),Wh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Nr||a){if(n=Yt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_s(t,i),Si(n,t,i,-1))}return _1(),n=I0(Error(H(421))),Wh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=lo(i.nextSibling),fn=e,Qe=!0,yi=null,t!==null&&(zn[$n++]=cs,zn[$n++]=ds,zn[$n++]=ya,cs=t.id,ds=t.overflow,ya=e),e=d1(e,n.children),e.flags|=4096,e)}function Jw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xy(t.return,e,r)}function F0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function vA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(br(t,e,n.children,r),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jw(t,r,e);else if(t.tag===19)Jw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(it,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&xp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),F0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}F0(e,!0,r,null,s);break;case"together":F0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=po(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=po(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function IU(t,e,r){switch(e.tag){case 3:_A(e),Vu();break;case 5:WP(e);break;case 1:zr(e.type)&&pp(e);break;case 4:n1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;je(_p,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(it,it.current&1),e.flags|=128,null):r&e.child.childLanes?yA(t,e,r):(je(it,it.current&1),t=ys(t,e,r),t!==null?t.sibling:null);je(it,it.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return vA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,mA(t,e,r)}return ys(t,e,r)}var xA,Ay,bA,SA;xA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ay=function(){};bA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ra(Gi.current);var s=null;switch(r){case"input":i=K_(t,i),n=K_(t,n),s=[];break;case"select":i=ct({},i,{value:void 0}),n=ct({},n,{value:void 0}),s=[];break;case"textarea":i=J_(t,i),n=J_(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hp)}ty(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ve("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};SA=function(t,e,r,n){r!==n&&(e.flags|=4)};function $l(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function FU(t,e,r){var n=e.pendingProps;switch(Kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return zr(e.type)&&fp(),cr(e),null;case 3:return n=e.stateNode,Yu(),Ye(Gr),Ye(gr),s1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yi!==null&&(Fy(yi),yi=null))),Ay(t,e),cr(e),null;case 5:i1(e);var i=ra(ld.current);if(r=e.type,t!==null&&e.stateNode!=null)bA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return cr(e),null}if(t=ra(Gi.current),Hh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Fi]=e,n[ad]=s,t=(e.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<pc.length;i++)Ve(pc[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":uw(n,s),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",n);break;case"textarea":cw(n,s),Ve("invalid",n)}ty(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&$h(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$h(n.textContent,a,t),i=["children",""+a]):Qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":Oh(n),lw(n,s,!0);break;case"textarea":Oh(n),dw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=hp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Fi]=e,t[ad]=n,xA(t,e,!1,!1),e.stateNode=t;e:{switch(o=ry(r,n),r){case"dialog":Ve("cancel",t),Ve("close",t),i=n;break;case"iframe":case"object":case"embed":Ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<pc.length;i++)Ve(pc[i],t);i=n;break;case"source":Ve("error",t),i=n;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=n;break;case"details":Ve("toggle",t),i=n;break;case"input":uw(t,n),i=K_(t,n),Ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ct({},n,{value:void 0}),Ve("invalid",t);break;case"textarea":cw(t,n),i=J_(t,n),Ve("invalid",t);break;default:i=n}ty(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?JC(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&QC(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Zc(t,u):typeof u=="number"&&Zc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ve("scroll",t):u!=null&&Ix(t,s,u,o))}switch(r){case"input":Oh(t),lw(t,n,!1);break;case"textarea":Oh(t),dw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_o(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Tu(t,!!n.multiple,s,!1):n.defaultValue!=null&&Tu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)SA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=ra(ld.current),ra(Gi.current),Hh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Fi]=e,(s=n.nodeValue!==r)&&(t=fn,t!==null))switch(t.tag){case 3:$h(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$h(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fi]=e,e.stateNode=n}return cr(e),null;case 13:if(Ye(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&cn!==null&&e.mode&1&&!(e.flags&128))GP(),Vu(),e.flags|=98560,s=!1;else if(s=Hh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Fi]=e}else Vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else yi!==null&&(Fy(yi),yi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Ut===0&&(Ut=3):_1())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return Yu(),Ay(t,e),t===null&&sd(e.stateNode.containerInfo),cr(e),null;case 10:return e1(e.type._context),cr(e),null;case 17:return zr(e.type)&&fp(),cr(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return cr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)$l(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xp(t),o!==null){for(e.flags|=128,$l(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Ku&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304)}else{if(!n)if(t=xp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$l(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return cr(e),null}else 2*bt()-s.renderingStartTime>Ku&&r!==1073741824&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,r=it.current,je(it,n?r&1|2:r&1),e):(cr(e),null);case 22:case 23:return g1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sn&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function UU(t,e){switch(Kx(e),e.tag){case 1:return zr(e.type)&&fp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),Ye(Gr),Ye(gr),s1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return i1(e),null;case 13:if(Ye(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(it),null;case 4:return Yu(),null;case 10:return e1(e.type._context),null;case 22:case 23:return g1(),null;case 24:return null;default:return null}}var Vh=!1,hr=!1,LU=typeof WeakSet=="function"?WeakSet:Set,K=null;function gu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(t,e,n)}else r.current=null}function Ry(t,e,r){try{r()}catch(n){mt(t,e,n)}}var eE=!1;function NU(t,e){if(hy=lp,t=PP(),Yx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(u=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++l===i&&(a=o),h===s&&++c===n&&(u=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fy={focusedElem:t,selectionRange:r},lp=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:mi(e.type,m),g);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){mt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=eE,eE=!1,p}function Bc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ry(e,r,s)}i=i.next}while(i!==n)}}function bm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function My(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function wA(t){var e=t.alternate;e!==null&&(t.alternate=null,wA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[ad],delete e[gy],delete e[bU],delete e[SU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EA(t){return t.tag===5||t.tag===3||t.tag===4}function tE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function By(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hp));else if(n!==4&&(t=t.child,t!==null))for(By(t,e,r),t=t.sibling;t!==null;)By(t,e,r),t=t.sibling}function Dy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dy(t,e,r),t=t.sibling;t!==null;)Dy(t,e,r),t=t.sibling}var er=null,gi=!1;function Ns(t,e,r){for(r=r.child;r!==null;)TA(t,e,r),r=r.sibling}function TA(t,e,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(fm,r)}catch{}switch(r.tag){case 5:hr||gu(r,e);case 6:var n=er,i=gi;er=null,Ns(t,e,r),er=n,gi=i,er!==null&&(gi?(t=er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(gi?(t=er,r=r.stateNode,t.nodeType===8?R0(t.parentNode,r):t.nodeType===1&&R0(t,r),rd(t)):R0(er,r.stateNode));break;case 4:n=er,i=gi,er=r.stateNode.containerInfo,gi=!0,Ns(t,e,r),er=n,gi=i;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ry(r,e,o),i=i.next}while(i!==n)}Ns(t,e,r);break;case 1:if(!hr&&(gu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){mt(r,e,a)}Ns(t,e,r);break;case 21:Ns(t,e,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,Ns(t,e,r),hr=n):Ns(t,e,r);break;default:Ns(t,e,r)}}function rE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new LU),e.forEach(function(n){var i=YU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function fi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,gi=!1;break e;case 3:er=a.stateNode.containerInfo,gi=!0;break e;case 4:er=a.stateNode.containerInfo,gi=!0;break e}a=a.return}if(er===null)throw Error(H(160));TA(s,o,i),er=null,gi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){mt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CA(e,t),e=e.sibling}function CA(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fi(e,t),Ri(t),n&4){try{Bc(3,t,t.return),bm(3,t)}catch(m){mt(t,t.return,m)}try{Bc(5,t,t.return)}catch(m){mt(t,t.return,m)}}break;case 1:fi(e,t),Ri(t),n&512&&r!==null&&gu(r,r.return);break;case 5:if(fi(e,t),Ri(t),n&512&&r!==null&&gu(r,r.return),t.flags&32){var i=t.stateNode;try{Zc(i,"")}catch(m){mt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YC(i,s),ry(a,o);var l=ry(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?JC(i,d):c==="dangerouslySetInnerHTML"?QC(i,d):c==="children"?Zc(i,d):Ix(i,c,d,l)}switch(a){case"input":Q_(i,s);break;case"textarea":qC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Tu(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Tu(i,!!s.multiple,s.defaultValue,!0):Tu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ad]=s}catch(m){mt(t,t.return,m)}}break;case 6:if(fi(e,t),Ri(t),n&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){mt(t,t.return,m)}}break;case 3:if(fi(e,t),Ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(m){mt(t,t.return,m)}break;case 4:fi(e,t),Ri(t);break;case 13:fi(e,t),Ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(p1=bt())),n&4&&rE(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(hr=(l=hr)||c,fi(e,t),hr=l):fi(e,t),Ri(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(h=K,f=h.child,h.tag){case 0:case 11:case 14:case 15:Bc(4,h,h.return);break;case 1:gu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){mt(n,r,m)}}break;case 5:gu(h,h.return);break;case 22:if(h.memoizedState!==null){iE(d);continue}}f!==null?(f.return=h,K=f):iE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ZC("display",o))}catch(m){mt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){mt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fi(e,t),Ri(t),n&4&&rE(t);break;case 21:break;default:fi(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(EA(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zc(i,""),n.flags&=-33);var s=tE(t);Dy(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tE(t);By(t,a,o);break;default:throw Error(H(161))}}catch(u){mt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GU(t,e,r){K=t,PA(t)}function PA(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Vh;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||hr;a=Vh;var l=hr;if(Vh=o,(hr=u)&&!l)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?sE(i):u!==null?(u.return=o,K=u):sE(i);for(;s!==null;)K=s,PA(s),s=s.sibling;K=i,Vh=a,hr=l}nE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):nE(t)}}function nE(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||bm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zw(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}zw(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&rd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}hr||e.flags&512&&My(e)}catch(h){mt(e,e.return,h)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function iE(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function sE(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bm(4,e)}catch(u){mt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){mt(e,i,u)}}var s=e.return;try{My(e)}catch(u){mt(e,s,u)}break;case 5:var o=e.return;try{My(e)}catch(u){mt(e,o,u)}}}catch(u){mt(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var zU=Math.ceil,wp=Ps.ReactCurrentDispatcher,h1=Ps.ReactCurrentOwner,Qn=Ps.ReactCurrentBatchConfig,Ee=0,Yt=null,Bt=null,nr=0,sn=0,_u=Po(0),Ut=0,fd=null,xa=0,Sm=0,f1=0,Dc=null,Fr=null,p1=0,Ku=1/0,ss=null,Ep=!1,ky=null,ho=null,Xh=!1,Qs=null,Tp=0,kc=0,Oy=null,Gf=-1,zf=0;function Tr(){return Ee&6?bt():Gf!==-1?Gf:Gf=bt()}function fo(t){return t.mode&1?Ee&2&&nr!==0?nr&-nr:EU.transition!==null?(zf===0&&(zf=dP()),zf):(t=ke,t!==0||(t=window.event,t=t===void 0?16:yP(t.type)),t):1}function Si(t,e,r,n){if(50<kc)throw kc=0,Oy=null,Error(H(185));Kd(t,r,n),(!(Ee&2)||t!==Yt)&&(t===Yt&&(!(Ee&2)&&(Sm|=r),Ut===4&&Ys(t,nr)),$r(t,n),r===1&&Ee===0&&!(e.mode&1)&&(Ku=bt()+500,ym&&Ao()))}function $r(t,e){var r=t.callbackNode;EF(t,e);var n=up(t,t===Yt?nr:0);if(n===0)r!==null&&pw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&pw(r),e===1)t.tag===0?wU(oE.bind(null,t)):UP(oE.bind(null,t)),vU(function(){!(Ee&6)&&Ao()}),r=null;else{switch(hP(n)){case 1:r=Gx;break;case 4:r=lP;break;case 16:r=ap;break;case 536870912:r=cP;break;default:r=ap}r=IA(r,AA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function AA(t,e){if(Gf=-1,zf=0,Ee&6)throw Error(H(327));var r=t.callbackNode;if(Mu()&&t.callbackNode!==r)return null;var n=up(t,t===Yt?nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cp(t,n);else{e=n;var i=Ee;Ee|=2;var s=MA();(Yt!==t||nr!==e)&&(ss=null,Ku=bt()+500,la(t,e));do try{jU();break}catch(a){RA(t,a)}while(!0);Jx(),wp.current=s,Ee=i,Bt!==null?e=0:(Yt=null,nr=0,e=Ut)}if(e!==0){if(e===2&&(i=ay(t),i!==0&&(n=i,e=Iy(t,i))),e===1)throw r=fd,la(t,0),Ys(t,n),$r(t,bt()),r;if(e===6)Ys(t,n);else{if(i=t.current.alternate,!(n&30)&&!$U(i)&&(e=Cp(t,n),e===2&&(s=ay(t),s!==0&&(n=s,e=Iy(t,s))),e===1))throw r=fd,la(t,0),Ys(t,n),$r(t,bt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:Wo(t,Fr,ss);break;case 3:if(Ys(t,n),(n&130023424)===n&&(e=p1+500-bt(),10<e)){if(up(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=my(Wo.bind(null,t,Fr,ss),e);break}Wo(t,Fr,ss);break;case 4:if(Ys(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-bi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zU(n/1960))-n,10<n){t.timeoutHandle=my(Wo.bind(null,t,Fr,ss),n);break}Wo(t,Fr,ss);break;case 5:Wo(t,Fr,ss);break;default:throw Error(H(329))}}}return $r(t,bt()),t.callbackNode===r?AA.bind(null,t):null}function Iy(t,e){var r=Dc;return t.current.memoizedState.isDehydrated&&(la(t,e).flags|=256),t=Cp(t,e),t!==2&&(e=Fr,Fr=r,e!==null&&Fy(e)),t}function Fy(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function $U(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~f1,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-bi(e),n=1<<r;t[r]=-1,e&=~n}}function oE(t){if(Ee&6)throw Error(H(327));Mu();var e=up(t,0);if(!(e&1))return $r(t,bt()),null;var r=Cp(t,e);if(t.tag!==0&&r===2){var n=ay(t);n!==0&&(e=n,r=Iy(t,n))}if(r===1)throw r=fd,la(t,0),Ys(t,e),$r(t,bt()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wo(t,Fr,ss),$r(t,bt()),null}function m1(t,e){var r=Ee;Ee|=1;try{return t(e)}finally{Ee=r,Ee===0&&(Ku=bt()+500,ym&&Ao())}}function ba(t){Qs!==null&&Qs.tag===0&&!(Ee&6)&&Mu();var e=Ee;Ee|=1;var r=Qn.transition,n=ke;try{if(Qn.transition=null,ke=1,t)return t()}finally{ke=n,Qn.transition=r,Ee=e,!(Ee&6)&&Ao()}}function g1(){sn=_u.current,Ye(_u)}function la(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yU(r)),Bt!==null)for(r=Bt.return;r!==null;){var n=r;switch(Kx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fp();break;case 3:Yu(),Ye(Gr),Ye(gr),s1();break;case 5:i1(n);break;case 4:Yu();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:e1(n.type._context);break;case 22:case 23:g1()}r=r.return}if(Yt=t,Bt=t=po(t.current,null),nr=sn=e,Ut=0,fd=null,f1=Sm=xa=0,Fr=Dc=null,ta!==null){for(e=0;e<ta.length;e++)if(r=ta[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ta=null}return t}function RA(t,e){do{var r=Bt;try{if(Jx(),Uf.current=Sp,bp){for(var n=ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bp=!1}if(va=0,Wt=It=ut=null,Mc=!1,cd=0,h1.current=null,r===null||r.return===null){Ut=1,fd=e,Bt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=nr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Xw(o);if(f!==null){f.flags&=-257,Yw(f,o,a,s,e),f.mode&1&&Vw(s,l,e),e=f,u=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(u),e.updateQueue=m}else p.add(u);break e}else{if(!(e&1)){Vw(s,l,e),_1();break e}u=Error(H(426))}}else if(Qe&&a.mode&1){var g=Xw(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Yw(g,o,a,s,e),Qx(qu(u,a));break e}}s=u=qu(u,a),Ut!==4&&(Ut=2),Dc===null?Dc=[s]:Dc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=hA(s,u,e);Gw(s,_);break e;case 1:a=u;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ho===null||!ho.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=fA(s,a,e);Gw(s,x);break e}}s=s.return}while(s!==null)}DA(r)}catch(S){e=S,Bt===r&&r!==null&&(Bt=r=r.return);continue}break}while(!0)}function MA(){var t=wp.current;return wp.current=Sp,t===null?Sp:t}function _1(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||!(xa&268435455)&&!(Sm&268435455)||Ys(Yt,nr)}function Cp(t,e){var r=Ee;Ee|=2;var n=MA();(Yt!==t||nr!==e)&&(ss=null,la(t,e));do try{HU();break}catch(i){RA(t,i)}while(!0);if(Jx(),Ee=r,wp.current=n,Bt!==null)throw Error(H(261));return Yt=null,nr=0,Ut}function HU(){for(;Bt!==null;)BA(Bt)}function jU(){for(;Bt!==null&&!mF();)BA(Bt)}function BA(t){var e=OA(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?DA(t):Bt=e,h1.current=null}function DA(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=UU(r,e),r!==null){r.flags&=32767,Bt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Bt=null;return}}else if(r=FU(r,e,sn),r!==null){Bt=r;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Wo(t,e,r){var n=ke,i=Qn.transition;try{Qn.transition=null,ke=1,WU(t,e,r,n)}finally{Qn.transition=i,ke=n}return null}function WU(t,e,r,n){do Mu();while(Qs!==null);if(Ee&6)throw Error(H(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(TF(t,s),t===Yt&&(Bt=Yt=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xh||(Xh=!0,IA(ap,function(){return Mu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=ke;ke=1;var a=Ee;Ee|=4,h1.current=null,NU(t,r),CA(r,t),dU(fy),lp=!!hy,fy=hy=null,t.current=r,GU(r),gF(),Ee=a,ke=o,Qn.transition=s}else t.current=r;if(Xh&&(Xh=!1,Qs=t,Tp=i),s=t.pendingLanes,s===0&&(ho=null),vF(r.stateNode),$r(t,bt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ep)throw Ep=!1,t=ky,ky=null,t;return Tp&1&&t.tag!==0&&Mu(),s=t.pendingLanes,s&1?t===Oy?kc++:(kc=0,Oy=t):kc=0,Ao(),null}function Mu(){if(Qs!==null){var t=hP(Tp),e=Qn.transition,r=ke;try{if(Qn.transition=null,ke=16>t?16:t,Qs===null)var n=!1;else{if(t=Qs,Qs=null,Tp=0,Ee&6)throw Error(H(331));var i=Ee;for(Ee|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(K=l;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:Bc(8,c,s)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var h=c.sibling,f=c.return;if(wA(c),c===l){K=null;break}if(h!==null){h.return=f,K=h;break}K=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var v=t.current;for(K=v;K!==null;){o=K;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,K=y;else e:for(o=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bm(9,a)}}catch(S){mt(a,a.return,S)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(Ee=i,Ao(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(fm,t)}catch{}n=!0}return n}finally{ke=r,Qn.transition=e}}return!1}function aE(t,e,r){e=qu(r,e),e=hA(t,e,1),t=co(t,e,1),e=Tr(),t!==null&&(Kd(t,1,e),$r(t,e))}function mt(t,e,r){if(t.tag===3)aE(t,t,r);else for(;e!==null;){if(e.tag===3){aE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ho===null||!ho.has(n))){t=qu(r,t),t=fA(e,t,1),e=co(e,t,1),t=Tr(),e!==null&&(Kd(e,1,t),$r(e,t));break}}e=e.return}}function VU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,Yt===t&&(nr&r)===r&&(Ut===4||Ut===3&&(nr&130023424)===nr&&500>bt()-p1?la(t,0):f1|=r),$r(t,e)}function kA(t,e){e===0&&(t.mode&1?(e=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):e=1);var r=Tr();t=_s(t,e),t!==null&&(Kd(t,e,r),$r(t,r))}function XU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kA(t,r)}function YU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),kA(t,r)}var OA;OA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gr.current)Nr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Nr=!1,IU(t,e,r);Nr=!!(t.flags&131072)}else Nr=!1,Qe&&e.flags&1048576&&LP(e,gp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nf(t,e),t=e.pendingProps;var i=Wu(e,gr.current);Ru(e,r),i=a1(null,e,n,t,i,r);var s=u1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(n)?(s=!0,pp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,r1(e),i.updater=xm,e.stateNode=i,i._reactInternals=e,Sy(e,n,t,r),e=Ty(null,e,n,!0,s,r)):(e.tag=0,Qe&&s&&qx(e),br(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=KU(n),t=mi(n,t),i){case 0:e=Ey(null,e,n,t,r);break e;case 1:e=Qw(null,e,n,t,r);break e;case 11:e=qw(null,e,n,t,r);break e;case 14:e=Kw(null,e,n,mi(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Ey(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Qw(t,e,n,i,r);case 3:e:{if(_A(e),t===null)throw Error(H(387));n=e.pendingProps,s=e.memoizedState,i=s.element,jP(t,e),vp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qu(Error(H(423)),e),e=Zw(t,e,n,r,i);break e}else if(n!==i){i=qu(Error(H(424)),e),e=Zw(t,e,n,r,i);break e}else for(cn=lo(e.stateNode.containerInfo.firstChild),fn=e,Qe=!0,yi=null,r=$P(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vu(),n===i){e=ys(t,e,r);break e}br(t,e,n,r)}e=e.child}return e;case 5:return WP(e),t===null&&vy(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,py(n,i)?o=null:s!==null&&py(n,s)&&(e.flags|=32),gA(t,e),br(t,e,o,r),e.child;case 6:return t===null&&vy(e),null;case 13:return yA(t,e,r);case 4:return n1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xu(e,null,n,r):br(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),qw(t,e,n,i,r);case 7:return br(t,e,e.pendingProps,r),e.child;case 8:return br(t,e,e.pendingProps.children,r),e.child;case 12:return br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(_p,n._currentValue),n._currentValue=o,s!==null)if(Ei(s.value,o)){if(s.children===i.children&&!Gr.current){e=ys(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=hs(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),xy(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),xy(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}br(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ru(e,r),i=Jn(i),n=n(i),e.flags|=1,br(t,e,n,r),e.child;case 14:return n=e.type,i=mi(n,e.pendingProps),i=mi(n.type,i),Kw(t,e,n,i,r);case 15:return pA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Nf(t,e),e.tag=1,zr(n)?(t=!0,pp(e)):t=!1,Ru(e,r),dA(e,n,i),Sy(e,n,i,r),Ty(null,e,n,!0,t,r);case 19:return vA(t,e,r);case 22:return mA(t,e,r)}throw Error(H(156,e.tag))};function IA(t,e){return uP(t,e)}function qU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,r,n){return new qU(t,e,r,n)}function y1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KU(t){if(typeof t=="function")return y1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ux)return 11;if(t===Lx)return 14}return 2}function po(t,e){var r=t.alternate;return r===null?(r=Xn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $f(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")y1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case au:return ca(r.children,i,s,e);case Fx:o=8,i|=8;break;case V_:return t=Xn(12,r,e,i|2),t.elementType=V_,t.lanes=s,t;case X_:return t=Xn(13,r,e,i),t.elementType=X_,t.lanes=s,t;case Y_:return t=Xn(19,r,e,i),t.elementType=Y_,t.lanes=s,t;case WC:return wm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HC:o=10;break e;case jC:o=9;break e;case Ux:o=11;break e;case Lx:o=14;break e;case js:o=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Xn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ca(t,e,r,n){return t=Xn(7,t,n,e),t.lanes=r,t}function wm(t,e,r,n){return t=Xn(22,t,n,e),t.elementType=WC,t.lanes=r,t.stateNode={isHidden:!1},t}function U0(t,e,r){return t=Xn(6,t,null,e),t.lanes=r,t}function L0(t,e,r){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QU(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y0(0),this.expirationTimes=y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(t,e,r,n,i,s,o,a,u){return t=new QU(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},r1(s),t}function ZU(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ou,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function FA(t){if(!t)return yo;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(zr(r))return FP(t,r,e)}return e}function UA(t,e,r,n,i,s,o,a,u){return t=v1(r,n,!0,t,i,s,o,a,u),t.context=FA(null),r=t.current,n=Tr(),i=fo(r),s=hs(n,i),s.callback=e??null,co(r,s,i),t.current.lanes=i,Kd(t,i,n),$r(t,n),t}function Em(t,e,r,n){var i=e.current,s=Tr(),o=fo(i);return r=FA(r),e.context===null?e.context=r:e.pendingContext=r,e=hs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=co(i,e,o),t!==null&&(Si(t,i,o,s),Ff(t,i,o)),o}function Pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function x1(t,e){uE(t,e),(t=t.alternate)&&uE(t,e)}function JU(){return null}var LA=typeof reportError=="function"?reportError:function(t){console.error(t)};function b1(t){this._internalRoot=t}Tm.prototype.render=b1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Em(t,e,null,null)};Tm.prototype.unmount=b1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ba(function(){Em(null,t,null,null)}),e[gs]=null}};function Tm(t){this._internalRoot=t}Tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=mP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Xs.length&&e!==0&&e<Xs[r].priority;r++);Xs.splice(r,0,t),r===0&&_P(t)}};function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lE(){}function e6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Pp(o);s.call(l)}}var o=UA(e,n,t,0,null,!1,!1,"",lE);return t._reactRootContainer=o,t[gs]=o.current,sd(t.nodeType===8?t.parentNode:t),ba(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Pp(u);a.call(l)}}var u=v1(t,0,!1,null,null,!1,!1,"",lE);return t._reactRootContainer=u,t[gs]=u.current,sd(t.nodeType===8?t.parentNode:t),ba(function(){Em(e,u,r,n)}),u}function Pm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Pp(o);a.call(u)}}Em(e,o,t,i)}else o=e6(r,e,t,i,n);return Pp(o)}fP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fc(e.pendingLanes);r!==0&&(zx(e,r|1),$r(e,bt()),!(Ee&6)&&(Ku=bt()+500,Ao()))}break;case 13:ba(function(){var n=_s(t,1);if(n!==null){var i=Tr();Si(n,t,1,i)}}),x1(t,1)}};$x=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var r=Tr();Si(e,t,134217728,r)}x1(t,134217728)}};pP=function(t){if(t.tag===13){var e=fo(t),r=_s(t,e);if(r!==null){var n=Tr();Si(r,t,e,n)}x1(t,e)}};mP=function(){return ke};gP=function(t,e){var r=ke;try{return ke=t,e()}finally{ke=r}};iy=function(t,e,r){switch(e){case"input":if(Q_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_m(n);if(!i)throw Error(H(90));XC(n),Q_(n,i)}}}break;case"textarea":qC(t,r);break;case"select":e=r.value,e!=null&&Tu(t,!!r.multiple,e,!1)}};rP=m1;nP=ba;var t6={usingClientEntryPoint:!1,Events:[Zd,du,_m,eP,tP,m1]},Hl={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r6={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oP(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||JU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{fm=Yh.inject(r6),Ni=Yh}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6;Tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S1(e))throw Error(H(200));return ZU(t,e,null,r)};Tn.createRoot=function(t,e){if(!S1(t))throw Error(H(299));var r=!1,n="",i=LA;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v1(t,1,!1,null,null,r,!1,n,i),t[gs]=e.current,sd(t.nodeType===8?t.parentNode:t),new b1(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=oP(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return ba(t)};Tn.hydrate=function(t,e,r){if(!Cm(e))throw Error(H(200));return Pm(null,t,e,!0,r)};Tn.hydrateRoot=function(t,e,r){if(!S1(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=LA;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=UA(e,null,t,1,r??null,i,!1,s,o),t[gs]=e.current,sd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Tm(e)};Tn.render=function(t,e,r){if(!Cm(e))throw Error(H(200));return Pm(null,t,e,!1,r)};Tn.unmountComponentAtNode=function(t){if(!Cm(t))throw Error(H(40));return t._reactRootContainer?(ba(function(){Pm(null,null,t,!1,function(){t._reactRootContainer=null,t[gs]=null})}),!0):!1};Tn.unstable_batchedUpdates=m1;Tn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cm(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Pm(t,e,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function NA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NA)}catch(t){console.error(t)}}NA(),NC.exports=Tn;var Am=NC.exports;const mc=gl(Am),n6=PC({__proto__:null,default:mc},[Am]);var cE=Am;j_.createRoot=cE.createRoot,j_.hydrateRoot=cE.hydrateRoot;const pd={black:"#000",white:"#fff"},$a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ha={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ja={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wa={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Va={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},jl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},i6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function md(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const s6=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"})),Rm="$$material";function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z.apply(null,arguments)}function We(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GA(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var o6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a6=GA(function(t){return o6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function u6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function l6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var c6=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=u6(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),dr="-ms-",Ap="-moz-",Te="-webkit-",zA="comm",w1="rule",E1="decl",d6="@import",$A="@keyframes",h6="@layer",f6=Math.abs,Mm=String.fromCharCode,p6=Object.assign;function m6(t,e){return tr(t,0)^45?(((e<<2^tr(t,0))<<2^tr(t,1))<<2^tr(t,2))<<2^tr(t,3):0}function HA(t){return t.trim()}function g6(t,e){return(t=e.exec(t))?t[0]:t}function Ce(t,e,r){return t.replace(e,r)}function Uy(t,e){return t.indexOf(e)}function tr(t,e){return t.charCodeAt(e)|0}function gd(t,e,r){return t.slice(e,r)}function Oi(t){return t.length}function T1(t){return t.length}function qh(t,e){return e.push(t),t}function _6(t,e){return t.map(e).join("")}var Bm=1,Qu=1,jA=0,Qr=0,Mt=0,xl="";function Dm(t,e,r,n,i,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Bm,column:Qu,length:o,return:""}}function Wl(t,e){return p6(Dm("",null,null,"",null,null,0),t,{length:-t.length},e)}function y6(){return Mt}function v6(){return Mt=Qr>0?tr(xl,--Qr):0,Qu--,Mt===10&&(Qu=1,Bm--),Mt}function pn(){return Mt=Qr<jA?tr(xl,Qr++):0,Qu++,Mt===10&&(Qu=1,Bm++),Mt}function zi(){return tr(xl,Qr)}function Hf(){return Qr}function eh(t,e){return gd(xl,t,e)}function _d(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WA(t){return Bm=Qu=1,jA=Oi(xl=t),Qr=0,[]}function VA(t){return xl="",t}function jf(t){return HA(eh(Qr-1,Ly(t===91?t+2:t===40?t+1:t)))}function x6(t){for(;(Mt=zi())&&Mt<33;)pn();return _d(t)>2||_d(Mt)>3?"":" "}function b6(t,e){for(;--e&&pn()&&!(Mt<48||Mt>102||Mt>57&&Mt<65||Mt>70&&Mt<97););return eh(t,Hf()+(e<6&&zi()==32&&pn()==32))}function Ly(t){for(;pn();)switch(Mt){case t:return Qr;case 34:case 39:t!==34&&t!==39&&Ly(Mt);break;case 40:t===41&&Ly(t);break;case 92:pn();break}return Qr}function S6(t,e){for(;pn()&&t+Mt!==57;)if(t+Mt===84&&zi()===47)break;return"/*"+eh(e,Qr-1)+"*"+Mm(t===47?t:pn())}function w6(t){for(;!_d(zi());)pn();return eh(t,Qr)}function E6(t){return VA(Wf("",null,null,null,[""],t=WA(t),0,[0],t))}function Wf(t,e,r,n,i,s,o,a,u){for(var l=0,c=0,d=o,h=0,f=0,p=0,m=1,g=1,_=1,v=0,y="",x=i,S=s,w=n,b=y;g;)switch(p=v,v=pn()){case 40:if(p!=108&&tr(b,d-1)==58){Uy(b+=Ce(jf(v),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:b+=jf(v);break;case 9:case 10:case 13:case 32:b+=x6(p);break;case 92:b+=b6(Hf()-1,7);continue;case 47:switch(zi()){case 42:case 47:qh(T6(S6(pn(),Hf()),e,r),u);break;default:b+="/"}break;case 123*m:a[l++]=Oi(b)*_;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:_==-1&&(b=Ce(b,/\f/g,"")),f>0&&Oi(b)-d&&qh(f>32?hE(b+";",n,r,d-1):hE(Ce(b," ","")+";",n,r,d-2),u);break;case 59:b+=";";default:if(qh(w=dE(b,e,r,l,c,i,a,y,x=[],S=[],d),s),v===123)if(c===0)Wf(b,e,w,w,x,s,d,a,S);else switch(h===99&&tr(b,3)===110?100:h){case 100:case 108:case 109:case 115:Wf(t,w,w,n&&qh(dE(t,w,w,0,0,i,a,y,i,x=[],d),S),i,S,d,a,n?x:S);break;default:Wf(b,w,w,w,[""],S,0,a,S)}}l=c=f=0,m=_=1,y=b="",d=o;break;case 58:d=1+Oi(b),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&v6()==125)continue}switch(b+=Mm(v),v*m){case 38:_=c>0?1:(b+="\f",-1);break;case 44:a[l++]=(Oi(b)-1)*_,_=1;break;case 64:zi()===45&&(b+=jf(pn())),h=zi(),c=d=Oi(y=b+=w6(Hf())),v++;break;case 45:p===45&&Oi(b)==2&&(m=0)}}return s}function dE(t,e,r,n,i,s,o,a,u,l,c){for(var d=i-1,h=i===0?s:[""],f=T1(h),p=0,m=0,g=0;p<n;++p)for(var _=0,v=gd(t,d+1,d=f6(m=o[p])),y=t;_<f;++_)(y=HA(m>0?h[_]+" "+v:Ce(v,/&\f/g,h[_])))&&(u[g++]=y);return Dm(t,e,r,i===0?w1:a,u,l,c)}function T6(t,e,r){return Dm(t,e,r,zA,Mm(y6()),gd(t,2,-2),0)}function hE(t,e,r,n){return Dm(t,e,r,E1,gd(t,0,n),gd(t,n+1,-1),n)}function Bu(t,e){for(var r="",n=T1(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function C6(t,e,r,n){switch(t.type){case h6:if(t.children.length)break;case d6:case E1:return t.return=t.return||t.value;case zA:return"";case $A:return t.return=t.value+"{"+Bu(t.children,n)+"}";case w1:t.value=t.props.join(",")}return Oi(r=Bu(t.children,n))?t.return=t.value+"{"+r+"}":""}function P6(t){var e=T1(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function A6(t){return function(e){e.root||(e=e.return)&&t(e)}}var R6=function(e,r,n){for(var i=0,s=0;i=s,s=zi(),i===38&&s===12&&(r[n]=1),!_d(s);)pn();return eh(e,Qr)},M6=function(e,r){var n=-1,i=44;do switch(_d(i)){case 0:i===38&&zi()===12&&(r[n]=1),e[n]+=R6(Qr-1,r,n);break;case 2:e[n]+=jf(i);break;case 4:if(i===44){e[++n]=zi()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Mm(i)}while(i=pn());return e},B6=function(e,r){return VA(M6(WA(e),r))},fE=new WeakMap,D6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!fE.get(n))&&!i){fE.set(e,!0);for(var s=[],o=B6(r,s),a=n.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},k6=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function XA(t,e){switch(m6(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Ap+t+dr+t+t;case 6828:case 4268:return Te+t+dr+t+t;case 6165:return Te+t+dr+"flex-"+t+t;case 5187:return Te+t+Ce(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+dr+"flex-$1$2")+t;case 5443:return Te+t+dr+"flex-item-"+Ce(t,/flex-|-self/,"")+t;case 4675:return Te+t+dr+"flex-line-pack"+Ce(t,/align-content|flex-|-self/,"")+t;case 5548:return Te+t+dr+Ce(t,"shrink","negative")+t;case 5292:return Te+t+dr+Ce(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+Ce(t,"-grow","")+Te+t+dr+Ce(t,"grow","positive")+t;case 4554:return Te+Ce(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return Ce(Ce(Ce(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return Ce(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return Ce(Ce(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4095:case 3583:case 4068:case 2532:return Ce(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oi(t)-1-e>6)switch(tr(t,e+1)){case 109:if(tr(t,e+4)!==45)break;case 102:return Ce(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Ap+(tr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uy(t,"stretch")?XA(Ce(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(tr(t,e+1)!==115)break;case 6444:switch(tr(t,Oi(t)-3-(~Uy(t,"!important")&&10))){case 107:return Ce(t,":",":"+Te)+t;case 101:return Ce(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Te+(tr(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+dr+"$2box$3")+t}break;case 5936:switch(tr(t,e+11)){case 114:return Te+t+dr+Ce(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+dr+Ce(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+dr+Ce(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Te+t+dr+t+t}return t}var O6=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case E1:e.return=XA(e.value,e.length);break;case $A:return Bu([Wl(e,{value:Ce(e.value,"@","@"+Te)})],i);case w1:if(e.length)return _6(e.props,function(s){switch(g6(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bu([Wl(e,{props:[Ce(s,/:(read-\w+)/,":"+Ap+"$1")]})],i);case"::placeholder":return Bu([Wl(e,{props:[Ce(s,/:(plac\w+)/,":"+Te+"input-$1")]}),Wl(e,{props:[Ce(s,/:(plac\w+)/,":"+Ap+"$1")]}),Wl(e,{props:[Ce(s,/:(plac\w+)/,dr+"input-$1")]})],i)}return""})}},I6=[O6],YA=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||I6,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),_=1;_<g.length;_++)s[g[_]]=!0;a.push(m)});var u,l=[D6,k6];{var c,d=[C6,A6(function(m){c.insert(m)})],h=P6(l.concat(i,d)),f=function(g){return Bu(E6(g),h)};u=function(g,_,v,y){c=v,f(g?g+"{"+_.styles+"}":_.styles),y&&(p.inserted[_.name]=!0)}}var p={key:r,sheet:new c6({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p},qA={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=typeof Symbol=="function"&&Symbol.for,C1=Qt?Symbol.for("react.element"):60103,P1=Qt?Symbol.for("react.portal"):60106,km=Qt?Symbol.for("react.fragment"):60107,Om=Qt?Symbol.for("react.strict_mode"):60108,Im=Qt?Symbol.for("react.profiler"):60114,Fm=Qt?Symbol.for("react.provider"):60109,Um=Qt?Symbol.for("react.context"):60110,A1=Qt?Symbol.for("react.async_mode"):60111,Lm=Qt?Symbol.for("react.concurrent_mode"):60111,Nm=Qt?Symbol.for("react.forward_ref"):60112,Gm=Qt?Symbol.for("react.suspense"):60113,F6=Qt?Symbol.for("react.suspense_list"):60120,zm=Qt?Symbol.for("react.memo"):60115,$m=Qt?Symbol.for("react.lazy"):60116,U6=Qt?Symbol.for("react.block"):60121,L6=Qt?Symbol.for("react.fundamental"):60117,N6=Qt?Symbol.for("react.responder"):60118,G6=Qt?Symbol.for("react.scope"):60119;function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C1:switch(t=t.type,t){case A1:case Lm:case km:case Im:case Om:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case Um:case Nm:case $m:case zm:case Fm:return t;default:return e}}case P1:return e}}}function KA(t){return Pn(t)===Lm}Ie.AsyncMode=A1;Ie.ConcurrentMode=Lm;Ie.ContextConsumer=Um;Ie.ContextProvider=Fm;Ie.Element=C1;Ie.ForwardRef=Nm;Ie.Fragment=km;Ie.Lazy=$m;Ie.Memo=zm;Ie.Portal=P1;Ie.Profiler=Im;Ie.StrictMode=Om;Ie.Suspense=Gm;Ie.isAsyncMode=function(t){return KA(t)||Pn(t)===A1};Ie.isConcurrentMode=KA;Ie.isContextConsumer=function(t){return Pn(t)===Um};Ie.isContextProvider=function(t){return Pn(t)===Fm};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C1};Ie.isForwardRef=function(t){return Pn(t)===Nm};Ie.isFragment=function(t){return Pn(t)===km};Ie.isLazy=function(t){return Pn(t)===$m};Ie.isMemo=function(t){return Pn(t)===zm};Ie.isPortal=function(t){return Pn(t)===P1};Ie.isProfiler=function(t){return Pn(t)===Im};Ie.isStrictMode=function(t){return Pn(t)===Om};Ie.isSuspense=function(t){return Pn(t)===Gm};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===Lm||t===Im||t===Om||t===Gm||t===F6||typeof t=="object"&&t!==null&&(t.$$typeof===$m||t.$$typeof===zm||t.$$typeof===Fm||t.$$typeof===Um||t.$$typeof===Nm||t.$$typeof===L6||t.$$typeof===N6||t.$$typeof===G6||t.$$typeof===U6)};Ie.typeOf=Pn;qA.exports=Ie;var z6=qA.exports,QA=z6,$6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},H6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZA={};ZA[QA.ForwardRef]=$6;ZA[QA.Memo]=H6;var j6=!0;function W6(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var JA=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||j6===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},eR=function(e,r,n){JA(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function V6(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var X6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y6=/[A-Z]|^ms/g,q6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tR=function(e){return e.charCodeAt(1)===45},pE=function(e){return e!=null&&typeof e!="boolean"},N0=GA(function(t){return tR(t)?t:t.replace(Y6,"-$&").toLowerCase()}),mE=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(q6,function(n,i,s){return Ii={name:i,styles:s,next:Ii},i})}return X6[e]!==1&&!tR(e)&&typeof r=="number"&&r!==0?r+"px":r};function yd(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ii={name:r.name,styles:r.styles,next:Ii},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ii={name:n.name,styles:n.styles,next:Ii},n=n.next;var i=r.styles+";";return i}return K6(t,e,r)}case"function":{if(t!==void 0){var s=Ii,o=r(t);return Ii=s,yd(t,e,o)}break}}if(e==null)return r;var a=e[r];return a!==void 0?a:r}function K6(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=yd(t,e,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=s+"{"+e[o]+"}":pE(o)&&(n+=N0(s)+":"+mE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)pE(o[a])&&(n+=N0(s)+":"+mE(s,o[a])+";");else{var u=yd(t,e,o);switch(s){case"animation":case"animationName":{n+=N0(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var gE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ii,R1=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ii=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=yd(n,r,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=yd(n,r,e[a]),i&&(s+=o[a]);gE.lastIndex=0;for(var u="",l;(l=gE.exec(s))!==null;)u+="-"+l[1];var c=V6(s)+u;return{name:c,styles:s,next:Ii}},Q6=function(e){return e()},rR=Hu.useInsertionEffect?Hu.useInsertionEffect:!1,Z6=rR||Q6,_E=rR||P.useLayoutEffect,nR=P.createContext(typeof HTMLElement<"u"?YA({key:"css"}):null),J6=nR.Provider,iR=function(e){return P.forwardRef(function(r,n){var i=P.useContext(nR);return e(r,i,n)})},Hm=P.createContext({}),G0={exports:{}},yE;function sR(){return yE||(yE=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(G0)),G0.exports}sR();var eL=iR(function(t,e){var r=t.styles,n=R1([r],void 0,P.useContext(Hm)),i=P.useRef();return _E(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),_E(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(n.next!==void 0&&eR(e,n.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function oR(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return R1(e)}var jm=function(){var e=oR.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},tL=a6,rL=function(e){return e!=="theme"},vE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tL:rL},xE=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},nL=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return JA(r,n,i),Z6(function(){return eR(r,n,i)}),null},iL=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,o;r!==void 0&&(s=r.label,o=r.target);var a=xE(e,r,n),u=a||vE(i),l=!u("as");return function(){var c=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=iR(function(m,g,_){var v=l&&m.as||i,y="",x=[],S=m;if(m.theme==null){S={};for(var w in m)S[w]=m[w];S.theme=P.useContext(Hm)}typeof m.className=="string"?y=W6(g.registered,x,m.className):m.className!=null&&(y=m.className+" ");var b=R1(d.concat(x),g.registered,S);y+=g.key+"-"+b.name,o!==void 0&&(y+=" "+o);var E=l&&a===void 0?vE(v):u,T={};for(var C in m)l&&C==="as"||E(C)&&(T[C]=m[C]);return T.className=y,T.ref=_,P.createElement(P.Fragment,null,P.createElement(nL,{cache:g,serialized:b,isStringTag:typeof v=="string"}),P.createElement(v,T))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,z({},r,g,{shouldForwardProp:xE(p,g,!0)})).apply(void 0,d)},p}},sL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ny=iL.bind();sL.forEach(function(t){Ny[t]=Ny(t)});var aR={exports:{}},oL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aL=oL,uL=aL;function uR(){}function lR(){}lR.resetWarningCache=uR;var lL=function(){function t(n,i,s,o,a,u){if(u!==uL){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lR,resetWarningCache:uR};return r.PropTypes=r,r};aR.exports=lL();var cL=aR.exports;const dL=gl(cL);let Gy;typeof document=="object"&&(Gy=YA({key:"css",prepend:!0}));function hL(t){const{injectFirst:e,children:r}=t;return e&&Gy?V.jsx(J6,{value:Gy,children:r}):r}function fL(t){return t==null||Object.keys(t).length===0}function pL(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(fL(i)?r:i):e;return V.jsx(eL,{styles:n})}function cR(t,e){return Ny(t,e)}const mL=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},gL=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:pL,StyledEngineProvider:hL,ThemeContext:Hm,css:oR,default:cR,internal_processStyles:mL,keyframes:jm},Symbol.toStringTag,{value:"Module"}));function qs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function dR(t){if(!qs(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=dR(t[r])}),e}function $i(t,e,r={clone:!0}){const n=r.clone?z({},t):t;return qs(t)&&qs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(qs(e[i])&&i in t&&qs(t[i])?n[i]=$i(t[i],e[i],r):r.clone?n[i]=qs(e[i])?dR(e[i]):e[i]:n[i]=e[i])}),n}const _L=Object.freeze(Object.defineProperty({__proto__:null,default:$i,isPlainObject:qs},Symbol.toStringTag,{value:"Module"})),yL=["values","unit","step"],vL=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>z({},r,{[n.key]:n.val}),{})};function hR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=We(t,yL),s=vL(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function u(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function l(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-n/100}${r})`}function c(h){return o.indexOf(h)+1<o.length?l(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?u(o[f]):l(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return z({keys:o,values:s,up:a,down:u,between:l,only:c,not:d,unit:r},i)}const xL={borderRadius:4};function Oc(t,e){return e?$i(t,e,{clone:!1}):t}const M1={xs:0,sm:600,md:900,lg:1200,xl:1536},bE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${M1[t]}px)`};function vs(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||bE;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=r(e[u]),o),{})}if(typeof e=="object"){const s=n.breakpoints||bE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||M1).indexOf(a)!==-1){const u=s.up(a);o[u]=r(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return r(e)}function bL(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function SL(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function _r(t){if(typeof t!="string")throw new Error(md(7));return t.charAt(0).toUpperCase()+t.slice(1)}const wL=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"}));function Wm(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Rp(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Wm(t,r)||n,e&&(i=e(i,n,t)),i}function Et(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,l=Wm(u,n)||{};return vs(o,a,d=>{let h=Rp(l,i,d);return d===h&&typeof d=="string"&&(h=Rp(l,i,`${e}${d==="default"?"":_r(d)}`,d)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[e],s}function EL(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const TL={m:"margin",p:"padding"},CL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PL=EL(t=>{if(t.length>2)if(SE[t])t=SE[t];else return[t];const[e,r]=t.split(""),n=TL[e],i=CL[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),B1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],D1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...B1,...D1];function th(t,e,r,n){var i;const s=(i=Wm(t,e,!1))!=null?i:r;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function fR(t){return th(t,"spacing",8)}function rh(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function AL(t,e){return r=>t.reduce((n,i)=>(n[i]=rh(e,r),n),{})}function RL(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=PL(r),s=AL(i,n),o=t[r];return vs(t,o,s)}function pR(t,e){const r=fR(t.theme);return Object.keys(t).map(n=>RL(t,e,n,r)).reduce(Oc,{})}function ht(t){return pR(t,B1)}ht.propTypes={};ht.filterProps=B1;function ft(t){return pR(t,D1)}ft.propTypes={};ft.filterProps=D1;function ML(t=8){if(t.mui)return t;const e=fR({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function Vm(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?Oc(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Hn(t){return typeof t!="number"?t:`${t}px solid`}function oi(t,e){return Et({prop:t,themeKey:"borders",transform:e})}const BL=oi("border",Hn),DL=oi("borderTop",Hn),kL=oi("borderRight",Hn),OL=oi("borderBottom",Hn),IL=oi("borderLeft",Hn),FL=oi("borderColor"),UL=oi("borderTopColor"),LL=oi("borderRightColor"),NL=oi("borderBottomColor"),GL=oi("borderLeftColor"),zL=oi("outline",Hn),$L=oi("outlineColor"),Xm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=th(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:rh(e,n)});return vs(t,t.borderRadius,r)}return null};Xm.propTypes={};Xm.filterProps=["borderRadius"];Vm(BL,DL,kL,OL,IL,FL,UL,LL,NL,GL,Xm,zL,$L);const Ym=t=>{if(t.gap!==void 0&&t.gap!==null){const e=th(t.theme,"spacing",8),r=n=>({gap:rh(e,n)});return vs(t,t.gap,r)}return null};Ym.propTypes={};Ym.filterProps=["gap"];const qm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=th(t.theme,"spacing",8),r=n=>({columnGap:rh(e,n)});return vs(t,t.columnGap,r)}return null};qm.propTypes={};qm.filterProps=["columnGap"];const Km=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=th(t.theme,"spacing",8),r=n=>({rowGap:rh(e,n)});return vs(t,t.rowGap,r)}return null};Km.propTypes={};Km.filterProps=["rowGap"];const HL=Et({prop:"gridColumn"}),jL=Et({prop:"gridRow"}),WL=Et({prop:"gridAutoFlow"}),VL=Et({prop:"gridAutoColumns"}),XL=Et({prop:"gridAutoRows"}),YL=Et({prop:"gridTemplateColumns"}),qL=Et({prop:"gridTemplateRows"}),KL=Et({prop:"gridTemplateAreas"}),QL=Et({prop:"gridArea"});Vm(Ym,qm,Km,HL,jL,WL,VL,XL,YL,qL,KL,QL);function Du(t,e){return e==="grey"?e:t}const ZL=Et({prop:"color",themeKey:"palette",transform:Du}),JL=Et({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Du}),eN=Et({prop:"backgroundColor",themeKey:"palette",transform:Du});Vm(ZL,JL,eN);function an(t){return t<=1&&t!==0?`${t*100}%`:t}const tN=Et({prop:"width",transform:an}),k1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||M1[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:an(r)}};return vs(t,t.maxWidth,e)}return null};k1.filterProps=["maxWidth"];const rN=Et({prop:"minWidth",transform:an}),nN=Et({prop:"height",transform:an}),iN=Et({prop:"maxHeight",transform:an}),sN=Et({prop:"minHeight",transform:an});Et({prop:"size",cssProperty:"width",transform:an});Et({prop:"size",cssProperty:"height",transform:an});const oN=Et({prop:"boxSizing"});Vm(tN,k1,rN,nN,iN,sN,oN);const nh={border:{themeKey:"borders",transform:Hn},borderTop:{themeKey:"borders",transform:Hn},borderRight:{themeKey:"borders",transform:Hn},borderBottom:{themeKey:"borders",transform:Hn},borderLeft:{themeKey:"borders",transform:Hn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xm},color:{themeKey:"palette",transform:Du},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Du},backgroundColor:{themeKey:"palette",transform:Du},p:{style:ft},pt:{style:ft},pr:{style:ft},pb:{style:ft},pl:{style:ft},px:{style:ft},py:{style:ft},padding:{style:ft},paddingTop:{style:ft},paddingRight:{style:ft},paddingBottom:{style:ft},paddingLeft:{style:ft},paddingX:{style:ft},paddingY:{style:ft},paddingInline:{style:ft},paddingInlineStart:{style:ft},paddingInlineEnd:{style:ft},paddingBlock:{style:ft},paddingBlockStart:{style:ft},paddingBlockEnd:{style:ft},m:{style:ht},mt:{style:ht},mr:{style:ht},mb:{style:ht},ml:{style:ht},mx:{style:ht},my:{style:ht},margin:{style:ht},marginTop:{style:ht},marginRight:{style:ht},marginBottom:{style:ht},marginLeft:{style:ht},marginX:{style:ht},marginY:{style:ht},marginInline:{style:ht},marginInlineStart:{style:ht},marginInlineEnd:{style:ht},marginBlock:{style:ht},marginBlockStart:{style:ht},marginBlockEnd:{style:ht},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ym},rowGap:{style:Km},columnGap:{style:qm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:an},maxWidth:{style:k1},minWidth:{transform:an},height:{transform:an},maxHeight:{transform:an},minHeight:{transform:an},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aN(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function uN(t,e){return typeof t=="function"?t(e):t}function mR(){function t(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:u=r,themeKey:l,transform:c,style:d}=a;if(n==null)return null;if(l==="typography"&&n==="inherit")return{[r]:n};const h=Wm(i,l)||{};return d?d(o):vs(o,n,p=>{let m=Rp(h,c,p);return p===m&&typeof p=="string"&&(m=Rp(h,c,`${r}${p==="default"?"":_r(p)}`,p)),u===!1?m:{[u]:m}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const o=(n=s.unstable_sxConfig)!=null?n:nh;function a(u){let l=u;if(typeof u=="function")l=u(s);else if(typeof u!="object")return u;if(!l)return null;const c=bL(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const p=uN(l[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=Oc(h,t(f,p,s,o));else{const m=vs({theme:s},p,g=>({[f]:g}));aN(m,p)?h[f]=e({sx:p,theme:s}):h=Oc(h,m)}else h=Oc(h,t(f,p,s,o))}),SL(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const ih=mR();ih.filterProps=["sx"];function gR(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const lN=["breakpoints","palette","spacing","shape"];function O1(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,o=We(t,lN),a=hR(r),u=ML(i);let l=$i({breakpoints:a,direction:"ltr",components:{},palette:z({mode:"light"},n),spacing:u,shape:z({},xL,s)},o);return l.applyStyles=gR,l=e.reduce((c,d)=>$i(c,d),l),l.unstable_sxConfig=z({},nh,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(d){return ih({sx:d,theme:this})},l}const cN=Object.freeze(Object.defineProperty({__proto__:null,default:O1,private_createBreakpoints:hR,unstable_applyStyles:gR},Symbol.toStringTag,{value:"Module"}));function dN(t){return Object.keys(t).length===0}function hN(t=null){const e=P.useContext(Hm);return!e||dN(e)?t:e}const fN=O1();function I1(t=fN){return hN(t)}const pN=["sx"],mN=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:nh;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function _R(t){const{sx:e}=t,r=We(t,pN),{systemProps:n,otherProps:i}=mN(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return qs(a)?z({},n,a):n}:s=z({},n,e),z({},i,{sx:s})}const gN=Object.freeze(Object.defineProperty({__proto__:null,default:ih,extendSxProp:_R,unstable_createStyleFunctionSx:mR,unstable_defaultSxConfig:nh},Symbol.toStringTag,{value:"Module"})),wE=t=>t,_N=()=>{let t=wE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=wE}}},yR=_N();function vR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=vR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=vR(t))&&(n&&(n+=" "),n+=e);return n}const yN=["className","component"];function vN(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=cR("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ih);return P.forwardRef(function(u,l){const c=I1(r),d=_R(u),{className:h,component:f="div"}=d,p=We(d,yN);return V.jsx(s,z({as:f,ref:l,className:Xe(h,i?i(n):n),theme:e&&c[e]||c},p))})}const xR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ro(t,e,r="Mui"){const n=xR[e];return n?`${r}-${n}`:`${yR.generate(t)}-${e}`}function As(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Ro(t,i,r)}),n}var bR={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=Symbol.for("react.element"),U1=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),xN=Symbol.for("react.server_context"),rg=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),bN=Symbol.for("react.offscreen"),SR;SR=Symbol.for("react.module.reference");function ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F1:switch(t=t.type,t){case Qm:case Jm:case Zm:case ng:case ig:return t;default:switch(t=t&&t.$$typeof,t){case xN:case tg:case rg:case og:case sg:case eg:return t;default:return e}}case U1:return e}}}Fe.ContextConsumer=tg;Fe.ContextProvider=eg;Fe.Element=F1;Fe.ForwardRef=rg;Fe.Fragment=Qm;Fe.Lazy=og;Fe.Memo=sg;Fe.Portal=U1;Fe.Profiler=Jm;Fe.StrictMode=Zm;Fe.Suspense=ng;Fe.SuspenseList=ig;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return ai(t)===tg};Fe.isContextProvider=function(t){return ai(t)===eg};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F1};Fe.isForwardRef=function(t){return ai(t)===rg};Fe.isFragment=function(t){return ai(t)===Qm};Fe.isLazy=function(t){return ai(t)===og};Fe.isMemo=function(t){return ai(t)===sg};Fe.isPortal=function(t){return ai(t)===U1};Fe.isProfiler=function(t){return ai(t)===Jm};Fe.isStrictMode=function(t){return ai(t)===Zm};Fe.isSuspense=function(t){return ai(t)===ng};Fe.isSuspenseList=function(t){return ai(t)===ig};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qm||t===Jm||t===Zm||t===ng||t===ig||t===bN||typeof t=="object"&&t!==null&&(t.$$typeof===og||t.$$typeof===sg||t.$$typeof===eg||t.$$typeof===tg||t.$$typeof===rg||t.$$typeof===SR||t.getModuleId!==void 0)};Fe.typeOf=ai;bR.exports=Fe;var EE=bR.exports;const SN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function wR(t){const e=`${t}`.match(SN);return e&&e[1]||""}function ER(t,e=""){return t.displayName||t.name||wR(t)||e}function TE(t,e,r){const n=ER(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function wN(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return ER(t,"Component");if(typeof t=="object")switch(t.$$typeof){case EE.ForwardRef:return TE(t,t.render,"ForwardRef");case EE.Memo:return TE(t,t.type,"memo");default:return}}}const EN=Object.freeze(Object.defineProperty({__proto__:null,default:wN,getFunctionName:wR},Symbol.toStringTag,{value:"Module"}));function TR(t,e){const r=z({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=z({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=z({},s),Object.keys(i).forEach(o=>{r[n][o]=TR(i[o],s[o])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function TN(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:TR(e.components[r].defaultProps,n)}function CN({props:t,name:e,defaultTheme:r,themeId:n}){let i=I1(r);return n&&(i=i[n]||i),TN({theme:i,name:e,props:t})}const vd=typeof window<"u"?P.useLayoutEffect:P.useEffect;function CR(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const PN=Object.freeze(Object.defineProperty({__proto__:null,default:CR},Symbol.toStringTag,{value:"Module"}));function AN(t,e){var r,n;return P.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function CE(t){return t&&t.ownerDocument||document}function zy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let PE=0;function RN(t){const[e,r]=P.useState(t),n=t||e;return P.useEffect(()=>{e==null&&(PE+=1,r(`mui-${PE}`))},[e]),n}const AE=Hu.useId;function MN(t){if(AE!==void 0){const e=AE();return t??e}return RN(t)}function PR({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=P.useRef(t!==void 0),[s,o]=P.useState(e),a=i?t:s,u=P.useCallback(l=>{i||o(l)},[]);return[a,u]}function yu(t){const e=P.useRef(t);return vd(()=>{e.current=t}),P.useRef((...r)=>(0,e.current)(...r)).current}function Qi(...t){return P.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{zy(r,e)})},t)}const RE={};function BN(t,e){const r=P.useRef(RE);return r.current===RE&&(r.current=t(e)),r}const DN=[];function kN(t){P.useEffect(t,DN)}class sh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new sh}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function na(){const t=BN(sh.create).current;return kN(t.disposeEffect),t}let ag=!0,$y=!1;const ON=new sh,IN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function FN(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&IN[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function UN(t){t.metaKey||t.altKey||t.ctrlKey||(ag=!0)}function z0(){ag=!1}function LN(){this.visibilityState==="hidden"&&$y&&(ag=!0)}function NN(t){t.addEventListener("keydown",UN,!0),t.addEventListener("mousedown",z0,!0),t.addEventListener("pointerdown",z0,!0),t.addEventListener("touchstart",z0,!0),t.addEventListener("visibilitychange",LN,!0)}function GN(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return ag||FN(e)}function AR(){const t=P.useCallback(i=>{i!=null&&NN(i.ownerDocument)},[]),e=P.useRef(!1);function r(){return e.current?($y=!0,ON.start(100,()=>{$y=!1}),e.current=!1,!0):!1}function n(i){return GN(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function Mo(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),r&&r[o]&&s.push(r[o])}return s},[]).join(" ")}),n}const zN=P.createContext(),$N=()=>{const t=P.useContext(zN);return t??!1};function HN(t,e){return z({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Tt={},RR={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(RR);var MR=RR.exports;const jN=To(s6),WN=To(PN);var BR=MR;Object.defineProperty(Tt,"__esModule",{value:!0});var DR=Tt.alpha=FR;Tt.blend=sG;Tt.colorChannel=void 0;var VN=Tt.darken=N1;Tt.decomposeColor=ti;var XN=Tt.emphasize=UR,YN=Tt.getContrastRatio=eG;Tt.getLuminance=Mp;Tt.hexToRgb=kR;Tt.hslToRgb=IR;var qN=Tt.lighten=G1;Tt.private_safeAlpha=tG;Tt.private_safeColorChannel=void 0;Tt.private_safeDarken=rG;Tt.private_safeEmphasize=iG;Tt.private_safeLighten=nG;Tt.recomposeColor=bl;Tt.rgbToHex=JN;var ME=BR(jN),KN=BR(WN);function L1(t,e=0,r=1){return(0,KN.default)(t,e,r)}function kR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function QN(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ti(t){if(t.type)return t;if(t.charAt(0)==="#")return ti(kR(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,ME.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,ME.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const OR=t=>{const e=ti(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Tt.colorChannel=OR;const ZN=(t,e)=>{try{return OR(t)}catch{return t}};Tt.private_safeColorChannel=ZN;function bl(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function JN(t){if(t.indexOf("#")===0)return t;const{values:e}=ti(t);return`#${e.map((r,n)=>QN(n===3?Math.round(255*r):r)).join("")}`}function IR(t){t=ti(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),o=(l,c=(l+r/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),bl({type:a,values:u})}function Mp(t){t=ti(t);let e=t.type==="hsl"||t.type==="hsla"?ti(IR(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function eG(t,e){const r=Mp(t),n=Mp(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function FR(t,e){return t=ti(t),e=L1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,bl(t)}function tG(t,e,r){try{return FR(t,e)}catch{return t}}function N1(t,e){if(t=ti(t),e=L1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return bl(t)}function rG(t,e,r){try{return N1(t,e)}catch{return t}}function G1(t,e){if(t=ti(t),e=L1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return bl(t)}function nG(t,e,r){try{return G1(t,e)}catch{return t}}function UR(t,e=.15){return Mp(t)>.5?N1(t,e):G1(t,e)}function iG(t,e,r){try{return UR(t,e)}catch{return t}}function sG(t,e,r,n=1){const i=(u,l)=>Math.round((u**(1/n)*(1-r)+l**(1/n)*r)**n),s=ti(t),o=ti(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return bl({type:"rgb",values:a})}const oG=["mode","contrastThreshold","tonalOffset"],BE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pd.white,default:pd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$0={text:{primary:pd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DE(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=qN(t.main,i):e==="dark"&&(t.dark=VN(t.main,s)))}function aG(t="light"){return t==="dark"?{main:ja[200],light:ja[50],dark:ja[400]}:{main:ja[700],light:ja[400],dark:ja[800]}}function uG(t="light"){return t==="dark"?{main:Ha[200],light:Ha[50],dark:Ha[400]}:{main:Ha[500],light:Ha[300],dark:Ha[700]}}function lG(t="light"){return t==="dark"?{main:$a[500],light:$a[300],dark:$a[700]}:{main:$a[700],light:$a[400],dark:$a[800]}}function cG(t="light"){return t==="dark"?{main:Wa[400],light:Wa[300],dark:Wa[700]}:{main:Wa[700],light:Wa[500],dark:Wa[900]}}function dG(t="light"){return t==="dark"?{main:Va[400],light:Va[300],dark:Va[700]}:{main:Va[800],light:Va[500],dark:Va[900]}}function hG(t="light"){return t==="dark"?{main:jl[400],light:jl[300],dark:jl[700]}:{main:"#ed6c02",light:jl[500],dark:jl[900]}}function fG(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=We(t,oG),s=t.primary||aG(e),o=t.secondary||uG(e),a=t.error||lG(e),u=t.info||cG(e),l=t.success||dG(e),c=t.warning||hG(e);function d(m){return YN(m,$0.text.primary)>=r?$0.text.primary:BE.text.primary}const h=({color:m,name:g,mainShade:_=500,lightShade:v=300,darkShade:y=700})=>{if(m=z({},m),!m.main&&m[_]&&(m.main=m[_]),!m.hasOwnProperty("main"))throw new Error(md(11,g?` (${g})`:"",_));if(typeof m.main!="string")throw new Error(md(12,g?` (${g})`:"",JSON.stringify(m.main)));return DE(m,"light",v,n),DE(m,"dark",y,n),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:$0,light:BE};return $i(z({common:z({},pd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:u,name:"info"}),success:h({color:l,name:"success"}),grey:i6,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},f[e]),i)}const pG=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mG(t){return Math.round(t*1e5)/1e5}const kE={textTransform:"uppercase"},OE='"Roboto", "Helvetica", "Arial", sans-serif';function gG(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=OE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:l=16,allVariants:c,pxToRem:d}=r,h=We(r,pG),f=i/14,p=d||(_=>`${_/l*f}rem`),m=(_,v,y,x,S)=>z({fontFamily:n,fontWeight:_,fontSize:p(v),lineHeight:y},n===OE?{letterSpacing:`${mG(x/v)}em`}:{},S,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,kE),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,kE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $i(z({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},g),h,{clone:!1})}const _G=.2,yG=.14,vG=.12;function qe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_G})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${yG})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vG})`].join(",")}const xG=["none",qe(0,2,1,-1,0,1,1,0,0,1,3,0),qe(0,3,1,-2,0,2,2,0,0,1,5,0),qe(0,3,3,-2,0,3,4,0,0,1,8,0),qe(0,2,4,-1,0,4,5,0,0,1,10,0),qe(0,3,5,-1,0,5,8,0,0,1,14,0),qe(0,3,5,-1,0,6,10,0,0,1,18,0),qe(0,4,5,-2,0,7,10,1,0,2,16,1),qe(0,5,5,-3,0,8,10,1,0,3,14,2),qe(0,5,6,-3,0,9,12,1,0,3,16,2),qe(0,6,6,-3,0,10,14,1,0,4,18,3),qe(0,6,7,-4,0,11,15,1,0,4,20,3),qe(0,7,8,-4,0,12,17,2,0,5,22,4),qe(0,7,8,-4,0,13,19,2,0,5,24,4),qe(0,7,9,-4,0,14,21,2,0,5,26,4),qe(0,8,9,-5,0,15,22,2,0,6,28,5),qe(0,8,10,-5,0,16,24,2,0,6,30,5),qe(0,8,11,-5,0,17,26,2,0,6,32,5),qe(0,9,11,-5,0,18,28,2,0,7,34,6),qe(0,9,12,-6,0,19,29,2,0,7,36,6),qe(0,10,13,-6,0,20,31,3,0,8,38,7),qe(0,10,13,-6,0,21,33,3,0,8,40,7),qe(0,10,14,-6,0,22,35,3,0,8,42,7),qe(0,11,14,-7,0,23,36,3,0,9,44,8),qe(0,11,15,-7,0,24,38,3,0,9,46,8)],bG=["duration","easing","delay"],SG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IE(t){return`${Math.round(t)}ms`}function EG(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function TG(t){const e=z({},SG,t.easing),r=z({},wG,t.duration);return z({getAutoHeightDuration:EG,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=e.easeInOut,delay:u=0}=s;return We(s,bG),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof o=="string"?o:IE(o)} ${a} ${typeof u=="string"?u:IE(u)}`).join(",")}},t,{easing:e,duration:r})}const CG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},PG=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function LR(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,o=We(t,PG);if(t.vars)throw new Error(md(18));const a=fG(n),u=O1(t);let l=$i(u,{mixins:HN(u.breakpoints,r),palette:a,shadows:xG.slice(),typography:gG(a,s),transitions:TG(i),zIndex:z({},CG)});return l=$i(l,o),l=e.reduce((c,d)=>$i(c,d),l),l.unstable_sxConfig=z({},nh,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(d){return ih({sx:d,theme:this})},l}const z1=LR();function ug(){const t=I1(z1);return t[Rm]||t}function Rs({props:t,name:e}){return CN({props:t,name:e,defaultTheme:z1,themeId:Rm})}var oh={},H0={exports:{}},FE;function AG(){return FE||(FE=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(H0)),H0.exports}const NR=To(gL),RG=To(_L),MG=To(wL),BG=To(EN),DG=To(cN),kG=To(gN);var Sl=MR;Object.defineProperty(oh,"__esModule",{value:!0});var OG=oh.default=XG;oh.shouldForwardProp=Vf;oh.systemDefaultTheme=void 0;var In=Sl(sR()),Hy=Sl(AG()),UE=zG(NR),IG=RG;Sl(MG);Sl(BG);var FG=Sl(DG),UG=Sl(kG);const LG=["ownerState"],NG=["variants"],GG=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function GR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(GR=function(n){return n?r:e})(t)}function zG(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=GR(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function $G(t){return Object.keys(t).length===0}function HG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Vf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jG=oh.systemDefaultTheme=(0,FG.default)(),WG=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Kh({defaultTheme:t,theme:e,themeId:r}){return $G(e)?t:e[r]||e}function VG(t){return t?(e,r)=>r[t]:null}function Xf(t,e){let{ownerState:r}=e,n=(0,Hy.default)(e,LG);const i=typeof t=="function"?t((0,In.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>Xf(s,(0,In.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,Hy.default)(i,NG);return s.forEach(u=>{let l=!0;typeof u.props=="function"?l=u.props((0,In.default)({ownerState:r},n,r)):Object.keys(u.props).forEach(c=>{(r==null?void 0:r[c])!==u.props[c]&&n[c]!==u.props[c]&&(l=!1)}),l&&(Array.isArray(a)||(a=[a]),a.push(typeof u.style=="function"?u.style((0,In.default)({ownerState:r},n,r)):u.style))}),a}return i}function XG(t={}){const{themeId:e,defaultTheme:r=jG,rootShouldForwardProp:n=Vf,slotShouldForwardProp:i=Vf}=t,s=o=>(0,UG.default)((0,In.default)({},o,{theme:Kh((0,In.default)({},o,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,UE.internal_processStyles)(o,S=>S.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:u,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:h=VG(WG(l))}=a,f=(0,Hy.default)(a,GG),p=c!==void 0?c:l&&l!=="Root"&&l!=="root"||!1,m=d||!1;let g,_=Vf;l==="Root"||l==="root"?_=n:l?_=i:HG(o)&&(_=void 0);const v=(0,UE.default)(o,(0,In.default)({shouldForwardProp:_,label:g},f)),y=S=>typeof S=="function"&&S.__emotion_real!==S||(0,IG.isPlainObject)(S)?w=>Xf(S,(0,In.default)({},w,{theme:Kh({theme:w.theme,defaultTheme:r,themeId:e})})):S,x=(S,...w)=>{let b=y(S);const E=w?w.map(y):[];u&&h&&E.push(M=>{const N=Kh((0,In.default)({},M,{defaultTheme:r,themeId:e}));if(!N.components||!N.components[u]||!N.components[u].styleOverrides)return null;const D=N.components[u].styleOverrides,B={};return Object.entries(D).forEach(([U,I])=>{B[U]=Xf(I,(0,In.default)({},M,{theme:N}))}),h(M,B)}),u&&!p&&E.push(M=>{var N;const D=Kh((0,In.default)({},M,{defaultTheme:r,themeId:e})),B=D==null||(N=D.components)==null||(N=N[u])==null?void 0:N.variants;return Xf({variants:B},(0,In.default)({},M,{theme:D}))}),m||E.push(s);const T=E.length-w.length;if(Array.isArray(S)&&T>0){const M=new Array(T).fill("");b=[...S,...M],b.raw=[...S.raw,...M]}const C=v(b,...E);return o.muiName&&(C.muiName=o.muiName),C};return v.withConfig&&(x.withConfig=v.withConfig),x}}function YG(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const zR=t=>YG(t)&&t!=="classes",Nt=OG({themeId:Rm,defaultTheme:z1,rootShouldForwardProp:zR});function qG(t){return Ro("MuiSvgIcon",t)}As("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const KG=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],QG=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${_r(e)}`,`fontSize${_r(r)}`]};return Mo(i,qG,n)},ZG=Nt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${_r(r.color)}`],e[`fontSize${_r(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,o,a,u,l,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),jy=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:l,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,f=We(n,KG),p=P.isValidElement(i)&&i.type==="svg",m=z({},n,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),g={};c||(g.viewBox=h);const _=QG(m);return V.jsxs(ZG,z({as:a,className:Xe(_.root,s),focusable:"false",color:l,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,d?V.jsx("title",{children:d}):null]}))});jy.muiName="SvgIcon";function ah(t,e){function r(n,i){return V.jsx(jy,z({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=jy.muiName,P.memo(P.forwardRef(r))}var Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=Symbol.for("react.element"),H1=Symbol.for("react.portal"),lg=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),JG=Symbol.for("react.server_context"),pg=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),yg=Symbol.for("react.lazy"),ez=Symbol.for("react.offscreen"),$R;$R=Symbol.for("react.module.reference");function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $1:switch(t=t.type,t){case lg:case dg:case cg:case mg:case gg:return t;default:switch(t=t&&t.$$typeof,t){case JG:case fg:case pg:case yg:case _g:case hg:return t;default:return e}}case H1:return e}}}Ne.ContextConsumer=fg;Ne.ContextProvider=hg;Ne.Element=$1;Ne.ForwardRef=pg;Ne.Fragment=lg;Ne.Lazy=yg;Ne.Memo=_g;Ne.Portal=H1;Ne.Profiler=dg;Ne.StrictMode=cg;Ne.Suspense=mg;Ne.SuspenseList=gg;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return ui(t)===fg};Ne.isContextProvider=function(t){return ui(t)===hg};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$1};Ne.isForwardRef=function(t){return ui(t)===pg};Ne.isFragment=function(t){return ui(t)===lg};Ne.isLazy=function(t){return ui(t)===yg};Ne.isMemo=function(t){return ui(t)===_g};Ne.isPortal=function(t){return ui(t)===H1};Ne.isProfiler=function(t){return ui(t)===dg};Ne.isStrictMode=function(t){return ui(t)===cg};Ne.isSuspense=function(t){return ui(t)===mg};Ne.isSuspenseList=function(t){return ui(t)===gg};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lg||t===dg||t===cg||t===mg||t===gg||t===ez||typeof t=="object"&&t!==null&&(t.$$typeof===yg||t.$$typeof===_g||t.$$typeof===hg||t.$$typeof===fg||t.$$typeof===pg||t.$$typeof===$R||t.getModuleId!==void 0)};Ne.typeOf=ui;function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wy(t,e)}function HR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wy(t,e)}const LE={disabled:!1},Bp=ln.createContext(null);var tz=function(e){return e.scrollTop},gc="unmounted",Vo="exited",Xo="entering",nu="entered",Vy="exiting",es=function(t){HR(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=i,a=o&&!o.isMounting?n.enter:n.appear,u;return s.appearStatus=null,n.in?a?(u=Vo,s.appearStatus=Xo):u=nu:n.unmountOnExit||n.mountOnEnter?u=gc:u=Vo,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===gc?{status:Vo}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Xo&&o!==nu&&(s=Xo):(o===Xo||o===nu)&&(s=Vy)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Xo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:mc.findDOMNode(this);o&&tz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vo&&this.setState({status:gc})},r.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[mc.findDOMNode(this),a],l=u[0],c=u[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||LE.disabled){this.safeSetState({status:nu},function(){s.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Xo},function(){s.props.onEntering(l,c),s.onTransitionEnd(h,function(){s.safeSetState({status:nu},function(){s.props.onEntered(l,c)})})})},r.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:mc.findDOMNode(this);if(!s||LE.disabled){this.safeSetState({status:Vo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Vy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Vo},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:mc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===gc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=We(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ln.createElement(Bp.Provider,{value:null},typeof o=="function"?o(i,a):ln.cloneElement(ln.Children.only(o),a))},e}(ln.Component);es.contextType=Bp;es.propTypes={};function Xa(){}es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xa,onEntering:Xa,onEntered:Xa,onExit:Xa,onExiting:Xa,onExited:Xa};es.UNMOUNTED=gc;es.EXITED=Vo;es.ENTERING=Xo;es.ENTERED=nu;es.EXITING=Vy;function rz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j1(t,e){var r=function(s){return e&&P.isValidElement(s)?e(s):s},n=Object.create(null);return t&&P.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function nz(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(n[u])for(o=0;o<n[u].length;o++){var l=n[u][o];a[n[u][o]]=r(l)}a[u]=r(u)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function ia(t,e,r){return r[e]!=null?r[e]:t.props[e]}function iz(t,e){return j1(t.children,function(r){return P.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:ia(r,"appear",t),enter:ia(r,"enter",t),exit:ia(r,"exit",t)})})}function sz(t,e,r){var n=j1(t.children),i=nz(e,n);return Object.keys(i).forEach(function(s){var o=i[s];if(P.isValidElement(o)){var a=s in e,u=s in n,l=e[s],c=P.isValidElement(l)&&!l.props.in;u&&(!a||c)?i[s]=P.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:ia(o,"exit",t),enter:ia(o,"enter",t)}):!u&&a&&!c?i[s]=P.cloneElement(o,{in:!1}):u&&a&&P.isValidElement(l)&&(i[s]=P.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:ia(o,"exit",t),enter:ia(o,"enter",t)}))}}),i}var oz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},az={component:"div",childFactory:function(e){return e}},W1=function(t){HR(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=s.handleExited.bind(rz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?iz(i,a):sz(i,o,a),firstRender:!1}},r.handleExited=function(i,s){var o=j1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=z({},a.children);return delete u[i.key],{children:u}}))},r.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=We(i,["component","childFactory"]),u=this.state.contextValue,l=oz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ln.createElement(Bp.Provider,{value:u},l):ln.createElement(Bp.Provider,{value:u},ln.createElement(s,a,l))},e}(ln.Component);W1.propTypes={};W1.defaultProps=az;const jR=t=>t.scrollTop;function Dp(t,e){var r,n;const{timeout:i,easing:s,style:o={}}=t;return{duration:(r=o.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=o.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function uz(t){return typeof t=="string"}function _c(t,e,r){return t===void 0||uz(t)?e:z({},e,{ownerState:z({},e.ownerState,r)})}const lz={disableDefaultClasses:!1},cz=P.createContext(lz);function dz(t){const{disableDefaultClasses:e}=P.useContext(cz);return r=>e?"":t(r)}function hz(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function fz(t,e,r){return typeof t=="function"?t(e,r):t}function NE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function pz(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const f=Xe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),p=z({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=z({},r,i,n);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=hz(z({},i,n)),a=NE(n),u=NE(i),l=e(o),c=Xe(l==null?void 0:l.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=z({},l==null?void 0:l.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=z({},l,r,u,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:l.ref}}const mz=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function gz(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=We(t,mz),a=s?{}:fz(n,i),{props:u,internalRef:l}=pz(z({},o,{externalSlotProps:a})),c=Qi(l,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return _c(r,z({},u,{ref:c}),i)}function _z(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:l}=t,[c,d]=P.useState(!1),h=Xe(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=Xe(r.child,c&&r.childLeaving,n&&r.childPulsate);return!a&&!c&&d(!0),P.useEffect(()=>{if(!a&&u!=null){const m=setTimeout(u,l);return()=>{clearTimeout(m)}}},[u,a,l]),V.jsx("span",{className:h,style:f,children:V.jsx("span",{className:p})})}const Gn=As("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yz=["center","classes","className"];let vg=t=>t,GE,zE,$E,HE;const Xy=550,vz=80,xz=jm(GE||(GE=vg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bz=jm(zE||(zE=vg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Sz=jm($E||($E=vg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),wz=Nt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ez=Nt(_z,{name:"MuiTouchRipple",slot:"Ripple"})(HE||(HE=vg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Gn.rippleVisible,xz,Xy,({theme:t})=>t.transitions.easing.easeInOut,Gn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Gn.child,Gn.childLeaving,bz,Xy,({theme:t})=>t.transitions.easing.easeInOut,Gn.childPulsate,Sz,({theme:t})=>t.transitions.easing.easeInOut),Tz=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=n,a=We(n,yz),[u,l]=P.useState([]),c=P.useRef(0),d=P.useRef(null);P.useEffect(()=>{d.current&&(d.current(),d.current=null)},[u]);const h=P.useRef(!1),f=na(),p=P.useRef(null),m=P.useRef(null),g=P.useCallback(x=>{const{pulsate:S,rippleX:w,rippleY:b,rippleSize:E,cb:T}=x;l(C=>[...C,V.jsx(Ez,{classes:{ripple:Xe(s.ripple,Gn.ripple),rippleVisible:Xe(s.rippleVisible,Gn.rippleVisible),ripplePulsate:Xe(s.ripplePulsate,Gn.ripplePulsate),child:Xe(s.child,Gn.child),childLeaving:Xe(s.childLeaving,Gn.childLeaving),childPulsate:Xe(s.childPulsate,Gn.childPulsate)},timeout:Xy,pulsate:S,rippleX:w,rippleY:b,rippleSize:E},c.current)]),c.current+=1,d.current=T},[s]),_=P.useCallback((x={},S={},w=()=>{})=>{const{pulsate:b=!1,center:E=i||S.pulsate,fakeElement:T=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const C=T?null:m.current,M=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,D,B;if(E||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(M.width/2),D=Math.round(M.height/2);else{const{clientX:U,clientY:I}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(U-M.left),D=Math.round(I-M.top)}if(E)B=Math.sqrt((2*M.width**2+M.height**2)/3),B%2===0&&(B+=1);else{const U=Math.max(Math.abs((C?C.clientWidth:0)-N),N)*2+2,I=Math.max(Math.abs((C?C.clientHeight:0)-D),D)*2+2;B=Math.sqrt(U**2+I**2)}x!=null&&x.touches?p.current===null&&(p.current=()=>{g({pulsate:b,rippleX:N,rippleY:D,rippleSize:B,cb:w})},f.start(vz,()=>{p.current&&(p.current(),p.current=null)})):g({pulsate:b,rippleX:N,rippleY:D,rippleSize:B,cb:w})},[i,g,f]),v=P.useCallback(()=>{_({},{pulsate:!0})},[_]),y=P.useCallback((x,S)=>{if(f.clear(),(x==null?void 0:x.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{y(x,S)});return}p.current=null,l(w=>w.length>0?w.slice(1):w),d.current=S},[f]);return P.useImperativeHandle(r,()=>({pulsate:v,start:_,stop:y}),[v,_,y]),V.jsx(wz,z({className:Xe(Gn.root,s.root,o),ref:m},a,{children:V.jsx(W1,{component:null,exit:!0,children:u})}))});function Cz(t){return Ro("MuiButtonBase",t)}const Pz=As("MuiButtonBase",["root","disabled","focusVisible"]),Az=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Rz=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=Mo({root:["root",e&&"disabled",r&&"focusVisible"]},Cz,i);return r&&n&&(o.root+=` ${n}`),o},Mz=Nt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Bz=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:l=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:_,onFocus:v,onFocusVisible:y,onKeyDown:x,onKeyUp:S,onMouseDown:w,onMouseLeave:b,onMouseUp:E,onTouchEnd:T,onTouchMove:C,onTouchStart:M,tabIndex:N=0,TouchRippleProps:D,touchRippleRef:B,type:U}=n,I=We(n,Az),$=P.useRef(null),O=P.useRef(null),F=Qi(O,B),{isFocusVisibleRef:G,onFocus:oe,onBlur:W,ref:ve}=AR(),[re,ae]=P.useState(!1);l&&re&&ae(!1),P.useImperativeHandle(i,()=>({focusVisible:()=>{ae(!0),$.current.focus()}}),[]);const[me,Ue]=P.useState(!1);P.useEffect(()=>{Ue(!0)},[]);const Q=me&&!c&&!l;P.useEffect(()=>{re&&h&&!c&&me&&O.current.pulsate()},[c,h,re,me]);function he(se,Dr,kr=d){return yu(di=>(Dr&&Dr(di),!kr&&O.current&&O.current[se](di),!0))}const et=he("start",w),yt=he("stop",g),Be=he("stop",_),Dt=he("stop",E),vr=he("stop",se=>{re&&se.preventDefault(),b&&b(se)}),dt=he("start",M),tt=he("stop",T),or=he("stop",C),kt=he("stop",se=>{W(se),G.current===!1&&ae(!1),p&&p(se)},!1),Ai=yu(se=>{$.current||($.current=se.currentTarget),oe(se),G.current===!0&&(ae(!0),y&&y(se)),v&&v(se)}),Ct=()=>{const se=$.current;return u&&u!=="button"&&!(se.tagName==="A"&&se.href)},Ar=P.useRef(!1),ar=yu(se=>{h&&!Ar.current&&re&&O.current&&se.key===" "&&(Ar.current=!0,O.current.stop(se,()=>{O.current.start(se)})),se.target===se.currentTarget&&Ct()&&se.key===" "&&se.preventDefault(),x&&x(se),se.target===se.currentTarget&&Ct()&&se.key==="Enter"&&!l&&(se.preventDefault(),m&&m(se))}),Rr=yu(se=>{h&&se.key===" "&&O.current&&re&&!se.defaultPrevented&&(Ar.current=!1,O.current.stop(se,()=>{O.current.pulsate(se)})),S&&S(se),m&&se.target===se.currentTarget&&Ct()&&se.key===" "&&!se.defaultPrevented&&m(se)});let Mr=u;Mr==="button"&&(I.href||I.to)&&(Mr=f);const ur={};Mr==="button"?(ur.type=U===void 0?"button":U,ur.disabled=l):(!I.href&&!I.to&&(ur.role="button"),l&&(ur["aria-disabled"]=l));const Gt=Qi(r,ve,$),Br=z({},n,{centerRipple:s,component:u,disabled:l,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:re}),ts=Rz(Br);return V.jsxs(Mz,z({as:Mr,className:Xe(ts.root,a),ownerState:Br,onBlur:kt,onClick:m,onContextMenu:yt,onFocus:Ai,onKeyDown:ar,onKeyUp:Rr,onMouseDown:et,onMouseLeave:vr,onMouseUp:Dt,onDragLeave:Be,onTouchEnd:tt,onTouchMove:or,onTouchStart:dt,ref:Gt,tabIndex:l?-1:N,type:U},ur,I,{children:[o,Q?V.jsx(Tz,z({ref:F,center:s},D)):null]}))}),WR="base";function Dz(t){return`${WR}--${t}`}function kz(t,e){return`${WR}-${t}-${e}`}function VR(t,e){const r=xR[e];return r?Dz(r):kz(t,e)}function Oz(t,e){const r={};return e.forEach(n=>{r[n]=VR(t,n)}),r}function Iz(t){return typeof t=="function"?t():t}const Fz=P.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[o,a]=P.useState(null),u=Qi(P.isValidElement(n)?n.ref:null,r);if(vd(()=>{s||a(Iz(i)||document.body)},[i,s]),vd(()=>{if(o&&!s)return zy(r,o),()=>{zy(r,null)}},[r,o,s]),s){if(P.isValidElement(n)){const l={ref:u};return P.cloneElement(n,l)}return V.jsx(P.Fragment,{children:n})}return V.jsx(P.Fragment,{children:o&&Am.createPortal(n,o)})});var Hr="top",ri="bottom",ni="right",jr="left",V1="auto",uh=[Hr,ri,ni,jr],Zu="start",xd="end",Uz="clippingParents",XR="viewport",Vl="popper",Lz="reference",jE=uh.reduce(function(t,e){return t.concat([e+"-"+Zu,e+"-"+xd])},[]),YR=[].concat(uh,[V1]).reduce(function(t,e){return t.concat([e,e+"-"+Zu,e+"-"+xd])},[]),Nz="beforeRead",Gz="read",zz="afterRead",$z="beforeMain",Hz="main",jz="afterMain",Wz="beforeWrite",Vz="write",Xz="afterWrite",Yz=[Nz,Gz,zz,$z,Hz,jz,Wz,Vz,Xz];function Zi(t){return t?(t.nodeName||"").toLowerCase():null}function yn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sa(t){var e=yn(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=yn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function X1(t){if(typeof ShadowRoot>"u")return!1;var e=yn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qz(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Zn(s)||!Zi(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Kz(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(u,l){return u[l]="",u},{});!Zn(i)||!Zi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const Qz={name:"applyStyles",enabled:!0,phase:"write",fn:qz,effect:Kz,requires:["computeStyles"]};function Hi(t){return t.split("-")[0]}var da=Math.max,kp=Math.min,Ju=Math.round;function Yy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qR(){return!/^((?!chrome|android).)*safari/i.test(Yy())}function el(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&Zn(t)&&(i=t.offsetWidth>0&&Ju(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ju(n.height)/t.offsetHeight||1);var o=Sa(t)?yn(t):window,a=o.visualViewport,u=!qR()&&r,l=(n.left+(u&&a?a.offsetLeft:0))/i,c=(n.top+(u&&a?a.offsetTop:0))/s,d=n.width/i,h=n.height/s;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l,x:l,y:c}}function Y1(t){var e=el(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function KR(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&X1(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xs(t){return yn(t).getComputedStyle(t)}function Zz(t){return["table","td","th"].indexOf(Zi(t))>=0}function Bo(t){return((Sa(t)?t.ownerDocument:t.document)||window.document).documentElement}function xg(t){return Zi(t)==="html"?t:t.assignedSlot||t.parentNode||(X1(t)?t.host:null)||Bo(t)}function WE(t){return!Zn(t)||xs(t).position==="fixed"?null:t.offsetParent}function Jz(t){var e=/firefox/i.test(Yy()),r=/Trident/i.test(Yy());if(r&&Zn(t)){var n=xs(t);if(n.position==="fixed")return null}var i=xg(t);for(X1(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(Zi(i))<0;){var s=xs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function lh(t){for(var e=yn(t),r=WE(t);r&&Zz(r)&&xs(r).position==="static";)r=WE(r);return r&&(Zi(r)==="html"||Zi(r)==="body"&&xs(r).position==="static")?e:r||Jz(t)||e}function q1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ic(t,e,r){return da(t,kp(e,r))}function e9(t,e,r){var n=Ic(t,e,r);return n>r?r:n}function QR(){return{top:0,right:0,bottom:0,left:0}}function ZR(t){return Object.assign({},QR(),t)}function JR(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var t9=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,ZR(typeof e!="number"?e:JR(e,uh))};function r9(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Hi(r.placement),u=q1(a),l=[jr,ni].indexOf(a)>=0,c=l?"height":"width";if(!(!s||!o)){var d=t9(i.padding,r),h=Y1(s),f=u==="y"?Hr:jr,p=u==="y"?ri:ni,m=r.rects.reference[c]+r.rects.reference[u]-o[u]-r.rects.popper[c],g=o[u]-r.rects.reference[u],_=lh(s),v=_?u==="y"?_.clientHeight||0:_.clientWidth||0:0,y=m/2-g/2,x=d[f],S=v-h[c]-d[p],w=v/2-h[c]/2+y,b=Ic(x,w,S),E=u;r.modifiersData[n]=(e={},e[E]=b,e.centerOffset=b-w,e)}}function n9(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||KR(e.elements.popper,i)&&(e.elements.arrow=i))}const i9={name:"arrow",enabled:!0,phase:"main",fn:r9,effect:n9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tl(t){return t.split("-")[1]}var s9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o9(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Ju(r*i)/i||0,y:Ju(n*i)/i||0}}function VE(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,g=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=jr,x=Hr,S=window;if(l){var w=lh(r),b="clientHeight",E="clientWidth";if(w===yn(r)&&(w=Bo(r),xs(w).position!=="static"&&a==="absolute"&&(b="scrollHeight",E="scrollWidth")),w=w,i===Hr||(i===jr||i===ni)&&s===xd){x=ri;var T=d&&w===S&&S.visualViewport?S.visualViewport.height:w[b];m-=T-n.height,m*=u?1:-1}if(i===jr||(i===Hr||i===ri)&&s===xd){y=ni;var C=d&&w===S&&S.visualViewport?S.visualViewport.width:w[E];f-=C-n.width,f*=u?1:-1}}var M=Object.assign({position:a},l&&s9),N=c===!0?o9({x:f,y:m},yn(r)):{x:f,y:m};if(f=N.x,m=N.y,u){var D;return Object.assign({},M,(D={},D[x]=v?"0":"",D[y]=_?"0":"",D.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",D))}return Object.assign({},M,(e={},e[x]=v?m+"px":"",e[y]=_?f+"px":"",e.transform="",e))}function a9(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,u=a===void 0?!0:a,l={placement:Hi(e.placement),variation:tl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,VE(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,VE(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const u9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:a9,data:{}};var Qh={passive:!0};function l9(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,u=yn(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(c){c.addEventListener("scroll",r.update,Qh)}),a&&u.addEventListener("resize",r.update,Qh),function(){s&&l.forEach(function(c){c.removeEventListener("scroll",r.update,Qh)}),a&&u.removeEventListener("resize",r.update,Qh)}}const c9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:l9,data:{}};var d9={left:"right",right:"left",bottom:"top",top:"bottom"};function Yf(t){return t.replace(/left|right|bottom|top/g,function(e){return d9[e]})}var h9={start:"end",end:"start"};function XE(t){return t.replace(/start|end/g,function(e){return h9[e]})}function K1(t){var e=yn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Q1(t){return el(Bo(t)).left+K1(t).scrollLeft}function f9(t,e){var r=yn(t),n=Bo(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;var l=qR();(l||!l&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a+Q1(t),y:u}}function p9(t){var e,r=Bo(t),n=K1(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=da(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=da(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+Q1(t),u=-n.scrollTop;return xs(i||r).direction==="rtl"&&(a+=da(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function Z1(t){var e=xs(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function eM(t){return["html","body","#document"].indexOf(Zi(t))>=0?t.ownerDocument.body:Zn(t)&&Z1(t)?t:eM(xg(t))}function Fc(t,e){var r;e===void 0&&(e=[]);var n=eM(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=yn(n),o=i?[s].concat(s.visualViewport||[],Z1(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(Fc(xg(o)))}function qy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function m9(t,e){var r=el(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function YE(t,e,r){return e===XR?qy(f9(t,r)):Sa(e)?m9(e,r):qy(p9(Bo(t)))}function g9(t){var e=Fc(xg(t)),r=["absolute","fixed"].indexOf(xs(t).position)>=0,n=r&&Zn(t)?lh(t):t;return Sa(n)?e.filter(function(i){return Sa(i)&&KR(i,n)&&Zi(i)!=="body"}):[]}function _9(t,e,r,n){var i=e==="clippingParents"?g9(t):[].concat(e),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(u,l){var c=YE(t,l,n);return u.top=da(c.top,u.top),u.right=kp(c.right,u.right),u.bottom=kp(c.bottom,u.bottom),u.left=da(c.left,u.left),u},YE(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tM(t){var e=t.reference,r=t.element,n=t.placement,i=n?Hi(n):null,s=n?tl(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,u;switch(i){case Hr:u={x:o,y:e.y-r.height};break;case ri:u={x:o,y:e.y+e.height};break;case ni:u={x:e.x+e.width,y:a};break;case jr:u={x:e.x-r.width,y:a};break;default:u={x:e.x,y:e.y}}var l=i?q1(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(s){case Zu:u[l]=u[l]-(e[c]/2-r[c]/2);break;case xd:u[l]=u[l]+(e[c]/2-r[c]/2);break}}return u}function bd(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,u=a===void 0?Uz:a,l=r.rootBoundary,c=l===void 0?XR:l,d=r.elementContext,h=d===void 0?Vl:d,f=r.altBoundary,p=f===void 0?!1:f,m=r.padding,g=m===void 0?0:m,_=ZR(typeof g!="number"?g:JR(g,uh)),v=h===Vl?Lz:Vl,y=t.rects.popper,x=t.elements[p?v:h],S=_9(Sa(x)?x:x.contextElement||Bo(t.elements.popper),u,c,o),w=el(t.elements.reference),b=tM({reference:w,element:y,strategy:"absolute",placement:i}),E=qy(Object.assign({},y,b)),T=h===Vl?E:w,C={top:S.top-T.top+_.top,bottom:T.bottom-S.bottom+_.bottom,left:S.left-T.left+_.left,right:T.right-S.right+_.right},M=t.modifiersData.offset;if(h===Vl&&M){var N=M[i];Object.keys(C).forEach(function(D){var B=[ni,ri].indexOf(D)>=0?1:-1,U=[Hr,ri].indexOf(D)>=0?"y":"x";C[D]+=N[U]*B})}return C}function y9(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?YR:u,c=tl(n),d=c?a?jE:jE.filter(function(p){return tl(p)===c}):uh,h=d.filter(function(p){return l.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=bd(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[Hi(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function v9(t){if(Hi(t)===V1)return[];var e=Yf(t);return[XE(t),e,XE(e)]}function x9(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,d=r.rootBoundary,h=r.altBoundary,f=r.flipVariations,p=f===void 0?!0:f,m=r.allowedAutoPlacements,g=e.options.placement,_=Hi(g),v=_===g,y=u||(v||!p?[Yf(g)]:v9(g)),x=[g].concat(y).reduce(function(re,ae){return re.concat(Hi(ae)===V1?y9(e,{placement:ae,boundary:c,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):ae)},[]),S=e.rects.reference,w=e.rects.popper,b=new Map,E=!0,T=x[0],C=0;C<x.length;C++){var M=x[C],N=Hi(M),D=tl(M)===Zu,B=[Hr,ri].indexOf(N)>=0,U=B?"width":"height",I=bd(e,{placement:M,boundary:c,rootBoundary:d,altBoundary:h,padding:l}),$=B?D?ni:jr:D?ri:Hr;S[U]>w[U]&&($=Yf($));var O=Yf($),F=[];if(s&&F.push(I[N]<=0),a&&F.push(I[$]<=0,I[O]<=0),F.every(function(re){return re})){T=M,E=!1;break}b.set(M,F)}if(E)for(var G=p?3:1,oe=function(ae){var me=x.find(function(Ue){var Q=b.get(Ue);if(Q)return Q.slice(0,ae).every(function(he){return he})});if(me)return T=me,"break"},W=G;W>0;W--){var ve=oe(W);if(ve==="break")break}e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}}const b9={name:"flip",enabled:!0,phase:"main",fn:x9,requiresIfExists:["offset"],data:{_skip:!1}};function qE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function KE(t){return[Hr,ni,ri,jr].some(function(e){return t[e]>=0})}function S9(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=bd(e,{elementContext:"reference"}),a=bd(e,{altBoundary:!0}),u=qE(o,n),l=qE(a,i,s),c=KE(u),d=KE(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const w9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S9};function E9(t,e,r){var n=Hi(t),i=[jr,Hr].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[jr,ni].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function T9(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=YR.reduce(function(c,d){return c[d]=E9(d,e.rects,s),c},{}),a=o[e.placement],u=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}const C9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:T9};function P9(t){var e=t.state,r=t.name;e.modifiersData[r]=tM({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const A9={name:"popperOffsets",enabled:!0,phase:"read",fn:P9,data:{}};function R9(t){return t==="x"?"y":"x"}function M9(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,c=r.altBoundary,d=r.padding,h=r.tether,f=h===void 0?!0:h,p=r.tetherOffset,m=p===void 0?0:p,g=bd(e,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),_=Hi(e.placement),v=tl(e.placement),y=!v,x=q1(_),S=R9(x),w=e.modifiersData.popperOffsets,b=e.rects.reference,E=e.rects.popper,T=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,C=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(w){if(s){var D,B=x==="y"?Hr:jr,U=x==="y"?ri:ni,I=x==="y"?"height":"width",$=w[x],O=$+g[B],F=$-g[U],G=f?-E[I]/2:0,oe=v===Zu?b[I]:E[I],W=v===Zu?-E[I]:-b[I],ve=e.elements.arrow,re=f&&ve?Y1(ve):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QR(),me=ae[B],Ue=ae[U],Q=Ic(0,b[I],re[I]),he=y?b[I]/2-G-Q-me-C.mainAxis:oe-Q-me-C.mainAxis,et=y?-b[I]/2+G+Q+Ue+C.mainAxis:W+Q+Ue+C.mainAxis,yt=e.elements.arrow&&lh(e.elements.arrow),Be=yt?x==="y"?yt.clientTop||0:yt.clientLeft||0:0,Dt=(D=M==null?void 0:M[x])!=null?D:0,vr=$+he-Dt-Be,dt=$+et-Dt,tt=Ic(f?kp(O,vr):O,$,f?da(F,dt):F);w[x]=tt,N[x]=tt-$}if(a){var or,kt=x==="x"?Hr:jr,Ai=x==="x"?ri:ni,Ct=w[S],Ar=S==="y"?"height":"width",ar=Ct+g[kt],Rr=Ct-g[Ai],Mr=[Hr,jr].indexOf(_)!==-1,ur=(or=M==null?void 0:M[S])!=null?or:0,Gt=Mr?ar:Ct-b[Ar]-E[Ar]-ur+C.altAxis,Br=Mr?Ct+b[Ar]+E[Ar]-ur-C.altAxis:Rr,ts=f&&Mr?e9(Gt,Ct,Br):Ic(f?Gt:ar,Ct,f?Br:Rr);w[S]=ts,N[S]=ts-Ct}e.modifiersData[n]=N}}const B9={name:"preventOverflow",enabled:!0,phase:"main",fn:M9,requiresIfExists:["offset"]};function D9(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function k9(t){return t===yn(t)||!Zn(t)?K1(t):D9(t)}function O9(t){var e=t.getBoundingClientRect(),r=Ju(e.width)/t.offsetWidth||1,n=Ju(e.height)/t.offsetHeight||1;return r!==1||n!==1}function I9(t,e,r){r===void 0&&(r=!1);var n=Zn(e),i=Zn(e)&&O9(e),s=Bo(e),o=el(t,i,r),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Zi(e)!=="body"||Z1(s))&&(a=k9(e)),Zn(e)?(u=el(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Q1(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function F9(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var u=e.get(a);u&&i(u)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function U9(t){var e=F9(t);return Yz.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function L9(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function N9(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var QE={placement:"bottom",modifiers:[],strategy:"absolute"};function ZE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function G9(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?QE:i;return function(a,u,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},QE,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(_){var v=typeof _=="function"?_(c.options):_;m(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:Sa(a)?Fc(a):a.contextElement?Fc(a.contextElement):[],popper:Fc(u)};var y=U9(N9([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(x){return x.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var _=c.elements,v=_.reference,y=_.popper;if(ZE(v,y)){c.rects={reference:I9(v,lh(y),c.options.strategy==="fixed"),popper:Y1(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var S=c.orderedModifiers[x],w=S.fn,b=S.options,E=b===void 0?{}:b,T=S.name;typeof w=="function"&&(c=w({state:c,options:E,name:T,instance:f})||c)}}}},update:L9(function(){return new Promise(function(g){f.forceUpdate(),g(c)})}),destroy:function(){m(),h=!0}};if(!ZE(a,u))return f;f.setOptions(l).then(function(g){!h&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var _=g.name,v=g.options,y=v===void 0?{}:v,x=g.effect;if(typeof x=="function"){var S=x({state:c,name:_,instance:f,options:y}),w=function(){};d.push(S||w)}})}function m(){d.forEach(function(g){return g()}),d=[]}return f}}var z9=[c9,A9,u9,Qz,C9,b9,B9,i9,w9],$9=G9({defaultModifiers:z9});const rM="Popper";function H9(t){return VR(rM,t)}Oz(rM,["root"]);const j9=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],W9=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function V9(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Ky(t){return typeof t=="function"?t():t}function X9(t){return t.nodeType!==void 0}const Y9=()=>Mo({root:["root"]},dz(H9)),q9={},K9=P.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:u,open:l,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,g=We(e,j9),_=P.useRef(null),v=Qi(_,r),y=P.useRef(null),x=Qi(y,h),S=P.useRef(x);vd(()=>{S.current=x},[x]),P.useImperativeHandle(h,()=>y.current,[]);const w=V9(c,o),[b,E]=P.useState(w),[T,C]=P.useState(Ky(i));P.useEffect(()=>{y.current&&y.current.forceUpdate()}),P.useEffect(()=>{i&&C(Ky(i))},[i]),vd(()=>{if(!T||!l)return;const U=O=>{E(O.placement)};let I=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{U(O)}}];u!=null&&(I=I.concat(u)),d&&d.modifiers!=null&&(I=I.concat(d.modifiers));const $=$9(T,_.current,z({placement:w},d,{modifiers:I}));return S.current($),()=>{$.destroy(),S.current(null)}},[T,a,u,l,d,w]);const M={placement:b};m!==null&&(M.TransitionProps=m);const N=Y9(),D=(n=p.root)!=null?n:"div",B=gz({elementType:D,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:N.root});return V.jsx(D,z({},B,{children:typeof s=="function"?s(M):s}))}),Q9=P.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:u=!1,modifiers:l,open:c,placement:d="bottom",popperOptions:h=q9,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:_={}}=e,v=We(e,W9),[y,x]=P.useState(!0),S=()=>{x(!1)},w=()=>{x(!0)};if(!u&&!c&&(!m||y))return null;let b;if(s)b=s;else if(n){const C=Ky(n);b=C&&X9(C)?CE(C).body:CE(null).body}const E=!c&&u&&(!m||y)?"none":void 0,T=m?{in:c,onEnter:S,onExited:w}:void 0;return V.jsx(Fz,{disablePortal:a,container:b,children:V.jsx(K9,z({anchorEl:n,direction:o,disablePortal:a,modifiers:l,ref:r,open:m?!y:c,placement:d,popperOptions:h,popperRef:f,slotProps:g,slots:_},v,{style:z({position:"fixed",top:0,left:0,display:E},p),TransitionProps:T,children:i}))})});var J1={};Object.defineProperty(J1,"__esModule",{value:!0});var nM=J1.default=void 0,Z9=e7(P),J9=NR;function iM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(iM=function(n){return n?r:e})(t)}function e7(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=iM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function t7(t){return Object.keys(t).length===0}function r7(t=null){const e=Z9.useContext(J9.ThemeContext);return!e||t7(e)?t:e}nM=J1.default=r7;const n7=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],i7=Nt(Q9,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sM=P.forwardRef(function(e,r){var n;const i=nM(),s=Rs({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:u,componentsProps:l,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:_,transition:v,slots:y,slotProps:x}=s,S=We(s,n7),w=(n=y==null?void 0:y.root)!=null?n:u==null?void 0:u.Root,b=z({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:_,transition:v},S);return V.jsx(i7,z({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:x??l},b,{ref:r}))}),s7=As("MuiBox",["root"]),o7=LR(),bg=vN({themeId:Rm,defaultTheme:o7,defaultClassName:s7.root,generateClassName:yR.generate});function a7(t){return Ro("MuiFab",t)}const JE=As("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),u7=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],l7=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${_r(i)}`,e==="inherit"?"colorInherit":e]},o=Mo(s,a7,n);return z({},n,o)},c7=Nt(Bz,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>zR(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${_r(r.size)}`],r.color==="inherit"&&e.colorInherit,e[_r(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return z({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${JE.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>z({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${JE.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),oM=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:u=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:d="large",variant:h="circular"}=n,f=We(n,u7),p=z({},n,{color:o,component:a,disabled:u,disableFocusRipple:l,size:d,variant:h}),m=l7(p);return V.jsx(c7,z({className:Xe(m.root,s),component:a,disabled:u,focusRipple:!l,focusVisibleClassName:Xe(m.focusVisible,c),ownerState:p,ref:r},f,{classes:m,children:i}))}),d7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Qy(t){return`scale(${t}, ${t**2})`}const h7={entering:{opacity:1,transform:Qy(1)},entered:{opacity:1,transform:"none"}},j0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Zy=P.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:l,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=es}=e,_=We(e,d7),v=na(),y=P.useRef(),x=ug(),S=P.useRef(null),w=Qi(S,s.ref,r),b=U=>I=>{if(U){const $=S.current;I===void 0?U($):U($,I)}},E=b(c),T=b((U,I)=>{jR(U);const{duration:$,delay:O,easing:F}=Dp({style:p,timeout:m,easing:o},{mode:"enter"});let G;m==="auto"?(G=x.transitions.getAutoHeightDuration(U.clientHeight),y.current=G):G=$,U.style.transition=[x.transitions.create("opacity",{duration:G,delay:O}),x.transitions.create("transform",{duration:j0?G:G*.666,delay:O,easing:F})].join(","),u&&u(U,I)}),C=b(l),M=b(f),N=b(U=>{const{duration:I,delay:$,easing:O}=Dp({style:p,timeout:m,easing:o},{mode:"exit"});let F;m==="auto"?(F=x.transitions.getAutoHeightDuration(U.clientHeight),y.current=F):F=I,U.style.transition=[x.transitions.create("opacity",{duration:F,delay:$}),x.transitions.create("transform",{duration:j0?F:F*.666,delay:j0?$:$||F*.333,easing:O})].join(","),U.style.opacity=0,U.style.transform=Qy(.75),d&&d(U)}),D=b(h),B=U=>{m==="auto"&&v.start(y.current||0,U),n&&n(S.current,U)};return V.jsx(g,z({appear:i,in:a,nodeRef:S,onEnter:T,onEntered:C,onEntering:E,onExit:N,onExited:D,onExiting:M,addEndListener:B,timeout:m==="auto"?null:m},_,{children:(U,I)=>P.cloneElement(s,z({style:z({opacity:0,transform:Qy(.75),visibility:U==="exited"&&!a?"hidden":void 0},h7[U],p,s.props.style),ref:w},I))}))});Zy.muiSupportAuto=!0;const f7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],p7={entering:{transform:"none"},entered:{transform:"none"}},m7=P.forwardRef(function(e,r){const n=ug(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:l,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:_=i,TransitionComponent:v=es}=e,y=We(e,f7),x=P.useRef(null),S=Qi(x,a.ref,r),w=B=>U=>{if(B){const I=x.current;U===void 0?B(I):B(I,U)}},b=w(h),E=w((B,U)=>{jR(B);const I=Dp({style:g,timeout:_,easing:u},{mode:"enter"});B.style.webkitTransition=n.transitions.create("transform",I),B.style.transition=n.transitions.create("transform",I),c&&c(B,U)}),T=w(d),C=w(m),M=w(B=>{const U=Dp({style:g,timeout:_,easing:u},{mode:"exit"});B.style.webkitTransition=n.transitions.create("transform",U),B.style.transition=n.transitions.create("transform",U),f&&f(B)}),N=w(p),D=B=>{s&&s(x.current,B)};return V.jsx(v,z({appear:o,in:l,nodeRef:x,onEnter:E,onEntered:T,onEntering:b,onExit:M,onExited:N,onExiting:C,addEndListener:D,timeout:_},y,{children:(B,U)=>P.cloneElement(a,z({style:z({transform:"scale(0)",visibility:B==="exited"&&!l?"hidden":void 0},p7[B],g,a.props.style),ref:S},U))}))});function g7(t){return Ro("MuiSpeedDial",t)}const Zh=As("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),_7=["ref"],y7=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],v7=["ref"],x7=t=>{const{classes:e,open:r,direction:n}=t,i={root:["root",`direction${_r(n)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Mo(i,g7,e)};function Xl(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const Gs=32,Jh=16,b7=Nt("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`direction${_r(r.direction)}`]]}})(({theme:t,ownerState:e})=>z({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",[`& .${Zh.actions}`]:{flexDirection:"column-reverse",marginBottom:-Gs,paddingBottom:Jh+Gs}},e.direction==="down"&&{flexDirection:"column",[`& .${Zh.actions}`]:{flexDirection:"column",marginTop:-Gs,paddingTop:Jh+Gs}},e.direction==="left"&&{flexDirection:"row-reverse",[`& .${Zh.actions}`]:{flexDirection:"row-reverse",marginRight:-Gs,paddingRight:Jh+Gs}},e.direction==="right"&&{flexDirection:"row",[`& .${Zh.actions}`]:{flexDirection:"row",marginLeft:-Gs,paddingLeft:Jh+Gs}})),S7=Nt(oM,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),w7=Nt("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})(({ownerState:t})=>z({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),E7=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiSpeedDial"}),i=ug(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:a}={},children:u,className:l,direction:c="up",hidden:d=!1,icon:h,onBlur:f,onClose:p,onFocus:m,onKeyDown:g,onMouseEnter:_,onMouseLeave:v,onOpen:y,open:x,TransitionComponent:S=m7,transitionDuration:w=s,TransitionProps:b}=n,E=We(n.FabProps,_7),T=We(n,y7),[C,M]=PR({controlled:x,default:!1,name:"SpeedDial",state:"open"}),N=z({},n,{open:C,direction:c}),D=x7(N),B=na(),U=P.useRef(0),I=P.useRef(),$=P.useRef([]);$.current=[$.current[0]];const O=P.useCallback(Q=>{$.current[0]=Q},[]),F=Qi(a,O),G=(Q,he)=>et=>{$.current[Q+1]=et,he&&he(et)},oe=Q=>{g&&g(Q);const he=Q.key.replace("Arrow","").toLowerCase(),{current:et=he}=I;if(Q.key==="Escape"){M(!1),$.current[0].focus(),p&&p(Q,"escapeKeyDown");return}if(Xl(he)===Xl(et)&&Xl(he)!==void 0){Q.preventDefault();const yt=he===et?1:-1,Be=CR(U.current+yt,0,$.current.length-1);$.current[Be].focus(),U.current=Be,I.current=et}};P.useEffect(()=>{C||(U.current=0,I.current=void 0)},[C]);const W=Q=>{Q.type==="mouseleave"&&v&&v(Q),Q.type==="blur"&&f&&f(Q),B.clear(),Q.type==="blur"?B.start(0,()=>{M(!1),p&&p(Q,"blur")}):(M(!1),p&&p(Q,"mouseLeave"))},ve=Q=>{E.onClick&&E.onClick(Q),B.clear(),C?(M(!1),p&&p(Q,"toggle")):(M(!0),y&&y(Q,"toggle"))},re=Q=>{Q.type==="mouseenter"&&_&&_(Q),Q.type==="focus"&&m&&m(Q),B.clear(),C||B.start(0,()=>{M(!0),y&&y(Q,{focus:"focus",mouseenter:"mouseEnter"}[Q.type])})},ae=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),me=P.Children.toArray(u).filter(Q=>P.isValidElement(Q)),Ue=me.map((Q,he)=>{const et=Q.props,{FabProps:{ref:yt}={},tooltipPlacement:Be}=et,Dt=We(et.FabProps,v7),vr=Be||(Xl(c)==="vertical"?"left":"top");return P.cloneElement(Q,{FabProps:z({},Dt,{ref:G(he,yt)}),delay:30*(C?he:me.length-he),open:C,tooltipPlacement:vr,id:`${ae}-action-${he}`})});return V.jsxs(b7,z({className:Xe(D.root,l),ref:r,role:"presentation",onKeyDown:oe,onBlur:W,onFocus:re,onMouseEnter:re,onMouseLeave:W,ownerState:N},T,{children:[V.jsx(S,z({in:!d,timeout:w,unmountOnExit:!0},b,{children:V.jsx(S7,z({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":C,"aria-controls":`${ae}-actions`},E,{onClick:ve,className:Xe(D.fab,E.className),ref:F,ownerState:N,children:P.isValidElement(h)&&AN(h,["SpeedDialIcon"])?P.cloneElement(h,{open:C}):h}))})),V.jsx(w7,{id:`${ae}-actions`,role:"menu","aria-orientation":Xl(c),className:Xe(D.actions,!C&&D.actionsClosed),ownerState:N,children:Ue})]}))});function T7(t){return Ro("MuiTooltip",t)}const Zs=As("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),C7=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function P7(t){return Math.round(t*1e5)/1e5}const A7=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:i,placement:s}=t,o={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${_r(s.split("-")[0])}`],arrow:["arrow"]};return Mo(o,T7,e)},R7=Nt(sM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(({theme:t,ownerState:e,open:r})=>z({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Zs.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Zs.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Zs.arrow}`]:z({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Zs.arrow}`]:z({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),M7=Nt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${_r(r.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>z({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:DR(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${P7(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Zs.popper}[data-popper-placement*="left"] &`]:z({transformOrigin:"right center"},e.isRtl?z({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):z({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Zs.popper}[data-popper-placement*="right"] &`]:z({transformOrigin:"left center"},e.isRtl?z({marginRight:"14px"},e.touch&&{marginRight:"24px"}):z({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Zs.popper}[data-popper-placement*="top"] &`]:z({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Zs.popper}[data-popper-placement*="bottom"] &`]:z({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),B7=Nt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:DR(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ef=!1;const eT=new sh;let Yl={x:0,y:0};function tf(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const D7=P.forwardRef(function(e,r){var n,i,s,o,a,u,l,c,d,h,f,p,m,g,_,v,y,x,S;const w=Rs({props:e,name:"MuiTooltip"}),{arrow:b=!1,children:E,components:T={},componentsProps:C={},describeChild:M=!1,disableFocusListener:N=!1,disableHoverListener:D=!1,disableInteractive:B=!1,disableTouchListener:U=!1,enterDelay:I=100,enterNextDelay:$=0,enterTouchDelay:O=700,followCursor:F=!1,id:G,leaveDelay:oe=0,leaveTouchDelay:W=1500,onClose:ve,onOpen:re,open:ae,placement:me="bottom",PopperComponent:Ue,PopperProps:Q={},slotProps:he={},slots:et={},title:yt,TransitionComponent:Be=Zy,TransitionProps:Dt}=w,vr=We(w,C7),dt=P.isValidElement(E)?E:V.jsx("span",{children:E}),tt=ug(),or=$N(),[kt,Ai]=P.useState(),[Ct,Ar]=P.useState(null),ar=P.useRef(!1),Rr=B||F,Mr=na(),ur=na(),Gt=na(),Br=na(),[ts,se]=PR({controlled:ae,default:!1,name:"Tooltip",state:"open"});let Dr=ts;const kr=MN(G),di=P.useRef(),ks=yu(()=>{di.current!==void 0&&(document.body.style.WebkitUserSelect=di.current,di.current=void 0),Br.clear()});P.useEffect(()=>ks,[ks]);const Bl=pe=>{eT.clear(),ef=!0,se(!0),re&&!Dr&&re(pe)},Ga=yu(pe=>{eT.start(800+oe,()=>{ef=!1}),se(!1),ve&&Dr&&ve(pe),Mr.start(tt.transitions.duration.shortest,()=>{ar.current=!1})}),No=pe=>{ar.current&&pe.type!=="touchstart"||(kt&&kt.removeAttribute("title"),ur.clear(),Gt.clear(),I||ef&&$?ur.start(ef?$:I,()=>{Bl(pe)}):Bl(pe))},Os=pe=>{ur.clear(),Gt.start(oe,()=>{Ga(pe)})},{isFocusVisibleRef:Dl,onBlur:kl,onFocus:h0,ref:Ah}=AR(),[,Rh]=P.useState(!1),Ol=pe=>{kl(pe),Dl.current===!1&&(Rh(!1),Os(pe))},Mh=pe=>{kt||Ai(pe.currentTarget),h0(pe),Dl.current===!0&&(Rh(!0),No(pe))},R=pe=>{ar.current=!0;const zt=dt.props;zt.onTouchStart&&zt.onTouchStart(pe)},k=pe=>{R(pe),Gt.clear(),Mr.clear(),ks(),di.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Br.start(O,()=>{document.body.style.WebkitUserSelect=di.current,No(pe)})},L=pe=>{dt.props.onTouchEnd&&dt.props.onTouchEnd(pe),ks(),Gt.start(W,()=>{Ga(pe)})};P.useEffect(()=>{if(!Dr)return;function pe(zt){(zt.key==="Escape"||zt.key==="Esc")&&Ga(zt)}return document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[Ga,Dr]);const j=Qi(dt.ref,Ah,Ai,r);!yt&&yt!==0&&(Dr=!1);const Y=P.useRef(),ce=pe=>{const zt=dt.props;zt.onMouseMove&&zt.onMouseMove(pe),Yl={x:pe.clientX,y:pe.clientY},Y.current&&Y.current.update()},Z={},q=typeof yt=="string";M?(Z.title=!Dr&&q&&!D?yt:null,Z["aria-describedby"]=Dr?kr:null):(Z["aria-label"]=q?yt:null,Z["aria-labelledby"]=Dr&&!q?kr:null);const ee=z({},Z,vr,dt.props,{className:Xe(vr.className,dt.props.className),onTouchStart:R,ref:j},F?{onMouseMove:ce}:{}),ne={};U||(ee.onTouchStart=k,ee.onTouchEnd=L),D||(ee.onMouseOver=tf(No,ee.onMouseOver),ee.onMouseLeave=tf(Os,ee.onMouseLeave),Rr||(ne.onMouseOver=No,ne.onMouseLeave=Os)),N||(ee.onFocus=tf(Mh,ee.onFocus),ee.onBlur=tf(Ol,ee.onBlur),Rr||(ne.onFocus=Mh,ne.onBlur=Ol));const Ot=P.useMemo(()=>{var pe;let zt=[{name:"arrow",enabled:!!Ct,options:{element:Ct,padding:4}}];return(pe=Q.popperOptions)!=null&&pe.modifiers&&(zt=zt.concat(Q.popperOptions.modifiers)),z({},Q.popperOptions,{modifiers:zt})},[Ct,Q]),rt=z({},w,{isRtl:or,arrow:b,disableInteractive:Rr,placement:me,PopperComponentProp:Ue,touch:ar.current}),ie=A7(rt),Ge=(n=(i=et.popper)!=null?i:T.Popper)!=null?n:R7,vt=(s=(o=(a=et.transition)!=null?a:T.Transition)!=null?o:Be)!=null?s:Zy,Is=(u=(l=et.tooltip)!=null?l:T.Tooltip)!=null?u:M7,hi=(c=(d=et.arrow)!=null?d:T.Arrow)!=null?c:B7,Fs=_c(Ge,z({},Q,(h=he.popper)!=null?h:C.popper,{className:Xe(ie.popper,Q==null?void 0:Q.className,(f=(p=he.popper)!=null?p:C.popper)==null?void 0:f.className)}),rt),Us=_c(vt,z({},Dt,(m=he.transition)!=null?m:C.transition),rt),Ls=_c(Is,z({},(g=he.tooltip)!=null?g:C.tooltip,{className:Xe(ie.tooltip,(_=(v=he.tooltip)!=null?v:C.tooltip)==null?void 0:_.className)}),rt),Bn=_c(hi,z({},(y=he.arrow)!=null?y:C.arrow,{className:Xe(ie.arrow,(x=(S=he.arrow)!=null?S:C.arrow)==null?void 0:x.className)}),rt);return V.jsxs(P.Fragment,{children:[P.cloneElement(dt,ee),V.jsx(Ge,z({as:Ue??sM,placement:me,anchorEl:F?{getBoundingClientRect:()=>({top:Yl.y,left:Yl.x,right:Yl.x,bottom:Yl.y,width:0,height:0})}:kt,popperRef:Y,open:kt?Dr:!1,id:kr,transition:!0},ne,Fs,{popperOptions:Ot,children:({TransitionProps:pe})=>V.jsx(vt,z({timeout:tt.transitions.duration.shorter},pe,Us,{children:V.jsxs(Is,z({},Ls,{children:[yt,b?V.jsx(hi,z({},Bn,{ref:Ar})):null]}))}))}))]})});function k7(t){return Ro("MuiSpeedDialAction",t)}const O7=As("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),I7=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],F7=t=>{const{open:e,tooltipPlacement:r,classes:n}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${_r(r)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Mo(i,k7,n)},U7=Nt(oM,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>z({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:XN(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),L7=Nt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e[`tooltipPlacement${_r(r.tooltipPlacement)}`]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${O7.staticTooltipLabel}`]:z({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),N7=Nt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>z({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),G7=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:s=0,FabProps:o={},icon:a,id:u,open:l,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:h="left",tooltipTitle:f}=n,p=We(n,I7),m=z({},n,{tooltipPlacement:h}),g=F7(m),[_,v]=P.useState(d),y=()=>{v(!1)},x=()=>{v(!0)},S={transitionDelay:`${s}ms`},w=V.jsx(U7,z({size:"small",className:Xe(g.fab,i),tabIndex:-1,role:"menuitem",ownerState:m},o,{style:z({},S,o.style),children:a}));return d?V.jsxs(L7,z({id:u,ref:r,className:g.staticTooltip,ownerState:m},p,{children:[V.jsx(N7,{style:S,id:`${u}-label`,className:g.staticTooltipLabel,ownerState:m,children:f}),P.cloneElement(w,{"aria-labelledby":`${u}-label`})]})):(!l&&_&&v(!1),V.jsx(D7,z({id:u,ref:r,title:f,placement:h,onClose:y,onOpen:x,open:l&&_,classes:c},p,{children:w})))}),z7=ah(V.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function $7(t){return Ro("MuiSpeedDialIcon",t)}const Go=As("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),H7=["className","icon","open","openIcon"],j7=t=>{const{classes:e,open:r,openIcon:n}=t;return Mo({root:["root"],icon:["icon",r&&"iconOpen",n&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},$7,e)},W7=Nt("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Go.icon}`]:e.icon},{[`& .${Go.icon}`]:r.open&&e.iconOpen},{[`& .${Go.icon}`]:r.open&&r.openIcon&&e.iconWithOpenIconOpen},{[`& .${Go.openIcon}`]:e.openIcon},{[`& .${Go.openIcon}`]:r.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,[`& .${Go.icon}`]:z({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&z({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),[`& .${Go.openIcon}`]:z({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),aM=P.forwardRef(function(e,r){const n=Rs({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:s,openIcon:o}=n,a=We(n,H7),u=n,l=j7(u);function c(d,h){return P.isValidElement(d)?P.cloneElement(d,{className:h}):d}return V.jsxs(W7,z({className:Xe(l.root,i),ref:r,ownerState:u},a,{children:[o?c(o,l.openIcon):null,s?c(s,l.icon):V.jsx(z7,{className:l.icon})]}))});aM.muiName="SpeedDialIcon";const V7=Nt(bg)(({theme:t})=>`
  .pixi-container {
    position:absolute;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    overflow:hidden;
  }
`),X7=Nt(bg)(({theme:t})=>`
  height: 320px;
  flex-grow: 1;
`);var uM={exports:{}},lM={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=P;function Y7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q7=typeof Object.is=="function"?Object.is:Y7,K7=ch.useSyncExternalStore,Q7=ch.useRef,Z7=ch.useEffect,J7=ch.useMemo,e$=ch.useDebugValue;lM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Q7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=J7(function(){function u(f){if(!l){if(l=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,q7(c,f))return p;var m=n(f);return i!==void 0&&i(p,m)?p:(c=f,d=m)}var l=!1,c,d,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,n,i]);var a=K7(t,s[0],s[1]);return Z7(function(){o.hasValue=!0,o.value=a},[a]),e$(a),a};uM.exports=lM;var t$=uM.exports,dn="default"in Hu?ln:Hu,tT=Symbol.for("react-redux-context"),rT=typeof globalThis<"u"?globalThis:{};function r$(){if(!dn.createContext)return{};const t=rT[tT]??(rT[tT]=new Map);let e=t.get(dn.createContext);return e||(e=dn.createContext(null),t.set(dn.createContext,e)),e}var vo=r$(),n$=()=>{throw new Error("uSES not initialized!")};function eb(t=vo){return function(){return dn.useContext(t)}}var cM=eb(),dM=n$,i$=t=>{dM=t},s$=(t,e)=>t===e;function o$(t=vo){const e=t===vo?cM:eb(t),r=(n,i={})=>{const{equalityFn:s=s$,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:l,stabilityCheck:c,identityFunctionCheck:d}=e();dn.useRef(!0);const h=dn.useCallback({[n.name](p){return n(p)}}[n.name],[n,c,o.stabilityCheck]),f=dM(u.addNestedSub,a.getState,l||a.getState,h,s);return dn.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var a$=o$();function u$(t){t()}function l$(){let t=null,e=null;return{clear(){t=null,e=null},notify(){u$(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var nT={notify(){},get:()=>[]};function c$(t,e){let r,n=nT,i=0,s=!1;function o(m){c();const g=n.subscribe(m);let _=!1;return()=>{_||(_=!0,g(),d())}}function a(){n.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,r||(r=t.subscribe(u),n=l$())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=nT)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return p}var d$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h$=typeof navigator<"u"&&navigator.product==="ReactNative",f$=d$||h$?dn.useLayoutEffect:dn.useEffect;function p$({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=dn.useMemo(()=>{const l=c$(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),a=dn.useMemo(()=>t.getState(),[t]);f$(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=e||vo;return dn.createElement(u.Provider,{value:o},r)}var m$=p$;function hM(t=vo){const e=t===vo?cM:eb(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var g$=hM();function _$(t=vo){const e=t===vo?g$:hM(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var y$=_$();i$(t$.useSyncExternalStoreWithSelector);function Jt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var v$=typeof Symbol=="function"&&Symbol.observable||"@@observable",iT=v$,W0=()=>Math.random().toString(36).substring(7).split("").join("."),x$={INIT:`@@redux/INIT${W0()}`,REPLACE:`@@redux/REPLACE${W0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${W0()}`},Op=x$;function tb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fM(t,e,r){if(typeof t!="function")throw new Error(Jt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Jt(1));return r(fM)(t,e)}let n=t,i=e,s=new Map,o=s,a=0,u=!1;function l(){o===s&&(o=new Map,s.forEach((g,_)=>{o.set(_,g)}))}function c(){if(u)throw new Error(Jt(3));return i}function d(g){if(typeof g!="function")throw new Error(Jt(4));if(u)throw new Error(Jt(5));let _=!0;l();const v=a++;return o.set(v,g),function(){if(_){if(u)throw new Error(Jt(6));_=!1,l(),o.delete(v),s=null}}}function h(g){if(!tb(g))throw new Error(Jt(7));if(typeof g.type>"u")throw new Error(Jt(8));if(typeof g.type!="string")throw new Error(Jt(17));if(u)throw new Error(Jt(9));try{u=!0,i=n(i,g)}finally{u=!1}return(s=o).forEach(v=>{v()}),g}function f(g){if(typeof g!="function")throw new Error(Jt(10));n=g,h({type:Op.REPLACE})}function p(){const g=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Jt(11));function v(){const x=_;x.next&&x.next(c())}return v(),{unsubscribe:g(v)}},[iT](){return this}}}return h({type:Op.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[iT]:p}}function b$(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Op.INIT})>"u")throw new Error(Jt(12));if(typeof r(void 0,{type:Op.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function S$(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{b$(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const l={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(Jt(14));l[d]=p,u=u||p!==f}return u=u||n.length!==Object.keys(o).length,u?l:o}}function Ip(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function w$(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Jt(15))};const o={getState:i.getState,dispatch:(u,...l)=>s(u,...l)},a=t.map(u=>u(o));return s=Ip(...a)(i.dispatch),{...i,dispatch:s}}}function E$(t){return tb(t)&&"type"in t&&typeof t.type=="string"}var pM=Symbol.for("immer-nothing"),sT=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rl=Object.getPrototypeOf;function xo(t){return!!t&&!!t[vn]}function bs(t){var e;return t?mM(t)||Array.isArray(t)||!!t[sT]||!!((e=t.constructor)!=null&&e[sT])||wg(t)||Eg(t):!1}var T$=Object.prototype.constructor.toString();function mM(t){if(!t||typeof t!="object")return!1;const e=rl(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===T$}function Fp(t,e){Sg(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Sg(t){const e=t[vn];return e?e.type_:Array.isArray(t)?1:wg(t)?2:Eg(t)?3:0}function Jy(t,e){return Sg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gM(t,e,r){const n=Sg(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function C$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wg(t){return t instanceof Map}function Eg(t){return t instanceof Set}function Yo(t){return t.copy_||t.base_}function ev(t,e){if(wg(t))return new Map(t);if(Eg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=mM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[vn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(rl(t),n)}else{const n=rl(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function rb(t,e=!1){return Tg(t)||xo(t)||!bs(t)||(Sg(t)>1&&(t.set=t.add=t.clear=t.delete=P$),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>rb(n,!0))),t}function P$(){xi(2)}function Tg(t){return Object.isFrozen(t)}var A$={};function wa(t){const e=A$[t];return e||xi(0,t),e}var Sd;function _M(){return Sd}function R$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oT(t,e){e&&(wa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tv(t){rv(t),t.drafts_.forEach(M$),t.drafts_=null}function rv(t){t===Sd&&(Sd=t.parent_)}function aT(t){return Sd=R$(Sd,t)}function M$(t){const e=t[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[vn].modified_&&(tv(e),xi(4)),bs(t)&&(t=Up(e,t),e.parent_||Lp(e,t)),e.patches_&&wa("Patches").generateReplacementPatches_(r[vn].base_,t,e.patches_,e.inversePatches_)):t=Up(e,r,[]),tv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pM?t:void 0}function Up(t,e,r){if(Tg(e))return e;const n=e[vn];if(!n)return Fp(e,(i,s)=>lT(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Lp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),Fp(s,(a,u)=>lT(t,n,i,a,u,r,o)),Lp(t,i,!1),r&&t.patches_&&wa("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function lT(t,e,r,n,i,s,o){if(xo(i)){const a=s&&e&&e.type_!==3&&!Jy(e.assigned_,n)?s.concat(n):void 0,u=Up(t,i,a);if(gM(r,n,u),xo(u))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(bs(i)&&!Tg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Up(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Lp(t,i)}}function Lp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rb(e,r)}function B$(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:_M(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=nb;r&&(i=[n],s=wd);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var nb={get(t,e){if(e===vn)return t;const r=Yo(t);if(!Jy(r,e))return D$(t,r,e);const n=r[e];return t.finalized_||!bs(n)?n:n===V0(t.base_,e)?(X0(t),t.copy_[e]=iv(n,t)):n},has(t,e){return e in Yo(t)},ownKeys(t){return Reflect.ownKeys(Yo(t))},set(t,e,r){const n=yM(Yo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=V0(Yo(t),e),s=i==null?void 0:i[vn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(C$(r,i)&&(r!==void 0||Jy(t.base_,e)))return!0;X0(t),nv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return V0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,X0(t),nv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Yo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){xi(11)},getPrototypeOf(t){return rl(t.base_)},setPrototypeOf(){xi(12)}},wd={};Fp(nb,(t,e)=>{wd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});wd.deleteProperty=function(t,e){return wd.set.call(this,t,e,void 0)};wd.set=function(t,e,r){return nb.set.call(this,t[0],e,r,t[0])};function V0(t,e){const r=t[vn];return(r?Yo(r):t)[e]}function D$(t,e,r){var i;const n=yM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function yM(t,e){if(!(e in t))return;let r=rl(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=rl(r)}}function nv(t){t.modified_||(t.modified_=!0,t.parent_&&nv(t.parent_))}function X0(t){t.copy_||(t.copy_=ev(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var k$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(u=s,...l){return o.produce(u,c=>r.call(this,c,...l))}}typeof r!="function"&&xi(6),n!==void 0&&typeof n!="function"&&xi(7);let i;if(bs(e)){const s=aT(this),o=iv(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?tv(s):rv(s)}return oT(s,n),uT(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===pM&&(i=void 0),this.autoFreeze_&&rb(i,!0),n){const s=[],o=[];wa("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else xi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){bs(t)||xi(8),xo(t)&&(t=vM(t));const e=aT(this),r=iv(t,void 0);return r[vn].isManual_=!0,rv(e),r}finishDraft(t,e){const r=t&&t[vn];(!r||!r.isManual_)&&xi(9);const{scope_:n}=r;return oT(n,e),uT(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=wa("Patches").applyPatches_;return xo(t)?n(t,e):this.produce(t,i=>n(i,e))}};function iv(t,e){const r=wg(t)?wa("MapSet").proxyMap_(t,e):Eg(t)?wa("MapSet").proxySet_(t,e):B$(t,e);return(e?e.scope_:_M()).drafts_.push(r),r}function vM(t){return xo(t)||xi(10,t),xM(t)}function xM(t){if(!bs(t)||Tg(t))return t;const e=t[vn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=ev(t,e.scope_.immer_.useStrictShallowCopy_)}else r=ev(t,!0);return Fp(r,(n,i)=>{gM(r,n,xM(i))}),e&&(e.finalized_=!1),r}var xn=new k$,bM=xn.produce;xn.produceWithPatches.bind(xn);xn.setAutoFreeze.bind(xn);xn.setUseStrictShallowCopy.bind(xn);xn.applyPatches.bind(xn);xn.createDraft.bind(xn);xn.finishDraft.bind(xn);function O$(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function I$(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function F$(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var cT=t=>Array.isArray(t)?t:[t];function U$(t){const e=Array.isArray(t[0])?t[0]:t;return F$(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function L$(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var N$=class{constructor(t){this.value=t}deref(){return this.value}},G$=typeof WeakRef<"u"?WeakRef:N$,z$=0,dT=1;function rf(){return{s:z$,v:void 0,o:null,p:null}}function ib(t,e={}){let r=rf();const{resultEqualityCheck:n}=e;let i,s=0;function o(){var d;let a=r;const{length:u}=arguments;for(let h=0,f=u;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=rf(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=rf(),m.set(p,a)):a=g}}const l=a;let c;if(a.s===dT)c=a.v;else if(c=t.apply(null,arguments),s++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new G$(c):c}return l.s=dT,l.v=c,c}return o.clearCache=()=>{r=rf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function SM(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,o=0,a,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),O$(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:f=ib,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=cT(h),_=cT(p),v=U$(i),y=d(function(){return s++,l.apply(null,arguments)},...g),x=f(function(){o++;const w=L$(v,arguments);return a=y.apply(null,w),a},..._);return Object.assign(x,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var $$=SM(ib),H$=Object.assign((t,e=$$)=>{I$(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((o,a,u)=>(o[r[u]]=a,o),{}))},{withTypes:()=>H$});function wM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var j$=wM(),W$=wM,V$=(...t)=>{const e=SM(...t),r=Object.assign((...n)=>{const i=e(...n),s=(o,...a)=>i(xo(o)?vM(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>r});return r};V$(ib);var X$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ip:Ip.apply(null,arguments)};function nl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Wr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>E$(n)&&n.type===t,r}var EM=class yc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yc.prototype)}static get[Symbol.species](){return yc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yc(...e[0].concat(this)):new yc(...e.concat(this))}};function hT(t){return bs(t)?bM(t,()=>{}):t}function fT(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(Wr(10));const n=r.insert(e,t);return t.set(e,n),n}function Y$(t){return typeof t=="boolean"}var q$=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new EM;return r&&(Y$(r)?o.push(j$):o.push(W$(r.extraArgument))),o},K$="RTK_autoBatch",TM=t=>e=>{setTimeout(e,t)},Q$=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TM(10),Z$=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?Q$:t.type==="callback"?t.queueNotification:TM(t.timeout),l=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[K$]),s=!i,s&&(o||(o=!0,u(l))),n.dispatch(c)}finally{i=!0}}})},J$=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new EM(t);return n&&i.push(Z$(typeof n=="object"?n:void 0)),i},eH=!0;function tH(t){const e=q$(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(tb(r))a=S$(r);else throw new Error(Wr(1));let u;typeof n=="function"?u=n(e):u=e();let l=Ip;i&&(l=X$({trace:!eH,...typeof i=="object"&&i}));const c=w$(...u),d=J$(c);let h=typeof o=="function"?o(d):d();const f=l(...h);return fM(a,s,f)}function CM(t){const e={},r=[];let n;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Wr(28));if(a in e)throw new Error(Wr(29));return e[a]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function rH(t){return typeof t=="function"}function nH(t,e){let[r,n,i]=CM(e),s;if(rH(t))s=()=>hT(t());else{const a=hT(t);s=()=>a}function o(a=s(),u){let l=[r[u.type],...n.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,d)=>{if(d)if(xo(c)){const f=d(c,u);return f===void 0?c:f}else{if(bs(c))return bM(c,h=>d(h,u));{const h=d(c,u);if(h===void 0){if(c===null)return c;throw new Error(Wr(9))}return h}}return c},a)}return o.getInitialState=s,o}var iH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sH=(t=21)=>{let e="",r=t;for(;r--;)e+=iH[Math.random()*64|0];return e},oH=Symbol.for("rtk-slice-createasyncthunk");function aH(t,e){return`${t}/${e}`}function uH({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[oH];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Wr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(dH()):i.reducers)||{},u=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,x){const S=typeof y=="string"?y:y.type;if(!S)throw new Error(Wr(12));if(S in l.sliceCaseReducersByType)throw new Error(Wr(13));return l.sliceCaseReducersByType[S]=x,c},addMatcher(y,x){return l.sliceMatchers.push({matcher:y,reducer:x}),c},exposeAction(y,x){return l.actionCreators[y]=x,c},exposeCaseReducer(y,x){return l.sliceCaseReducersByName[y]=x,c}};u.forEach(y=>{const x=a[y],S={reducerName:y,type:aH(s,y),createNotation:typeof i.reducers=="function"};fH(x)?mH(S,x,c,e):hH(S,x,c)});function d(){const[y={},x=[],S=void 0]=typeof i.extraReducers=="function"?CM(i.extraReducers):[i.extraReducers],w={...y,...l.sliceCaseReducersByType};return nH(i.initialState,b=>{for(let E in w)b.addCase(E,w[E]);for(let E of l.sliceMatchers)b.addMatcher(E.matcher,E.reducer);for(let E of x)b.addMatcher(E.matcher,E.reducer);S&&b.addDefaultCase(S)})}const h=y=>y,f=new Map;let p;function m(y,x){return p||(p=d()),p(y,x)}function g(){return p||(p=d()),p.getInitialState()}function _(y,x=!1){function S(b){let E=b[y];return typeof E>"u"&&x&&(E=g()),E}function w(b=h){const E=fT(f,x,{insert:()=>new WeakMap});return fT(E,b,{insert:()=>{const T={};for(const[C,M]of Object.entries(i.selectors??{}))T[C]=lH(M,b,g,x);return T}})}return{reducerPath:y,getSelectors:w,get selectors(){return w(S)},selectSlice:S}}const v={name:s,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,..._(o),injectInto(y,{reducerPath:x,...S}={}){const w=x??o;return y.inject({reducerPath:w,reducer:m},S),{...v,..._(w,!0)}}};return v}}function lH(t,e,r,n){function i(s,...o){let a=e(s);return typeof a>"u"&&n&&(a=r()),t(a,...o)}return i.unwrapped=t,i}var cH=uH();function dH(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function hH({type:t,reducerName:e,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!pH(n))throw new Error(Wr(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?nl(t,o):nl(t))}function fH(t){return t._reducerDefinitionType==="asyncThunk"}function pH(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mH({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Wr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:l,options:c}=r,d=i(t,s,c);n.exposeAction(e,d),o&&n.addCase(d.fulfilled,o),a&&n.addCase(d.pending,a),u&&n.addCase(d.rejected,u),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:o||nf,pending:a||nf,rejected:u||nf,settled:l||nf})}function nf(){}var gH=(t,e)=>{if(typeof t!="function")throw new Error(Wr(32))},sb="listenerMiddleware",_H=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=nl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Wr(21));return gH(s),{predicate:i,type:e,effect:s}},yH=Object.assign(t=>{const{type:e,predicate:r,effect:n}=_H(t);return{id:sH(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wr(22))}}},{withTypes:()=>yH}),vH=Object.assign(nl(`${sb}/add`),{withTypes:()=>vH});nl(`${sb}/removeAll`);var xH=Object.assign(nl(`${sb}/remove`),{withTypes:()=>xH});function Wr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const PM=cH({name:"nav",initialState:{selectedItem:null,location:null},reducers:{selectItem:(t,e)=>{t.selectedItem=e.payload},setLocation:(t,e)=>{t.location=e.payload}}}),{selectItem:bH,setLocation:SH}=PM.actions,wH=PM.reducer,EH=ah(V.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),TH=ah(V.jsx("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m13.1-8.16c.01-.11.02-.22.02-.34 0-.12-.01-.23-.03-.34l.74-.58c.07-.05.08-.15.04-.22l-.7-1.21c-.04-.08-.14-.1-.21-.08l-.86.35c-.18-.14-.38-.25-.59-.34l-.13-.93c-.02-.09-.09-.15-.18-.15h-1.4c-.09 0-.16.06-.17.15l-.13.93c-.21.09-.41.21-.59.34l-.87-.35c-.08-.03-.17 0-.21.08l-.7 1.21c-.04.08-.03.17.04.22l.74.58c-.02.11-.03.23-.03.34 0 .11.01.23.03.34l-.74.58c-.07.05-.08.15-.04.22l.7 1.21c.04.08.14.1.21.08l.87-.35c.18.14.38.25.59.34l.13.93c.01.09.08.15.17.15h1.4c.09 0 .16-.06.17-.15l.13-.93c.21-.09.41-.21.59-.34l.87.35c.08.03.17 0 .21-.08l.7-1.21c.04-.08.03-.17-.04-.22zm-2.6.91c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m.42 3.93-.5-.87c-.03-.06-.1-.08-.15-.06l-.62.25c-.13-.1-.27-.18-.42-.24l-.09-.66c-.02-.06-.08-.1-.14-.1h-1c-.06 0-.11.04-.12.11l-.09.66c-.15.06-.29.15-.42.24l-.62-.25c-.06-.02-.12 0-.15.06l-.5.87c-.03.06-.02.12.03.16l.53.41c-.01.08-.02.16-.02.24 0 .08.01.17.02.24l-.53.41c-.05.04-.06.11-.03.16l.5.87c.03.06.1.08.15.06l.62-.25c.13.1.27.18.42.24l.09.66c.01.07.06.11.12.11h1c.06 0 .12-.04.12-.11l.09-.66c.15-.06.29-.15.42-.24l.62.25c.06.02.12 0 .15-.06l.5-.87c.03-.06.02-.12-.03-.16l-.52-.41c.01-.08.02-.16.02-.24 0-.08-.01-.17-.02-.24l.53-.41c.05-.04.06-.11.04-.17m-2.42 1.65c-.46 0-.83-.38-.83-.83 0-.46.38-.83.83-.83s.83.38.83.83c0 .46-.37.83-.83.83M4.74 9h8.53c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M9 13c1.86 0 3.41-1.28 3.86-3H5.14c.45 1.72 2 3 3.86 3"}),"Engineering"),CH=ah(V.jsx("path",{d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 0c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m6 5H3v-.99C3.2 16.29 6.3 15 9 15s5.8 1.29 6 2z"}),"PeopleAltOutlined"),PH=ah(V.jsx("path",{d:"M12 2c-4.97 0-9 4.03-9 9 0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11c0-4.97-4.03-9-9-9m0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m0 14.3c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22"}),"PersonPin");/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nt.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const pT="popstate";function AH(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Ms(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ed("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");a=l===-1?u:u.slice(0,l)}return a+"#"+(typeof s=="string"?s:Ta(s))}function n(i,s){Ea(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return MH(e,r,n,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ea(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RH(){return Math.random().toString(36).substr(2,8)}function mT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ed(t,e,r,n){return r===void 0&&(r=null),nt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ms(e):e,{state:r,key:e&&e.key||n||RH()})}function Ta(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ms(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function MH(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Pt.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(nt({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Pt.Pop;let g=c(),_=g==null?null:g-l;l=g,u&&u({action:a,location:m.location,delta:_})}function h(g,_){a=Pt.Push;let v=Ed(m.location,g,_);r&&r(v,g),l=c()+1;let y=mT(v,l),x=m.createHref(v);try{o.pushState(y,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(x)}s&&u&&u({action:a,location:m.location,delta:1})}function f(g,_){a=Pt.Replace;let v=Ed(m.location,g,_);r&&r(v,g),l=c();let y=mT(v,l),x=m.createHref(v);o.replaceState(y,"",x),s&&u&&u({action:a,location:m.location,delta:0})}function p(g){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:Ta(g);return v=v.replace(/ $/,"%20"),_e(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let m={get action(){return a},get location(){return t(i,o)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(pT,d),u=g,()=>{i.removeEventListener(pT,d),u=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let _=p(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:f,go(g){return o.go(g)}};return m}var Ke;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ke||(Ke={}));const BH=new Set(["lazy","caseSensitive","path","id","index","children"]);function DH(t){return t.index===!0}function sv(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),DH(i)){let u=nt({},i,e(i),{id:a});return n[a]=u,u}else{let u=nt({},i,e(i),{id:a,children:void 0});return n[a]=u,i.children&&(u.children=sv(i.children,e,o,n)),u}})}function vu(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Ms(e):e,i=wl(n.pathname||"/",r);if(i==null)return null;let s=AM(t);OH(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=VH(i);o=HH(s[a],u)}return o}function kH(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function AM(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(_e(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let l=fs([n,u.relativePath]),c=r.concat(u);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),AM(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:zH(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of RM(s.path))i(s,o,u)}),e}function RM(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=RM(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function OH(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$H(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IH=/^:[\w-]+$/,FH=3,UH=2,LH=1,NH=10,GH=-2,gT=t=>t==="*";function zH(t,e){let r=t.split("/"),n=r.length;return r.some(gT)&&(n+=GH),e&&(n+=UH),r.filter(i=>!gT(i)).reduce((i,s)=>i+(IH.test(s)?FH:s===""?LH:NH),n)}function $H(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function HH(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],u=o===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=jH({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(n,c.params);let d=a.route;s.push({params:n,pathname:fs([i,c.pathname]),pathnameBase:qH(fs([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=fs([i,c.pathnameBase]))}return s}function jH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=WH(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function WH(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function VH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ea(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function XH(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ms(t):t;return{pathname:r?r.startsWith("/")?r:YH(r,e):e,search:KH(n),hash:QH(i)}}function YH(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Y0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MM(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ob(t,e){let r=MM(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ab(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ms(t):(i=nt({},t),_e(!i.pathname||!i.pathname.includes("?"),Y0("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Y0("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Y0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let u=XH(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const fs=t=>t.join("/").replace(/\/\/+/g,"/"),qH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ub{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function lb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BM=["post","put","patch","delete"],ZH=new Set(BM),JH=["get",...BM],ej=new Set(JH),tj=new Set([301,302,303,307,308]),rj=new Set([307,308]),q0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ij=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),DM="remix-router-transitions";function sj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=k=>({hasErrorBoundary:R(k)})}else i=ij;let s={},o=sv(t.routes,i,void 0,s),a,u=t.basename||"/",l=t.unstable_dataStrategy||lj,c=nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),d=null,h=new Set,f=null,p=null,m=null,g=t.hydrationData!=null,_=vu(o,t.history.location,u),v=null;if(_==null){let R=Fn(404,{pathname:t.history.location.pathname}),{matches:k,route:L}=CT(o);_=k,v={[L.id]:R}}let y,x=_.some(R=>R.route.lazy),S=_.some(R=>R.route.loader);if(x)y=!1;else if(!S)y=!0;else if(c.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null,L=j=>j.route.loader?typeof j.route.loader=="function"&&j.route.loader.hydrate===!0?!1:R&&R[j.route.id]!==void 0||k&&k[j.route.id]!==void 0:!0;if(k){let j=_.findIndex(Y=>k[Y.route.id]!==void 0);y=_.slice(0,j+1).every(L)}else y=_.every(L)}else y=t.hydrationData!=null;let w,b={historyAction:t.history.action,location:t.history.location,matches:_,initialized:y,navigation:q0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},E=Pt.Pop,T=!1,C,M=!1,N=new Map,D=null,B=!1,U=!1,I=[],$=[],O=new Map,F=0,G=-1,oe=new Map,W=new Set,ve=new Map,re=new Map,ae=new Set,me=new Map,Ue=new Map,Q=!1;function he(){if(d=t.history.listen(R=>{let{action:k,location:L,delta:j}=R;if(Q){Q=!1;return}Ea(Ue.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Dl({currentLocation:b.location,nextLocation:L,historyAction:k});if(Y&&j!=null){Q=!0,t.history.go(j*-1),Os(Y,{state:"blocked",location:L,proceed(){Os(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),t.history.go(j)},reset(){let ce=new Map(b.blockers);ce.set(Y,ql),Be({blockers:ce})}});return}return tt(k,L)}),r){bj(e,N);let R=()=>Sj(e,N);e.addEventListener("pagehide",R),D=()=>e.removeEventListener("pagehide",R)}return b.initialized||tt(Pt.Pop,b.location,{initialHydration:!0}),w}function et(){d&&d(),D&&D(),h.clear(),C&&C.abort(),b.fetchers.forEach((R,k)=>se(k)),b.blockers.forEach((R,k)=>No(k))}function yt(R){return h.add(R),()=>h.delete(R)}function Be(R,k){k===void 0&&(k={}),b=nt({},b,R);let L=[],j=[];c.v7_fetcherPersist&&b.fetchers.forEach((Y,ce)=>{Y.state==="idle"&&(ae.has(ce)?j.push(ce):L.push(ce))}),[...h].forEach(Y=>Y(b,{deletedFetchers:j,unstable_viewTransitionOpts:k.viewTransitionOpts,unstable_flushSync:k.flushSync===!0})),c.v7_fetcherPersist&&(L.forEach(Y=>b.fetchers.delete(Y)),j.forEach(Y=>se(Y)))}function Dt(R,k,L){var j,Y;let{flushSync:ce}=L===void 0?{}:L,Z=b.actionData!=null&&b.navigation.formMethod!=null&&_i(b.navigation.formMethod)&&b.navigation.state==="loading"&&((j=R.state)==null?void 0:j._isRedirect)!==!0,q;k.actionData?Object.keys(k.actionData).length>0?q=k.actionData:q=null:Z?q=b.actionData:q=null;let ee=k.loaderData?ET(b.loaderData,k.loaderData,k.matches||[],k.errors):b.loaderData,ne=b.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((ie,Ge)=>ne.set(Ge,ql)));let Ot=T===!0||b.navigation.formMethod!=null&&_i(b.navigation.formMethod)&&((Y=R.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),B||E===Pt.Pop||(E===Pt.Push?t.history.push(R,R.state):E===Pt.Replace&&t.history.replace(R,R.state));let rt;if(E===Pt.Pop){let ie=N.get(b.location.pathname);ie&&ie.has(R.pathname)?rt={currentLocation:b.location,nextLocation:R}:N.has(R.pathname)&&(rt={currentLocation:R,nextLocation:b.location})}else if(M){let ie=N.get(b.location.pathname);ie?ie.add(R.pathname):(ie=new Set([R.pathname]),N.set(b.location.pathname,ie)),rt={currentLocation:b.location,nextLocation:R}}Be(nt({},k,{actionData:q,loaderData:ee,historyAction:E,location:R,initialized:!0,navigation:q0,revalidation:"idle",restoreScrollPosition:Ol(R,k.matches||b.matches),preventScrollReset:Ot,blockers:ne}),{viewTransitionOpts:rt,flushSync:ce===!0}),E=Pt.Pop,T=!1,M=!1,B=!1,U=!1,I=[],$=[]}async function vr(R,k){if(typeof R=="number"){t.history.go(R);return}let L=ov(b.location,b.matches,u,c.v7_prependBasename,R,c.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:j,submission:Y,error:ce}=_T(c.v7_normalizeFormMethod,!1,L,k),Z=b.location,q=Ed(b.location,j,k&&k.state);q=nt({},q,t.history.encodeLocation(q));let ee=k&&k.replace!=null?k.replace:void 0,ne=Pt.Push;ee===!0?ne=Pt.Replace:ee===!1||Y!=null&&_i(Y.formMethod)&&Y.formAction===b.location.pathname+b.location.search&&(ne=Pt.Replace);let Ot=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,rt=(k&&k.unstable_flushSync)===!0,ie=Dl({currentLocation:Z,nextLocation:q,historyAction:ne});if(ie){Os(ie,{state:"blocked",location:q,proceed(){Os(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),vr(R,k)},reset(){let Ge=new Map(b.blockers);Ge.set(ie,ql),Be({blockers:Ge})}});return}return await tt(ne,q,{submission:Y,pendingError:ce,preventScrollReset:Ot,replace:k&&k.replace,enableViewTransition:k&&k.unstable_viewTransition,flushSync:rt})}function dt(){if(ur(),Be({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){tt(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}tt(E||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function tt(R,k,L){C&&C.abort(),C=null,E=R,B=(L&&L.startUninterruptedRevalidation)===!0,Rh(b.location,b.matches),T=(L&&L.preventScrollReset)===!0,M=(L&&L.enableViewTransition)===!0;let j=a||o,Y=L&&L.overrideNavigation,ce=vu(j,k,u),Z=(L&&L.flushSync)===!0;if(!ce){let ie=Fn(404,{pathname:k.pathname}),{matches:Ge,route:vt}=CT(j);kl(),Dt(k,{matches:Ge,loaderData:{},errors:{[vt.id]:ie}},{flushSync:Z});return}if(b.initialized&&!U&&mj(b.location,k)&&!(L&&L.submission&&_i(L.submission.formMethod))){Dt(k,{matches:ce},{flushSync:Z});return}C=new AbortController;let q=Ya(t.history,k,C.signal,L&&L.submission),ee;if(L&&L.pendingError)ee=[Uc(ce).route.id,{type:Ke.error,error:L.pendingError}];else if(L&&L.submission&&_i(L.submission.formMethod)){let ie=await or(q,k,L.submission,ce,{replace:L.replace,flushSync:Z});if(ie.shortCircuited)return;ee=ie.pendingActionResult,Y=K0(k,L.submission),Z=!1,q=Ya(t.history,q.url,q.signal)}let{shortCircuited:ne,loaderData:Ot,errors:rt}=await kt(q,k,ce,Y,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,Z,ee);ne||(C=null,Dt(k,nt({matches:ce},TT(ee),{loaderData:Ot,errors:rt})))}async function or(R,k,L,j,Y){Y===void 0&&(Y={}),ur();let ce=vj(k,L);Be({navigation:ce},{flushSync:Y.flushSync===!0});let Z,q=uv(j,k);if(!q.route.action&&!q.route.lazy)Z={type:Ke.error,error:Fn(405,{method:R.method,pathname:k.pathname,routeId:q.route.id})};else if(Z=(await Rr("action",R,[q],j))[0],R.signal.aborted)return{shortCircuited:!0};if(oa(Z)){let ee;return Y&&Y.replace!=null?ee=Y.replace:ee=bT(Z.response.headers.get("Location"),new URL(R.url),u)===b.location.pathname+b.location.search,await ar(R,Z,{submission:L,replace:ee}),{shortCircuited:!0}}if(sa(Z))throw Fn(400,{type:"defer-action"});if(jn(Z)){let ee=Uc(j,q.route.id);return(Y&&Y.replace)!==!0&&(E=Pt.Push),{pendingActionResult:[ee.route.id,Z]}}return{pendingActionResult:[q.route.id,Z]}}async function kt(R,k,L,j,Y,ce,Z,q,ee,ne){let Ot=j||K0(k,Y),rt=Y||ce||RT(Ot),ie=a||o,[Ge,vt]=yT(t.history,b,L,rt,k,c.v7_partialHydration&&q===!0,c.unstable_skipActionErrorRevalidation,U,I,$,ae,ve,W,ie,u,ne);if(kl(be=>!(L&&L.some(xr=>xr.route.id===be))||Ge&&Ge.some(xr=>xr.route.id===be)),G=++F,Ge.length===0&&vt.length===0){let be=ks();return Dt(k,nt({matches:L,loaderData:{},errors:ne&&jn(ne[1])?{[ne[0]]:ne[1].error}:null},TT(ne),be?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(!B&&(!c.v7_partialHydration||!q)){vt.forEach(xr=>{let Dn=b.fetchers.get(xr.key),Zt=Kl(void 0,Dn?Dn.data:void 0);b.fetchers.set(xr.key,Zt)});let be;ne&&!jn(ne[1])?be={[ne[0]]:ne[1].data}:b.actionData&&(Object.keys(b.actionData).length===0?be=null:be=b.actionData),Be(nt({navigation:Ot},be!==void 0?{actionData:be}:{},vt.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ee})}vt.forEach(be=>{O.has(be.key)&&kr(be.key),be.controller&&O.set(be.key,be.controller)});let Is=()=>vt.forEach(be=>kr(be.key));C&&C.signal.addEventListener("abort",Is);let{loaderResults:hi,fetcherResults:Fs}=await Mr(b.matches,L,Ge,vt,R);if(R.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Is),vt.forEach(be=>O.delete(be.key));let Us=PT([...hi,...Fs]);if(Us){if(Us.idx>=Ge.length){let be=vt[Us.idx-Ge.length].key;W.add(be)}return await ar(R,Us.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:Ls,errors:Bn}=wT(b,L,Ge,hi,ne,vt,Fs,me);me.forEach((be,xr)=>{be.subscribe(Dn=>{(Dn||be.done)&&me.delete(xr)})}),c.v7_partialHydration&&q&&b.errors&&Object.entries(b.errors).filter(be=>{let[xr]=be;return!Ge.some(Dn=>Dn.route.id===xr)}).forEach(be=>{let[xr,Dn]=be;Bn=Object.assign(Bn||{},{[xr]:Dn})});let pe=ks(),zt=Bl(G),Bh=pe||zt||vt.length>0;return nt({loaderData:Ls,errors:Bn},Bh?{fetchers:new Map(b.fetchers)}:{})}function Ai(R,k,L,j){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(R)&&kr(R);let Y=(j&&j.unstable_flushSync)===!0,ce=a||o,Z=ov(b.location,b.matches,u,c.v7_prependBasename,L,c.v7_relativeSplatPath,k,j==null?void 0:j.relative),q=vu(ce,Z,u);if(!q){Br(R,k,Fn(404,{pathname:Z}),{flushSync:Y});return}let{path:ee,submission:ne,error:Ot}=_T(c.v7_normalizeFormMethod,!0,Z,j);if(Ot){Br(R,k,Ot,{flushSync:Y});return}let rt=uv(q,ee);if(T=(j&&j.preventScrollReset)===!0,ne&&_i(ne.formMethod)){Ct(R,k,ee,rt,q,Y,ne);return}ve.set(R,{routeId:k,path:ee}),Ar(R,k,ee,rt,q,Y,ne)}async function Ct(R,k,L,j,Y,ce,Z){if(ur(),ve.delete(R),!j.route.action&&!j.route.lazy){let Zt=Fn(405,{method:Z.formMethod,pathname:L,routeId:k});Br(R,k,Zt,{flushSync:ce});return}let q=b.fetchers.get(R);Gt(R,xj(Z,q),{flushSync:ce});let ee=new AbortController,ne=Ya(t.history,L,ee.signal,Z);O.set(R,ee);let Ot=F,ie=(await Rr("action",ne,[j],Y))[0];if(ne.signal.aborted){O.get(R)===ee&&O.delete(R);return}if(c.v7_fetcherPersist&&ae.has(R)){if(oa(ie)||jn(ie)){Gt(R,Hs(void 0));return}}else{if(oa(ie))if(O.delete(R),G>Ot){Gt(R,Hs(void 0));return}else return W.add(R),Gt(R,Kl(Z)),ar(ne,ie,{fetcherSubmission:Z});if(jn(ie)){Br(R,k,ie.error);return}}if(sa(ie))throw Fn(400,{type:"defer-action"});let Ge=b.navigation.location||b.location,vt=Ya(t.history,Ge,ee.signal),Is=a||o,hi=b.navigation.state!=="idle"?vu(Is,b.navigation.location,u):b.matches;_e(hi,"Didn't find any matches after fetcher action");let Fs=++F;oe.set(R,Fs);let Us=Kl(Z,ie.data);b.fetchers.set(R,Us);let[Ls,Bn]=yT(t.history,b,hi,Z,Ge,!1,c.unstable_skipActionErrorRevalidation,U,I,$,ae,ve,W,Is,u,[j.route.id,ie]);Bn.filter(Zt=>Zt.key!==R).forEach(Zt=>{let Il=Zt.key,tw=b.fetchers.get(Il),BI=Kl(void 0,tw?tw.data:void 0);b.fetchers.set(Il,BI),O.has(Il)&&kr(Il),Zt.controller&&O.set(Il,Zt.controller)}),Be({fetchers:new Map(b.fetchers)});let pe=()=>Bn.forEach(Zt=>kr(Zt.key));ee.signal.addEventListener("abort",pe);let{loaderResults:zt,fetcherResults:Bh}=await Mr(b.matches,hi,Ls,Bn,vt);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",pe),oe.delete(R),O.delete(R),Bn.forEach(Zt=>O.delete(Zt.key));let be=PT([...zt,...Bh]);if(be){if(be.idx>=Ls.length){let Zt=Bn[be.idx-Ls.length].key;W.add(Zt)}return ar(vt,be.result)}let{loaderData:xr,errors:Dn}=wT(b,b.matches,Ls,zt,void 0,Bn,Bh,me);if(b.fetchers.has(R)){let Zt=Hs(ie.data);b.fetchers.set(R,Zt)}Bl(Fs),b.navigation.state==="loading"&&Fs>G?(_e(E,"Expected pending action"),C&&C.abort(),Dt(b.navigation.location,{matches:hi,loaderData:xr,errors:Dn,fetchers:new Map(b.fetchers)})):(Be({errors:Dn,loaderData:ET(b.loaderData,xr,hi,Dn),fetchers:new Map(b.fetchers)}),U=!1)}async function Ar(R,k,L,j,Y,ce,Z){let q=b.fetchers.get(R);Gt(R,Kl(Z,q?q.data:void 0),{flushSync:ce});let ee=new AbortController,ne=Ya(t.history,L,ee.signal);O.set(R,ee);let Ot=F,ie=(await Rr("loader",ne,[j],Y))[0];if(sa(ie)&&(ie=await FM(ie,ne.signal,!0)||ie),O.get(R)===ee&&O.delete(R),!ne.signal.aborted){if(ae.has(R)){Gt(R,Hs(void 0));return}if(oa(ie))if(G>Ot){Gt(R,Hs(void 0));return}else{W.add(R),await ar(ne,ie);return}if(jn(ie)){Br(R,k,ie.error);return}_e(!sa(ie),"Unhandled fetcher deferred data"),Gt(R,Hs(ie.data))}}async function ar(R,k,L){let{submission:j,fetcherSubmission:Y,replace:ce}=L===void 0?{}:L;k.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Z=k.response.headers.get("Location");_e(Z,"Expected a Location header on the redirect Response"),Z=bT(Z,new URL(R.url),u);let q=Ed(b.location,Z,{_isRedirect:!0});if(r){let Ge=!1;if(k.response.headers.has("X-Remix-Reload-Document"))Ge=!0;else if(cb.test(Z)){const vt=t.history.createURL(Z);Ge=vt.origin!==e.location.origin||wl(vt.pathname,u)==null}if(Ge){ce?e.location.replace(Z):e.location.assign(Z);return}}C=null;let ee=ce===!0?Pt.Replace:Pt.Push,{formMethod:ne,formAction:Ot,formEncType:rt}=b.navigation;!j&&!Y&&ne&&Ot&&rt&&(j=RT(b.navigation));let ie=j||Y;if(rj.has(k.response.status)&&ie&&_i(ie.formMethod))await tt(ee,q,{submission:nt({},ie,{formAction:Z}),preventScrollReset:T});else{let Ge=K0(q,j);await tt(ee,q,{overrideNavigation:Ge,fetcherSubmission:Y,preventScrollReset:T})}}async function Rr(R,k,L,j){try{let Y=await cj(l,R,k,L,j,s,i);return await Promise.all(Y.map((ce,Z)=>{if(gj(ce)){let q=ce.result;return{type:Ke.redirect,response:fj(q,k,L[Z].route.id,j,u,c.v7_relativeSplatPath)}}return hj(ce)}))}catch(Y){return L.map(()=>({type:Ke.error,error:Y}))}}async function Mr(R,k,L,j,Y){let[ce,...Z]=await Promise.all([L.length?Rr("loader",Y,L,k):[],...j.map(q=>{if(q.matches&&q.match&&q.controller){let ee=Ya(t.history,q.path,q.controller.signal);return Rr("loader",ee,[q.match],q.matches).then(ne=>ne[0])}else return Promise.resolve({type:Ke.error,error:Fn(404,{pathname:q.path})})})]);return await Promise.all([AT(R,L,ce,ce.map(()=>Y.signal),!1,b.loaderData),AT(R,j.map(q=>q.match),Z,j.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:Z}}function ur(){U=!0,I.push(...kl()),ve.forEach((R,k)=>{O.has(k)&&($.push(k),kr(k))})}function Gt(R,k,L){L===void 0&&(L={}),b.fetchers.set(R,k),Be({fetchers:new Map(b.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Br(R,k,L,j){j===void 0&&(j={});let Y=Uc(b.matches,k);se(R),Be({errors:{[Y.route.id]:L},fetchers:new Map(b.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function ts(R){return c.v7_fetcherPersist&&(re.set(R,(re.get(R)||0)+1),ae.has(R)&&ae.delete(R)),b.fetchers.get(R)||nj}function se(R){let k=b.fetchers.get(R);O.has(R)&&!(k&&k.state==="loading"&&oe.has(R))&&kr(R),ve.delete(R),oe.delete(R),W.delete(R),ae.delete(R),b.fetchers.delete(R)}function Dr(R){if(c.v7_fetcherPersist){let k=(re.get(R)||0)-1;k<=0?(re.delete(R),ae.add(R)):re.set(R,k)}else se(R);Be({fetchers:new Map(b.fetchers)})}function kr(R){let k=O.get(R);_e(k,"Expected fetch controller: "+R),k.abort(),O.delete(R)}function di(R){for(let k of R){let L=ts(k),j=Hs(L.data);b.fetchers.set(k,j)}}function ks(){let R=[],k=!1;for(let L of W){let j=b.fetchers.get(L);_e(j,"Expected fetcher: "+L),j.state==="loading"&&(W.delete(L),R.push(L),k=!0)}return di(R),k}function Bl(R){let k=[];for(let[L,j]of oe)if(j<R){let Y=b.fetchers.get(L);_e(Y,"Expected fetcher: "+L),Y.state==="loading"&&(kr(L),oe.delete(L),k.push(L))}return di(k),k.length>0}function Ga(R,k){let L=b.blockers.get(R)||ql;return Ue.get(R)!==k&&Ue.set(R,k),L}function No(R){b.blockers.delete(R),Ue.delete(R)}function Os(R,k){let L=b.blockers.get(R)||ql;_e(L.state==="unblocked"&&k.state==="blocked"||L.state==="blocked"&&k.state==="blocked"||L.state==="blocked"&&k.state==="proceeding"||L.state==="blocked"&&k.state==="unblocked"||L.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+k.state);let j=new Map(b.blockers);j.set(R,k),Be({blockers:j})}function Dl(R){let{currentLocation:k,nextLocation:L,historyAction:j}=R;if(Ue.size===0)return;Ue.size>1&&Ea(!1,"A router only supports one blocker at a time");let Y=Array.from(Ue.entries()),[ce,Z]=Y[Y.length-1],q=b.blockers.get(ce);if(!(q&&q.state==="proceeding")&&Z({currentLocation:k,nextLocation:L,historyAction:j}))return ce}function kl(R){let k=[];return me.forEach((L,j)=>{(!R||R(j))&&(L.cancel(),k.push(j),me.delete(j))}),k}function h0(R,k,L){if(f=R,m=k,p=L||null,!g&&b.navigation===q0){g=!0;let j=Ol(b.location,b.matches);j!=null&&Be({restoreScrollPosition:j})}return()=>{f=null,m=null,p=null}}function Ah(R,k){return p&&p(R,k.map(j=>kH(j,b.loaderData)))||R.key}function Rh(R,k){if(f&&m){let L=Ah(R,k);f[L]=m()}}function Ol(R,k){if(f){let L=Ah(R,k),j=f[L];if(typeof j=="number")return j}return null}function Mh(R){s={},a=sv(R,i,void 0,s)}return w={get basename(){return u},get future(){return c},get state(){return b},get routes(){return o},get window(){return e},initialize:he,subscribe:yt,enableScrollRestoration:h0,navigate:vr,fetch:Ai,revalidate:dt,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:ts,deleteFetcher:Dr,dispose:et,getBlocker:Ga,deleteBlocker:No,_internalFetchControllers:O,_internalActiveDeferreds:me,_internalSetRoutes:Mh},w}function oj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ov(t,e,r,n,i,s,o,a){let u,l;if(o){u=[];for(let d of e)if(u.push(d),d.route.id===o){l=d;break}}else u=e,l=e[e.length-1];let c=ab(i||".",ob(u,s),wl(t.pathname,r)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!db(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:fs([r,c.pathname])),Ta(c)}function _T(t,e,r,n){if(!n||!oj(n))return{path:r};if(n.formMethod&&!yj(n.formMethod))return{path:r,error:Fn(405,{method:n.formMethod})};let i=()=>({path:r,error:Fn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=OM(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_i(o))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,p)=>{let[m,g]=p;return""+f+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!_i(o))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let u,l;if(n.formData)u=av(n.formData),l=n.formData;else if(n.body instanceof FormData)u=av(n.body),l=n.body;else if(n.body instanceof URLSearchParams)u=n.body,l=ST(u);else if(n.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(n.body),l=ST(u)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(_i(c.formMethod))return{path:r,submission:c};let d=Ms(r);return e&&d.search&&db(d.search)&&u.append("index",""),d.search="?"+u,{path:Ta(d),submission:c}}function aj(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function yT(t,e,r,n,i,s,o,a,u,l,c,d,h,f,p,m){let g=m?jn(m[1])?m[1].error:m[1].data:void 0,_=t.createURL(e.location),v=t.createURL(i),y=m&&jn(m[1])?m[0]:void 0,x=y?aj(r,y):r,S=m?m[1].statusCode:void 0,w=o&&S&&S>=400,b=x.filter((T,C)=>{let{route:M}=T;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(uj(e.loaderData,e.matches[C],T)||u.some(B=>B===T.route.id))return!0;let N=e.matches[C],D=T;return vT(T,nt({currentUrl:_,currentParams:N.params,nextUrl:v,nextParams:D.params},n,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:w?!1:a||_.pathname+_.search===v.pathname+v.search||_.search!==v.search||kM(N,D)}))}),E=[];return d.forEach((T,C)=>{if(s||!r.some(U=>U.route.id===T.routeId)||c.has(C))return;let M=vu(f,T.path,p);if(!M){E.push({key:C,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(C),D=uv(M,T.path),B=!1;h.has(C)?B=!1:l.includes(C)?B=!0:N&&N.state!=="idle"&&N.data===void 0?B=a:B=vT(D,nt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:w?!1:a})),B&&E.push({key:C,routeId:T.routeId,path:T.path,matches:M,match:D,controller:new AbortController})}),[b,E]}function uj(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function kM(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function vT(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function xT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];_e(i,"No route found in manifest");let s={};for(let o in n){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Ea(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!BH.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,nt({},e(i),{lazy:void 0}))}function lj(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function cj(t,e,r,n,i,s,o,a){let u=n.reduce((d,h)=>d.add(h.route.id),new Set),l=new Set,c=await t({matches:i.map(d=>{let h=u.has(d.route.id);return nt({},d,{shouldLoad:h,resolve:p=>(l.add(d.route.id),h?dj(e,r,d,s,o,p,a):Promise.resolve({type:Ke.data,result:void 0}))})}),request:r,params:i[0].params,context:a});return i.forEach(d=>_e(l.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((d,h)=>u.has(i[h].route.id))}async function dj(t,e,r,n,i,s,o){let a,u,l=c=>{let d,h=new Promise((m,g)=>d=g);u=()=>d(),e.signal.addEventListener("abort",u);let f=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:o},...m!==void 0?[m]:[]),p;return s?p=s(m=>f(m)):p=(async()=>{try{return{type:"data",result:await f()}}catch(m){return{type:"error",result:m}}})(),Promise.race([p,h])};try{let c=r.route[t];if(r.route.lazy)if(c){let d,[h]=await Promise.all([l(c).catch(f=>{d=f}),xT(r.route,i,n)]);if(d!==void 0)throw d;a=h}else if(await xT(r.route,i,n),c=r.route[t],c)a=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Fn(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:Ke.data,result:void 0};else if(c)a=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw Fn(404,{pathname:h})}_e(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ke.error,result:c}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function hj(t){let{result:e,type:r,status:n}=t;if(IM(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Ke.error,error:a}}return r===Ke.error?{type:Ke.error,error:new ub(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Ke.data,data:o,statusCode:e.status,headers:e.headers}}if(r===Ke.error)return{type:Ke.error,error:e,statusCode:lb(e)?e.status:n};if(_j(e)){var i,s;return{type:Ke.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Ke.data,data:e,statusCode:n}}function fj(t,e,r,n,i,s){let o=t.headers.get("Location");if(_e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cb.test(o)){let a=n.slice(0,n.findIndex(u=>u.route.id===r)+1);o=ov(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function bT(t,e,r){if(cb.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=wl(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ya(t,e,r,n){let i=t.createURL(OM(e)).toString(),s={signal:r};if(n&&_i(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=av(n.formData):s.body=n.formData}return new Request(i,s)}function av(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function ST(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function pj(t,e,r,n,i,s){let o={},a=null,u,l=!1,c={},d=n&&jn(n[1])?n[1].error:void 0;return r.forEach((h,f)=>{let p=e[f].route.id;if(_e(!oa(h),"Cannot handle redirect results in processLoaderData"),jn(h)){let m=h.error;d!==void 0&&(m=d,d=void 0),a=a||{};{let g=Uc(t,p);a[g.route.id]==null&&(a[g.route.id]=m)}o[p]=void 0,l||(l=!0,u=lb(h.error)?h.error.status:500),h.headers&&(c[p]=h.headers)}else sa(h)?(i.set(p,h.deferredData),o[p]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(u=h.statusCode),h.headers&&(c[p]=h.headers)):(o[p]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(u=h.statusCode),h.headers&&(c[p]=h.headers))}),d!==void 0&&n&&(a={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:c}}function wT(t,e,r,n,i,s,o,a){let{loaderData:u,errors:l}=pj(e,r,n,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];_e(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(!(f&&f.signal.aborted))if(jn(p)){let m=Uc(t.matches,h==null?void 0:h.route.id);l&&l[m.route.id]||(l=nt({},l,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(oa(p))_e(!1,"Unhandled fetcher revalidation redirect");else if(sa(p))_e(!1,"Unhandled fetcher deferred data");else{let m=Hs(p.data);t.fetchers.set(d,m)}}return{loaderData:u,errors:l}}function ET(t,e,r,n){let i=nt({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function TT(t){return t?jn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Uc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function CT(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Fn(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ub(t||500,o,new Error(a),!0)}function PT(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(oa(r))return{result:r,idx:e}}}function OM(t){let e=typeof t=="string"?Ms(t):t;return Ta(nt({},e,{hash:""}))}function mj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function gj(t){return IM(t.result)&&tj.has(t.result.status)}function sa(t){return t.type===Ke.deferred}function jn(t){return t.type===Ke.error}function oa(t){return(t&&t.type)===Ke.redirect}function _j(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function IM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function yj(t){return ej.has(t.toLowerCase())}function _i(t){return ZH.has(t.toLowerCase())}async function AT(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],u=e[o];if(!u)continue;let l=t.find(d=>d.route.id===u.route.id),c=l!=null&&!kM(l,u)&&(s&&s[u.route.id])!==void 0;if(sa(a)&&(i||c)){let d=n[o];_e(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await FM(a,d,i).then(h=>{h&&(r[o]=h||r[o])})}}}async function FM(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ke.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ke.error,error:i}}return{type:Ke.data,data:t.deferredData.data}}}function db(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uv(t,e){let r=typeof e=="string"?Ms(e).search:e.search;if(t[t.length-1].route.index&&db(r||""))return t[t.length-1];let n=MM(t);return n[n.length-1]}function RT(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function K0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Kl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Hs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function bj(t,e){try{let r=t.sessionStorage.getItem(DM);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Sj(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(DM,JSON.stringify(r))}catch(n){Ea(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}const Cg=P.createContext(null),UM=P.createContext(null),Fa=P.createContext(null),hb=P.createContext(null),Do=P.createContext({outlet:null,matches:[],isDataRoute:!1}),LM=P.createContext(null);function wj(t,e){let{relative:r}=e===void 0?{}:e;dh()||_e(!1);let{basename:n,navigator:i}=P.useContext(Fa),{hash:s,pathname:o,search:a}=GM(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:fs([n,o])),i.createHref({pathname:u,search:a,hash:s})}function dh(){return P.useContext(hb)!=null}function El(){return dh()||_e(!1),P.useContext(hb).location}function NM(t){P.useContext(Fa).static||P.useLayoutEffect(t)}function Ej(){let{isDataRoute:t}=P.useContext(Do);return t?Lj():Tj()}function Tj(){dh()||_e(!1);let t=P.useContext(Cg),{basename:e,future:r,navigator:n}=P.useContext(Fa),{matches:i}=P.useContext(Do),{pathname:s}=El(),o=JSON.stringify(ob(i,r.v7_relativeSplatPath)),a=P.useRef(!1);return NM(()=>{a.current=!0}),P.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=ab(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}const Cj=P.createContext(null);function Pj(t){let e=P.useContext(Do).outlet;return e&&P.createElement(Cj.Provider,{value:t},e)}function GM(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(Fa),{matches:i}=P.useContext(Do),{pathname:s}=El(),o=JSON.stringify(ob(i,n.v7_relativeSplatPath));return P.useMemo(()=>ab(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Aj(t,e,r,n){dh()||_e(!1);let{navigator:i}=P.useContext(Fa),{matches:s}=P.useContext(Do),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=El(),c;c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let m=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=vu(t,{pathname:h});return kj(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:fs([u,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:fs([u,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n)}function Rj(){let t=Uj(),e=lb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const Mj=P.createElement(Rj,null);class Bj extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Do.Provider,{value:this.props.routeContext},P.createElement(LM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dj(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(Cg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Do.Provider,{value:e},n)}function kj(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||_e(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,m=null,g=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Mj,u&&(l<0&&h===0?(p=!0,g=null):l===h&&(p=!0,g=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let y;return f?y=m:p?y=g:d.route.Component?y=P.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,P.createElement(Dj,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(Bj,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var zM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zM||{}),Gp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gp||{});function Oj(t){let e=P.useContext(Cg);return e||_e(!1),e}function Ij(t){let e=P.useContext(UM);return e||_e(!1),e}function Fj(t){let e=P.useContext(Do);return e||_e(!1),e}function $M(t){let e=Fj(),r=e.matches[e.matches.length-1];return r.route.id||_e(!1),r.route.id}function Uj(){var t;let e=P.useContext(LM),r=Ij(Gp.UseRouteError),n=$M(Gp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Lj(){let{router:t}=Oj(zM.UseNavigateStable),e=$M(Gp.UseNavigateStable),r=P.useRef(!1);return NM(()=>{r.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Np({fromRouteId:e},s)))},[t,e])}function Nj(t){return Pj(t.context)}function Gj(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Pt.Pop,navigator:s,static:o=!1,future:a}=t;dh()&&_e(!1);let u=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:u,navigator:s,static:o,future:Np({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof n=="string"&&(n=Ms(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,m=P.useMemo(()=>{let g=wl(c,u);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:p},navigationType:i}},[u,c,d,h,f,p,i]);return m==null?null:P.createElement(Fa.Provider,{value:l},P.createElement(hb.Provider,{children:r,value:m}))}new Promise(()=>{});function zj(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function $j(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jj(t,e){return t.button===0&&(!e||e==="_self")&&!Hj(t)}const Wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Vj="6";try{window.__reactRouterVersion=Vj}catch{}function Xj(t,e){return sj({basename:void 0,future:Td({},void 0,{v7_prependBasename:!0}),history:AH({window:void 0}),hydrationData:Yj(),routes:t,mapRouteProperties:zj,unstable_dataStrategy:void 0,window:void 0}).initialize()}function Yj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Td({},e,{errors:qj(e.errors)})),e}function qj(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new ub(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const Kj=P.createContext({isTransitioning:!1}),Qj=P.createContext(new Map),Zj="startTransition",MT=Hu[Zj],Jj="flushSync",BT=n6[Jj];function eW(t){MT?MT(t):t()}function Ql(t){BT?BT(t):t()}class tW{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function rW(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=P.useState(r.state),[o,a]=P.useState(),[u,l]=P.useState({isTransitioning:!1}),[c,d]=P.useState(),[h,f]=P.useState(),[p,m]=P.useState(),g=P.useRef(new Map),{v7_startTransition:_}=n||{},v=P.useCallback(b=>{_?eW(b):b()},[_]),y=P.useCallback((b,E)=>{let{deletedFetchers:T,unstable_flushSync:C,unstable_viewTransitionOpts:M}=E;T.forEach(D=>g.current.delete(D)),b.fetchers.forEach((D,B)=>{D.data!==void 0&&g.current.set(B,D.data)});let N=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!M||N){C?Ql(()=>s(b)):v(()=>s(b));return}if(C){Ql(()=>{h&&(c&&c.resolve(),h.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let D=r.window.document.startViewTransition(()=>{Ql(()=>s(b))});D.finished.finally(()=>{Ql(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})})}),Ql(()=>f(D));return}h?(c&&c.resolve(),h.skipTransition(),m({state:b,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(b),l({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,h,c,g,v]);P.useLayoutEffect(()=>r.subscribe(y),[r,y]),P.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new tW)},[u]),P.useEffect(()=>{if(c&&o&&r.window){let b=o,E=c.promise,T=r.window.document.startViewTransition(async()=>{v(()=>s(b)),await E});T.finished.finally(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})}),f(T)}},[v,o,c,r.window]),P.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),P.useEffect(()=>{!u.isTransitioning&&p&&(a(p.state),l({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[u.isTransitioning,p]),P.useEffect(()=>{},[]);let x=P.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:b=>r.navigate(b),push:(b,E,T)=>r.navigate(b,{state:E,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(b,E,T)=>r.navigate(b,{replace:!0,state:E,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),S=r.basename||"/",w=P.useMemo(()=>({router:r,navigator:x,static:!1,basename:S}),[r,x,S]);return P.createElement(P.Fragment,null,P.createElement(Cg.Provider,{value:w},P.createElement(UM.Provider,{value:i},P.createElement(Qj.Provider,{value:g.current},P.createElement(Kj.Provider,{value:u},P.createElement(Gj,{basename:S,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?P.createElement(nW,{routes:r.routes,future:r.future,state:i}):e))))),null)}function nW(t){let{routes:e,future:r,state:n}=t;return Aj(e,void 0,n,r)}const iW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oW=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:d}=e,h=$j(e,Wj),{basename:f}=P.useContext(Fa),p,m=!1;if(typeof l=="string"&&sW.test(l)&&(p=l,iW))try{let y=new URL(window.location.href),x=l.startsWith("//")?new URL(y.protocol+l):new URL(l),S=wl(x.pathname,f);x.origin===y.origin&&S!=null?l=S+x.search+x.hash:m=!0}catch{}let g=wj(l,{relative:i}),_=aW(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(y){n&&n(y),y.defaultPrevented||_(y)}return P.createElement("a",Td({},h,{href:p||g,onClick:m||s?n:v,ref:r,target:u}))});var DT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DT||(DT={}));var kT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kT||(kT={}));function aW(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Ej(),l=El(),c=GM(t,{relative:o});return P.useCallback(d=>{if(jj(d,r)){d.preventDefault();let h=n!==void 0?n:Ta(l)===Ta(c);u(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,n,i,r,t,s,o,a])}const uW=[{icon:V.jsx(TH,{}),name:"Experience"},{icon:V.jsx(PH,{}),name:"About"},{icon:V.jsx(CH,{}),name:"Interns"},{icon:V.jsx(EH,{}),name:"Contact"}];function lW(){const t=El(),e=y$();P.useEffect(()=>{e(SH(t))},[e,t]);const r=n=>{const i=n.currentTarget.getAttribute("aria-label");switch(i){case"Experience":console.log("Experience...");break;case"About":console.log("About...");break;case"Interns":console.log("Interns...");break;case"Contact":console.log("Contact...");break;default:console.log("No action selected")}e(bH(i.toLowerCase()))};return V.jsx(X7,{children:V.jsx(E7,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:16,right:16},icon:V.jsx(aM,{}),children:uW.map((n,i)=>V.jsx(G7,{component:oW,to:n.name.toLowerCase(),icon:n.icon,tooltipTitle:n.name,onClick:r,"data-index":i},n.name))})})}const cW=tH({reducer:{nav:wH}}),dW="modulepreload",hW=function(t){return"/"+t},OT={},zp=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=hW(a),a in OT)return;OT[a]=!0;const u=a.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":dW,u||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var A=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t))(A||{});const lv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},vc=(t,e)=>lv(t).priority??e,lt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(lv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(lv).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(o=n[r])==null||o.call(n,e):(i[r]=i[r]||[],(s=i[r])==null||s.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(s=>s.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((s,o)=>vc(o.value,r)-vc(s.value,r)))},n=>{const i=e.findIndex(s=>s.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>vc(s,r)-vc(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},HM={extension:{type:A.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await zp(()=>import("./browserAll-DKH6R0BN.js"),__vite__mapDeps([0,1]))}},jM={extension:{type:A.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await zp(()=>import("./webworkerAll-CQN-Pt1Y.js"),[])}};class Rt{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Rt(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var WM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function s(u,l,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||u,h),p=r?r+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],f]:u._events[p].push(f):(u._events[p]=f,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)e.call(c,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=r?r+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var c=r?r+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,h,f,p){var m=r?r+l:l;if(!this._events[m])return!1;var g=this._events[m],_=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,d),!0;case 4:return g.fn.call(g.context,c,d,h),!0;case 5:return g.fn.call(g.context,c,d,h,f),!0;case 6:return g.fn.call(g.context,c,d,h,f,p),!0}for(y=1,v=new Array(_-1);y<_;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var x=g.length,S;for(y=0;y<x;y++)switch(g[y].once&&this.removeListener(l,g[y].fn,void 0,!0),_){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,d);break;case 4:g[y].fn.call(g[y].context,c,d,h);break;default:if(!v)for(S=1,v=new Array(_-1);S<_;S++)v[S-1]=arguments[S];g[y].fn.apply(g[y].context,v)}}return!0},a.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,h){var f=r?r+l:l;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,g=[],_=p.length;m<_;m++)(p[m].fn!==c||h&&!p[m].once||d&&p[m].context!==d)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(WM);var fW=WM.exports;const Jr=gl(fW),VM=Math.PI*2,XM=180/Math.PI,YM=Math.PI/180;class De{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new De(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Q0.x=0,Q0.y=0,Q0}}const Q0=new De;class te{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new De;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new De;const n=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,u=this.ty,l=1/(n*o+s*-i),c=e.x,d=e.y;return r.x=o*l*c+-s*l*d+(u*s-a*o)*l,r.y=n*l*d+-i*l*c+(-u*n+a*i)*l,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}appendFrom(e,r){const n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,u=e.ty,l=r.a,c=r.b,d=r.c,h=r.d;return this.a=n*l+i*d,this.b=n*c+i*h,this.c=s*l+o*d,this.d=s*c+o*h,this.tx=a*l+u*d+r.tx,this.ty=a*c+u*h+r.ty,this}setTransform(e,r,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(VM-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new te;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return mW.identity()}static get shared(){return pW.identity()}}const pW=new te,mW=new te,qo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ko=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Qo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],cv=[],qM=[],sf=Math.sign;function gW(){for(let t=0;t<16;t++){const e=[];cv.push(e);for(let r=0;r<16;r++){const n=sf(qo[t]*qo[r]+Qo[t]*Ko[r]),i=sf(Ko[t]*qo[r]+Zo[t]*Ko[r]),s=sf(qo[t]*Qo[r]+Qo[t]*Zo[r]),o=sf(Ko[t]*Qo[r]+Zo[t]*Zo[r]);for(let a=0;a<16;a++)if(qo[a]===n&&Ko[a]===i&&Qo[a]===s&&Zo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new te;e.set(qo[t],Ko[t],Qo[t],Zo[t],0,0),qM.push(e)}}gW();const ge={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>qo[t],uY:t=>Ko[t],vX:t=>Qo[t],vY:t=>Zo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>cv[t][e],sub:(t,e)=>cv[t][ge.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ge.S:ge.N:Math.abs(e)*2<=Math.abs(t)?t>0?ge.E:ge.W:e>0?t>0?ge.SE:ge.SW:t>0?ge.NE:ge.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=qM[ge.inv(e)];i.tx=r,i.ty=n,t.append(i)}},of=[new De,new De,new De,new De];class Me{constructor(e=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Me(0,0,0,0)}clone(){return new Me(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n){const{width:i,height:s}=this;if(i<=0||s<=0)return!1;const o=this.x,a=this.y,u=o-n/2,l=o+i+n/2,c=a-n/2,d=a+s+n/2,h=o+n/2,f=o+i-n/2,p=a+n/2,m=a+s-n/2;return e>=u&&e<=l&&r>=c&&r<=d&&!(e>h&&e<f&&r>p&&r<m)}intersects(e,r){if(!r){const E=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=E)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=of[0].set(e.left,e.top),u=of[1].set(e.left,e.bottom),l=of[2].set(e.right,e.top),c=of[3].set(e.right,e.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(a,a),r.apply(u,u),r.apply(l,l),r.apply(c,c),Math.max(a.x,u.x,l.x,c.x)<=n||Math.min(a.x,u.x,l.x,c.x)>=i||Math.max(a.y,u.y,l.y,c.y)<=s||Math.min(a.y,u.y,l.y,c.y)>=o))return!1;const h=d*(u.y-a.y),f=d*(a.x-u.x),p=h*n+f*s,m=h*i+f*s,g=h*n+f*o,_=h*i+f*o;if(Math.max(p,m,g,_)<=h*a.x+f*a.y||Math.min(p,m,g,_)>=h*c.x+f*c.y)return!1;const v=d*(a.y-l.y),y=d*(l.x-a.x),x=v*n+y*s,S=v*i+y*s,w=v*n+y*o,b=v*i+y*o;return!(Math.max(x,S,w,b)<=v*a.x+y*a.y||Math.min(x,S,w,b)>=v*c.x+y*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}getBounds(e){return e=e||new Me,e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Lc={default:-1};function Je(t="default"){return Lc[t]===void 0&&(Lc[t]=-1),++Lc[t]}function _W(){for(const t in Lc)delete Lc[t]}const IT={},de="8.0.0";function le(t,e,r=3){if(IT[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),IT[e]=!0}const fb=()=>{};function Ca(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function dv(t){return!(t&t-1)&&!!t}function yW(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function bo(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const FT=Object.create(null);function vW(t){const e=FT[t];return e===void 0&&(FT[t]=Je("resource")),e}const KM=class QM extends Jr{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...QM.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){le(de,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=vW(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};KM.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let ZM=KM;const JM=class eB extends Jr{constructor(e={}){super(),this.options=e,this.uid=Je("textureSource"),this._resourceType="textureSource",this._resourceId=Je("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...eB.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new ZM(bo(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Je("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n=n||this._resolution,e=e||this.width,r=r||this.height;const i=Math.round(e*n),s=Math.round(r*n);return this.width=i/n,this.height=s/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=Je("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=dv(this.pixelWidth)&&dv(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};JM.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let wt=JM;class Pg extends wt{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Pg.extension=A.TextureSource;const UT=new te;class pb{constructor(e,r){this.mapCoord=new te,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&(UT.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(UT));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,u=this.clampOffset;return o[0]=(e.frame.x+a+u)/s.width,o[1]=(e.frame.y+a+u)/s.height,o[2]=(e.frame.x+e.frame.width-a+u)/s.width,o[3]=(e.frame.y+e.frame.height-a+u)/s.height,this.uClampOffset[0]=u/s.pixelWidth,this.uClampOffset[1]=u/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class X extends Jr{constructor({source:e,label:r,frame:n,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:u,dynamic:l}={}){if(super(),this.uid=Je("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Me,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new wt,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:c,height:d}=this._source;this.frame.width=c,this.frame.height=d}this.orig=i||this.frame,this.trim=s,this.rotate=u??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=l||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new pb(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:i}=this._source,s=r.x/n,o=r.y/i,a=r.width/n,u=r.height/i;let l=this.rotate;if(l){const c=a/2,d=u/2,h=s+c,f=o+d;l=ge.add(l,ge.NW),e.x0=h+c*ge.uX(l),e.y0=f+d*ge.uY(l),l=ge.add(l,2),e.x1=h+c*ge.uX(l),e.y1=f+d*ge.uY(l),l=ge.add(l,2),e.x2=h+c*ge.uX(l),e.y2=f+d*ge.uY(l),l=ge.add(l,2),e.x3=h+c*ge.uX(l),e.y3=f+d*ge.uY(l)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+u,e.x3=s,e.y3=o+u}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return le(de,"Texture.baseTexture is now Texture.source"),this._source}}X.EMPTY=new X({label:"EMPTY",source:new wt({label:"EMPTY"})});X.EMPTY.destroy=fb;X.WHITE=new X({source:new Pg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});X.WHITE.destroy=fb;function Cd(t,e,r,n){const{width:i,height:s}=r.orig,o=r.trim;if(o){const a=o.width,u=o.height;t.minX=o.x-e._x*i-n,t.maxX=t.minX+a,t.minY=o.y-e._y*s-n,t.maxY=t.minY+u}else t.minX=-e._x*i-n,t.maxX=t.minX+i,t.minY=-e._y*s-n,t.maxY=t.minY+s}var xW={grad:.9,turn:360,rad:360/(2*Math.PI)},rs=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Vt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Yn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},tB=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},LT=function(t){return{r:Yn(t.r,0,255),g:Yn(t.g,0,255),b:Yn(t.b,0,255),a:Yn(t.a)}},Z0=function(t){return{r:Vt(t.r),g:Vt(t.g),b:Vt(t.b),a:Vt(t.a,3)}},bW=/^#([0-9a-f]{3,8})$/i,af=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},rB=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},nB=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},NT=function(t){return{h:tB(t.h),s:Yn(t.s,0,100),l:Yn(t.l,0,100),a:Yn(t.a)}},GT=function(t){return{h:Vt(t.h),s:Vt(t.s),l:Vt(t.l),a:Vt(t.a,3)}},zT=function(t){return nB((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Nc=function(t){return{h:(e=rB(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},SW=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wW=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,EW=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TW=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hv={string:[[function(t){var e=bW.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Vt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Vt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=EW.exec(t)||TW.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:LT({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=SW.exec(t)||wW.exec(t);if(!e)return null;var r,n,i=NT({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(xW[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return zT(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return rs(e)&&rs(r)&&rs(n)?LT({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!rs(e)||!rs(r)||!rs(n))return null;var o=NT({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return zT(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!rs(e)||!rs(r)||!rs(n))return null;var o=function(a){return{h:tB(a.h),s:Yn(a.s,0,100),v:Yn(a.v,0,100),a:Yn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return nB(o)},"hsv"]]},$T=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},CW=function(t){return typeof t=="string"?$T(t.trim(),hv.string):typeof t=="object"&&t!==null?$T(t,hv.object):[null,void 0]},J0=function(t,e){var r=Nc(t);return{h:r.h,s:Yn(r.s+100*e,0,100),l:r.l,a:r.a}},e_=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},HT=function(t,e){var r=Nc(t);return{h:r.h,s:r.s,l:Yn(r.l+100*e,0,100),a:r.a}},fv=function(){function t(e){this.parsed=CW(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Vt(e_(this.rgba),2)},t.prototype.isDark=function(){return e_(this.rgba)<.5},t.prototype.isLight=function(){return e_(this.rgba)>=.5},t.prototype.toHex=function(){return e=Z0(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?af(Vt(255*s)):"","#"+af(r)+af(n)+af(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Z0(this.rgba)},t.prototype.toRgbString=function(){return e=Z0(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return GT(Nc(this.rgba))},t.prototype.toHslString=function(){return e=GT(Nc(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=rB(this.rgba),{h:Vt(e.h),s:Vt(e.s),v:Vt(e.v),a:Vt(e.a,3)};var e},t.prototype.invert=function(){return Mi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Mi(J0(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mi(J0(this.rgba,-e))},t.prototype.grayscale=function(){return Mi(J0(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Mi(HT(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Mi(HT(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Mi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Vt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Nc(this.rgba);return typeof e=="number"?Mi({h:e,s:r.s,l:r.l,a:r.a}):Vt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Mi(e).toHex()},t}(),Mi=function(t){return t instanceof fv?t:new fv(t)},jT=[],PW=function(t){t.forEach(function(e){jT.indexOf(e)<0&&(e(fv,hv),jT.push(e))})};function AW(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var c=this.toRgb(),d=1/0,h="black";if(!s.length)for(var f in r)s[f]=new t(r[f]).toRgb();for(var p in r){var m=(a=c,u=s[p],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));m<d&&(d=m,h=p)}return h}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}PW([AW]);const il=class xc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof xc)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._normalize(e),this._value=this._cloneSource(e))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb,e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e=e||this._arrayRgba;const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb;const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=xc._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=xc.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Mi(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof xc||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};il.shared=new il;il._temp=new il;il.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ae=il;const iB={cullArea:null,cullable:!1,cullableChildren:!0};function mb(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}const sB={allowChildren:!0,removeChildren(t=0,e){const r=e??this.children.length,n=r-t,i=[];if(n>0&&n<=r){for(let o=r-1;o>=t;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}mb(this.children,t,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o)this.emit("childRemoved",i[o],this,o),i[o].emit("removed",this);return i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||le(de,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t.didViewUpdate=!1,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}};class Pd{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Ag{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class oB{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Ag(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}}const Pe=new oB;class aB{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return Pe.get(n.maskClass,e)}return e}returnMaskEffect(e){Pe.return(e)}}const $p=new aB;lt.handleByList(A.MaskEffect,$p._effectClasses);const uB={_maskEffect:null,_filterEffect:null,effects:[],addEffect(t){if(this.effects.indexOf(t)!==-1)return;this.effects.push(t),this.effects.sort((n,i)=>n.priority-i.priority);const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._updateIsSimple()},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),$p.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=$p.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},set filters(t){var s;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new Pd);t=t;const r=(t==null?void 0:t.length)>0,n=((s=e.filters)==null?void 0:s.length)>0,i=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new Pd),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},lB={label:null,get name(){return le(de,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){le(de,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<r.length;n++){const s=r[n].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const s=n[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&r.push(s)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,r);return r}},WT=new te;class sr{constructor(e=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=WT,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Me);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=WT,this}set(e,r,n,i){this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,r,n,i,s){s||(s=this.matrix);const o=s.a,a=s.b,u=s.c,l=s.d,c=s.tx,d=s.ty;let h=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*e+u*r+c,_=a*e+l*r+d;g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*n+u*r+c,_=a*n+l*r+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*e+u*i+c,_=a*e+l*i+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*n+u*i+c,_=a*n+l*i+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:u,d:l,tx:c,ty:d}=e;let h=o*r+u*n+c,f=a*r+l*n+d;this.minX=h,this.minY=f,this.maxX=h,this.maxY=f,h=o*i+u*n+c,f=a*i+l*n+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=o*r+u*s+c,f=a*r+l*s+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=o*i+u*s+c,f=a*i+l*s+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,i){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new sr(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,i){let s=this.minX,o=this.minY,a=this.maxX,u=this.maxY;i||(i=this.matrix);const l=i.a,c=i.b,d=i.c,h=i.d,f=i.tx,p=i.ty;for(let m=r;m<n;m+=2){const g=e[m],_=e[m+1],v=l*g+d*_+f,y=c*g+h*_+p;s=v<s?v:s,o=y<o?y:o,a=v>a?v:a,u=y>u?y:u}this.minX=s,this.minY=o,this.maxX=a,this.maxY=u}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const ji=new Ag(te),Wi=new Ag(sr);function hh(t,e,r){r.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=ji.get().identity(),n=Ad(t,i)):n=te.IDENTITY,gb(t,r,n,e),i&&ji.return(i),r.isValid||r.set(0,0,0,0),r}function gb(t,e,r,n){var a,u;if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=ji.get(),i.appendFrom(t.localTransform,r));const s=e,o=!!t.effects.length;if(o&&(e=Wi.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.addBounds&&(e.matrix=i,t.addBounds(e));for(let l=0;l<t.children.length;l++)gb(t.children[l],e,i,n)}if(o){for(let l=0;l<t.effects.length;l++)(u=(a=t.effects[l]).addBounds)==null||u.call(a,e);s.addBounds(e,te.IDENTITY),Wi.return(e)}n||ji.return(i)}function Ad(t,e){const r=t.parent;return r&&(Ad(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}let t_=0;const VT=500;function fe(...t){t_!==VT&&(t_++,t_===VT?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function Rg(t,e,r){return e.clear(),r||(r=te.IDENTITY),cB(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function cB(t,e,r,n,i){var u,l;let s;if(i)s=ji.get(),s=r.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const c=t.localTransform;s=ji.get(),s.appendFrom(c,r)}const o=e,a=!!t.effects.length;if(a&&(e=Wi.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,t.addBounds(e));const c=t.children;for(let d=0;d<c.length;d++)cB(c[d],e,s,n,!1)}if(a){for(let c=0;c<t.effects.length;c++)(l=(u=t.effects[c]).addLocalBounds)==null||l.call(u,e,n);o.addBounds(e,te.IDENTITY),Wi.return(e)}ji.return(s)}function dB(t,e,r){const n=t.parent;if(!n){fe("Item is not inside the root container");return}n!==e&&(dB(n,e,r),n.updateLocalTransform(),r.append(n.localTransform))}function _b(t,e){const r=t.children;for(let n=0;n<r.length;n++){const i=r[n],s=(i.uid&255)<<24|i._didChangeId&16777215;e.data[e.index]!==s&&(e.data[e.index]=s,e.didChange=!0),e.index++,i.children.length&&_b(i,e)}return e.didChange}const RW=new te,hB={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new sr});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didChangeId>>12&&(t.didChange=!0,t.data[0]=this._didChangeId>>12),_b(this,t),t.didChange&&Rg(this,t.localBounds,RW),t.localBounds},getBounds(t,e){return hh(this,t,e||new sr)}},fB={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},pB={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(MW))}};function MW(t,e){return t._zIndex-e._zIndex}const mB={getGlobalPosition(t=new De,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){if(!r){this.updateLocalTransform();const n=Ad(this,new te);return n.append(this.localTransform),n.apply(t,e)}return this.worldTransform.apply(t,e)},toLocal(t,e,r,n){if(e&&(t=e.toGlobal(t,r,n)),!n){this.updateLocalTransform();const i=Ad(this,new te);return i.append(this.localTransform),i.applyInverse(t,r)}return this.worldTransform.applyInverse(t,r)}};class yb{constructor(){this.uid=Je("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class gB{constructor(e){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new te,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new yb,this._onRenderContainers=[],this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(e.didViewUpdate=!1,this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e))}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}}function _B(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const r_=new Rt(null),n_=new Rt(null),i_=new Rt(null,1,1),Hp=1,vb=2,Gc=4,BW=8;class $e extends Jr{constructor(e={}){var r,n;super(),this.uid=Je("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new te,this.relativeGroupTransform=new te,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Rt(this,0,0),this._scale=i_,this._pivot=n_,this._skew=r_,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,_B(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(i=>this.addChild(i)),this.effects=[],(n=e.parent)==null||n.addChild(this)}static mixin(e){Object.defineProperties($e.prototype,Object.getOwnPropertyDescriptors(e))}addChild(...e){if(this.allowChildren||le(de,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const r=e[0];if(r.parent===this)return this.children.splice(this.children.indexOf(r),1),this.children.push(r),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),r;r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r.didViewUpdate=!1,r._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didChangeId+=4096,r._zIndex!==0&&r.depthOfChildModified(),r}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didChangeId+=4096,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){if(this.renderGroup&&e===!1)throw new Error("[Pixi] cannot undo a render group just yet");e&&this.enableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e&&e.removeChild(this),this.renderGroup=new gB(this),e&&e.addChild(this),this._updateIsSimple(),this.groupTransform=te.IDENTITY}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new te),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*XM}set angle(e){this.rotation=e*YM}get pivot(){return this._pivot===n_&&(this._pivot=new Rt(this,0,0)),this._pivot}set pivot(e){this._pivot===n_&&(this._pivot=new Rt(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===r_&&(this._skew=new Rt(this,0,0)),this._skew}set skew(e){this._skew===r_&&(this._skew=new Rt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===i_&&(this._scale=new Rt(this,1,1)),this._scale}set scale(e){this._scale===i_&&(this._scale=new Rt(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();let i,s;typeof e!="object"?(i=e,s=r??e):(i=e.width,s=e.height??e.width),i!==void 0&&this._setWidth(i,n.width),s!==void 0&&this._setHeight(s,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const e=this.localTransform,r=this._scale,n=this._pivot,i=this._position,s=r._x,o=r._y,a=n._x,u=n._y;e.a=this._cx*s,e.b=this._sx*s,e.c=this._cy*o,e.d=this._sy*o,e.tx=i._x-(a*e.a+u*e.c),e.ty=i._y-(a*e.b+u*e.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Hp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=Ae.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=Hp,this._onUpdate())}get tint(){const e=this.localColor;return((e&255)<<16)+(e&65280)+(e>>16&255)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=vb,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?1:0;(this.localDisplayStatus&2)>>1!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Gc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?1:0;(this.localDisplayStatus&4)>>2!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Gc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=Gc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;const r=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.children)for(let s=0;s<r.length;++s)r[s].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}$e.mixin(sB);$e.mixin(mB);$e.mixin(fB);$e.mixin(hB);$e.mixin(uB);$e.mixin(lB);$e.mixin(pB);$e.mixin(iB);class bn extends $e{constructor(e=X.EMPTY){e instanceof X&&(e={texture:e});const{texture:r=X.EMPTY,anchor:n,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new Rt({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,s&&(this.width=s),o&&(this.height=o)}static from(e,r=!1){return e instanceof X?new bn(e):new bn(X.from(e,r))}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(e){const r=this.sourceBounds;return e.x>=r.maxX&&e.x<=r.minX&&e.y>=r.maxY&&e.y<=r.minY}addBounds(e){const r=this._texture.trim?this.sourceBounds:this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_updateBounds(){Cd(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const e=this._anchor,r=this._texture,n=this._sourceBounds,{width:i,height:s}=r.orig;n.maxX=-e._x*i,n.minX=n.maxX+i,n.maxY=-e._y*s,n.minY=n.maxY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){let n,i;typeof e!="object"?(n=e,i=r??e):(n=e.width,i=e.height??e.width),n!==void 0&&this._setWidth(n,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const DW=new sr;function Mg(t,e,r){const n=DW;t.measurable=!0,hh(t,r,n),e.addBoundsMask(n),t.measurable=!1}function Bg(t,e,r){const n=Wi.get();t.measurable=!0;const i=ji.get().identity(),s=xb(t,r,i);Rg(t,n,s),t.measurable=!1,e.addBoundsMask(n),ji.return(i),Wi.return(n)}function xb(t,e,r){return t?(t!==e&&(xb(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(fe("Mask bounds, renderable is not inside the root container"),r)}class bb{constructor(e){this.priority=0,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof bn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,r){Mg(this.mask,e,r)}addLocalBounds(e,r){Bg(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof bn}}bb.extension=A.MaskEffect;class Sb{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}Sb.extension=A.MaskEffect;class wb{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,r){Mg(this.mask,e,r)}addLocalBounds(e,r){Bg(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof $e}}wb.extension=A.MaskEffect;const yB={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let XT=yB;const Re={get(){return XT},set(t){XT=t}};class Pa extends wt{constructor(e){e.resource||(e.resource=Re.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity;const r=e.resource;(this.pixelWidth!==r.width||this.pixelWidth!==r.height)&&this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const i=super.resize(e,r,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}}Pa.extension=A.TextureSource;class Ua extends wt{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const r=Re.get().createCanvas(e.resource.width,e.resource.height);r.getContext("2d").drawImage(e.resource,0,0),e.resource=r,fe("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap}}Ua.extension=A.TextureSource;var Ss=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ss||{});class qf{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=i}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const vB=class nn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qf(null,null,1/0),this.deltaMS=1/nn.targetFPMS,this.elapsedMS=1/nn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Ss.NORMAL){return this._addListener(new qf(e,r,n))}addOnce(e,r,n=Ss.NORMAL){return this._addListener(new qf(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*nn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,nn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!nn._shared){const e=nn._shared=new nn;e.autoStart=!0,e._protected=!0}return nn._shared}static get system(){if(!nn._system){const e=nn._system=new nn;e.autoStart=!0,e._protected=!0}return nn._system}};vB.targetFPMS=.06;let Er=vB,s_;async function Eb(){return s_??(s_=(async()=>{var o;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(n),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),s_}const Dg=class xB extends wt{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...xB.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Er.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Eb(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Er.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||globalThis.VideoFrame&&e instanceof VideoFrame}};Dg.extension=A.TextureSource;Dg.defaultOptions={...wt.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Dg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let zc=Dg;const Wn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class kW{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||fe(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Wn(e);let i;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}const s=new Map(Object.entries(i||{}));i||n.forEach(u=>{s.set(u,r)});const o=[...s.keys()],a={cacheKeys:o,keys:n};n.forEach(u=>{this._cacheMap.set(u,a)}),o.forEach(u=>{const l=i?i[u]:r;this._cache.has(u)&&this._cache.get(u)!==l&&fe("[Cache] already has key:",u),this._cache.set(u,s.get(u))})}remove(e){if(!this._cacheMap.has(e)){fe(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Le=new kW,pv=[];lt.handleByList(A.TextureSource,pv);function bB(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<pv.length;i++){const s=pv[i];if(s.test(r))return new s(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function SB(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,i=r?t:{resource:t};if(!e&&Le.has(n))return Le.get(n);const s=new X({source:bB(i)});return s.on("destroy",()=>{Le.has(n)&&Le.remove(n)}),e||Le.set(n,s),s}function wB(t,e=!1){return typeof t=="string"?Le.get(t):t instanceof wt?new X({source:t}):SB(t,e)}X.from=wB;lt.add(bb,Sb,wb,zc,Ua,Pa,Pg);var An=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(An||{});function pi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Zl(t){return t.split("?")[0].split("#")[0]}function OW(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IW(t,e,r){return t.replace(new RegExp(OW(e),"g"),r)}function FW(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Vr={toPosix(t){return IW(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){pi(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(pi(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Zl(this.toPosix(e??Re.get().getBaseUrl())),i=Zl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Vr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(pi(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=FW(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return pi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(pi(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(pi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){pi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){pi(t),e&&pi(e),t=Zl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){pi(t),t=Zl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){pi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Zl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=t.length-1,c=0;for(;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),r===46?s===-1?s=l:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function EB(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?EB(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function TB(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),EB(t,i,0,r,n)}else n.push(t);return n}const Rd=t=>!Array.isArray(t);class ko{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return Wn(r||n,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??o):s!=null&&s.src?s.src:s,!0)}addManifest(e){this._manifest&&fe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let u;if(typeof a=="string"){const l=this._createBundleAssetId(e,a);n.push(l),u=[a,l]}else{const l=a.map(c=>this._createBundleAssetId(e,c));n.push(...l),u=[...a,...l]}this.add({...s,alias:u,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=s=>{this.hasKey(s)&&fe(`[Resolver] already has key: ${s} overwriting`)},Wn(r).forEach(s=>{const{src:o}=s;let{data:a,format:u,loadParser:l}=s;const c=Wn(o).map(f=>typeof f=="string"?TB(f):Array.isArray(f)?f:[f]),d=this.getAlias(s);Array.isArray(d)?d.forEach(n):n(d);const h=[];c.forEach(f=>{f.forEach(p=>{let m={};if(typeof p!="object"){m.src=p;for(let g=0;g<this._parsers.length;g++){const _=this._parsers[g];if(_.test(p)){m=_.parse(p);break}}}else a=p.data??a,u=p.format??u,l=p.loadParser??l,m={...m,...p};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${m.src}`);m=this._buildResolvedAsset(m,{aliases:d,data:a,format:u,loadParser:l}),h.push(m)})}),d.forEach(f=>{this._assetMap[f]=h})})}resolveBundle(e){const r=Rd(e);e=Wn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Rd(e);e=Wn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o==null||o.priority.forEach(a=>{o.params[a].forEach(u=>{const l=s.filter(c=>c[a]?c[a]===u:!1);l.length&&(s=l)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Vr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??CB(e.src),e}}ko.RETINA_PREFIX=/@([0-9\.]+)x/;function CB(t){return t.split(".").pop().split("?").shift().split("#").shift()}const jp=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},PB=class bc{constructor(e,r){this.linkedSheets=[],this._texture=e instanceof X?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=r;const n=parseFloat(r.meta.scale);n?(this.resolution=n,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=bc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=bc.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new Me(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new Me(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Me(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Me(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new X({source:this.textureSource,frame:a,orig:c,trim:u,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*bc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*bc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};PB.BATCH_SIZE=1e3;let mv=PB;const UW=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function AB(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Vr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=AB([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const RB={extension:A.Asset,cache:{test:t=>t instanceof mv,getCacheableAssets:(t,e)=>AB(t,e,!1)},resolver:{extension:{type:A.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&UW.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ko.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:A.LoadParser,priority:An.Normal,name:"spritesheetLoader"},async testParse(t,e){return Vr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var l,c;const{texture:n,imageFilename:i}=(e==null?void 0:e.data)??{};let s=Vr.dirname(e.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");let o;if(n instanceof X)o=n;else{const d=jp(s+(i??t.meta.image),e.src);o=(await r.load([d]))[d]}const a=new mv(o.source,t);await a.parse();const u=(l=t==null?void 0:t.meta)==null?void 0:l.related_multi_packs;if(Array.isArray(u)){const d=[];for(const f of u){if(typeof f!="string")continue;let p=s+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=jp(p,e.src),d.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(d);a.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};lt.add(RB);class Tl{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Tl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new De,this.page=new De,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var o_=/iPhone/i,YT=/iPod/i,qT=/iPad/i,KT=/\biOS-universal(?:.+)Mac\b/i,a_=/\bAndroid(?:.+)Mobile\b/i,QT=/Android/i,qa=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,uf=/Silk/i,ns=/Windows Phone/i,ZT=/\bWindows(?:.+)ARM\b/i,JT=/BlackBerry/i,e3=/BB10/i,t3=/Opera Mini/i,r3=/\b(CriOS|Chrome)(?:.+)Mobile/i,n3=/Mobile(?:.+)Firefox\b/i,i3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function LW(t){return function(e){return e.test(t)}}function s3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=LW(r),s={apple:{phone:i(o_)&&!i(ns),ipod:i(YT),tablet:!i(o_)&&(i(qT)||i3(e))&&!i(ns),universal:i(KT),device:(i(o_)||i(YT)||i(qT)||i(KT)||i3(e))&&!i(ns)},amazon:{phone:i(qa),tablet:!i(qa)&&i(uf),device:i(qa)||i(uf)},android:{phone:!i(ns)&&i(qa)||!i(ns)&&i(a_),tablet:!i(ns)&&!i(qa)&&!i(a_)&&(i(uf)||i(QT)),device:!i(ns)&&(i(qa)||i(uf)||i(a_)||i(QT))||i(/\bokhttp\b/i)},windows:{phone:i(ns),tablet:i(ZT),device:i(ns)||i(ZT)},other:{blackberry:i(JT),blackberry10:i(e3),opera:i(t3),firefox:i(n3),chrome:i(r3),device:i(JT)||i(e3)||i(t3)||i(n3)||i(r3)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const NW=s3.default??s3,MB=NW(globalThis.navigator),GW=9,lf=100,zW=0,$W=0,o3=2,a3=1,HW=-1e3,jW=-1e3,WW=2;class BB{constructor(e,r=MB){this._mobileInfo=r,this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(r.tablet||r.phone)&&this._createTouchHook();const n=document.createElement("div");n.style.width=`${lf}px`,n.style.height=`${lf}px`,n.style.position="absolute",n.style.top=`${zW}px`,n.style.left=`${$W}px`,n.style.zIndex=o3.toString(),this._div=n,this._renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${a3}px`,e.style.height=`${a3}px`,e.style.position="absolute",e.style.top=`${HW}px`,e.style.left=`${jW}px`,e.style.zIndex=WW.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.add(this),(e=this._renderer.view.canvas.parentNode)==null||e.appendChild(this._div))}_deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this),(e=this._div.parentNode)==null||e.removeChild(this._div))}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this._updateAccessibleObjects(r[n])}init(e){this.debug=(e==null?void 0:e.debug)??this.debug,this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this._renderer.view.canvas.getBoundingClientRect(),{width:o,height:a,resolution:u}=this._renderer,l=i/o*u,c=s/a*u;let d=this._div;d.style.left=`${r}px`,d.style.top=`${n}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let h=0;h<this._children.length;h++){const f=this._children[h];if(f._renderId!==this._renderId)f._accessibleActive=!1,mb(this._children,h,1),this._div.removeChild(f._accessibleDiv),this._pool.push(f._accessibleDiv),f._accessibleDiv=null,h--;else{d=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(d.style.left=`${(m.tx+p.x*m.a)*l}px`,d.style.top=`${(m.ty+p.y*m.d)*c}px`,d.style.width=`${p.width*m.a*l}px`,d.style.height=`${p.height*m.d*c}px`):(p=f.getBounds().rectangle,this._capHitArea(p),d.style.left=`${p.x*l}px`,d.style.top=`${p.y*c}px`,d.style.width=`${p.width*l}px`,d.style.height=`${p.height*c}px`,d.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(d.title=f.accessibleTitle||""),d.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&d.setAttribute("aria-label",f.accessibleHint||"")),(f.accessibleTitle!==d.title||f.tabIndex!==d.tabIndex)&&(d.title=f.accessibleTitle||"",d.tabIndex=f.tabIndex,this.debug&&this._updateDebugHTML(d))}}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this._renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}_addChild(e){let r=this._pool.pop();r||(r=document.createElement("button"),r.style.width=`${lf}px`,r.style.height=`${lf}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=o3.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{container:n}=e.target,i=this._renderer.events.rootBoundary,s=Object.assign(new Tl(i),{target:n});i.rootTarget=this._renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===GW&&this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){this._destroyTouchHook(),this._div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this._pool=null,this._children=null,this._renderer=null}}BB.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"accessibility"};const VW={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1},u_=Object.create(null),u3=Object.create(null);function fh(t,e){let r=u3[t];return r===void 0&&(u_[e]===void 0&&(u_[e]=1),u3[t]=r=u_[e]++),r}let Ka;function Tb(){return(!Ka||Ka!=null&&Ka.isContextLost())&&(Ka=Re.get().createCanvas().getContext("webgl",{})),Ka}let cf;function DB(){if(!cf){cf="mediump";const t=Tb();t&&t.getShaderPrecisionFormat&&(cf=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return cf}function kB(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function OB(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&n!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function IB(t,e){return e?`#version 300 es
${t}`:t}const XW={},YW={};function FB(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?XW:YW;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function UB(t,e){return e?t.replace("#version 300 es",""):t}const l_={stripVersion:UB,ensurePrecision:OB,addProgramDefines:kB,setProgramName:FB,insertVersion:IB},c_=Object.create(null),LB=class gv{constructor(e){e={...gv.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:DB()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let i=e.fragment,s=e.vertex;Object.keys(l_).forEach(o=>{const a=n[o];i=l_[o](i,a,!0),s=l_[o](s,a,!1)}),this.fragment=i,this.vertex=s,this._key=fh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return c_[r]||(c_[r]=new gv(e)),c_[r]}};LB.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let li=LB;const l3={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function sl(t){return l3[t]??l3.float32}const qW={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function NB({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const i=t.indexOf("->",n);if(i!==-1){const s=t.substring(n,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const u=qW[a[3]]??"float32";r[a[2]]={location:parseInt(a[1],10),format:u,stride:sl(u).stride,offset:0,instance:!1,start:0}}}}return r}function Kf(t){var d,h;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,u=/struct\s+(\w+)/,l=(d=t.match(e))==null?void 0:d.map(f=>({group:parseInt(f.match(r)[1],10),binding:parseInt(f.match(n)[1],10),name:f.match(i)[2],isUniform:f.match(i)[1]==="<uniform>",type:f.match(s)[1]}));if(!l)return{groups:[],structs:[]};const c=((h=t.match(o))==null?void 0:h.map(f=>{const p=f.match(u)[1],m=f.match(a).reduce((g,_)=>{const[v,y]=_.split(":");return g[v.trim()]=y.trim(),g},{});return m?{name:p,members:m}:null}).filter(({name:f})=>l.some(p=>p.type===f)))??[];return{groups:l,structs:c}}var xu=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(xu||{});function GB({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:xu.VERTEX|xu.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:xu.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:xu.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function zB({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function $B(t,e){const r=new Set,n=new Set,i=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return n.has(a)?!1:(n.add(a),!0)});return{structs:i,groups:s}}const d_=Object.create(null);class Rn{constructor(e){var a,u;this._layoutKey=0;const{fragment:r,vertex:n,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const l=Kf(r.source);this.structsAndGroups=l}else{const l=Kf(n.source),c=Kf(r.source);this.structsAndGroups=$B(l,c)}this.layout=i??zB(this.structsAndGroups),this.gpuLayout=s??GB(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((u=this.layout[1])==null?void 0:u.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=fh(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=NB(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return d_[r]||(d_[r]=new Rn(e)),d_[r]}}const Cb=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],HB=Cb.reduce((t,e)=>(t[e]=!0,t),{});function jB(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const WB=class VB{constructor(e,r){this._touched=0,this.uid=Je("uniform"),this._resourceType="uniformGroup",this._resourceId=Je("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...VB.defaultOptions,...r},this.uniformStructures=e;const n={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!HB[s.type])throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${Cb.join(", ")}`);s.value??(s.value=jB(s.type,s.size)),n[i]=s.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=fh(Object.keys(n).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};WB.defaultOptions={ubo:!1,isStatic:!1};let Lt=WB;class Vi{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const i=e[n];this.setResource(i,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var i,s;const n=this.resources[r];e!==n&&(n&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(s=e.on)==null||s.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const n in r)r[n]._touched=e}destroy(){var r;const e=this.resources;for(const n in e){const i=e[n];(r=i.off)==null||r.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var Sn=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Sn||{});class Mn extends Jr{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:r,glProgram:n,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=Sn.WEBGPU),n&&(o|=Sn.WEBGL)),this.compatibleRenderers=o;const u={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&i&&a)for(const l in a)for(const c in a[l]){const d=a[l][c];u[d]={group:l,binding:c,name:d}}else if(r&&i&&!a){const l=r.structsAndGroups.groups;a={},l.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,u[c.name]=c})}else if(s){if(r){const l=r.structsAndGroups.groups;a={},l.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,u[c.name]=c})}else{a={},i={99:new Vi},this._ownedBindGroups.push(i[99]);let l=0;for(const c in s)u[c]={group:99,binding:l,name:c},a[99]=a[99]||{},a[99][l]=c,l++}i={};for(const l in s){const c=l;let d=s[l];!d.source&&!d._resourceType&&(d=new Lt(d));const h=u[c];h&&(i[h.group]||(i[h.group]=new Vi,this._ownedBindGroups.push(i[h.group])),i[h.group].setResource(d,h.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,u)}addResource(e,r,n){var i,s;(i=this._uniformBindMap)[r]||(i[r]={}),(s=this._uniformBindMap[r])[n]||(s[n]=e),this.groups[r]||(this.groups[r]=new Vi,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const i in r){const s=r[i];Object.defineProperty(n,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return n}destroy(e=!1){var r,n;this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:r,gl:n,...i}=e;let s,o;return r&&(s=Rn.from(r)),n&&(o=li.from(n)),new Mn({gpuProgram:s,glProgram:o,...i})}}const KW={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},h_=0,f_=1,p_=2,m_=3,g_=4,__=5,_v=class XB{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<h_)}set blend(e){!!(this.data&1<<h_)!==e&&(this.data^=1<<h_)}get offsets(){return!!(this.data&1<<f_)}set offsets(e){!!(this.data&1<<f_)!==e&&(this.data^=1<<f_)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<p_)}set culling(e){!!(this.data&1<<p_)!==e&&(this.data^=1<<p_)}get depthTest(){return!!(this.data&1<<m_)}set depthTest(e){!!(this.data&1<<m_)!==e&&(this.data^=1<<m_)}get depthMask(){return!!(this.data&1<<__)}set depthMask(e){!!(this.data&1<<__)!==e&&(this.data^=1<<__)}get clockwiseFrontFace(){return!!(this.data&1<<g_)}set clockwiseFrontFace(e){!!(this.data&1<<g_)!==e&&(this.data^=1<<g_)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=KW[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new XB;return e.depthTest=!1,e.blend=!0,e}};_v.default2d=_v.for2d();let Ci=_v;const YB=class yv extends Mn{constructor(e){e={...yv.defaultOptions,...e},super(e),this.enabled=!0,this._state=Ci.for2d(),this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.addResource("uTexture",0,1)}apply(e,r,n,i){e.applyFilter(this,r,n,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:r,gl:n,...i}=e;let s,o;return r&&(s=Rn.from(r)),n&&(o=li.from(n)),new yv({gpuProgram:s,glProgram:o,...i})}};YB.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1};let Bs=YB;var qB=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uBlend;

uniform sampler2D uTexture;
uniform sampler2D uBackTexture;

{FUNCTIONS}

void main()
{ 
    vec4 back = texture(uBackTexture, vTextureCoord);
    vec4 front = texture(uTexture, vTextureCoord);

    {MAIN}
}
`,KB=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 backgroundUv;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,QB=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlendUniforms {
  uBlend:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(0) @binding(3) var uBackTexture: texture_2d<f32>;

@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

{FUNCTIONS}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>
) -> @location(0) vec4<f32> {


   var back =  textureSample(uBackTexture, uSampler, uv);
   var front = textureSample(uTexture, uSampler, uv);
   
   var out = vec4<f32>(0.0,0.0,0.0,0.0);

   {MAIN}

   return out;
}`;class _t extends Bs{constructor(e){const r=e.gpu,n=c3({source:QB,...r}),i=Rn.from({vertex:{source:n,entryPoint:"mainVertex"},fragment:{source:n,entryPoint:"mainFragment"}}),s=e.gl,o=c3({source:qB,...s}),a=li.from({vertex:KB,fragment:o}),u=new Lt({uBlend:{value:1,type:"f32"}});super({gpuProgram:i,glProgram:a,blendRequired:!0,resources:{blendUniforms:u,uBackTexture:X.EMPTY}})}}function c3(t){const{source:e,functions:r,main:n}=t;return e.replace("{FUNCTIONS}",r).replace("{MAIN}",n)}const kg=`
	float getLuminosity(vec3 c) {
		return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
	}

	vec3 setLuminosity(vec3 c, float lum) {
		float modLum = lum - getLuminosity(c);
		vec3 color = c.rgb + vec3(modLum);

		// clip back into legal range
		modLum = getLuminosity(color);
		vec3 modLumVec = vec3(modLum);

		float cMin = min(color.r, min(color.g, color.b));
		float cMax = max(color.r, max(color.g, color.b));

		if(cMin < 0.0) {
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0) {
			color = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));
		}

		return color;
	}

	float getSaturation(vec3 c) {
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	vec3 setSaturationMinMidMax(vec3 cSorted, float s) {
		vec3 colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x) {
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else {
			colorSorted.y = 0.0;
			colorSorted.z = 0.0;
		}

		colorSorted.x = 0.0;

		return colorSorted;
	}

	vec3 setSaturation(vec3 c, float s) {
		vec3 color = c;

		if(color.r <= color.g && color.r <= color.b) {
			if(color.g <= color.b) {
				color = setSaturationMinMidMax(color.rgb, s).rgb;
			}
			else {
				color = setSaturationMinMidMax(color.rbg, s).rbg;
			}
		}
		else if(color.g <= color.r && color.g <= color.b) {
			if(color.r <= color.b) {
				color = setSaturationMinMidMax(color.grb, s).grb;
			}
			else {
				color = setSaturationMinMidMax(color.gbr, s).gbr;
			}
		}
		else {
			// Using bgr for both fixes part of hue
			if(color.r <= color.g) {
				color = setSaturationMinMidMax(color.brg, s).brg;
			}
			else {
				color = setSaturationMinMidMax(color.bgr, s).bgr;
			}
		}

		return color;
	}
    `,Og=`
	fn getLuminosity(c: vec3<f32>) -> f32
	{
		return 0.3*c.r + 0.59*c.g + 0.11*c.b;
	}

	fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>
	{
		var modLum: f32 = lum - getLuminosity(c);
		var color: vec3<f32> = c.rgb + modLum;

		// clip back into legal range
		modLum = getLuminosity(color);
		let modLumVec = vec3<f32>(modLum);

		let cMin: f32 = min(color.r, min(color.g, color.b));
		let cMax: f32 = max(color.r, max(color.g, color.b));

		if(cMin < 0.0)
		{
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0)
		{
			color = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));
		}

		return color;
	}

	fn getSaturation(c: vec3<f32>) -> f32
	{
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>
	{
		var colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x)
		{
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else
		{
			colorSorted.y = 0;
			colorSorted.z = 0;
		}

		colorSorted.x = 0;

		return colorSorted;
	}

	fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>
	{
		var color = c;

		if (color.r <= color.g && color.r <= color.b)
		{
			if (color.g <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;
			}
		}
		else if (color.g <= color.r && color.g <= color.b)
		{
			if (color.r <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;
			}
		}
		else
		{
			// Using bgr for both fixes part of hue
			if (color.r <= color.g)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;
			}
			else
			{
				color  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;
			}
		}

		return color;
	}
	`;class ZB extends _t{constructor(){super({gl:{functions:`
                ${kg}

                vec3 blendColor(vec3 base, vec3 blend,  float opacity)
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColor(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                ${Og}

                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}ZB.extension={name:"color",type:A.BlendMode};class JB extends _t{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0 - ((1.0 - base) / blend)), 0.0);
                }

                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendColorBurn(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}JB.extension={name:"color-burn",type:A.BlendMode};class eD extends _t{constructor(){super({gl:{functions:`
                float colorDodge(float base, float blend)
                {
                    return base / (1.0 - blend);
                }

                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColorDodge(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return base / (1.0 - blend);
                }

                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}eD.extension={name:"color-dodge",type:A.BlendMode};class tD extends _t{constructor(){super({gl:{functions:`
                vec3 blendDarken(vec3 base, vec3 blend, float opacity)
                {
                    return (min(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDarken(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (min(blend,base) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}tD.extension={name:"darken",type:A.BlendMode};class rD extends _t{constructor(){super({gl:{functions:`
                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendDifference(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}rD.extension={name:"difference",type:A.BlendMode};class nD extends _t{constructor(){super({gl:{functions:`
                float divide(float base, float blend)
                {
                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;
                }

                vec3 blendDivide(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDivide(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn divide(base: f32, blend: f32) -> f32
                {
                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);
                }

                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}nD.extension={name:"divide",type:A.BlendMode};class iD extends _t{constructor(){super({gl:{functions:`
                vec3 exclusion(vec3 base, vec3 blend)
                {
                    return base + blend - 2.0 * base * blend;
                }

                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendExclusion(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return base+blend-2.0*base*blend;
                }

                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}iD.extension={name:"exclusion",type:A.BlendMode};class sD extends _t{constructor(){super({gl:{functions:`
                float hardLight(float base, float blend)
                {
                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);
                }

                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardLight(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn hardLight(base: f32, blend: f32) -> f32
                {
                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);
                }

                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}sD.extension={name:"hard-light",type:A.BlendMode};class oD extends _t{constructor(){super({gl:{functions:`
                float hardMix(float base, float blend)
                {
                    return (base + blend >= 1.0) ? 1.0 : 0.0;
                }

                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blended = vec3(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardMix(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn hardMix(base: f32, blend: f32) -> f32
                {
                    return select(0.0, 1.0, base + blend >= 1.0);
                }

                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}oD.extension={name:"hard-mix",type:A.BlendMode};class aD extends _t{constructor(){super({gl:{functions:`
                vec3 blendLighten(vec3 base, vec3 blend, float opacity)
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLighten(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}aD.extension={name:"lighten",type:A.BlendMode};class uD extends _t{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend)
                {
                    return max(0.0, base + blend - 1.0);
                }

                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}uD.extension={name:"linear-burn",type:A.BlendMode};class lD extends _t{constructor(){super({gl:{functions:`
                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1, base + blend);
                }

                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}lD.extension={name:"linear-dodge",type:A.BlendMode};class cD extends _t{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend) {
                    return max(0.0, base + blend - 1.0);
                }

                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                float linearLight(float base, float blend) {
                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));
                }

                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendLinearLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base + blend);
                }

                fn linearLight(base: f32, blend: f32) -> f32
                {
                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);
                }

                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}cD.extension={name:"linear-light",type:A.BlendMode};class dD extends _t{constructor(){super({gl:{functions:`
                ${kg}

                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLuminosity(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                ${Og}

                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}dD.extension={name:"luminosity",type:A.BlendMode};class hD extends _t{constructor(){super({gl:{functions:`
                vec3 negation(vec3 base, vec3 blend)
                {
                    return 1.0-abs(1.0-base-blend);
                }

                vec3 blendNegation(vec3 base, vec3 blend, float opacity)
                {
                    return (negation(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return 1.0-abs(1.0-base-blend);
                }

                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}hD.extension={name:"negation",type:A.BlendMode};class fD extends _t{constructor(){super({gl:{functions:`
                float overlay(float base, float blend)
                {
                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));
                }

                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendOverlay(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn overlay(base: f32, blend: f32) -> f32
                {
                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);
                }

                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}fD.extension={name:"overlay",type:A.BlendMode};class pD extends _t{constructor(){super({gl:{functions:`
                float pinLight(float base, float blend)
                {
                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));
                }

                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn pinLight(base: f32, blend: f32) -> f32
                {
                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);
                }

                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}pD.extension={name:"pin-light",type:A.BlendMode};class mD extends _t{constructor(){super({gl:{functions:`
                ${kg}

                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                ${Og}

                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}mD.extension={name:"saturation",type:A.BlendMode};class gD extends _t{constructor(){super({gl:{functions:`
                float softLight(float base, float blend)
                {
                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));
                }

                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn softLight(base: f32, blend: f32) -> f32
                {
                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);
                }

                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}gD.extension={name:"soft-light",type:A.BlendMode};class _D extends _t{constructor(){super({gl:{functions:`
                float subtract(float base, float blend)
                {
                    return max(0.0, base - blend);
                }

                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn subtract(base: f32, blend: f32) -> f32
                {
                    return max(0, base - blend);
                }

                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}_D.extension={name:"subtract",type:A.BlendMode};class yD extends _t{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                float colorDodge(float base, float blend)
                {
                    return min(1.0, base / (1.0-blend));
                }

                float vividLight(float base, float blend)
                {
                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));
                }

                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendVividLight(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base / (1.0-blend));
                }

                fn vividLight(base: f32, blend: f32) -> f32
                {
                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);
                }

                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}yD.extension={name:"vivid-light",type:A.BlendMode};const vv=[];lt.handleByNamedList(A.Environment,vv);async function Pb(t){if(!t)for(let e=0;e<vv.length;e++){const r=vv[e];if(r.value.test()){await r.value.load();return}}}async function QW(t){return Pb(!t)}let Jl;function Ab(){if(typeof Jl=="boolean")return Jl;try{Jl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Jl=!1}return Jl}var Rb={exports:{}};Rb.exports=Ig;Rb.exports.default=Ig;function Ig(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=vD(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,c,d,h,f;if(n&&(s=rV(t,e,s,r)),t.length>80*r){a=l=t[0],u=c=t[1];for(var p=r;p<i;p+=r)d=t[p],h=t[p+1],d<a&&(a=d),h<u&&(u=h),d>l&&(l=d),h>c&&(c=h);f=Math.max(l-a,c-u),f=f!==0?32767/f:0}return Md(s,o,r,a,u,f,0),o}function vD(t,e,r,n,i){var s,o;if(i===Sv(t,e,r,n)>0)for(s=e;s<r;s+=n)o=d3(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=d3(s,t[s],t[s+1],o);return o&&Fg(o,o.next)&&(Dd(o),o=o.next),o}function Aa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Fg(r,r.next)||ot(r.prev,r,r.next)===0)){if(Dd(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Md(t,e,r,n,i,s,o){if(t){!o&&s&&aV(t,n,i,s);for(var a=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,s?JW(t,n,i,s):ZW(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Dd(t),t=l.next,a=l.next;continue}if(t=l,t===a){o?o===1?(t=eV(Aa(t),e,r),Md(t,e,r,n,i,s,2)):o===2&&tV(t,e,r,n,i,s):Md(Aa(t),e,r,n,i,s,1);break}}}}function ZW(t){var e=t.prev,r=t,n=t.next;if(ot(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,l=n.y,c=i<s?i<o?i:o:s<o?s:o,d=a<u?a<l?a:l:u<l?u:l,h=i>s?i>o?i:o:s>o?s:o,f=a>u?a>l?a:l:u>l?u:l,p=n.next;p!==e;){if(p.x>=c&&p.x<=h&&p.y>=d&&p.y<=f&&bu(i,a,s,u,o,l,p.x,p.y)&&ot(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function JW(t,e,r,n){var i=t.prev,s=t,o=t.next;if(ot(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,c=i.y,d=s.y,h=o.y,f=a<u?a<l?a:l:u<l?u:l,p=c<d?c<h?c:h:d<h?d:h,m=a>u?a>l?a:l:u>l?u:l,g=c>d?c>h?c:h:d>h?d:h,_=xv(f,p,e,r,n),v=xv(m,g,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=_&&x&&x.z<=v;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&bu(a,c,u,d,l,h,y.x,y.y)&&ot(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&bu(a,c,u,d,l,h,x.x,x.y)&&ot(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=_;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&bu(a,c,u,d,l,h,y.x,y.y)&&ot(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=v;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&bu(a,c,u,d,l,h,x.x,x.y)&&ot(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function eV(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Fg(i,s)&&xD(i,n,n.next,s)&&Bd(i,s)&&Bd(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Dd(n),Dd(n.next),n=t=s),n=n.next}while(n!==t);return Aa(n)}function tV(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&cV(o,a)){var u=bD(o,a);o=Aa(o,o.next),u=Aa(u,u.next),Md(o,e,r,n,i,s,0),Md(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function rV(t,e,r,n){var i=[],s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,l=vD(t,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(lV(l));for(i.sort(nV),s=0;s<i.length;s++)r=iV(i[s],r);return r}function nV(t,e){return t.x-e.x}function iV(t,e){var r=sV(t,e);if(!r)return e;var n=bD(r,t);return Aa(n,n.next),Aa(r,r.next)}function sV(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,l=o.x,c=o.y,d=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&bu(i<c?n:s,i,l,c,i<c?s:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Bd(r,t)&&(h<d||h===d&&(r.x>o.x||r.x===o.x&&oV(o,r)))&&(o=r,d=h)),r=r.next;while(r!==u);return o}function oV(t,e){return ot(t.prev,t,e.prev)<0&&ot(e.next,t,t.next)<0}function aV(t,e,r,n){var i=t;do i.z===0&&(i.z=xv(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,uV(i)}function uV(t){var e,r,n,i,s,o,a,u,l=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,l*=2}while(o>1);return t}function xv(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lV(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function bu(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function cV(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dV(t,e)&&(Bd(t,e)&&Bd(e,t)&&hV(t,e)&&(ot(t.prev,t,e.prev)||ot(t,e.prev,e))||Fg(t,e)&&ot(t.prev,t,t.next)>0&&ot(e.prev,e,e.next)>0)}function ot(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fg(t,e){return t.x===e.x&&t.y===e.y}function xD(t,e,r,n){var i=hf(ot(t,e,r)),s=hf(ot(t,e,n)),o=hf(ot(r,n,t)),a=hf(ot(r,n,e));return!!(i!==s&&o!==a||i===0&&df(t,r,e)||s===0&&df(t,n,e)||o===0&&df(r,t,n)||a===0&&df(r,e,n))}function df(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function hf(t){return t>0?1:t<0?-1:0}function dV(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&xD(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Bd(t,e){return ot(t.prev,t,t.next)<0?ot(t,e,t.next)>=0&&ot(t,t.prev,e)>=0:ot(t,e,t.prev)<0||ot(t,t.next,e)<0}function hV(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function bD(t,e){var r=new bv(t.i,t.x,t.y),n=new bv(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function d3(t,e,r,n){var i=new bv(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Dd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bv(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ig.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Sv(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;o-=Math.abs(Sv(t,l,c,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;d+=Math.abs((t[h]-t[p])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[p+1]-t[h+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function Sv(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Ig.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var fV=Rb.exports;const SD=gl(fV);var Lr=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Lr||{});class Mb{constructor(e){this.items=[],this._name=e}emit(e,r,n,i,s,o,a,u){const{name:l,items:c}=this;for(let d=0,h=c.length;d<h;d++)c[d][l](e,r,n,i,s,o,a,u);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const pV=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],wD=class ED extends Jr{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...pV,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Pb(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...ED.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){let n=e;if(n instanceof $e&&(n={container:n},r&&(le(de,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor=this.background.colorRgba),n.clearColor){const i=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=i?n.clearColor:Ae.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,r,n){this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Lr.ALL);const{clear:n,clearColor:i,target:s}=e;Ae.shared.setValue(i??this.background.colorRgba),r.renderTarget.clear(s,n,Ae.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new Mb(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}_addPipes(e,r){const n=r.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=n[o];this.renderPipes[o]=new s(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Ab())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};wD.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let ph=wD,ff;function mh(t){return ff!==void 0||(ff=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??ph.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Re.get().getWebGLRenderingContext())return!1;let i=Re.get().createCanvas().getContext("webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}})()),ff}let pf;async function gh(t={}){return pf!==void 0||(pf=await(async()=>{if(!Re.get().getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),pf}const h3=["webgl","webgpu","canvas"];async function TD(t){let e=[];t.preference?(e.push(t.preference),h3.forEach(s=>{s!==t.preference&&e.push(s)})):e=h3.slice();let r,n={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await gh()){const{WebGPURenderer:a}=await zp(()=>Promise.resolve().then(()=>tK),void 0);r=a,n={...t,...t.webgpu};break}else if(o==="webgl"&&mh(t.failIfMajorPerformanceCaveat??ph.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await zp(()=>Promise.resolve().then(()=>Vq),void 0);r=a,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const i=new r;return await i.init(n),i}const CD=class wv{constructor(...e){this.stage=new $e,e[0]!==void 0&&le(de,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await TD(e),wv._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return le(de,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=wv._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};CD._plugins=[];let Bb=CD;lt.handleByList(A.Application,Bb._plugins);class PD{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}PD.extension=A.Application;class AD{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ss.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Er.shared:new Er,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}AD.extension=A.Application;class Db extends Jr{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return le(de,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return le(de,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return le(de,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return le(de,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return le(de,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)(r=this.chars[n].texture)==null||r.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}const RD=class Ev{constructor(e,r,n,i){this.uid=Je("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=r,this.x1=n,this.y1=i}addColorStop(e,r){return this.gradientStops.push({offset:e,color:Ae.shared.setValue(r).toHex()}),this._styleKey=null,this}buildLinearGradient(){const e=Ev.defaultTextureSize,{gradientStops:r}=this,n=Re.get().createCanvas();n.width=e,n.height=e;const i=n.getContext("2d"),s=i.createLinearGradient(0,0,Ev.defaultTextureSize,1);for(let m=0;m<r.length;m++){const g=r[m];s.addColorStop(g.offset,g.color)}i.fillStyle=s,i.fillRect(0,0,e,e),this.texture=new X({source:new Ua({resource:n,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:o,y0:a,x1:u,y1:l}=this,c=new te,d=u-o,h=l-a,f=Math.sqrt(d*d+h*h),p=Math.atan2(h,d);c.translate(-o,-a),c.scale(1/e,1/e),c.rotate(-p),c.scale(256/f,1),this.transform=c,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(i=>`${i.offset}-${i.color}`).join("-"),r=this.texture.uid,n=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${r}-${n}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};RD.defaultTextureSize=256;let ol=RD;const f3={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class _h{constructor(e,r){this.uid=Je("fillPattern"),this.transform=new te,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=f3[r].addressModeU,e.source.style.addressModeV=f3[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var mV=_V,y_={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},gV=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function _V(t){var e=[];return t.replace(gV,function(r,n,i){var s=n.toLowerCase();for(i=vV(i),s=="m"&&i.length>2&&(e.push([n].concat(i.splice(0,2))),s="l",n=n=="m"?"l":"L");;){if(i.length==y_[s])return i.unshift(n),e.push(i);if(i.length<y_[s])throw new Error("malformed path data");e.push([n].concat(i.splice(0,y_[s])))}}),e}var yV=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function vV(t){var e=t.match(yV);return e?e.map(Number):[]}const xV=gl(mV);function MD(t,e){const r=xV(t),n=[];let i=null,s=0,o=0;for(let a=0;a<r.length;a++){const u=r[a],l=u[0],c=u;switch(l){case"M":s=c[1],o=c[2],e.moveTo(s,o);break;case"m":s+=c[1],o+=c[2],e.moveTo(s,o);break;case"H":s=c[1],e.lineTo(s,o);break;case"h":s+=c[1],e.lineTo(s,o);break;case"V":o=c[1],e.lineTo(s,o);break;case"v":o+=c[1],e.lineTo(s,o);break;case"L":s=c[1],o=c[2],e.lineTo(s,o);break;case"l":s+=c[1],o+=c[2],e.lineTo(s,o);break;case"C":s=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],s,o);break;case"c":e.bezierCurveTo(s+c[1],o+c[2],s+c[3],o+c[4],s+c[5],o+c[6]),s+=c[5],o+=c[6];break;case"S":s=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],s,o);break;case"s":e.bezierCurveToShort(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"Q":s=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],s,o);break;case"q":e.quadraticCurveTo(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"T":s=c[1],o=c[2],e.quadraticCurveToShort(s,o);break;case"t":s+=c[1],o+=c[2],e.quadraticCurveToShort(s,o);break;case"A":s=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"a":s+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"Z":case"z":e.closePath(),n.length>0&&(i=n.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:fe(`Unknown SVG path command: ${l}`)}l!=="Z"&&l!=="z"&&i===null&&(i={startX:s,startY:o},n.push(i))}return e}class Ug{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new Ug(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}strokeContains(e,r,n){if(this.radius===0)return!1;const i=this.x-e,s=this.y-r,o=this.radius,a=n/2,u=Math.sqrt(i*i+s*s);return u<o+a&&u>o-a}getBounds(e){return e=e||new Me,e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Lg{constructor(e=0,r=0,n=0,i=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=i}clone(){return new Lg(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,i=(r-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(e,r,n){const{halfWidth:i,halfHeight:s}=this;if(i<=0||s<=0)return!1;const o=n/2,a=i-o,u=s-o,l=i+o,c=s+o,d=e-this.x,h=r-this.y,f=d*d/(a*a)+h*h/(u*u),p=d*d/(l*l)+h*h/(c*c);return f>1&&p<=1}getBounds(){return new Me(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function $c(t,e,r,n,i,s){const o=t-r,a=e-n,u=i-r,l=s-n,c=o*u+a*l,d=u*u+l*l;let h=-1;d!==0&&(h=c/d);let f,p;h<0?(f=r,p=n):h>1?(f=i,p=s):(f=r+h*u,p=n+h*l);const m=t-f,g=e-p;return m*m+g*g}class ku{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.closePath=!0}clone(){const e=this.points.slice(),r=new ku(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],c=this.points[o*2+1];u>r!=c>r&&e<(l-a)*((r-u)/(c-u))+a&&(n=!n)}return n}strokeContains(e,r,n){const i=n/2,s=i*i,{points:o}=this,a=o.length-(this.closePath?0:2);for(let u=0;u<a;u+=2){const l=o[u],c=o[u+1],d=o[(u+2)%o.length],h=o[(u+3)%o.length];if($c(e,r,l,c,d,h)<=s)return!0}return!1}getBounds(e){e=e||new Me;const r=this.points;let n=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,u=r.length;a<u;a+=2){const l=r[a],c=r[a+1];n=l<n?l:n,i=l>i?l:i,s=c<s?c:s,o=c>o?c:o}return e.x=n,e.width=i-n,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const mf=(t,e,r,n,i,s)=>{const o=t-r,a=e-n,u=Math.sqrt(o*o+a*a);return u>=i-s&&u<=i+s};class Ng{constructor(e=0,r=0,n=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s}getBounds(e){return e=e||new Me,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Ng(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}strokeContains(e,r,n){const{x:i,y:s,width:o,height:a,radius:u}=this,l=n/2,c=i+u,d=s+u,h=o-u*2,f=a-u*2,p=i+o,m=s+a;return(e>=i-l&&e<=i+l||e>=p-l&&e<=p+l)&&r>=d&&r<=d+f||(r>=s-l&&r<=s+l||r>=m-l&&r<=m+l)&&e>=c&&e<=c+h?!0:e<c&&r<d&&mf(e,r,c,d,u,l)||e>p-u&&r<d&&mf(e,r,p-u,d,u,l)||e>p-u&&r>m-u&&mf(e,r,p-u,m-u,u,l)||e<c&&r>m-u&&mf(e,r,c,m-u,u,l)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var we=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(we||{});class mn extends Jr{constructor(e){let{data:r,size:n}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=Je("buffer"),this._resourceType="buffer",this._resourceId=Je("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n=n??(r==null?void 0:r.byteLength);const a=!!r;this.descriptor={size:n,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get static(){return!!(this.descriptor.usage&we.STATIC)}set static(e){e?this.descriptor.usage|=we.STATIC:this.descriptor.usage&=~we.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const i=this._data;if(this._data=e,i.length!==e.length){!this.shrinkToFit&&e.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Je("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function kb(t,e){if(!(t instanceof mn)){let r=e?we.INDEX:we.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=we.INDEX|we.COPY_DST):(t=new Float32Array(t),r=we.VERTEX|we.COPY_DST)),t=new mn({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function BD(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const i=n.buffer.data;let s=1/0,o=1/0,a=-1/0,u=-1/0;const l=i.BYTES_PER_ELEMENT,c=(n.offset||0)/l,d=(n.stride||2*4)/l;for(let h=c;h<i.length;h+=d){const f=i[h],p=i[h+1];f>a&&(a=f),p>u&&(u=p),f<s&&(s=f),p<o&&(o=p)}return r.minX=s,r.minY=o,r.maxX=a,r.maxY=u,r}function bV(t){return(t instanceof mn||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=kb(t.buffer,!1),t}class Cl extends Jr{constructor(e){const{attributes:r,indexBuffer:n,topology:i}=e;super(),this.uid=Je("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new sr,this._boundsDirty=!0,this.attributes=r,this.buffers=[],this.instanceCount=e.instanceCount||1;for(const s in r){const o=r[s]=bV(r[s]);this.buffers.indexOf(o.buffer)===-1&&(this.buffers.push(o.buffer),o.buffer.on("update",this.onBufferUpdate,this),o.buffer.on("change",this.onBufferUpdate,this))}n&&(this.indexBuffer=kb(n,!0),this.buffers.push(this.indexBuffer)),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,BD(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const SV=new Float32Array(1),wV=new Uint32Array(1);class Ob extends Cl{constructor(){const r=new mn({data:SV,label:"attribute-batch-buffer",usage:we.VERTEX|we.COPY_DST,shrinkToFit:!1}),n=new mn({data:wV,label:"index-batch-buffer",usage:we.INDEX|we.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:i,offset:0,location:1},aUV:{buffer:r,format:"float32x2",stride:i,offset:2*4,location:3},aColor:{buffer:r,format:"unorm8x4",stride:i,offset:4*4,location:0},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:i,offset:5*4,location:2}},indexBuffer:n})}}let gf=null;function Ti(){if(gf)return gf;const t=Tb();return gf=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),gf}const DD={};function Gg(t,e){let r=0;for(let n=0;n<e;n++)r=r*31+t[n].uid>>>0;return DD[r]||EV(t,r)}let v_=0;function EV(t,e){const r={};let n=0;v_||(v_=Ti());for(let s=0;s<v_;s++){const o=s<t.length?t[s]:X.EMPTY.source;r[n++]=o.source,r[n++]=o.style}const i=new Vi(r);return DD[e]=i,i}class Tv{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Wp(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const s=t.byteLength-r*8;if(s>0){const o=new Uint8Array(t,r*8,s);new Uint8Array(e,r*8,s).set(o)}}const kD={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Ft=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",t[t.NONE=4]="NONE",t))(Ft||{});function Cv(t,e){return e.alphaMode==="no-premultiply-alpha"&&kD[t]||t}class Pv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class Av{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let ec=0;const OD=class ID{constructor(e={}){this.uid=Je("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,e={...ID.defaultOptions,...e};const{vertexSize:r,indexSize:n}=e;this.attributeBuffer=new Tv(r*this._vertexSize*4),this.indexBuffer=new Uint16Array(n),this._maxTextures=Ti()}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e.indexStart=this.indexSize,e.location=this.attributeSize,e.batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.vertexSize*this._vertexSize}checkAndUpdateTexture(e,r){const n=e.batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e.textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0,e.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,e.location,e.textureId)}break(e){const r=this._elements;let n=this._textureBatchPool[this._textureBatchPoolIndex++]||new Pv;if(n.clear(),!r[this.elementStart])return;const i=r[this.elementStart];let s=Cv(i.blendMode,i.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const o=this.attributeBuffer.float32View,a=this.attributeBuffer.uint32View,u=this.indexBuffer;let l=this._batchIndexSize,c=this._batchIndexStart,d="startBatch",h=this._batchPool[this._batchPoolIndex++]||new Av;const f=this._maxTextures;for(let p=this.elementStart;p<this.elementSize;++p){const m=r[p];r[p]=null;const _=m.texture._source,v=Cv(m.blendMode,_),y=s!==v;if(_._batchTick===ec&&!y){m.textureId=_._textureBindLocation,l+=m.indexSize,m.packAttributes(o,a,m.location,m.textureId),m.packIndex(u,m.indexStart,m.location/this._vertexSize),m.batch=h;continue}_._batchTick=ec,(n.count>=f||y)&&(this._finishBatch(h,c,l-c,n,s,e,d),d="renderBatch",c=l,s=v,n=this._textureBatchPool[this._textureBatchPoolIndex++]||new Pv,n.clear(),h=this._batchPool[this._batchPoolIndex++]||new Av,++ec),m.textureId=_._textureBindLocation=n.count,n.ids[_.uid]=n.count,n.textures[n.count++]=_,m.batch=h,l+=m.indexSize,m.packAttributes(o,a,m.location,m.textureId),m.packIndex(u,m.indexStart,m.location/this._vertexSize)}n.count>0&&(this._finishBatch(h,c,l-c,n,s,e,d),c=l,++ec),this.elementStart=this.elementSize,this._batchIndexStart=c,this._batchIndexSize=l}_finishBatch(e,r,n,i,s,o,a){e.gpuBindGroup=null,e.action=a,e.batcher=this,e.textures=i,e.blendMode=s,e.start=r,e.size=n,++ec,o.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new Tv(r);Wp(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let s=0;s<r.length;s++)i[s]=r[s];else Wp(r.buffer,i.buffer);this.indexBuffer=i}destroy(){for(let e=0;e<this.batches.length;e++)this.batches[e].destroy();this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};OD.defaultOptions={vertexSize:4,indexSize:6};let Ib=OD;function Fb(t,e,r,n,i,s,o,a=null){let u=0;r*=e,i*=s;const l=a.a,c=a.b,d=a.c,h=a.d,f=a.tx,p=a.ty;for(;u<o;){const m=t[r],g=t[r+1];n[i]=l*m+d*g+f,n[i+1]=c*m+h*g+p,i+=s,r+=e,u++}}function Ub(t,e,r,n){let i=0;for(e*=r;i<n;)t[e]=0,t[e+1]=0,e+=r,i++}function zg(t,e,r,n,i){const s=e.a,o=e.b,a=e.c,u=e.d,l=e.tx,c=e.ty;r=r||0,n=n||2,i=i||t.length/n-r;let d=r*n;for(let h=0;h<i;h++){const f=t[d],p=t[d+1];t[d]=s*f+a*p+l,t[d+1]=o*f+u*p+c,d+=n}}function FD(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,a=e&255,u=r*s/255,l=n*o/255,c=i*a/255;return(u<<16)+(l<<8)+c}class $g{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(e,r,n){const i=this.geometryData.indices;for(let s=0;s<this.indexSize;s++)e[r++]=i[s+this.indexOffset]+n-this.vertexOffset}packAttributes(e,r,n,i){const s=this.geometryData,o=this.renderable,a=s.vertices,u=s.uvs,l=this.vertexOffset*2,c=(this.vertexOffset+this.vertexSize)*2,d=this.color,h=d>>16|d&65280|(d&255)<<16;if(this.applyTransform){const f=FD(h,o.groupColor)+(this.alpha*o.groupAlpha*255<<24),p=o.groupTransform,m=i<<16|this.roundPixels&65535,g=p.a,_=p.b,v=p.c,y=p.d,x=p.tx,S=p.ty;for(let w=l;w<c;w+=2){const b=a[w],E=a[w+1];e[n]=g*b+v*E+x,e[n+1]=_*b+y*E+S,e[n+2]=u[w],e[n+3]=u[w+1],r[n+4]=f,r[n+5]=m,n+=6}}else{const f=h+(this.alpha*255<<24);for(let p=l;p<c;p+=2)e[n]=a[p],e[n+1]=a[p+1],e[n+2]=u[p],e[n+3]=u[p+1],r[n+4]=f,r[n+5]=i<<16,n+=6}}get vertSize(){return this.vertexSize}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.vertexOffset=this.vertexOffset,e.vertexSize=this.vertexSize,e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const ha={build(t,e){let r,n,i,s,o,a;if(t.type==="circle"){const x=t;r=x.x,n=x.y,o=a=x.radius,i=s=0}else if(t.type==="ellipse"){const x=t;r=x.x,n=x.y,o=x.halfWidth,a=x.halfHeight,i=s=0}else{const x=t,S=x.width/2,w=x.height/2;r=x.x+S,n=x.y+w,o=a=Math.max(0,Math.min(x.radius,Math.min(S,w))),i=S-o,s=w-a}if(!(o>=0&&a>=0&&i>=0&&s>=0))return e;const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(l===0)return e;if(u===0)return e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s,e;let c=0,d=u*4+(i?2:0)+2,h=d,f=l,p=i+o,m=s,g=r+p,_=r-p,v=n+m;if(e[c++]=g,e[c++]=v,e[--d]=v,e[--d]=_,s){const x=n-m;e[h++]=_,e[h++]=x,e[--f]=x,e[--f]=g}for(let x=1;x<u;x++){const S=Math.PI/2*(x/u),w=i+Math.cos(S)*o,b=s+Math.sin(S)*a,E=r+w,T=r-w,C=n+b,M=n-b;e[c++]=E,e[c++]=C,e[--d]=C,e[--d]=T,e[h++]=T,e[h++]=M,e[--f]=M,e[--f]=E}p=i,m=s+a,g=r+p,_=r-p,v=n+m;const y=n-m;return e[c++]=g,e[c++]=v,e[--f]=y,e[--f]=g,i&&(e[c++]=_,e[c++]=v,e[--f]=y,e[--f]=_),e},triangulate(t,e,r,n,i,s){if(t.length===0)return;let o=0,a=0;for(let c=0;c<t.length;c+=2)o+=t[c],a+=t[c+1];o/=t.length/2,a/=t.length/2;let u=n;e[u*r]=o,e[u*r+1]=a;const l=u++;for(let c=0;c<t.length;c+=2)e[u*r]=t[c],e[u*r+1]=t[c+1],c>0&&(i[s++]=u,i[s++]=l,i[s++]=u-1),u++;i[s++]=l+1,i[s++]=l,i[s++]=u-1}},UD=1e-4,Rv=1e-4;function LD(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,i=t[e-2],s=t[e-1];n<e;n+=2){const o=t[n],a=t[n+1];r+=(o-i)*(a+s),i=o,s=a}return r<0?-1:1}function p3(t,e,r,n,i,s,o,a){const u=t-r*i,l=e-n*i,c=t+r*s,d=e+n*s;let h,f;o?(h=n,f=-r):(h=-n,f=r);const p=u+h,m=l+f,g=c+h,_=d+f;return a.push(p,m),a.push(g,_),2}function zo(t,e,r,n,i,s,o,a){const u=r-t,l=n-e;let c=Math.atan2(u,l),d=Math.atan2(i-t,s-e);a&&c<d?c+=Math.PI*2:!a&&c>d&&(d+=Math.PI*2);let h=c;const f=d-c,p=Math.abs(f),m=Math.sqrt(u*u+l*l),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,_=f/g;if(h+=_,a){o.push(t,e),o.push(r,n);for(let v=1,y=h;v<g;v++,y+=_)o.push(t,e),o.push(t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(let v=1,y=h;v<g;v++,y+=_)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m),o.push(t,e);o.push(i,s),o.push(t,e)}return g*2}function ND(t,e,r,n,i,s,o,a,u){const l=UD;if(t.length===0)return;const c=e;let d=c.alignment;if(e.alignment!==.5){let W=LD(t);r&&(W*=-1),d=(d-.5)*W+.5}const h=new De(t[0],t[1]),f=new De(t[t.length-2],t[t.length-1]),p=n,m=Math.abs(h.x-f.x)<l&&Math.abs(h.y-f.y)<l;if(p){t=t.slice(),m&&(t.pop(),t.pop(),f.set(t[t.length-2],t[t.length-1]));const W=(h.x+f.x)*.5,ve=(f.y+h.y)*.5;t.unshift(W,ve),t.push(W,ve)}const g=i,_=t.length/2;let v=t.length;const y=g.length/2,x=c.width/2,S=x*x,w=c.miterLimit*c.miterLimit;let b=t[0],E=t[1],T=t[2],C=t[3],M=0,N=0,D=-(E-C),B=b-T,U=0,I=0,$=Math.sqrt(D*D+B*B);D/=$,B/=$,D*=x,B*=x;const O=d,F=(1-O)*2,G=O*2;p||(c.cap==="round"?v+=zo(b-D*(F-G)*.5,E-B*(F-G)*.5,b-D*F,E-B*F,b+D*G,E+B*G,g,!0)+2:c.cap==="square"&&(v+=p3(b,E,D,B,F,G,!0,g))),g.push(b-D*F,E-B*F),g.push(b+D*G,E+B*G);for(let W=1;W<_-1;++W){b=t[(W-1)*2],E=t[(W-1)*2+1],T=t[W*2],C=t[W*2+1],M=t[(W+1)*2],N=t[(W+1)*2+1],D=-(E-C),B=b-T,$=Math.sqrt(D*D+B*B),D/=$,B/=$,D*=x,B*=x,U=-(C-N),I=T-M,$=Math.sqrt(U*U+I*I),U/=$,I/=$,U*=x,I*=x;const ve=T-b,re=E-C,ae=T-M,me=N-C,Ue=ve*ae+re*me,Q=re*ae-me*ve,he=Q<0;if(Math.abs(Q)<.001*Math.abs(Ue)){g.push(T-D*F,C-B*F),g.push(T+D*G,C+B*G),Ue>=0&&(c.join==="round"?v+=zo(T,C,T-D*F,C-B*F,T-U*F,C-I*F,g,!1)+4:v+=2,g.push(T-U*G,C-I*G),g.push(T+U*F,C+I*F));continue}const et=(-D+b)*(-B+C)-(-D+T)*(-B+E),yt=(-U+M)*(-I+C)-(-U+T)*(-I+N),Be=(ve*yt-ae*et)/Q,Dt=(me*et-re*yt)/Q,vr=(Be-T)*(Be-T)+(Dt-C)*(Dt-C),dt=T+(Be-T)*F,tt=C+(Dt-C)*F,or=T-(Be-T)*G,kt=C-(Dt-C)*G,Ai=Math.min(ve*ve+re*re,ae*ae+me*me),Ct=he?F:G,Ar=Ai+Ct*Ct*S;vr<=Ar?c.join==="bevel"||vr/S>w?(he?(g.push(dt,tt),g.push(T+D*G,C+B*G),g.push(dt,tt),g.push(T+U*G,C+I*G)):(g.push(T-D*F,C-B*F),g.push(or,kt),g.push(T-U*F,C-I*F),g.push(or,kt)),v+=2):c.join==="round"?he?(g.push(dt,tt),g.push(T+D*G,C+B*G),v+=zo(T,C,T+D*G,C+B*G,T+U*G,C+I*G,g,!0)+4,g.push(dt,tt),g.push(T+U*G,C+I*G)):(g.push(T-D*F,C-B*F),g.push(or,kt),v+=zo(T,C,T-D*F,C-B*F,T-U*F,C-I*F,g,!1)+4,g.push(T-U*F,C-I*F),g.push(or,kt)):(g.push(dt,tt),g.push(or,kt)):(g.push(T-D*F,C-B*F),g.push(T+D*G,C+B*G),c.join==="round"?he?v+=zo(T,C,T+D*G,C+B*G,T+U*G,C+I*G,g,!0)+2:v+=zo(T,C,T-D*F,C-B*F,T-U*F,C-I*F,g,!1)+2:c.join==="miter"&&vr/S<=w&&(he?(g.push(or,kt),g.push(or,kt)):(g.push(dt,tt),g.push(dt,tt)),v+=2),g.push(T-U*F,C-I*F),g.push(T+U*G,C+I*G),v+=2)}b=t[(_-2)*2],E=t[(_-2)*2+1],T=t[(_-1)*2],C=t[(_-1)*2+1],D=-(E-C),B=b-T,$=Math.sqrt(D*D+B*B),D/=$,B/=$,D*=x,B*=x,g.push(T-D*F,C-B*F),g.push(T+D*G,C+B*G),p||(c.cap==="round"?v+=zo(T-D*(F-G)*.5,C-B*(F-G)*.5,T-D*F,C-B*F,T+D*G,C+B*G,g,!1)+2:c.cap==="square"&&(v+=p3(T,C,D,B,F,G,!1,g)));const oe=Rv*Rv;for(let W=y;W<v+y-2;++W)b=g[W*2],E=g[W*2+1],T=g[(W+1)*2],C=g[(W+1)*2+1],M=g[(W+2)*2],N=g[(W+2)*2+1],!(Math.abs(b*(C-N)+T*(N-E)+M*(E-C))<oe)&&a.push(W,W+1,W+2)}function Lb(t,e,r,n,i,s,o){const a=SD(t,e,2);if(!a)return;for(let l=0;l<a.length;l+=3)s[o++]=a[l]+i,s[o++]=a[l+1]+i,s[o++]=a[l+2]+i;let u=i*n;for(let l=0;l<t.length;l+=2)r[u]=t[l],r[u+1]=t[l+1],u+=n}const TV=[],Nb={build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return e},triangulate(t,e,r,n,i,s){Lb(t,TV,e,r,n,i,s)}},Gb={build(t,e){const r=t,n=r.x,i=r.y,s=r.width,o=r.height;return s>=0&&o>=0&&(e[0]=n,e[1]=i,e[2]=n+s,e[3]=i,e[4]=n+s,e[5]=i+o,e[6]=n,e[7]=i+o),e},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},zb={build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},$b={rectangle:Gb,polygon:Nb,triangle:zb,circle:ha,ellipse:ha,roundedRectangle:ha},CV=new Me;function GD(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")PV(s.data,n,r);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,u=s.data.style,l=s.data.hole;o&&l&&m3(l.shapePath,u,null,!0,n,r),m3(a,u,l,o,n,r)}}}function PV(t,e,r){const{vertices:n,uvs:i,indices:s}=r,o=s.length,a=n.length/2,u=[],l=$b.rectangle,c=CV,d=t.image;c.x=t.dx,c.y=t.dy,c.width=t.dw,c.height=t.dh;const h=t.transform;l.build(c,u),h&&zg(u,h),l.triangulate(u,n,2,a,s,o);const f=d.uvs;i.push(f.x0,f.y0,f.x1,f.y1,f.x3,f.y3,f.x2,f.y2);const p=Pe.get($g);p.indexOffset=o,p.indexSize=s.length-o,p.vertexOffset=a,p.vertexSize=n.length/2-a,p.color=t.style,p.alpha=t.alpha,p.texture=d,p.geometryData=r,e.push(p)}function m3(t,e,r,n,i,s){const{vertices:o,uvs:a,indices:u}=s,l=t.shapePrimitives.length-1;t.shapePrimitives.forEach(({shape:c,transform:d},h)=>{const f=u.length,p=o.length/2,m=[],g=$b[c.type];if(g.build(c,m),d&&zg(m,d),n){const x=c.closePath??!0;ND(m,e,!1,x,o,2,p,u)}else if(r&&l===h){l!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const x=[],S=m.slice();AV(r.shapePath).forEach(b=>{x.push(S.length/2),S.push(...b)}),Lb(S,x,o,2,p,u,f)}else g.triangulate(m,o,2,p,u,f);const _=a.length/2,v=e.texture;if(v!==X.WHITE){const x=e.matrix;d&&x&&x.append(d.clone().invert()),Fb(o,2,p,a,_,2,o.length/2-p,x)}else Ub(a,_,2,o.length/2-p);const y=Pe.get($g);y.indexOffset=f,y.indexSize=u.length-f,y.vertexOffset=p,y.vertexSize=o.length/2-p,y.color=e.color,y.alpha=e.alpha,y.texture=v,y.geometryData=s,i.push(y)})}function AV(t){if(!t)return[];const e=t.shapePrimitives,r=[];for(let n=0;n<e.length;n++){const i=e[n].shape,s=[];$b[i.type].build(i,s),r.push(s)}return r}class zD{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class $D{constructor(){this.geometry=new Ob,this.instructions=new yb}init(){this.instructions.reset()}}const Hb=class Mv{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null)}init(e){Mv.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Mv.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),GD(e,r);const n=e.batchMode;e.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"&&(r.isBatchable=r.geometryData.vertices.length<400),e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_returnActiveBatchers(){for(let e=0;e<this._activeBatchers.length;e++)Pe.return(this._activeBatchers[e]);this._activeBatchers.length=0}_initContextRenderData(e){const r=Pe.get($D),{batches:n,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let c=0;c<n.length;c++)n[c].applyTransform=!1;const a=Pe.get(Ib);this._activeBatchers.push(a),a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let c=0;c<n.length;c++){const d=n[c];a.add(d)}a.finish(r.instructions);const u=r.geometry;u.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),u.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const l=a.batches;for(let c=0;c<l.length;c++){const d=l[c];d.bindGroup=Gg(d.textures.textures,d.textures.count)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new zD;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(Pe.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(n=>{Pe.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};Hb.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"graphicsContext"};Hb.defaultOptions={bezierSmoothness:.5};let jb=Hb;const RV=8,_f=11920929e-14,MV=1;function Wb(t,e,r,n,i,s,o,a,u,l){const d=Math.min(.99,Math.max(0,l??jb.defaultOptions.bezierSmoothness));let h=(MV-d)/1;return h*=h,BV(e,r,n,i,s,o,a,u,t,h),t}function BV(t,e,r,n,i,s,o,a,u,l){Bv(t,e,r,n,i,s,o,a,u,l,0),u.push(o,a)}function Bv(t,e,r,n,i,s,o,a,u,l,c){if(c>RV)return;const d=(t+r)/2,h=(e+n)/2,f=(r+i)/2,p=(n+s)/2,m=(i+o)/2,g=(s+a)/2,_=(d+f)/2,v=(h+p)/2,y=(f+m)/2,x=(p+g)/2,S=(_+y)/2,w=(v+x)/2;if(c>0){let b=o-t,E=a-e;const T=Math.abs((r-o)*E-(n-a)*b),C=Math.abs((i-o)*E-(s-a)*b);if(T>_f&&C>_f){if((T+C)*(T+C)<=l*(b*b+E*E)){u.push(S,w);return}}else if(T>_f){if(T*T<=l*(b*b+E*E)){u.push(S,w);return}}else if(C>_f){if(C*C<=l*(b*b+E*E)){u.push(S,w);return}}else if(b=S-(t+o)/2,E=w-(e+a)/2,b*b+E*E<=l){u.push(S,w);return}}Bv(t,e,d,h,_,v,S,w,u,l,c+1),Bv(S,w,y,x,m,g,o,a,u,l,c+1)}const DV=8,kV=11920929e-14,OV=1;function HD(t,e,r,n,i,s,o,a){const l=Math.min(.99,Math.max(0,a??jb.defaultOptions.bezierSmoothness));let c=(OV-l)/1;return c*=c,IV(e,r,n,i,s,o,t,c),t}function IV(t,e,r,n,i,s,o,a){Dv(o,t,e,r,n,i,s,a,0),o.push(i,s)}function Dv(t,e,r,n,i,s,o,a,u){if(u>DV)return;const l=(e+n)/2,c=(r+i)/2,d=(n+s)/2,h=(i+o)/2,f=(l+d)/2,p=(c+h)/2;let m=s-e,g=o-r;const _=Math.abs((n-s)*g-(i-o)*m);if(_>kV){if(_*_<=a*(m*m+g*g)){t.push(f,p);return}}else if(m=f-(e+s)/2,g=p-(r+o)/2,m*m+g*g<=a){t.push(f,p);return}Dv(t,e,r,l,c,f,p,a,u+1),Dv(t,f,p,d,h,s,o,a,u+1)}function Vb(t,e,r,n,i,s,o,a){let u=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(u=2*Math.PI-u),a=a||Math.max(6,Math.floor(6*Math.pow(n,1/3)*(u/Math.PI))),a=Math.max(a,3);let l=u/a,c=i;l*=o?-1:1;for(let d=0;d<a+1;d++){const h=Math.cos(c),f=Math.sin(c),p=e+h*n,m=r+f*n;t.push(p,m),c+=l}}function jD(t,e,r,n,i,s){const o=t[t.length-2],u=t[t.length-1]-r,l=o-e,c=i-r,d=n-e,h=Math.abs(u*d-l*c);if(h<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const f=u*u+l*l,p=c*c+d*d,m=u*c+l*d,g=s*Math.sqrt(f)/h,_=s*Math.sqrt(p)/h,v=g*m/f,y=_*m/p,x=g*d+_*l,S=g*c+_*u,w=l*(_+v),b=u*(_+v),E=d*(g+y),T=c*(g+y),C=Math.atan2(b-S,w-x),M=Math.atan2(T-S,E-x);Vb(t,x+e,S+r,s,C,M,l*c>d*u)}const Hc=Math.PI*2,x_={centerX:0,centerY:0,ang1:0,ang2:0},b_=({x:t,y:e},r,n,i,s,o,a,u)=>{t*=r,e*=n;const l=i*t-s*e,c=s*t+i*e;return u.x=l+o,u.y=c+a,u};function FV(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-s*n,y:s+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}const g3=(t,e,r,n)=>{const i=t*n-e*r<0?-1:1;let s=t*r+e*n;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},UV=(t,e,r,n,i,s,o,a,u,l,c,d,h)=>{const f=Math.pow(i,2),p=Math.pow(s,2),m=Math.pow(c,2),g=Math.pow(d,2);let _=f*p-f*g-p*m;_<0&&(_=0),_/=f*g+p*m,_=Math.sqrt(_)*(o===a?-1:1);const v=_*i/s*d,y=_*-s/i*c,x=l*v-u*y+(t+r)/2,S=u*v+l*y+(e+n)/2,w=(c-v)/i,b=(d-y)/s,E=(-c-v)/i,T=(-d-y)/s,C=g3(1,0,w,b);let M=g3(w,b,E,T);a===0&&M>0&&(M-=Hc),a===1&&M<0&&(M+=Hc),h.centerX=x,h.centerY=S,h.ang1=C,h.ang2=M};function WD(t,e,r,n,i,s,o,a=0,u=0,l=0){if(s===0||o===0)return;const c=Math.sin(a*Hc/360),d=Math.cos(a*Hc/360),h=d*(e-n)/2+c*(r-i)/2,f=-c*(e-n)/2+d*(r-i)/2;if(h===0&&f===0)return;s=Math.abs(s),o=Math.abs(o);const p=Math.pow(h,2)/Math.pow(s,2)+Math.pow(f,2)/Math.pow(o,2);p>1&&(s*=Math.sqrt(p),o*=Math.sqrt(p)),UV(e,r,n,i,s,o,u,l,c,d,h,f,x_);let{ang1:m,ang2:g}=x_;const{centerX:_,centerY:v}=x_;let y=Math.abs(g)/(Hc/4);Math.abs(1-y)<1e-7&&(y=1);const x=Math.max(Math.ceil(y),1);g/=x;let S=t[t.length-2],w=t[t.length-1];const b={x:0,y:0};for(let E=0;E<x;E++){const T=FV(m,g),{x:C,y:M}=b_(T[0],s,o,d,c,_,v,b),{x:N,y:D}=b_(T[1],s,o,d,c,_,v,b),{x:B,y:U}=b_(T[2],s,o,d,c,_,v,b);Wb(t,S,w,C,M,N,D,B,U),S=B,w=U,m+=g}}function VD(t,e,r){const n=(o,a)=>{const u=a.x-o.x,l=a.y-o.y,c=Math.sqrt(u*u+l*l),d=u/c,h=l/c;return{len:c,nx:d,ny:h}},i=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],u=a.radius??r;if(u<=0){i(o,a),s=a;continue}const l=e[(o+1)%e.length],c=n(a,s),d=n(a,l);if(c.len<1e-4||d.len<1e-4){i(o,a),s=a;continue}let h=Math.asin(c.nx*d.ny-c.ny*d.nx),f=1,p=!1;c.nx*d.nx-c.ny*-d.ny<0?h<0?h=Math.PI+h:(h=Math.PI-h,f=-1,p=!0):h>0&&(f=-1,p=!0);const m=h/2;let g,_=Math.abs(Math.cos(m)*u/Math.sin(m));_>Math.min(c.len/2,d.len/2)?(_=Math.min(c.len/2,d.len/2),g=Math.abs(_*Math.sin(m)/Math.cos(m))):g=u;const v=a.x+d.nx*_+-d.ny*g*f,y=a.y+d.ny*_+d.nx*g*f,x=Math.atan2(c.ny,c.nx)+Math.PI/2*f,S=Math.atan2(d.ny,d.nx)-Math.PI/2*f;o===0&&t.moveTo(v+Math.cos(x)*g,y+Math.sin(x)*g),t.arc(v,y,g,x,S,p),s=a}}function XD(t,e,r,n){const i=(a,u)=>Math.sqrt((a.x-u.x)**2+(a.y-u.y)**2),s=(a,u,l)=>({x:a.x+(u.x-a.x)*l,y:a.y+(u.y-a.y)*l}),o=e.length;for(let a=0;a<o;a++){const u=e[(a+1)%o],l=u.radius??r;if(l<=0){a===0?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y);continue}const c=e[a],d=e[(a+2)%o],h=i(c,u);let f;if(h<1e-4)f=u;else{const g=Math.min(h/2,l);f=s(u,c,g/h)}const p=i(d,u);let m;if(p<1e-4)m=u;else{const g=Math.min(p/2,l);m=s(u,d,g/p)}a===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y),t.quadraticCurveTo(u.x,u.y,m.x,m.y,n)}}const LV=new Me;class YD{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new sr,this._graphicsPath2D=e}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}arc(e,r,n,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return Vb(a,e,r,n,i,s,o),this}arcTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly.points;return jD(o,e,r,n,i,s),this}arcToSvg(e,r,n,i,s,o,a){const u=this._currentPoly.points;return WD(u,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o,a){this._ensurePoly();const u=this._currentPoly;return Wb(this._currentPoly.points,u.lastX,u.lastY,e,r,n,i,s,o,a),this}quadraticCurveTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly;return HD(this._currentPoly.points,o.lastX,o.lastY,e,r,n,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));for(let n=0;n<e.instructions.length;n++){const i=e.instructions[n];this[i.action](...i.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,i,s){return this.drawShape(new Me(e,r,n,i),s),this}circle(e,r,n,i){return this.drawShape(new Ug(e,r,n),i),this}poly(e,r,n){const i=new ku(e);return i.closePath=r,this.drawShape(i,n),this}regularPoly(e,r,n,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,u=Math.PI*2/i,l=[];for(let c=0;c<i;c++){const d=c*u+a;l.push(e+n*Math.cos(d),r+n*Math.sin(d))}return this.poly(l,!0,o),this}roundPoly(e,r,n,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,r,n,i,o);const u=n*Math.sin(Math.PI/i)-.001;s=Math.min(s,u);const l=-1*Math.PI/2+o,c=Math.PI*2/i,d=(i-2)*Math.PI/i/2;for(let h=0;h<i;h++){const f=h*c+l,p=e+n*Math.cos(f),m=r+n*Math.sin(f),g=f+Math.PI+d,_=f-Math.PI-d,v=p+s*Math.cos(g),y=m+s*Math.sin(g),x=p+s*Math.cos(_),S=m+s*Math.sin(_);h===0?this.moveTo(v,y):this.lineTo(v,y),this.quadraticCurveTo(p,m,x,S,a)}return this.closePath()}roundShape(e,r,n=!1,i){return e.length<3?this:(n?XD(this,e,r,i):VD(this,e,r),this.closePath())}filletRect(e,r,n,i,s){if(s===0)return this.rect(e,r,n,i);const o=Math.min(n,i)/2,a=Math.min(o,Math.max(-o,s)),u=e+n,l=r+i,c=a<0?-a:0,d=Math.abs(a);return this.moveTo(e,r+d).arcTo(e+c,r+c,e+d,r,d).lineTo(u-d,r).arcTo(u-c,r+c,u,r+d,d).lineTo(u,l-d).arcTo(u-c,l-c,e+n-d,l,d).lineTo(e+d,l).arcTo(e+c,l-c,e,l-d,d).closePath()}chamferRect(e,r,n,i,s,o){if(s<=0)return this.rect(e,r,n,i);const a=Math.min(s,Math.min(n,i)/2),u=e+n,l=r+i,c=[e+a,r,u-a,r,u,r+a,u,l-a,u-a,l,e+a,l,e,l-a,e,r+a];for(let d=c.length-1;d>=2;d-=2)c[d]===c[d-2]&&c[d-1]===c[d-3]&&c.splice(d-1,2);return this.poly(c,!0,o)}ellipse(e,r,n,i,s){return this.drawShape(new Lg(e,r,n,i),s),this}roundRect(e,r,n,i,s,o){return this.drawShape(new Ng(e,r,n,i,s),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new ku,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new ku,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,i=r.shape.y;if(!r.transform.isIdentity()){const s=r.transform,o=n;n=s.a*n+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const i=r[n],s=i.shape.getBounds(LV);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class So{constructor(e){this.instructions=[],this.uid=Je("graphicsPath"),this._dirty=!0,typeof e=="string"?MD(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new YD(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(De.shared);let u=0,l=0;if(!o||o.action!=="bezierCurveTo")u=a.x,l=a.y;else{u=o.data[2],l=o.data[3];const c=a.x,d=a.y;u=c+(c-u),l=d+(d-l)}return this.instructions.push({action:"bezierCurveTo",data:[u,l,e,r,n,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(De.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const u=s.x,l=s.y;o=u+(u-o),a=l+(l-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,r,n]}),this._dirty=!0,this}rect(e,r,n,i,s){return this.instructions.push({action:"rect",data:[e,r,n,i,s]}),this._dirty=!0,this}circle(e,r,n,i){return this.instructions.push({action:"circle",data:[e,r,n,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,i,s,o,a){s=s||i/2;const u=-1*Math.PI/2+o,l=n*2,c=Math.PI*2/l,d=[];for(let h=0;h<l;h++){const f=h%2?s:i,p=h*c+u;d.push(e+f*Math.cos(p),r+f*Math.sin(p))}return this.poly(d,!0,a),this}clone(e=!1){const r=new So;if(!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];r.instructions.push({action:i.action,data:i.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let u=0,l=0,c=0,d=0,h=0,f=0,p=0,m=0;for(let g=0;g<this.instructions.length;g++){const _=this.instructions[g],v=_.data;switch(_.action){case"moveTo":case"lineTo":u=v[0],l=v[1],v[0]=r*u+i*l+o,v[1]=n*u+s*l+a;break;case"bezierCurveTo":c=v[0],d=v[1],h=v[2],f=v[3],u=v[4],l=v[5],v[0]=r*c+i*d+o,v[1]=n*c+s*d+a,v[2]=r*h+i*f+o,v[3]=n*h+s*f+a,v[4]=r*u+i*l+o,v[5]=n*u+s*l+a;break;case"quadraticCurveTo":c=v[0],d=v[1],u=v[2],l=v[3],v[0]=r*c+i*d+o,v[1]=n*c+s*d+a,v[2]=r*u+i*l+o,v[3]=n*u+s*l+a;break;case"arcToSvg":u=v[5],l=v[6],p=v[0],m=v[1],v[0]=r*p+i*m,v[1]=n*p+s*m,v[5]=r*u+i*l+o,v[6]=n*u+s*l+a;break;case"circle":v[4]=tc(v[3],e);break;case"rect":v[4]=tc(v[4],e);break;case"ellipse":v[8]=tc(v[8],e);break;case"roundRect":v[5]=tc(v[5],e);break;case"addPath":v[0].transform(e);break;case"poly":v[2]=tc(v[2],e);break;default:fe("unknown transform action",_.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function tc(t,e){return t?t.prepend(e):e.clone()}function qD(t,e){if(typeof t=="string"){const n=document.createElement("div");n.innerHTML=t.trim(),t=n.querySelector("svg")}const r={context:e,path:new So};return KD(t,r,null,null),e}function KD(t,e,r,n){const i=t.children,{fillStyle:s,strokeStyle:o}=NV(t);s&&r?r={...r,...s}:s&&(r=s),o&&n?n={...n,...o}:o&&(n=o),e.context.fillStyle=r,e.context.strokeStyle=n;let a,u,l,c,d,h,f,p,m,g,_,v,y,x,S,w,b;switch(t.nodeName.toLowerCase()){case"path":x=t.getAttribute("d"),S=new So(x),e.context.path(S),r&&e.context.fill(),n&&e.context.stroke();break;case"circle":f=jt(t,"cx",0),p=jt(t,"cy",0),m=jt(t,"r",0),e.context.ellipse(f,p,m,m),r&&e.context.fill(),n&&e.context.stroke();break;case"rect":a=jt(t,"x",0),u=jt(t,"y",0),w=jt(t,"width",0),b=jt(t,"height",0),g=jt(t,"rx",0),_=jt(t,"ry",0),g||_?e.context.roundRect(a,u,w,b,g||_):e.context.rect(a,u,w,b),r&&e.context.fill(),n&&e.context.stroke();break;case"ellipse":f=jt(t,"cx",0),p=jt(t,"cy",0),g=jt(t,"rx",0),_=jt(t,"ry",0),e.context.beginPath(),e.context.ellipse(f,p,g,_),r&&e.context.fill(),n&&e.context.stroke();break;case"line":l=jt(t,"x1",0),c=jt(t,"y1",0),d=jt(t,"x2",0),h=jt(t,"y2",0),e.context.beginPath(),e.context.moveTo(l,c),e.context.lineTo(d,h),n&&e.context.stroke();break;case"polygon":y=t.getAttribute("points"),v=y.match(/\d+/g).map(E=>parseInt(E,10)),e.context.poly(v,!0),r&&e.context.fill(),n&&e.context.stroke();break;case"polyline":y=t.getAttribute("points"),v=y.match(/\d+/g).map(E=>parseInt(E,10)),e.context.poly(v,!1),n&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}for(let E=0;E<i.length;E++)KD(i[E],e,r,n)}function jt(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function NV(t){const e=t.getAttribute("style"),r={},n={};let i=!1,s=!1;if(e){const o=e.split(";");for(let a=0;a<o.length;a++){const u=o[a],[l,c]=u.split(":");switch(l){case"stroke":c!=="none"&&(r.color=Ae.shared.setValue(c).toNumber(),s=!0);break;case"stroke-width":r.width=Number(c);break;case"fill":c!=="none"&&(i=!0,n.color=Ae.shared.setValue(c).toNumber());break;case"fill-opacity":n.alpha=Number(c);break;case"stroke-opacity":r.alpha=Number(c);break;case"opacity":n.alpha=Number(c),r.alpha=Number(c);break}}}else{const o=t.getAttribute("stroke");o&&o!=="none"&&(s=!0,r.color=Ae.shared.setValue(o).toNumber(),r.width=jt(t,"stroke-width",1));const a=t.getAttribute("fill");a&&a!=="none"&&(i=!0,n.color=Ae.shared.setValue(a).toNumber())}return{strokeStyle:s?r:null,fillStyle:i?n:null}}function GV(t){return Ae.isColorLike(t)}function _3(t){return t instanceof _h}function y3(t){return t instanceof ol}function zV(t,e,r){const n=Ae.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=X.WHITE,{...r,...t}}function v3(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function x3(t,e,r){return e.buildLinearGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function $V(t,e){var i;const r={...e,...t};if(r.texture){if(r.texture!==X.WHITE){const o=((i=r.matrix)==null?void 0:i.invert())||new te;o.scale(1/r.texture.frame.width,1/r.texture.frame.height),r.matrix=o}const s=r.texture.source.style;s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat")}const n=Ae.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r.matrix=r.matrix?r.matrix.clone():null,r}function Js(t,e){if(t==null)return null;const r={},n=t;return GV(t)?zV(r,t,e):_3(t)?v3(r,t,e):y3(t)?x3(r,t,e):n.fill&&_3(n.fill)?v3(n,n.fill,e):n.fill&&y3(n.fill)?x3(n,n.fill,e):$V(n,e)}function kd(t,e){const{width:r,alignment:n,miterLimit:i,cap:s,join:o,...a}=e,u=Js(t,a);return u?{width:r,alignment:n,miterLimit:i,cap:s,join:o,...u}:null}const HV=new De,b3=new te,Xb=class Bi extends Jr{constructor(){super(...arguments),this.uid=Je("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new So,this._transform=new te,this._fillStyle={...Bi.defaultFillStyle},this._strokeStyle={...Bi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new sr,this._boundsDirty=!0}clone(){const e=new Bi;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Js(e,Bi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=kd(e,Bi.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Js(e,Bi.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Js(e,Bi.defaultStrokeStyle),this}texture(e,r,n,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Ae.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new So,this}fill(e,r){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(le(de,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=Js(e,Bi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(De.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=kd(e,Bi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,n,i,s,o),this}arcTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}arcToSvg(e,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.arcToSvg(e,r,n,i,s,u.a*o+u.c*a+u.tx,u.b*o+u.d*a+u.ty),this}bezierCurveTo(e,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.bezierCurveTo(u.a*e+u.c*r+u.tx,u.b*e+u.d*r+u.ty,u.a*n+u.c*i+u.tx,u.b*n+u.d*i+u.ty,u.a*s+u.c*o+u.tx,u.b*s+u.d*o+u.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,i){return this._tick++,this._activePath.ellipse(e,r,n,i,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,i=this._activePath.instructions,s=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}rect(e,r,n,i){return this._tick++,this._activePath.rect(e,r,n,i,this._transform.clone()),this}roundRect(e,r,n,i,s){return this._tick++,this._activePath.roundRect(e,r,n,i,s,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,i,s,o),this}roundPoly(e,r,n,i,s,o){return this._tick++,this._activePath.roundPoly(e,r,n,i,s,o),this}roundShape(e,r,n,i){return this._tick++,this._activePath.roundShape(e,r,n,i),this}filletRect(e,r,n,i,s){return this._tick++,this._activePath.filletRect(e,r,n,i,s),this}chamferRect(e,r,n,i,s,o){return this._tick++,this._activePath.chamferRect(e,r,n,i,s,o),this}star(e,r,n,i,s=0,o=0){return this._tick++,this._activePath.star(e,r,n,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,qD(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,i,s,o){return e instanceof te?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,i,s,o),this)}transform(e,r,n,i,s,o){return e instanceof te?(this._transform.append(e),this):(b3.set(e,r,n,i,s,o),this._transform.append(b3),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],i=n.action;if(i==="fill"){const s=n.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=n.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=n.data,o=s.style.width/2,a=s.path.bounds;e.addFrame(a.minX-o,a.minY-o,a.maxX+o,a.maxY+o)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let s=0;s<r.length;s++){const o=r[s],a=o.data,u=a.path;if(!o.action||!u)continue;const l=a.style,c=u.shapePath.shapePrimitives;for(let d=0;d<c.length;d++){const h=c[d].shape;if(!l||!h)continue;const f=c[d].transform,p=f?f.applyInverse(e,HV):e;o.action==="fill"?n=h.contains(p.x,p.y):n=h.strokeContains(p.x,p.y,l.width);const m=a.hole;if(m){const g=(i=m.shapePath)==null?void 0:i.shapePrimitives;if(g)for(let _=0;_<g.length;_++)g[_].shape.contains(p.x,p.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Xb.defaultFillStyle={color:16777215,alpha:1,texture:X.WHITE,matrix:null,fill:null};Xb.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:X.WHITE,matrix:null,fill:null};let Sr=Xb;const S3=["align","breakWords","cssOverrides","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth"];function Yb(t){const e=[];let r=0;for(let n=0;n<S3.length;n++){const i=`_${S3[n]}`;e[r++]=t[i]}return r=QD(t._fill,e,r),r=jV(t._stroke,e,r),r=WV(t.dropShadow,e,r),e.join("-")}function QD(t,e,r){var n;return t&&(e[r++]=t.color,e[r++]=t.alpha,e[r++]=(n=t.fill)==null?void 0:n.styleKey),r}function jV(t,e,r){return t&&(r=QD(t,e,r),e[r++]=t.width,e[r++]=t.alignment,e[r++]=t.cap,e[r++]=t.join,e[r++]=t.miterLimit),r}function WV(t,e,r){return t&&(e[r++]=t.alpha,e[r++]=t.angle,e[r++]=t.blur,e[r++]=t.distance,e[r++]=Ae.shared.setValue(t.color).toNumber()),r}const qb=class iu extends Jr{constructor(e={}){super(),VV(e);const r={...iu.defaultTextStyle,...e};for(const n in r){const i=n;this[i]=r[n]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...iu.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...iu.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...Sr.defaultFillStyle,...e},()=>{this._fill=Js({...this._originalFill},Sr.defaultFillStyle)})),this._fill=Js(e===0?"black":e,Sr.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...Sr.defaultStrokeStyle,...e},()=>{this._stroke=kd({...this._originalStroke},Sr.defaultStrokeStyle)})),this._stroke=kd(e,Sr.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=Yb(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=iu.defaultTextStyle;for(const r in e)this[r]=e[r]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new iu({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){var n,i,s,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(n=this._fill)!=null&&n.texture&&this._fill.texture.destroy(a),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(a),(s=this._stroke)!=null&&s.texture&&this._stroke.texture.destroy(a),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,r){return new Proxy(e,{set:(n,i,s)=>(n[i]=s,r==null||r(i,s),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Ae.isColorLike(e)||e instanceof ol||e instanceof _h)}};qb.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};qb.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ii=qb;function VV(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const r=ii.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??r.alpha,angle:e.dropShadowAngle??r.angle,blur:e.dropShadowBlur??r.blur,color:e.dropShadowColor??r.color,distance:e.dropShadowDistance??r.distance}}if(e.strokeThickness!==void 0){le(de,"strokeThickness is now a part of stroke");const r=e.stroke;let n={};if(Ae.isColorLike(r))n.color=r;else if(r instanceof ol||r instanceof _h)n.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))n=r;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){le(de,"gradient fill is now a fill pattern: `new FillGradient(...)`");let r;t.fontSize==null?t.fontSize=ii.defaultTextStyle.fontSize:typeof t.fontSize=="string"?r=parseInt(t.fontSize,10):r=t.fontSize;const n=new ol(0,0,0,r*1.7),i=e.fillGradientStops.map(s=>Ae.shared.setValue(s).toNumber());i.forEach((s,o)=>{const a=o/(i.length-1);n.addColorStop(a,s)}),t.fill={fill:n}}}class ZD{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,r){const n=Re.get().createCanvas();n.width=e,n.height=r;const i=n.getContext("2d");return{canvas:n,context:i}}getOptimalCanvasAndContext(e,r,n=1){e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),e=Ca(e),r=Ca(r);const i=(e<<17)+(r<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,r)),s}returnCanvasAndContext(e){const{width:r,height:n}=e.canvas,i=(r<<17)+(n<<1);this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const Xi=new ZD,XV=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Od(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!XV.includes(i)&&(i=`"${i}"`),r[n]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${r.join(",")}`}const S_={willReadFrequently:!0},Pi=class J{static get experimentalLetterSpacingSupported(){let e=J._experimentalLetterSpacingSupported;if(e!==void 0){const r=Re.get().getCanvasRenderingContext2D().prototype;e=J._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,u,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(e=" ",r,n=J._canvas,i=r.wordWrap){var v;const s=`${e}:${r.styleKey}`;if(J._measurementCache[s])return J._measurementCache[s];const o=Od(r),a=J.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const u=J.__context;u.font=o;const c=(i?J._wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let h=0;for(let y=0;y<c.length;y++){const x=J._measureText(c[y],r.letterSpacing,u);d[y]=x,h=Math.max(h,x)}const f=((v=r._stroke)==null?void 0:v.width)||0;let p=h+f;r.dropShadow&&(p+=r.dropShadow.distance);const m=r.lineHeight||a.fontSize+f;let g=Math.max(m,a.fontSize+f*2)+(c.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadow.distance),new J(e,r,p,g,c,d,m+r.leading,h,a)}static _measureText(e,r,n){let i=!1;J.experimentalLetterSpacingSupported&&(J.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(J.graphemeSegmenter(e).length-1)*r),s}static _wordWrap(e,r,n=J._canvas){const i=n.getContext("2d",S_);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:c}=r,d=J._collapseSpaces(c),h=J._collapseNewlines(c);let f=!d;const p=r.wordWrapWidth+l,m=J._tokenize(e);for(let g=0;g<m.length;g++){let _=m[g];if(J._isNewline(_)){if(!h){a+=J._addLine(o),f=!d,o="",s=0;continue}_=" "}if(d){const y=J.isBreakingSpace(_),x=J.isBreakingSpace(o[o.length-1]);if(y&&x)continue}const v=J._getFromCache(_,l,u,i);if(v>p)if(o!==""&&(a+=J._addLine(o),o="",s=0),J.canBreakWords(_,r.breakWords)){const y=J.wordWrapSplit(_);for(let x=0;x<y.length;x++){let S=y[x],w=S,b=1;for(;y[x+b];){const T=y[x+b];if(!J.canBreakChars(w,T,_,x,r.breakWords))S+=T;else break;w=T,b++}x+=b-1;const E=J._getFromCache(S,l,u,i);E+s>p&&(a+=J._addLine(o),f=!1,o="",s=0),o+=S,s+=E}}else{o.length>0&&(a+=J._addLine(o),o="",s=0);const y=g===m.length-1;a+=J._addLine(_,!y),f=!1,o="",s=0}else v+s>p&&(f=!1,a+=J._addLine(o),o="",s=0),(o.length>0||!J.isBreakingSpace(_)||f)&&(o+=_,s+=v)}return a+=J._addLine(o,!1),a}static _addLine(e,r=!0){return e=J._trimRight(e),e=r?`${e}
`:e,e}static _getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=J._measureText(e,r,i)+r,n[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!J.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:J._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:J._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(J.isBreakingSpace(s,o)||J._isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return J.graphemeSegmenter(e)}static measureFont(e){if(J._fonts[e])return J._fonts[e];const r=J._context;r.font=e;const n=r.measureText(J.METRICS_STRING+J.BASELINE_SYMBOL),i={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return J._fonts[e]=i,i}static clearMetrics(e=""){e?delete J._fonts[e]:J._fonts={}}static get _canvas(){if(!J.__canvas){let e;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",S_);if(n!=null&&n.measureText)return J.__canvas=r,r;e=Re.get().createCanvas()}catch{e=Re.get().createCanvas()}e.width=e.height=10,J.__canvas=e}return J.__canvas}static get _context(){return J.__context||(J.__context=J._canvas.getContext("2d",S_)),J.__context}};Pi.METRICS_STRING="|q";Pi.BASELINE_SYMBOL="M";Pi.BASELINE_MULTIPLIER=1.4;Pi.HEIGHT_MULTIPLIER=2;Pi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Pi.experimentalLetterSpacing=!1;Pi._fonts={};Pi._newlines=[10,13];Pi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Pi._measurementCache={};let vi=Pi;function Id(t,e){if(t.texture===X.WHITE&&!t.fill)return Ae.shared.setValue(t.color).toHex();if(t.fill){if(t.fill instanceof _h){const r=t.fill,n=e.createPattern(r.texture.source.resource,"repeat"),i=r.transform.copyTo(te.shared);return i.scale(r.texture.frame.width,r.texture.frame.height),n.setTransform(i),n}else if(t.fill instanceof ol){const r=t.fill;if(r.type==="linear"){const n=e.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach(i=>{n.addColorStop(i.offset,Ae.shared.setValue(i.color).toHex())}),n}}}else{const r=e.createPattern(t.texture.source.resource,"repeat"),n=t.matrix.copyTo(te.shared);return n.scale(t.texture.frame.width,t.texture.frame.height),r.setTransform(n),r}return fe("FillStyle not recognised",t),"red"}function Kb(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}class kv extends Db{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=4,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const r=e,n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=X.WHITE,n._fill.fill=null);const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const s=Od(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,this.fontMetrics=vi.measureFont(s),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){var m,g;const r=Kb(e).filter(_=>!this._currentChars.includes(_)).filter((_,v,y)=>y.indexOf(_)===v);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:i,context:s}=n.canvasAndContext,o=n.texture.source;const a=this._style;let u=this._currentX,l=this._currentY;const c=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*c,h=a.fontStyle==="italic"?2:1;let f=0,p=!1;for(let _=0;_<r.length;_++){const v=r[_],y=vi.measureText(v,a,i,!1);y.lineHeight=y.height;const x=h*y.width*c,S=y.height*c,w=x+d*2,b=S+d*2;if(p=!1,v!==`
`&&v!=="\r"&&v!=="	"&&v!==" "&&(p=!0,f=Math.ceil(Math.max(b,f))),u+w>512&&(l+=f,f=b,u=0,l+f>512)){o.update();const T=this._nextPage();i=T.canvasAndContext.canvas,s=T.canvasAndContext.context,o=T.texture.source,l=0}const E=x/c-(((m=a.dropShadow)==null?void 0:m.distance)??0)-(((g=a._stroke)==null?void 0:g.width)??0);if(this.chars[v]={id:v.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:E,kerning:{}},p){this._drawGlyph(s,y,u+d,l+d,c,a);const T=o.width*c,C=o.height*c,M=new Me(u/T*o.width,l/C*o.height,w/T*o.width,b/C*o.height);this.chars[v].texture=new X({source:o,frame:M}),u+=Math.ceil(w)}}o.update(),this._currentX=u,this._currentY=l,this._skipKerning&&this._applyKerning(r,s)}get pageTextures(){return le(de,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,r){const n=this._measureCache;for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let u=n[s];u||(u=n[s]=r.measureText(s).width);let l=n[a];l||(l=n[a]=r.measureText(a).width);let c=r.measureText(s+a).width,d=c-(u+l);d&&(this.chars[s].kerning[a]=d),c=r.measureText(s+a).width,d=c-(u+l),d&&(this.chars[a].kerning[s]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,r=Xi.getOptimalCanvasAndContext(512,512,e);this._setupContext(r.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new X({source:new Ua({resource:r.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload"})}),s={canvasAndContext:r,texture:i};return this.pages[this._currentPageIndex]=s,s}_setupContext(e,r,n){r.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=Od(r),r.fontSize=this.baseMeasurementFontSize,e.textBaseline=r.textBaseline;const i=r._stroke,s=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=s,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=Id(i,e)),r._fill&&(e.fillStyle=Id(r._fill,e)),r.dropShadow){const o=r.dropShadow,a=Ae.shared.setValue(o.color).toArray(),u=o.blur*n,l=o.distance*n;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,e.shadowBlur=u,e.shadowOffsetX=Math.cos(o.angle)*l,e.shadowOffsetY=Math.sin(o.angle)*l}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,r,n,i,s,o){const a=r.text,u=r.fontProperties,l=o._stroke,c=((l==null?void 0:l.width)??0)*s,d=n+c/2,h=i-c/2,f=u.descent*s,p=r.lineHeight*s;o.stroke&&c&&e.strokeText(a,d,h+p-f),o._fill&&e.fillText(a,d,h+p-f)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:r,texture:n}=this.pages[e];Xi.returnCanvasAndContext(r),n.destroy(!0)}this.pages=null}}function Qb(t,e,r){const n={width:0,height:0,offsetY:0,scale:e.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};n.offsetY=r.baseLineOffset;let i=n.lines[0],s=null,o=!0;const a={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=f=>{const p=i.width;for(let m=0;m<a.index;m++){const g=f.positions[m];i.chars.push(f.chars[m]),i.charPositions.push(g+p)}i.width+=f.width,o=!1,a.width=0,a.index=0,a.chars.length=0},l=()=>{let f=i.chars.length-1,p=i.chars[f];for(;p===" ";)i.width-=r.chars[p].xAdvance,p=i.chars[--f];n.width=Math.max(n.width,i.width),i={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,n.lines.push(i),n.height+=r.lineHeight},c=r.baseMeasurementFontSize/e.fontSize,d=e.letterSpacing*c,h=e.wordWrapWidth*c;for(let f=0;f<t.length+1;f++){let p;const m=f===t.length;m||(p=t[f]);const g=r.chars[p]||r.chars[" "];if(/(?:\s)/.test(p)||p==="\r"||p===`
`||m){if(!o&&e.wordWrap&&i.width+a.width-d>h?(l(),u(a),m||i.charPositions.push(0)):(a.start=i.width,u(a),m||i.charPositions.push(0)),p==="\r"||p===`
`)i.width!==0&&l();else if(!m){const x=g.xAdvance+(g.kerning[s]||0)+d;i.width+=x,i.spaceWidth=x,i.spacesIndex.push(i.charPositions.length),i.chars.push(p)}}else{const y=g.kerning[s]||0,x=g.xAdvance+y+d;a.positions[a.index++]=a.width+y,a.chars.push(p),a.width+=x}s=p}return l(),e.align==="center"?YV(n):e.align==="right"?qV(n):e.align==="justify"&&KV(n),n}function YV(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width/2-r.width/2;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function qV(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width-r.width;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function KV(t){const e=t.width;for(let r=0;r<t.lines.length;r++){const n=t.lines[r];let i=0,s=n.spacesIndex[i++],o=0;const a=n.spacesIndex.length,l=(e-n.width)/a;for(let c=0;c<n.charPositions.length;c++)c===s&&(s=n.spacesIndex[i++],o+=l),n.charPositions[c]+=o}}class QV{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,r){var o;let n=`${r.fontFamily}-bitmap`,i=!0;if(r._fill.fill&&(n+=r._fill.fill.uid,i=!1),!Le.has(n)){const a=new kv({style:r,overrideFill:i,overrideSize:!0,...this.defaultOptions});a.once("destroy",()=>Le.remove(n)),Le.set(n,a)}const s=Le.get(n);return(o=s.ensureCharacters)==null||o.call(s,e),s}getLayout(e,r){const n=this.getFont(e,r);return Qb([...e],r,n)}measureText(e,r){return this.getLayout(e,r)}install(...e){var l,c,d,h;let r=e[0];typeof r=="string"&&(r={name:r,style:e[1],chars:(l=e[2])==null?void 0:l.chars,resolution:(c=e[2])==null?void 0:c.resolution,padding:(d=e[2])==null?void 0:d.padding,skipKerning:(h=e[2])==null?void 0:h.skipKerning},le(de,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=r==null?void 0:r.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const i=r.style,s=i instanceof ii?i:new ii(i),o=s._fill.fill!==null&&s._fill.fill!==void 0,a=new kv({style:s,overrideFill:o,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1}),u=Kb(r.chars);return a.ensureCharacters(u.join("")),Le.set(`${n}-bitmap`,a),a.once("destroy",()=>Le.remove(`${n}-bitmap`)),a}uninstall(e){const r=`${e}-bitmap`,n=Le.get(r);n&&(Le.remove(r),n.destroy())}}const Fd=new QV;class Zb extends Db{constructor(e,r){super();const{textures:n,data:i}=e;Object.keys(i.pages).forEach(s=>{const o=i.pages[parseInt(s,10)],a=n[o.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(s=>{const o=i.chars[s],{frame:a,source:u}=n[o.page],l=new Me(o.x+a.x,o.y+a.y,o.width,o.height),c=new X({source:u,frame:l});this.chars[s]={id:s.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:c}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:r}=this.pages[e];r.destroy(!0)}this.pages=null}static install(e){Fd.install(e)}static uninstall(e){Fd.uninstall(e)}}const Qf={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const d in e){const h=e[d].match(/^[a-z]+/gm)[0],f=e[d].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in f){const g=f[m].split("="),_=g[0],v=g[1].replace(/"/gm,""),y=parseFloat(v),x=isNaN(y)?v:y;p[_]=x}r[h].push(p)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=r.info,[s]=r.common,[o]=r.distanceField??[];o&&(n.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),n.fontSize=parseInt(i.size,10),n.fontFamily=i.face,n.lineHeight=parseInt(s.lineHeight,10);const a=r.page;for(let d=0;d<a.length;d++)n.pages.push({id:parseInt(a[d].id,10)||0,file:a[d].file});const u={};n.baseLineOffset=n.lineHeight-parseInt(s.base,10);const l=r.char;for(let d=0;d<l.length;d++){const h=l[d],f=parseInt(h.id,10);let p=h.letter??h.char??String.fromCharCode(f);p==="space"&&(p=" "),u[f]=p,n.chars[p]={id:f,page:parseInt(h.page,10)||0,x:parseInt(h.x,10),y:parseInt(h.y,10),width:parseInt(h.width,10),height:parseInt(h.height,10),xOffset:parseInt(h.xoffset,10),yOffset:parseInt(h.yoffset,10),xAdvance:parseInt(h.xadvance,10),kerning:{}}}const c=r.kerning||[];for(let d=0;d<c.length;d++){const h=parseInt(c[d].first,10),f=parseInt(c[d].second,10),p=parseInt(c[d].amount,10);n.chars[u[f]].kerning[u[h]]=p}return n}},Ov={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(r.getAttribute("size"),10),e.fontFamily=r.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let l=0;l<s.length;l++)e.pages.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});const u={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let l=0;l<o.length;l++){const c=o[l],d=parseInt(c.getAttribute("id"),10);let h=c.getAttribute("letter")??c.getAttribute("char")??String.fromCharCode(d);h==="space"&&(h=" "),u[d]=h,e.chars[h]={id:d,page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xOffset:parseInt(c.getAttribute("xoffset"),10),yOffset:parseInt(c.getAttribute("yoffset"),10),xAdvance:parseInt(c.getAttribute("xadvance"),10),kerning:{}}}for(let l=0;l<a.length;l++){const c=parseInt(a[l].getAttribute("first"),10),d=parseInt(a[l].getAttribute("second"),10),h=parseInt(a[l].getAttribute("amount"),10);e.chars[u[d]].kerning[u[c]]=h}return e}},Iv={test(t){return typeof t=="string"&&t.includes("<font>")?Ov.test(Re.get().parseXML(t)):!1},parse(t){return Ov.parse(Re.get().parseXML(t))}},ZV=[".xml",".fnt"],JD={extension:{type:A.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof Zb,getCacheableAssets(t,e){const r={};return t.forEach(n=>{r[n]=e,r[`${n}-bitmap`]=e}),r[`${e.fontFamily}-bitmap`]=e,r}},ek={extension:{type:A.LoadParser,priority:An.Normal},name:"loadBitmapFont",test(t){return ZV.includes(Vr.extname(t).toLowerCase())},async testParse(t){return Qf.test(t)||Iv.test(t)},async parse(t,e,r){const n=Qf.test(t)?Qf.parse(t):Iv.parse(t),{src:i}=e,{pages:s}=n,o=[],a=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let d=0;d<s.length;++d){const h=s[d].file;let f=Vr.join(Vr.dirname(i),h);f=jp(f,i),o.push({src:f,data:a})}const u=await r.load(o),l=o.map(d=>u[d.src]);return new Zb({data:n,textures:l},i)},async load(t,e){return await(await Re.get().fetch(t)).text()},async unload(t,e,r){await Promise.all(t.pages.map(n=>r.unload(n.texture.source._sourceOrigin))),t.destroy()}};class tk{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const rk={extension:{type:A.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof X),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};async function Jb(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const nk={extension:{type:A.DetectionParser,priority:1},test:async()=>Jb("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},w3=["png","jpg","jpeg"],ik={extension:{type:A.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...w3],remove:async t=>t.filter(e=>!w3.includes(e))},JV="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Hg(t){return JV?!1:document.createElement("video").canPlayType(t)!==""}const sk={extension:{type:A.DetectionParser,priority:0},test:async()=>Hg("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},ok={extension:{type:A.DetectionParser,priority:0},test:async()=>Hg("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},ak={extension:{type:A.DetectionParser,priority:0},test:async()=>Hg("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},uk={extension:{type:A.DetectionParser,priority:0},test:async()=>Jb("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class lk{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||fe(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,e,r,this))){s=l;break}}if(!s)return fe(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Rd(e),o=Wn(e,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const c=Vr.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,l)),i[l.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(d){throw delete this.promiseCache[c],delete i[l.src],new Error(`[Loader.load] Failed to load ${c}.
${d}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const n=Wn(e,i=>({alias:[i],src:i})).map(async i=>{var a,u;const s=Vr.toAbsolute(i.src),o=this.promiseCache[s];if(o){const l=await o.promise;delete this.promiseCache[s],await((u=(a=o.parser)==null?void 0:a.unload)==null?void 0:u.call(a,l,i,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(r.name?e[r.name]&&fe(`[Assets] loadParser name conflict "${r.name}"`):fe("[Assets] loadParser should have a name"),{...e,[r.name]:r}),{})}}function La(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ci(t,e){const r=t.split("?")[0],n=Vr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const eX=".json",tX="application/json",ck={extension:{type:A.LoadParser,priority:An.Low},name:"loadJson",test(t){return La(t,tX)||ci(t,eX)},async load(t){return await(await Re.get().fetch(t)).json()}},rX=".txt",nX="text/plain",dk={name:"loadTxt",extension:{type:A.LoadParser,priority:An.Low,name:"loadTxt"},test(t){return La(t,nX)||ci(t,rX)},async load(t){return await(await Re.get().fetch(t)).text()}},iX=["normal","bold","100","200","300","400","500","600","700","800","900"],sX=[".ttf",".otf",".woff",".woff2"],oX=["font/ttf","font/otf","font/woff","font/woff2"],aX=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function hk(t){const e=Vr.extname(t),i=Vr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(aX)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const uX=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function lX(t){return uX.test(t)?t:encodeURI(t)}const fk={extension:{type:A.LoadParser,priority:An.Low},name:"loadWebFont",test(t){return La(t,oX)||ci(t,sX)},async load(t,e){var n,i,s;const r=Re.get().getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??hk(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>iX.includes(c)))??["normal"],l=e.data??{};for(let c=0;c<u.length;c++){const d=u[c],h=new FontFace(a,`url(${lX(t)})`,{...l,weight:d});await h.load(),r.add(h),o.push(h)}return Le.set(`${a}-and-url`,{url:t,fontFaces:o}),o.length===1?o[0]:o}return fe("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{Le.remove(e.family),Re.get().getFontFaceSet().delete(e)})}};function jg(t,e=1){var n;const r=(n=ko.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}function Oo(t,e,r){t.label=r,t._sourceOrigin=r;const n=new X({source:t,label:r}),i=()=>{delete e.promiseCache[r],Le.has(r)&&Le.remove(r)};return n.source.once("destroy",()=>{e.promiseCache[r]&&(fe("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),n.once("destroy",()=>{t.destroyed||(fe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const cX=".svg",dX="image/svg+xml",pk={extension:{type:A.LoadParser,priority:An.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return La(t,dX)||ci(t,cX)},async load(t,e,r){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?fX(t):hX(t,e,r,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function hX(t,e,r,n){var g,_,v;const s=await(await Re.get().fetch(t)).blob(),o=URL.createObjectURL(s),a=new Image;a.src=o,a.crossOrigin=n,await a.decode(),URL.revokeObjectURL(o);const u=document.createElement("canvas"),l=u.getContext("2d"),c=((g=e.data)==null?void 0:g.resolution)||jg(t),d=((_=e.data)==null?void 0:_.width)??a.width,h=((v=e.data)==null?void 0:v.height)??a.height;u.width=d*c,u.height=h*c,l.drawImage(a,0,0,d*c,h*c);const{parseAsGraphicsContext:f,...p}=e.data,m=new Ua({resource:u,alphaMode:"premultiply-alpha-on-upload",resolution:c,...p});return Oo(m,r,t)}async function fX(t){const r=await(await Re.get().fetch(t)).text(),n=new Sr;return n.svg(r),n}const pX=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Ou=null,Fv=class{constructor(){Ou||(Ou=URL.createObjectURL(new Blob([pX],{type:"application/javascript"}))),this.worker=new Worker(Ou)}};Fv.revokeObjectURL=function(){Ou&&(URL.revokeObjectURL(Ou),Ou=null)};const mX=`(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Iu=null,mk=class{constructor(){Iu||(Iu=URL.createObjectURL(new Blob([mX],{type:"application/javascript"}))),this.worker=new Worker(Iu)}};mk.revokeObjectURL=function(){Iu&&(URL.revokeObjectURL(Iu),Iu=null)};let E3=0,w_;class gX{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new Fv;r.addEventListener("message",n=>{r.terminate(),Fv.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){w_===void 0&&(w_=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<w_&&(this._createdWorkers++,e=new mk().worker,e.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this._queue.push({id:e,arguments:r,resolve:i,reject:s})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const r=this._queue.pop(),n=r.id;this._resolveHash[E3]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:E3++,id:n})}}const Uv=new gX,_X=[".jpeg",".jpg",".png",".webp",".avif"],yX=["image/jpeg","image/png","image/webp","image/avif"];async function gk(t){const e=await Re.get().fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const e2={name:"loadTextures",extension:{type:A.LoadParser,priority:An.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return La(t,yX)||ci(t,_X)},async load(t,e,r){var s;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Uv.isImageBitmapSupported()?n=await Uv.loadImageBitmap(t):n=await gk(t):n=await new Promise(o=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?o(n):n.onload=()=>{o(n)}});const i=new Ua({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((s=e.data)==null?void 0:s.resolution)||jg(t),...e.data});return Oo(i,r,t)},unload(t){t.destroy(!0)}},_k=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],vX=_k.map(t=>`video/${t.substring(1)}`);function yk(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=xk(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}function vk(t){return new Promise((e,r)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",i),t.load();function n(){s(),e()}function i(o){s(),r(o)}function s(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",i)}})}function xk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}const bk={name:"loadVideo",extension:{type:A.LoadParser,name:"loadVideo"},test(t){const e=La(t,vX),r=ci(t,_k);return e||r},async load(t,e,r){var u,l;const n={...zc.defaultOptions,resolution:((u=e.data)==null?void 0:u.resolution)||jg(t),alphaMode:((l=e.data)==null?void 0:l.alphaMode)||await Eb(),...e.data},i=document.createElement("video"),s={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(s).forEach(c=>{const d=s[c];d!==void 0&&i.setAttribute(c,d)}),n.muted===!0&&(i.muted=!0),yk(i,t,n.crossorigin);const o=document.createElement("source");let a;if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const c=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=zc.MIME_TYPES[c]||`video/${c}`}return o.src=t,a&&(o.type=a),new Promise(c=>{const d=async()=>{const h=new zc({...n,resource:i});i.removeEventListener("canplay",d),e.data.preload&&await vk(i),c(Oo(h,r,t))};i.addEventListener("canplay",d),i.appendChild(o)})},unload(t){t.destroy(!0)}},t2={extension:{type:A.ResolveParser,name:"resolveTexture"},test:e2.test,parse:t=>{var e;return{resolution:parseFloat(((e=ko.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},Sk={extension:{type:A.ResolveParser,priority:-2,name:"resolveJson"},test:t=>ko.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:t2.parse};class wk{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ko,this.loader=new lk,this.cache=Le,this._backgroundLoader=new tk(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){fe("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,r){this._initialized||await this.init();const n=Rd(e),i=Wn(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{r==null||r(++a/u)},c=o.map(d=>{const h=i[d];return u+=Object.keys(h).length,this._mapLoadToResolve(h,l).then(f=>{s[d]=f})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Le.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Le.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(n,r);this._backgroundLoader.active=!0;const s={};return n.forEach(o=>{const a=i[o.src],u=[o.src];o.alias&&u.push(...o.alias),u.forEach(l=>{s[l]=a}),Le.set(u,a)}),s}async unload(e){this._initialized||await this.init();const r=Wn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Wn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Le.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const aa=new wk;lt.handleByList(A.LoadParser,aa.loader.parsers).handleByList(A.ResolveParser,aa.resolver.parsers).handleByList(A.CacheParser,aa.cache.parsers).handleByList(A.DetectionParser,aa.detections);lt.add(rk,ik,nk,uk,sk,ok,ak,ck,dk,fk,pk,e2,bk,ek,JD,t2,Sk);const T3={loader:A.LoadParser,resolver:A.ResolveParser,cache:A.CacheParser,detection:A.DetectionParser};lt.handle(A.Asset,t=>{const e=t.ref;Object.entries(T3).filter(([r])=>!!e[r]).forEach(([r,n])=>lt.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(T3).filter(r=>!!e[r]).forEach(r=>lt.remove(e[r]))});const xX={extension:{type:A.DetectionParser,priority:3},test:async()=>!!(await gh()||mh()),add:async t=>[...t,"basis"],remove:async t=>t.filter(e=>e!=="basis")};class yh extends wt{constructor(e){super(e),this.uploadMethodId="compressed",this.resource=e.resource,this.mipLevelCount=this.resource.length}}let yf;function Lv(){if(yf)return yf;const e=document.createElement("canvas").getContext("webgl");return e?(yf=[...e.getExtension("EXT_texture_compression_bptc")?["bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc")?["bc1-rgba-unorm","bc2-rgba-unorm","bc3-rgba-unorm"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc_srgb")?["bc1-rgba-unorm-srgb","bc2-rgba-unorm-srgb","bc3-rgba-unorm-srgb"]:[],...e.getExtension("EXT_texture_compression_rgtc")?["bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm"]:[],...e.getExtension("WEBGL_compressed_texture_etc")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","eac-r11unorm","eac-rg11unorm"]:[],...e.getExtension("WEBGL_compressed_texture_astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],yf):[]}let vf;async function Nv(){if(vf)return vf;const t=await navigator.gpu.requestAdapter();return vf=[...t.features.has("texture-compression-bc")?["bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...t.features.has("texture-compression-etc2")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm"]:[],...t.features.has("texture-compression-astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],vf}let xf;async function r2(){return xf!==void 0||(xf=await(async()=>{const t=await gh(),e=mh();if(t&&e){const r=await Nv(),n=Lv();return r.filter(i=>n.includes(i))}else{if(t)return await Nv();if(e)return Lv()}return[]})()),xf}const Ek=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8"];let bf;async function vh(){if(bf!==void 0)return bf;const t=await r2();return bf=[...Ek,...t],bf}const bX=`(function () {
    'use strict';

    function createLevelBuffers(basisTexture, basisTranscoderFormat) {
      const images = basisTexture.getNumImages();
      const levels = basisTexture.getNumLevels(0);
      const success = basisTexture.startTranscoding();
      if (!success) {
        throw new Error("startTranscoding failed");
      }
      const levelBuffers = [];
      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {
        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {
          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);
          const levelBuffer = new Uint8Array(transcodeSize);
          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);
          if (!success2) {
            throw new Error("transcodeImage failed");
          }
          levelBuffers.push(levelBuffer);
        }
      }
      return levelBuffers;
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": 3,
      // cTFBC3_RGBA
      "bc7-rgba-unorm": 6,
      // cTFBC7_RGBA,
      "etc2-rgba8unorm": 1,
      // cTFETC2_RGBA,
      "astc-4x4-unorm": 10,
      // cTFASTC_4x4_RGBA,
      // Uncompressed
      rgba8unorm: 13,
      // cTFRGBA32,
      rgba4unorm: 16
      // cTFRGBA4444,
    };
    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "basis/basis_transcoder.js",
      wasmUrl: "basis/basis_transcoder.wasm"
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let basisPromise;
    async function getBasis() {
      if (!basisPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        basisPromise = new Promise((resolve) => {
          BASIS({
            locateFile: (_file) => absoluteWasmUrl
          }).then((module) => {
            module.initializeBasis();
            resolve(module.BasisFile);
          });
        });
      }
      return basisPromise;
    }
    async function fetchBasisTexture(url, BasisTexture) {
      const basisResponse = await fetch(url);
      if (basisResponse.ok) {
        const basisArrayBuffer = await basisResponse.arrayBuffer();
        return new BasisTexture(new Uint8Array(basisArrayBuffer));
      }
      throw new Error(\`Failed to load Basis texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const BasisTexture = await getBasis();
      const basisTexture = await fetchBasisTexture(url, BasisTexture);
      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);
      return {
        width: basisTexture.getImageWidth(0, 0),
        height: basisTexture.getImageHeight(0, 0),
        format: basisTranscodedTextureFormat,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getBasis();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type](message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Fu=null,Tk=class{constructor(){Fu||(Fu=URL.createObjectURL(new Blob([bX],{type:"application/javascript"}))),this.worker=new Worker(Fu)}};Tk.revokeObjectURL=function(){Fu&&(URL.revokeObjectURL(Fu),Fu=null)};const Vp={jsUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.js",wasmUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"};function SX(t){Object.assign(Vp,t)}let rc;const Ck={};function wX(t){return rc||(rc=new Tk().worker,rc.onmessage=e=>{const{success:r,url:n,textureOptions:i}=e.data;r||console.warn("Failed to load Basis texture",n),Ck[n](i)},rc.postMessage({type:"init",jsUrl:Vp.jsUrl,wasmUrl:Vp.wasmUrl,supportedTextures:t})),rc}function Pk(t,e){const r=wX(e);return new Promise(n=>{Ck[t]=n,r.postMessage({type:"load",url:t})})}const EX={extension:{type:A.LoadParser,priority:An.High,name:"loadBasis"},name:"loadBasis",test(t){return ci(t,[".basis"])},async load(t,e,r){const n=await vh(),i=await Pk(t,n),s=new yh(i);return Oo(s,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};function TX(t,e){const r=t.getNumImages(),n=t.getNumLevels(0);if(!t.startTranscoding())throw new Error("startTranscoding failed");const s=[];for(let o=0;o<n;++o)for(let a=0;a<r;++a){const u=t.getImageTranscodedSizeInBytes(a,o,e),l=new Uint8Array(u);if(!t.transcodeImage(l,a,o,e,1,0))throw new Error("transcodeImage failed");s.push(l)}return s}const CX={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function PX(t){const e=CX[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const AX={MAGIC:0,SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19,PF_FLAGS:20,FOURCC:21,RGB_BITCOUNT:22,R_BIT_MASK:23,G_BIT_MASK:24,B_BIT_MASK:25,A_BIT_MASK:26},RX={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};var n2=(t=>(t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",t))(n2||{}),i2=(t=>(t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D",t))(i2||{});function $t(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var Or=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.R8G8B8=20]="R8G8B8",t[t.A8R8G8B8=21]="A8R8G8B8",t[t.X8R8G8B8=22]="X8R8G8B8",t[t.R5G6B5=23]="R5G6B5",t[t.X1R5G5B5=24]="X1R5G5B5",t[t.A1R5G5B5=25]="A1R5G5B5",t[t.A4R4G4B4=26]="A4R4G4B4",t[t.R3G3B2=27]="R3G3B2",t[t.A8=28]="A8",t[t.A8R3G3B2=29]="A8R3G3B2",t[t.X4R4G4B4=30]="X4R4G4B4",t[t.A2B10G10R10=31]="A2B10G10R10",t[t.A8B8G8R8=32]="A8B8G8R8",t[t.X8B8G8R8=33]="X8B8G8R8",t[t.G16R16=34]="G16R16",t[t.A2R10G10B10=35]="A2R10G10B10",t[t.A16B16G16R16=36]="A16B16G16R16",t[t.A8P8=40]="A8P8",t[t.P8=41]="P8",t[t.L8=50]="L8",t[t.A8L8=51]="A8L8",t[t.A4L4=52]="A4L4",t[t.V8U8=60]="V8U8",t[t.L6V5U5=61]="L6V5U5",t[t.X8L8V8U8=62]="X8L8V8U8",t[t.Q8W8V8U8=63]="Q8W8V8U8",t[t.V16U16=64]="V16U16",t[t.A2W10V10U10=67]="A2W10V10U10",t[t.Q16W16V16U16=110]="Q16W16V16U16",t[t.R16F=111]="R16F",t[t.G16R16F=112]="G16R16F",t[t.A16B16G16R16F=113]="A16B16G16R16F",t[t.R32F=114]="R32F",t[t.G32R32F=115]="G32R32F",t[t.A32B32G32R32F=116]="A32B32G32R32F",t[t.UYVY=$t("UYVY")]="UYVY",t[t.R8G8_B8G8=$t("RGBG")]="R8G8_B8G8",t[t.YUY2=$t("YUY2")]="YUY2",t[t.D3DFMT_G8R8_G8B8=$t("GRGB")]="D3DFMT_G8R8_G8B8",t[t.DXT1=$t("DXT1")]="DXT1",t[t.DXT2=$t("DXT2")]="DXT2",t[t.DXT3=$t("DXT3")]="DXT3",t[t.DXT4=$t("DXT4")]="DXT4",t[t.DXT5=$t("DXT5")]="DXT5",t[t.ATI1=$t("ATI1")]="ATI1",t[t.AT1N=$t("AT1N")]="AT1N",t[t.ATI2=$t("ATI2")]="ATI2",t[t.AT2N=$t("AT2N")]="AT2N",t[t.BC4U=$t("BC4U")]="BC4U",t[t.BC4S=$t("BC4S")]="BC4S",t[t.BC5U=$t("BC5U")]="BC5U",t[t.BC5S=$t("BC5S")]="BC5S",t[t.DX10=$t("DX10")]="DX10",t))(Or||{});const Gv={[Or.DXT1]:"bc1-rgba-unorm",[Or.DXT2]:"bc2-rgba-unorm",[Or.DXT3]:"bc2-rgba-unorm",[Or.DXT4]:"bc3-rgba-unorm",[Or.DXT5]:"bc3-rgba-unorm",[Or.ATI1]:"bc4-r-unorm",[Or.BC4U]:"bc4-r-unorm",[Or.BC4S]:"bc4-r-snorm",[Or.ATI2]:"bc5-rg-unorm",[Or.BC5U]:"bc5-rg-unorm",[Or.BC5S]:"bc5-rg-snorm",36:"rgba16uint",110:"rgba16sint",111:"r16float",112:"rg16float",113:"rgba16float",114:"r32float",115:"rg32float",116:"rgba32float"},Ir={70:"bc1-rgba-unorm",71:"bc1-rgba-unorm",72:"bc1-rgba-unorm-srgb",73:"bc2-rgba-unorm",74:"bc2-rgba-unorm",75:"bc2-rgba-unorm-srgb",76:"bc3-rgba-unorm",77:"bc3-rgba-unorm",78:"bc3-rgba-unorm-srgb",79:"bc4-r-unorm",80:"bc4-r-unorm",81:"bc4-r-snorm",82:"bc5-rg-unorm",83:"bc5-rg-unorm",84:"bc5-rg-snorm",94:"bc6h-rgb-ufloat",95:"bc6h-rgb-ufloat",96:"bc6h-rgb-float",97:"bc7-rgba-unorm",98:"bc7-rgba-unorm",99:"bc7-rgba-unorm-srgb",28:"rgba8unorm",29:"rgba8unorm-srgb",87:"bgra8unorm",91:"bgra8unorm-srgb",41:"r32float",49:"rg8unorm",56:"r16uint",61:"r8unorm",24:"rgb10a2unorm",11:"rgba16uint",13:"rgba16sint",10:"rgba16float",54:"r16float",34:"rg16float",16:"rg32float",2:"rgba32float"},ue={MAGIC_VALUE:542327876,MAGIC_SIZE:4,HEADER_SIZE:124,HEADER_DX10_SIZE:20,PIXEL_FORMAT_FLAGS:{ALPHAPIXELS:1,ALPHA:2,FOURCC:4,RGB:64,RGBA:65,YUV:512,LUMINANCE:131072,LUMINANCEA:131073},RESOURCE_MISC_TEXTURECUBE:4,HEADER_FIELDS:AX,HEADER_DX10_FIELDS:RX,DXGI_FORMAT:n2,D3D10_RESOURCE_DIMENSION:i2,D3DFMT:Or},Ak={"bc1-rgba-unorm":8,"bc1-rgba-unorm-srgb":8,"bc2-rgba-unorm":16,"bc2-rgba-unorm-srgb":16,"bc3-rgba-unorm":16,"bc3-rgba-unorm-srgb":16,"bc4-r-unorm":8,"bc4-r-snorm":8,"bc5-rg-unorm":16,"bc5-rg-snorm":16,"bc6h-rgb-ufloat":16,"bc6h-rgb-float":16,"bc7-rgba-unorm":16,"bc7-rgba-unorm-srgb":16};function Rk(t,e){const{format:r,fourCC:n,width:i,height:s,dataOffset:o,mipmapCount:a}=BX(t);if(!e.includes(r))throw new Error(`Unsupported texture format: ${n} ${r}, supported: ${e}`);if(a<=1)return{format:r,width:i,height:s,resource:[new Uint8Array(t,o)],alphaMode:"no-premultiply-alpha"};const u=MX(r,i,s,o,a,t);return{format:r,width:i,height:s,resource:u,alphaMode:"no-premultiply-alpha"}}function MX(t,e,r,n,i,s){const o=[],a=Ak[t];let u=e,l=r,c=n;for(let d=0;d<i;++d){const h=a?Math.max(4,u)/4*Math.max(4,l)/4*a:u*l*4,f=new Uint8Array(s,c,h);o.push(f),c+=h,u=Math.max(u>>1,1),l=Math.max(l>>1,1)}return o}function BX(t){const e=new Uint32Array(t,0,ue.HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(e[ue.HEADER_FIELDS.MAGIC]!==ue.MAGIC_VALUE)throw new Error("Invalid magic number in DDS header");const r=e[ue.HEADER_FIELDS.HEIGHT],n=e[ue.HEADER_FIELDS.WIDTH],i=Math.max(1,e[ue.HEADER_FIELDS.MIPMAP_COUNT]),s=e[ue.HEADER_FIELDS.PF_FLAGS],o=e[ue.HEADER_FIELDS.FOURCC],a=DX(e,s,o,t),u=ue.MAGIC_SIZE+ue.HEADER_SIZE+(o===ue.D3DFMT.DX10?ue.HEADER_DX10_SIZE:0);return{format:a,fourCC:o,width:n,height:r,dataOffset:u,mipmapCount:i}}function DX(t,e,r,n){if(e&ue.PIXEL_FORMAT_FLAGS.FOURCC){if(r===ue.D3DFMT.DX10){const i=new Uint32Array(n,ue.MAGIC_SIZE+ue.HEADER_SIZE,ue.HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(i[ue.HEADER_DX10_FIELDS.MISC_FLAG]===ue.RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(i[ue.HEADER_DX10_FIELDS.RESOURCE_DIMENSION]===ue.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");const a=i[ue.HEADER_DX10_FIELDS.DXGI_FORMAT];if(a in Ir)return Ir[a];throw new Error(`DDSParser cannot parse texture data with DXGI format ${a}`)}if(r in Gv)return Gv[r];throw new Error(`DDSParser cannot parse texture data with fourCC format ${r}`)}if(e&ue.PIXEL_FORMAT_FLAGS.RGB||e&ue.PIXEL_FORMAT_FLAGS.RGBA)return kX(t);throw e&ue.PIXEL_FORMAT_FLAGS.YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):e&ue.PIXEL_FORMAT_FLAGS.LUMINANCE||e&ue.PIXEL_FORMAT_FLAGS.LUMINANCEA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):e&ue.PIXEL_FORMAT_FLAGS.ALPHA||e&ue.PIXEL_FORMAT_FLAGS.ALPHAPIXELS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}function kX(t){const e=t[ue.HEADER_FIELDS.RGB_BITCOUNT],r=t[ue.HEADER_FIELDS.R_BIT_MASK],n=t[ue.HEADER_FIELDS.G_BIT_MASK],i=t[ue.HEADER_FIELDS.B_BIT_MASK],s=t[ue.HEADER_FIELDS.A_BIT_MASK];switch(e){case 32:if(r===255&&n===65280&&i===16711680&&s===4278190080)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];if(r===16711680&&n===65280&&i===255&&s===4278190080)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];if(r===1072693248&&n===1047552&&i===1023&&s===3221225472)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];if(r===65535&&n===4294901760&&i===0&&s===0)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];if(r===4294967295&&n===0&&i===0&&s===0)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];break;case 24:break;case 16:if(r===31744&&n===992&&i===31&&s===32768)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];if(r===63488&&n===2016&&i===31&&s===0)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];if(r===3840&&n===240&&i===15&&s===61440)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];if(r===255&&n===0&&i===0&&s===65280)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];if(r===65535&&n===0&&i===0&&s===0)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];break;case 8:if(r===255&&n===0&&i===0&&s===0)return Ir[ue.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];break}throw new Error(`DDSParser does not support uncompressed texture with configuration:
                bitCount = ${e}, rBitMask = ${r}, gBitMask = ${n}, aBitMask = ${s}`)}const OX={extension:{type:A.LoadParser,priority:An.High,name:"loadDDS"},name:"loadDDS",test(t){return ci(t,[".dds"])},async load(t,e,r){const n=await vh(),s=await(await fetch(t)).arrayBuffer(),o=Rk(s,n),a=new yh(o);return Oo(a,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};var Mk=(t=>(t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGBA=6408]="RGBA",t[t.RGBA8UI=36220]="RGBA8UI",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGBA8I=36238]="RGBA8I",t[t.RGBA8=32856]="RGBA8",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Mk||{});const IX={33776:"bc1-rgba-unorm",33777:"bc1-rgba-unorm",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",35916:"bc1-rgba-unorm-srgb",35917:"bc1-rgba-unorm-srgb",35918:"bc2-rgba-unorm-srgb",35919:"bc3-rgba-unorm-srgb",36283:"bc4-r-unorm",36284:"bc4-r-snorm",36285:"bc5-rg-unorm",36286:"bc5-rg-snorm",37488:"eac-r11unorm",37490:"eac-rg11snorm",37492:"etc2-rgb8unorm",37496:"etc2-rgba8unorm",37493:"etc2-rgb8unorm-srgb",37497:"etc2-rgba8unorm-srgb",37494:"etc2-rgb8a1unorm",37495:"etc2-rgb8a1unorm-srgb",37808:"astc-4x4-unorm",37840:"astc-4x4-unorm-srgb",37809:"astc-5x4-unorm",37841:"astc-5x4-unorm-srgb",37810:"astc-5x5-unorm",37842:"astc-5x5-unorm-srgb",37811:"astc-6x5-unorm",37843:"astc-6x5-unorm-srgb",37812:"astc-6x6-unorm",37844:"astc-6x6-unorm-srgb",37813:"astc-8x5-unorm",37845:"astc-8x5-unorm-srgb",37814:"astc-8x6-unorm",37846:"astc-8x6-unorm-srgb",37815:"astc-8x8-unorm",37847:"astc-8x8-unorm-srgb",37816:"astc-10x5-unorm",37848:"astc-10x5-unorm-srgb",37817:"astc-10x6-unorm",37849:"astc-10x6-unorm-srgb",37818:"astc-10x8-unorm",37850:"astc-10x8-unorm-srgb",37819:"astc-10x10-unorm",37851:"astc-10x10-unorm-srgb",37820:"astc-12x10-unorm",37852:"astc-12x10-unorm-srgb",37821:"astc-12x12-unorm",37853:"astc-12x12-unorm-srgb",36492:"bc7-rgba-unorm",36493:"bc7-rgba-unorm-srgb",36494:"bc6h-rgb-float",36495:"bc6h-rgb-ufloat",35907:"rgba8unorm-srgb",36759:"rgba8snorm",36220:"rgba8uint",36238:"rgba8sint",6408:"rgba8unorm"},FX=[171,75,84,88,32,49,49,187,13,10,26,10],UX={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},LX=64,NX=67305985,GX={5121:1,5123:2,5124:4,5125:4,5126:4,36193:8},zX={6408:4,6407:3,33319:2,6403:1,6409:1,6410:2,6406:1},$X={32819:2,32820:2,33635:2},HX={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,36283:.5,36284:.5,36285:1,36286:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,37808:1,37840:1,37809:.8,37841:.8,37810:.64,37842:.64,37811:.53375,37843:.53375,37812:.445,37844:.445,37813:.4,37845:.4,37814:.33375,37846:.33375,37815:.25,37847:.25,37816:.32,37848:.32,37817:.26625,37849:.26625,37818:.2,37850:.2,37819:.16,37851:.16,37820:.13375,37852:.13375,37821:.11125,37853:.11125,36492:1,36493:1,36494:1,36495:1},pt={FILE_HEADER_SIZE:LX,FILE_IDENTIFIER:FX,FORMATS_TO_COMPONENTS:zX,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:HX,INTERNAL_FORMAT_TO_TEXTURE_FORMATS:IX,FIELDS:UX,TYPES_TO_BYTES_PER_COMPONENT:GX,TYPES_TO_BYTES_PER_PIXEL:$X,ENDIANNESS:NX};function Bk(t,e){const r=new DataView(t);if(!XX(r))throw new Error("Invalid KTX identifier in header");const{littleEndian:n,glType:i,glFormat:s,glInternalFormat:o,pixelWidth:a,pixelHeight:u,numberOfMipmapLevels:l,offset:c}=VX(r),d=pt.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];if(!d)throw new Error(`Unknown texture format ${o}`);if(!e.includes(d))throw new Error(`Unsupported texture format: ${d}, supportedFormats: ${e}`);const h=WX(i,s,o),f=jX(r,i,h,a,u,c,l,n);return{format:d,width:a,height:u,resource:f,alphaMode:"no-premultiply-alpha"}}function jX(t,e,r,n,i,s,o,a){const u=n+3&-4,l=i+3&-4;let c=n*i;e===0&&(c=u*l);let d=c*r,h=n,f=i,p=u,m=l,g=s;const _=new Array(o);for(let v=0;v<o;v++){const y=t.getUint32(g,a);let x=g+4;_[v]=new Uint8Array(t.buffer,x,d),x+=d,g+=y+4,g=g%4!==0?g+4-g%4:g,h=h>>1||1,f=f>>1||1,p=h+4-1&-4,m=f+4-1&-4,d=p*m*r}return _}function WX(t,e,r){let n=pt.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[r];if(t!==0&&(pt.TYPES_TO_BYTES_PER_COMPONENT[t]?n=pt.TYPES_TO_BYTES_PER_COMPONENT[t]*pt.FORMATS_TO_COMPONENTS[e]:n=pt.TYPES_TO_BYTES_PER_PIXEL[t]),n===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");return n}function VX(t){const e=t.getUint32(pt.FIELDS.ENDIANNESS,!0)===pt.ENDIANNESS,r=t.getUint32(pt.FIELDS.GL_TYPE,e),n=t.getUint32(pt.FIELDS.GL_FORMAT,e),i=t.getUint32(pt.FIELDS.GL_INTERNAL_FORMAT,e),s=t.getUint32(pt.FIELDS.PIXEL_WIDTH,e),o=t.getUint32(pt.FIELDS.PIXEL_HEIGHT,e)||1,a=t.getUint32(pt.FIELDS.PIXEL_DEPTH,e)||1,u=t.getUint32(pt.FIELDS.NUMBER_OF_ARRAY_ELEMENTS,e)||1,l=t.getUint32(pt.FIELDS.NUMBER_OF_FACES,e),c=t.getUint32(pt.FIELDS.NUMBER_OF_MIPMAP_LEVELS,e),d=t.getUint32(pt.FIELDS.BYTES_OF_KEY_VALUE_DATA,e);if(o===0||a!==1)throw new Error("Only 2D textures are supported");if(l!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(u!==1)throw new Error("WebGL does not support array textures");return{littleEndian:e,glType:r,glFormat:n,glInternalFormat:i,pixelWidth:s,pixelHeight:o,numberOfMipmapLevels:c,offset:pt.FILE_HEADER_SIZE+d}}function XX(t){for(let e=0;e<pt.FILE_IDENTIFIER.length;e++)if(t.getUint8(e)!==pt.FILE_IDENTIFIER[e])return!1;return!0}const YX={extension:{type:A.LoadParser,priority:An.High,name:"loadKTX"},name:"loadKTX",test(t){return ci(t,".ktx")},async load(t,e,r){const n=await vh(),s=await(await fetch(t)).arrayBuffer(),o=Bk(s,n),a=new yh(o);return Oo(a,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},qX=`(function () {
    'use strict';

    const converters = {
      rgb8unorm: {
        convertedFormat: "rgba8unorm",
        convertFunction: convertRGBtoRGBA
      },
      "rgb8unorm-srgb": {
        convertedFormat: "rgba8unorm-srgb",
        convertFunction: convertRGBtoRGBA
      }
    };
    function convertFormatIfRequired(textureOptions) {
      const format = textureOptions.format;
      if (converters[format]) {
        const convertFunction = converters[format].convertFunction;
        const levelBuffers = textureOptions.resource;
        for (let i = 0; i < levelBuffers.length; i++) {
          levelBuffers[i] = convertFunction(levelBuffers[i]);
        }
        textureOptions.format = converters[format].convertedFormat;
      }
    }
    function convertRGBtoRGBA(levelBuffer) {
      const pixelCount = levelBuffer.byteLength / 3;
      const levelBufferWithAlpha = new Uint32Array(pixelCount);
      for (let i = 0; i < pixelCount; ++i) {
        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;
      }
      return new Uint8Array(levelBufferWithAlpha.buffer);
    }

    function createLevelBuffersFromKTX(ktxTexture) {
      const levelBuffers = [];
      for (let i = 0; i < ktxTexture.numLevels; i++) {
        const imageData = ktxTexture.getImageData(i, 0, 0);
        const levelBuffer = new Uint8Array(imageData.byteLength);
        levelBuffer.set(imageData);
        levelBuffers.push(levelBuffer);
      }
      return levelBuffers;
    }

    const glFormatToGPUFormatMap = {
      6408: "rgba8unorm",
      32856: "bgra8unorm",
      //
      32857: "rgb10a2unorm",
      33189: "depth16unorm",
      33190: "depth24plus",
      33321: "r8unorm",
      33323: "rg8unorm",
      33325: "r16float",
      33326: "r32float",
      33327: "rg16float",
      33328: "rg32float",
      33329: "r8sint",
      33330: "r8uint",
      33331: "r16sint",
      33332: "r16uint",
      33333: "r32sint",
      33334: "r32uint",
      33335: "rg8sint",
      33336: "rg8uint",
      33337: "rg16sint",
      33338: "rg16uint",
      33339: "rg32sint",
      33340: "rg32uint",
      33778: "bc2-rgba-unorm",
      33779: "bc3-rgba-unorm",
      34836: "rgba32float",
      34842: "rgba16float",
      35056: "depth24plus-stencil8",
      35898: "rg11b10ufloat",
      35901: "rgb9e5ufloat",
      35907: "rgba8unorm-srgb",
      // bgra8unorm-srgb
      36012: "depth32float",
      36013: "depth32float-stencil8",
      36168: "stencil8",
      36208: "rgba32uint",
      36214: "rgba16uint",
      36220: "rgba8uint",
      36226: "rgba32sint",
      36232: "rgba16sint",
      36238: "rgba8sint",
      36492: "bc7-rgba-unorm",
      36756: "r8snorm",
      36757: "rg8snorm",
      36759: "rgba8snorm",
      37496: "etc2-rgba8unorm",
      37808: "astc-4x4-unorm"
    };
    function glFormatToGPUFormat(glInternalFormat) {
      const format = glFormatToGPUFormatMap[glInternalFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported glInternalFormat: \${glInternalFormat}\`);
    }

    const vkFormatToGPUFormatMap = {
      23: "rgb8unorm",
      // VK_FORMAT_R8G8B8_UNORM
      37: "rgba8unorm",
      // VK_FORMAT_R8G8B8A8_UNORM
      43: "rgba8unorm-srgb"
      // VK_FORMAT_R8G8B8A8_SRGB
      // TODO add more!
    };
    function vkFormatToGPUFormat(vkFormat) {
      const format = vkFormatToGPUFormatMap[vkFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported VkFormat: \${vkFormat}\`);
    }

    function getTextureFormatFromKTXTexture(ktxTexture) {
      if (ktxTexture.classId === 2) {
        return vkFormatToGPUFormat(ktxTexture.vkFormat);
      }
      return glFormatToGPUFormat(ktxTexture.glInternalformat);
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": "BC3_RGBA",
      "bc7-rgba-unorm": "BC7_M5_RGBA",
      "etc2-rgba8unorm": "ETC2_RGBA",
      "astc-4x4-unorm": "ASTC_4x4_RGBA",
      // Uncompressed
      rgba8unorm: "RGBA32",
      rg11b10ufloat: "R11F_G11F_B10F"
    };
    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "",
      wasmUrl: ""
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let ktxPromise;
    async function getKTX() {
      if (!ktxPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        ktxPromise = new Promise((resolve) => {
          LIBKTX({
            locateFile: (_file) => absoluteWasmUrl
          }).then((libktx) => {
            resolve(libktx);
          });
        });
      }
      return ktxPromise;
    }
    async function fetchKTXTexture(url, ktx) {
      const ktx2Response = await fetch(url);
      if (ktx2Response.ok) {
        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();
        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));
      }
      throw new Error(\`Failed to load KTX(2) texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const ktx = await getKTX();
      const ktxTexture = await fetchKTXTexture(url, ktx);
      let format;
      if (ktxTexture.needsTranscoding) {
        format = basisTranscodedTextureFormat;
        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];
        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);
        if (result !== ktx.ErrorCode.SUCCESS) {
          throw new Error("Unable to transcode basis texture.");
        }
      } else {
        format = getTextureFormatFromKTXTexture(ktxTexture);
      }
      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);
      const textureOptions = {
        width: ktxTexture.baseWidth,
        height: ktxTexture.baseHeight,
        format,
        mipLevelCount: ktxTexture.numLevels,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
      convertFormatIfRequired(textureOptions);
      return textureOptions;
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getKTX();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type]?.(message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Uu=null;class Dk{constructor(){Uu||(Uu=URL.createObjectURL(new Blob([qX],{type:"application/javascript"}))),this.worker=new Worker(Uu)}}Dk.revokeObjectURL=function(){Uu&&(URL.revokeObjectURL(Uu),Uu=null)};const Xp={jsUrl:"https://files.pixijs.download/transcoders/ktx/libktx.js",wasmUrl:"https://files.pixijs.download/transcoders/ktx/libktx.wasm"};function KX(t){Object.assign(Xp,t)}let nc;const kk={};function QX(t){return nc||(nc=new Dk().worker,nc.onmessage=e=>{const{success:r,url:n,textureOptions:i}=e.data;r||console.warn("Failed to load KTX texture",n),kk[n](i)},nc.postMessage({type:"init",jsUrl:Xp.jsUrl,wasmUrl:Xp.wasmUrl,supportedTextures:t})),nc}function Ok(t,e){const r=QX(e);return new Promise(n=>{kk[t]=n,r.postMessage({type:"load",url:t})})}const ZX={extension:{type:A.LoadParser,priority:An.High,name:"loadKTX2"},name:"loadKTX2",test(t){return ci(t,".ktx2")},async load(t,e,r){const n=await vh(),i=await Ok(t,n),s=new yh(i);return Oo(s,r,t)},async unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},E_={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:C3},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:C3}};function JX(t){const e=t.format;if(E_[e]){const r=E_[e].convertFunction,n=t.resource;for(let i=0;i<n.length;i++)n[i]=r(n[i]);t.format=E_[e].convertedFormat}}function C3(t){const e=t.byteLength/3,r=new Uint32Array(e);for(let n=0;n<e;++n)r[n]=t[n*3]+(t[n*3+1]<<8)+(t[n*3+2]<<16)+4278190080;return new Uint8Array(r.buffer)}function eY(t){const e=[];for(let r=0;r<t.numLevels;r++){const n=t.getImageData(r,0,0),i=new Uint8Array(n.byteLength);i.set(n),e.push(i)}return e}const tY={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function Ik(t){const e=tY[t];if(e)return e;throw new Error(`Unsupported glInternalFormat: ${t}`)}const rY={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function Fk(t){const e=rY[t];if(e)return e;throw new Error(`Unsupported VkFormat: ${t}`)}function nY(t){return t.classId===2?Fk(t.vkFormat):Ik(t.glInternalformat)}const iY={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function sY(t){const e=iY[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const Yp=["basis","bc7","bc6h","astc","etc2","bc5","bc4","bc3","bc2","bc1","eac"],oY={extension:A.ResolveParser,test:t=>ci(t,[".ktx",".ktx2",".dds"]),parse:t=>{var n;let e;const r=t.split(".");if(r.length>2){const i=r[r.length-2];Yp.includes(i)&&(e=i)}else e=r[r.length-1];return{resolution:parseFloat(((n=ko.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};let Sf;const aY={extension:{type:A.DetectionParser,priority:2},test:async()=>!!(await gh()||mh()),add:async t=>{const e=await r2();return Sf=uY(e),[...Sf,...t]},remove:async t=>Sf?t.filter(e=>!(e in Sf)):t};function uY(t){const e=["basis"],r={};return t.forEach(n=>{const i=n.split("-")[0];i&&!r[i]&&(r[i]=!0,e.push(i))}),e.sort((n,i)=>{const s=Yp.indexOf(n),o=Yp.indexOf(i);return s===-1?1:o===-1?-1:s-o}),e}const lY=new sr,zv=class{cull(e,r,n=!0){this._cullRecursive(e,r,n)}_cullRecursive(e,r,n=!0){if(e.cullable&&e.measurable&&e.includeInBuild){const i=e.cullArea??hh(e,n,lY);e.culled=!(i.x>=r.x+r.width||i.y>=r.y+r.height||i.x+i.width<=r.x||i.y+i.height<=r.y)}if(!(!e.cullableChildren||e.culled||!e.renderable||!e.measurable||!e.includeInBuild))for(let i=0;i<e.children.length;i++)this._cullRecursive(e.children[i],r,n)}};zv.shared=new zv;let Uk=zv;class Lk{static init(){this._renderRef=this.render.bind(this),this.render=()=>{Uk.shared.cull(this.stage,this.renderer.screen),this.renderer.render({container:this.stage})}}static destroy(){this.render=this._renderRef}}Lk.extension={priority:10,type:A.Application,name:"culler"};var Io={},Ds={};function cY(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function s2(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function dY(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Nk=s2({HTML:"text/html",isHTML:function(t){return t===Nk.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Gk=s2({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Gk.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ds.assign=dY;Ds.find=cY;Ds.freeze=s2;Ds.MIME_TYPE=Nk;Ds.NAMESPACE=Gk;var zk=Ds,Yi=zk.find,Ud=zk.NAMESPACE;function hY(t){return t!==""}function fY(t){return t?t.split(/[\t\n\f\r ]+/).filter(hY):[]}function pY(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function P3(t){if(!t)return[];var e=fY(t);return Object.keys(e.reduce(pY,{}))}function mY(t){return function(e){return t&&t.indexOf(e)!==-1}}function xh(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function en(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,xh(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var tn={},wi=tn.ELEMENT_NODE=1,al=tn.ATTRIBUTE_NODE=2,qp=tn.TEXT_NODE=3,$k=tn.CDATA_SECTION_NODE=4,Hk=tn.ENTITY_REFERENCE_NODE=5,gY=tn.ENTITY_NODE=6,jk=tn.PROCESSING_INSTRUCTION_NODE=7,Wk=tn.COMMENT_NODE=8,Vk=tn.DOCUMENT_NODE=9,Xk=tn.DOCUMENT_TYPE_NODE=10,ws=tn.DOCUMENT_FRAGMENT_NODE=11,_Y=tn.NOTATION_NODE=12,yr={},qt={};yr.INDEX_SIZE_ERR=(qt[1]="Index size error",1);yr.DOMSTRING_SIZE_ERR=(qt[2]="DOMString size error",2);var Ur=yr.HIERARCHY_REQUEST_ERR=(qt[3]="Hierarchy request error",3);yr.WRONG_DOCUMENT_ERR=(qt[4]="Wrong document",4);yr.INVALID_CHARACTER_ERR=(qt[5]="Invalid character",5);yr.NO_DATA_ALLOWED_ERR=(qt[6]="No data allowed",6);yr.NO_MODIFICATION_ALLOWED_ERR=(qt[7]="No modification allowed",7);var Yk=yr.NOT_FOUND_ERR=(qt[8]="Not found",8);yr.NOT_SUPPORTED_ERR=(qt[9]="Not supported",9);var A3=yr.INUSE_ATTRIBUTE_ERR=(qt[10]="Attribute in use",10);yr.INVALID_STATE_ERR=(qt[11]="Invalid state",11);yr.SYNTAX_ERR=(qt[12]="Syntax error",12);yr.INVALID_MODIFICATION_ERR=(qt[13]="Invalid modification",13);yr.NAMESPACE_ERR=(qt[14]="Invalid namespace",14);yr.INVALID_ACCESS_ERR=(qt[15]="Invalid access",15);function St(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,qt[t]),this.message=qt[t],Error.captureStackTrace&&Error.captureStackTrace(this,St);return r.code=t,e&&(this.message=this.message+": "+e),r}St.prototype=Error.prototype;xh(yr,St);function ps(){}ps.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Su(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function ul(t,e){this._node=t,this._refresh=e,o2(this)}function o2(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(o4(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];xh(r,t),t._inc=e}}ul.prototype.item=function(t){return o2(this),this[t]||null};en(ul,ps);function Kp(){}function qk(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function R3(t,e,r,n){if(n?e[qk(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&Zk(i,t,n),yY(i,t,r))}}function M3(t,e,r){var n=qk(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(Zk(s,t,r),r.ownerElement=null)}}else throw new St(Yk,new Error(t.tagName+"@"+r))}Kp.prototype={length:0,item:ps.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new St(A3);var r=this.getNamedItem(t.nodeName);return R3(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new St(A3);return r=this.getNamedItemNS(t.namespaceURI,t.localName),R3(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return M3(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return M3(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function Kk(){}Kk.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new bh;if(n.implementation=this,n.childNodes=new ps,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new Wg;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Oe(){}Oe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Qp(this,t,e)},replaceChild:function(t,e){Qp(this,t,e,e4),e&&this.removeChild(e)},removeChild:function(t){return Jk(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return $v(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==qp&&t.nodeType==qp?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==al?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==al?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Qk(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}xh(tn,Oe);xh(tn,Oe.prototype);function Ld(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Ld(t,e))return!0;while(t=t.nextSibling)}function bh(){this.ownerDocument=this}function yY(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Ud.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function Zk(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Ud.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function a2(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function Jk(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,a2(t.ownerDocument,t),e}function vY(t){return t&&(t.nodeType===Oe.DOCUMENT_NODE||t.nodeType===Oe.DOCUMENT_FRAGMENT_NODE||t.nodeType===Oe.ELEMENT_NODE)}function xY(t){return t&&(qi(t)||u2(t)||Es(t)||t.nodeType===Oe.DOCUMENT_FRAGMENT_NODE||t.nodeType===Oe.COMMENT_NODE||t.nodeType===Oe.PROCESSING_INSTRUCTION_NODE)}function Es(t){return t&&t.nodeType===Oe.DOCUMENT_TYPE_NODE}function qi(t){return t&&t.nodeType===Oe.ELEMENT_NODE}function u2(t){return t&&t.nodeType===Oe.TEXT_NODE}function B3(t,e){var r=t.childNodes||[];if(Yi(r,qi)||Es(e))return!1;var n=Yi(r,Es);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function D3(t,e){var r=t.childNodes||[];function n(s){return qi(s)&&s!==e}if(Yi(r,n))return!1;var i=Yi(r,Es);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function bY(t,e,r){if(!vY(t))throw new St(Ur,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new St(Yk,"child not in parent");if(!xY(e)||Es(e)&&t.nodeType!==Oe.DOCUMENT_NODE)throw new St(Ur,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function SY(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Oe.DOCUMENT_FRAGMENT_NODE){var s=i.filter(qi);if(s.length>1||Yi(i,u2))throw new St(Ur,"More than one element or text in fragment");if(s.length===1&&!B3(t,r))throw new St(Ur,"Element in fragment can not be inserted before doctype")}if(qi(e)&&!B3(t,r))throw new St(Ur,"Only one element can be added and only after doctype");if(Es(e)){if(Yi(n,Es))throw new St(Ur,"Only one doctype is allowed");var o=Yi(n,qi);if(r&&n.indexOf(o)<n.indexOf(r))throw new St(Ur,"Doctype can only be inserted before an element");if(!r&&o)throw new St(Ur,"Doctype can not be appended since element is present")}}function e4(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Oe.DOCUMENT_FRAGMENT_NODE){var s=i.filter(qi);if(s.length>1||Yi(i,u2))throw new St(Ur,"More than one element or text in fragment");if(s.length===1&&!D3(t,r))throw new St(Ur,"Element in fragment can not be inserted before doctype")}if(qi(e)&&!D3(t,r))throw new St(Ur,"Only one element can be added and only after doctype");if(Es(e)){if(Yi(n,function(u){return Es(u)&&u!==r}))throw new St(Ur,"Only one doctype is allowed");var o=Yi(n,qi);if(r&&n.indexOf(o)<n.indexOf(r))throw new St(Ur,"Doctype can only be inserted before an element")}}function Qp(t,e,r,n){bY(t,e,r),t.nodeType===Oe.DOCUMENT_NODE&&(n||SY)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===ws){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=r?r.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=r,a?a.nextSibling=s:t.firstChild=s,r==null?t.lastChild=o:r.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return a2(t.ownerDocument||t,t),e.nodeType==ws&&(e.firstChild=e.lastChild=null),e}function wY(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,a2(t.ownerDocument,t,e),e}bh.prototype={nodeName:"#document",nodeType:Vk,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ws){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return Qp(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===wi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Jk(this,t)},replaceChild:function(t,e){Qp(this,t,e,e4),t.ownerDocument=this,e&&this.removeChild(e),qi(t)&&(this.documentElement=t)},importNode:function(t,e){return s4(this,t,e)},getElementById:function(t){var e=null;return Ld(this.documentElement,function(r){if(r.nodeType==wi&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=P3(t);return new ul(this,function(r){var n=[];return e.length>0&&Ld(r.documentElement,function(i){if(i!==r&&i.nodeType===wi){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=P3(s);o=e.every(mY(a))}o&&n.push(i)}}}),n})},createElement:function(t){var e=new Ra;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new ps;var r=e.attributes=new Kp;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Vg;return t.ownerDocument=this,t.childNodes=new ps,t},createTextNode:function(t){var e=new l2;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new c2;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new d2;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new f2;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new Zp;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new h2;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ra,n=e.split(":"),i=r.attributes=new Kp;return r.childNodes=new ps,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new Zp,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};en(bh,Oe);function Ra(){this._nsMap={}}Ra.prototype={nodeType:wi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ws?this.insertBefore(t,null):wY(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ul(this,function(e){var r=[];return Ld(e,function(n){n!==e&&n.nodeType==wi&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new ul(this,function(r){var n=[];return Ld(r,function(i){i!==r&&i.nodeType===wi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};bh.prototype.getElementsByTagName=Ra.prototype.getElementsByTagName;bh.prototype.getElementsByTagNameNS=Ra.prototype.getElementsByTagNameNS;en(Ra,Oe);function Zp(){}Zp.prototype.nodeType=al;en(Zp,Oe);function Sh(){}Sh.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(qt[Ur])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};en(Sh,Oe);function l2(){}l2.prototype={nodeName:"#text",nodeType:qp,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};en(l2,Sh);function c2(){}c2.prototype={nodeName:"#comment",nodeType:Wk};en(c2,Sh);function d2(){}d2.prototype={nodeName:"#cdata-section",nodeType:$k};en(d2,Sh);function Wg(){}Wg.prototype.nodeType=Xk;en(Wg,Oe);function t4(){}t4.prototype.nodeType=_Y;en(t4,Oe);function r4(){}r4.prototype.nodeType=gY;en(r4,Oe);function h2(){}h2.prototype.nodeType=Hk;en(h2,Oe);function Vg(){}Vg.prototype.nodeName="#document-fragment";Vg.prototype.nodeType=ws;en(Vg,Oe);function f2(){}f2.prototype.nodeType=jk;en(f2,Oe);function n4(){}n4.prototype.serializeToString=function(t,e,r){return i4.call(t,e,r)};Oe.prototype.toString=i4;function i4(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return Su(this,r,t,e,o),r.join("")}function k3(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Ud.XML||i===Ud.XMLNS)return!1;for(var s=r.length;s--;){var o=r[s];if(o.prefix===n)return o.namespace!==i}return!0}function T_(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,Qk),'"')}function Su(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case wi:var s=t.attributes,o=s.length,_=t.firstChild,a=t.tagName;r=Ud.isHTML(t.namespaceURI)||r;var u=a;if(!r&&!t.prefix&&t.namespaceURI){for(var l,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){l=s.item(c).value;break}if(!l)for(var d=i.length-1;d>=0;d--){var h=i[d];if(h.prefix===""&&h.namespace===t.namespaceURI){l=h.namespace;break}}if(l!==t.namespaceURI)for(var d=i.length-1;d>=0;d--){var h=i[d];if(h.namespace===t.namespaceURI){h.prefix&&(u=h.prefix+":"+a);break}}}e.push("<",u);for(var f=0;f<o;f++){var p=s.item(f);p.prefix=="xmlns"?i.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&i.push({prefix:"",namespace:p.value})}for(var f=0;f<o;f++){var p=s.item(f);if(k3(p,r,i)){var m=p.prefix||"",g=p.namespaceURI;T_(e,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}Su(p,e,r,n,i)}if(a===u&&k3(t,r,i)){var m=t.prefix||"",g=t.namespaceURI;T_(e,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}if(_||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;_;)_.data?e.push(_.data):Su(_,e,r,n,i.slice()),_=_.nextSibling;else for(;_;)Su(_,e,r,n,i.slice()),_=_.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Vk:case ws:for(var _=t.firstChild;_;)Su(_,e,r,n,i.slice()),_=_.nextSibling;return;case al:return T_(e,t.name,t.value);case qp:return e.push(t.data.replace(/[<&>]/g,Qk));case $k:return e.push("<![CDATA[",t.data,"]]>");case Wk:return e.push("<!--",t.data,"-->");case Xk:var v=t.publicId,y=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),y&&y!="."&&e.push(" ",y),e.push(">");else if(y&&y!=".")e.push(" SYSTEM ",y,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case jk:return e.push("<?",t.target," ",t.data,"?>");case Hk:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function s4(t,e,r){var n;switch(e.nodeType){case wi:n=e.cloneNode(!1),n.ownerDocument=t;case ws:break;case al:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(s4(t,i,r)),i=i.nextSibling;return n}function $v(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new ps),n.ownerDocument=t,n.nodeType){case wi:var o=e.attributes,a=n.attributes=new Kp,u=o.length;a._ownerElement=n;for(var l=0;l<u;l++)n.setAttributeNode($v(t,o.item(l),!0));break;case al:r=!0}if(r)for(var c=e.firstChild;c;)n.appendChild($v(t,c,r)),c=c.nextSibling;return n}function o4(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case wi:case ws:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(ul.prototype,"length",{get:function(){return o2(this),this.$$length}}),Object.defineProperty(Oe.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case wi:case ws:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),o4=function(e,r,n){e["$$"+r]=n}}}catch{}Io.DocumentType=Wg;Io.DOMException=St;Io.DOMImplementation=Kk;Io.Element=Ra;Io.Node=Oe;Io.NodeList=ps;Io.XMLSerializer=n4;var Xg={},a4={};(function(t){var e=Ds.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(a4);var p2={},Nd=Ds.NAMESPACE,Hv=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O3=new RegExp("[\\-\\.0-9"+Hv.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),I3=new RegExp("^"+Hv.source+O3.source+"*(?::"+Hv.source+O3.source+"*)?$"),ic=0,zs=1,Qa=2,sc=3,Za=4,Ja=5,oc=6,wf=7;function ll(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ll)}ll.prototype=new Error;ll.prototype.name=ll.name;function u4(){}u4.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),l4(e,e={}),EY(t,e,r,n,this.errorHandler),n.endDocument()}};function EY(t,e,r,n,i){function s(I){if(I>65535){I-=65536;var $=55296+(I>>10),O=56320+(I&1023);return String.fromCharCode($,O)}else return String.fromCharCode(I)}function o(I){var $=I.slice(1,-1);return Object.hasOwnProperty.call(r,$)?r[$]:$.charAt(0)==="#"?s(parseInt($.substr(1).replace("x","0x"))):(i.error("entity not found:"+I),I)}function a(I){if(I>m){var $=t.substring(m,I).replace(/&#?\w+;/g,o);h&&u(m),n.characters($,0,I-m),m=I}}function u(I,$){for(;I>=c&&($=d.exec(t));)l=$.index,c=l+$[0].length,h.lineNumber++;h.columnNumber=I-l+1}for(var l=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,f=[{currentNSMap:e}],p={},m=0;;){try{var g=t.indexOf("<",m);if(g<0){if(!t.substr(m).match(/^\s*$/)){var _=n.doc,v=_.createTextNode(t.substr(m));_.appendChild(v),n.currentElement=v}return}switch(g>m&&a(g),t.charAt(g+1)){case"/":var M=t.indexOf(">",g+3),y=t.substring(g+2,M).replace(/[ \t\n\r]+$/g,""),x=f.pop();M<0?(y=t.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+y+" is not complete:"+x.tagName),M=g+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),i.error("end tag name: "+y+" maybe not complete"),M=g+1+y.length);var S=x.localNSMap,w=x.tagName==y,b=w||x.tagName&&x.tagName.toLowerCase()==y.toLowerCase();if(b){if(n.endElement(x.uri,x.localName,y),S)for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&n.endPrefixMapping(E);w||i.fatalError("end tag name: "+y+" is not match the current start tagName:"+x.tagName)}else f.push(x);M++;break;case"?":h&&u(g),M=RY(t,g,n);break;case"!":h&&u(g),M=AY(t,g,n,i);break;default:h&&u(g);var T=new c4,C=f[f.length-1].currentNSMap,M=TY(t,g,T,C,o,i),N=T.length;if(!T.closed&&PY(t,M,T.tagName,p)&&(T.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&N){for(var D=F3(h,{}),B=0;B<N;B++){var U=T[B];u(U.offset),U.locator=F3(h,{})}n.locator=D,U3(T,n,C)&&f.push(T),n.locator=h}else U3(T,n,C)&&f.push(T);Nd.isHTML(T.uri)&&!T.closed?M=CY(t,M,T.tagName,o,n):M++}}catch(I){if(I instanceof ll)throw I;i.error("element parse error: "+I),M=-1}M>m?m=M:a(Math.max(g,m)+1)}}function F3(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function TY(t,e,r,n,i,s){function o(h,f,p){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),p)}for(var a,u,l=++e,c=ic;;){var d=t.charAt(l);switch(d){case"=":if(c===zs)a=t.slice(e,l),c=sc;else if(c===Qa)c=sc;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===sc||c===zs)if(c===zs&&(s.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,l=t.indexOf(d,e),l>0)u=t.slice(e,l),o(a,u,e-1),c=Ja;else throw new Error("attribute value no end '"+d+"' match");else if(c==Za)u=t.slice(e,l),o(a,u,e),s.warning('attribute "'+a+'" missed start quot('+d+")!!"),e=l+1,c=Ja;else throw new Error('attribute value must after "="');break;case"/":switch(c){case ic:r.setTagName(t.slice(e,l));case Ja:case oc:case wf:c=wf,r.closed=!0;case Za:case zs:break;case Qa:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==ic&&r.setTagName(t.slice(e,l)),l;case">":switch(c){case ic:r.setTagName(t.slice(e,l));case Ja:case oc:case wf:break;case Za:case zs:u=t.slice(e,l),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case Qa:c===Qa&&(u=a),c==Za?(s.warning('attribute "'+u+'" missed quot(")!'),o(a,u,e)):((!Nd.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),o(u,u,e));break;case sc:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case ic:r.setTagName(t.slice(e,l)),c=oc;break;case zs:a=t.slice(e,l),c=Qa;break;case Za:var u=t.slice(e,l);s.warning('attribute "'+u+'" missed quot(")!!'),o(a,u,e);case Ja:c=oc;break}else switch(c){case Qa:r.tagName,(!Nd.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=l,c=zs;break;case Ja:s.warning('attribute space is required"'+a+'"!!');case oc:c=zs,e=l;break;case sc:c=Za,e=l;break;case wf:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function U3(t,e,r){for(var n=t.tagName,i=null,d=t.length;d--;){var s=t[d],o=s.qName,a=s.value,h=o.indexOf(":");if(h>0)var u=s.prefix=o.slice(0,h),l=o.slice(h+1),c=u==="xmlns"&&l;else l=o,u=null,c=o==="xmlns"&&"";s.localName=l,c!==!1&&(i==null&&(i={},l4(r,r={})),r[c]=i[c]=a,s.uri=Nd.XMLNS,e.startPrefixMapping(c,a))}for(var d=t.length;d--;){s=t[d];var u=s.prefix;u&&(u==="xml"&&(s.uri=Nd.XML),u!=="xmlns"&&(s.uri=r[u||""]))}var h=n.indexOf(":");h>0?(u=t.prefix=n.slice(0,h),l=t.localName=n.slice(h+1)):(u=null,l=t.localName=n);var f=t.uri=r[u||""];if(e.startElement(f,l,n,t),t.closed){if(e.endElement(f,l,n),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=r,t.localNSMap=i,!0}function CY(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function PY(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function l4(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function AY(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var o=MY(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var d=o[a-1];return r.startDTD(u,l,c),r.endDTD(),d.index+d[0].length}}return-1}function RY(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function c4(){this.attributeNames={}}c4.prototype={setTagName:function(t){if(!I3.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!I3.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function MY(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}p2.XMLReader=u4;p2.ParseError=ll;var BY=Ds,DY=Io,L3=a4,d4=p2,kY=DY.DOMImplementation,N3=BY.NAMESPACE,OY=d4.ParseError,IY=d4.XMLReader;function h4(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function f4(t){this.options=t||{locator:{}}}f4.prototype.parseFromString=function(t,e){var r=this.options,n=new IY,i=r.domBuilder||new wh,s=r.errorHandler,o=r.locator,a=r.xmlns||{},u=/\/x?html?$/.test(e),l=u?L3.HTML_ENTITIES:L3.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=FY(s,i,o),n.domBuilder=r.domBuilder||i,u&&(a[""]=N3.HTML),a.xml=a.xml||N3.XML;var c=r.normalizeLineEndings||h4;return t&&typeof t=="string"?n.parse(c(t),a,l):n.errorHandler.error("invalid doc source"),i.doc};function FY(t,e,r){if(!t){if(e instanceof wh)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(u){t(o,u)}:t),n[o]=a&&function(u){a("[xmldom "+o+"]	"+u+jv(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function wh(){this.cdata=!1}function eu(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}wh.prototype={startDocument:function(){this.doc=new kY().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;Ef(this,s),this.currentElement=s,this.locator&&eu(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),u=n.getValue(a),r=n.getQName(a),l=i.createAttributeNS(t,r);this.locator&&eu(n.getLocator(a),l),l.value=l.nodeValue=u,s.setAttributeNode(l)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&eu(this.locator,r),Ef(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=G3.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&eu(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=G3.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&eu(this.locator,n),Ef(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&eu(this.locator,i),Ef(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,jv(this.locator))},error:function(t){console.error("[xmldom error]	"+t,jv(this.locator))},fatalError:function(t){throw new OY(t,this.locator)}};function jv(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function G3(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){wh.prototype[t]=function(){return null}});function Ef(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Xg.__DOMHandler=wh;Xg.normalizeLineEndings=h4;Xg.DOMParser=f4;var UY=Xg.DOMParser;const LY={createCanvas:(t,e)=>new OffscreenCanvas(t??0,e??0),getCanvasRenderingContext2D:()=>OffscreenCanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>globalThis.location.href,getFontFaceSet:()=>globalThis.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new UY().parseFromString(t,"text/xml")};class NY{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||(Er.system.add(this._tickerUpdate,this,Ss.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Er.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const ls=new NY;class Gd extends Tl{constructor(){super(...arguments),this.client=new De,this.movement=new De,this.offset=new De,this.global=new De,this.screen=new De}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,l,c,d,h,f,p,m){throw new Error("Method not implemented.")}}class kn extends Gd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ma extends Gd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ma.DOM_DELTA_PIXEL=0;Ma.DOM_DELTA_LINE=1;Ma.DOM_DELTA_PAGE=2;const GY=2048,zY=new De,ac=new De;class p4{constructor(e){this.dispatch=new Jr,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else fe(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){ls.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,zY.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<GY&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ls.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],f=this.hitTestMoveRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s,o||s(e,n));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const u=this._isInteractive(r),l=e.isInteractive();return l&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?l?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ls.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children,l=n;for(let c=u.length-1;c>=0;c--){const d=u[c],h=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,l,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.includeInBuild||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,ac),!e.hitArea.contains(ac.x,ac.y)))return!0;if(e.effects&&e.effects.length)for(let n=0;n<e.effects.length;n++){const i=e.effects[n];if(i.containsPoint&&!i.containsPoint(r,this.hitTestFn))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(r,ac),e.containsPoint(ac)):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this._notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,l;if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,c);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof kn)){fe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ma)){fe("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(kn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ma);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(kn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof kn&&r instanceof kn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Gd&&r instanceof Gd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}_notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const $Y=1,HY={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},m2=class Wv{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new p4(null),ls.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new kn(null),this._rootWheelEvent=new Ma(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Wv.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Wv._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this._currentCursor===e)return;this._currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this._bootstrapEvent(this._rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ls.pointerMoved();const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this._normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this._bootstrapEvent(this._rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this._removeEvents(),this.domElement=e,ls.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;ls.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;ls.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}_normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=$Y),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this._rootWheelEvent;return this._transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}_bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this._transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=HY[e.type]||e.type),e}_transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};m2.extension={name:"events",type:[A.WebGLSystem,A.CanvasSystem,A.WebGPUSystem],priority:-1};m2.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let m4=m2;const jY={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??m4.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,u=this;i&&i.addEventListener("abort",()=>{u.off(t,a,o)}),s?u.once(t,a,o):u.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Tl))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};var Yg=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,g4=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,Vv=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const _4=class y4 extends Bs{constructor(e){e={...y4.defaultOptions,...e};const r=Rn.from({vertex:{source:Vv,entryPoint:"mainVertex"},fragment:{source:Vv,entryPoint:"mainFragment"}}),n=li.from({vertex:Yg,fragment:g4,name:"alpha-filter"}),{alpha:i,...s}=e,o=new Lt({uAlpha:{value:i,type:"f32"}});super({...s,gpuProgram:r,glProgram:n,resources:{alphaUniforms:o}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};_4.defaultOptions={alpha:1};let WY=_4,VY=0;class v4{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,r,n){const i=new wt({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!0});return new X({source:i,label:`texturePool_${VY++}`})}getOptimalTexture(e,r,n=1,i){let s=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);s=Ca(s),o=Ca(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let u=this._texturePool[a].pop();return u||(u=this.createTexture(s,o,i)),u.source._resolution=n,u.source.width=s/n,u.source.height=o/n,u.source.pixelWidth=s,u.source.pixelHeight=o,u.frame.x=0,u.frame.y=0,u.frame.width=e,u.frame.height=r,u.updateUvs(),this._poolKeyHash[u.uid]=a,u}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e){const r=this._poolKeyHash[e.uid];this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const rr=new v4,g2={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},XY=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function x4(t){const e=g2[t],r=e.length;let n=XY,i="";const s="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const YY=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function b4(t,e){const r=Math.ceil(t/2);let n=YY,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n=n.replace("%dimension%",e?"z":"w"),n}function S4(t,e){const r=b4(e,t),n=x4(e);return li.from({vertex:r,fragment:n,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var w4=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let strength = gfu.uInputSize.w * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function E4(t,e){const r=g2[e],n=r.length,i=[],s=[],o=[];for(let d=0;d<e;d++){i[d]=`@location(${d}) offset${d}: vec2<f32>,`,t?s[d]=`filteredCord + vec2(${d-n+1} * strength, 0.0),`:s[d]=`filteredCord + vec2(0.0, ${d-n+1} * strength),`;const h=d<n?d:e-d-1,f=r[h].toString();o[d]=`finalColor += textureSample(uTexture, uSampler, offset${d}) * ${f};`}const a=i.join(`
`),u=s.join(`
`),l=o.join(`
`),c=w4.replace("%blur-struct%",a).replace("%blur-vertex-out%",u).replace("%blur-fragment-in%",a).replace("%blur-sampling%",l);return Rn.from({vertex:{source:c,entryPoint:"mainVertex"},fragment:{source:c,entryPoint:"mainFragment"}})}const T4=class C4 extends Bs{constructor(e){e={...C4.defaultOptions,...e};const r=S4(e.horizontal,e.kernelSize),n=E4(e.horizontal,e.kernelSize);super({glProgram:r,gpuProgram:n,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,r,n,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=rr.getSameSizeTexture(r);let o=r,a=s;this._state.blend=!1;for(let u=0;u<this.passes-1;u++){e.applyFilter(this,o,a,e.renderer.type===Sn.WEBGPU);const l=a;a=o,o=l}this._state.blend=!0,e.applyFilter(this,o,n,i),rr.returnTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};T4.defaultOptions={strength:8,quality:4,kernelSize:5};let Zf=T4;class P4 extends Bs{constructor(...e){let r=e[0]??{};typeof r=="number"&&(le(de,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),r={strength:r},e[1]&&(r.quality=e[1]),e[2]&&(r.resolution=e[2]),e[3]&&(r.kernelSize=e[3])),r={...Zf.defaultOptions,...r};const{strength:n,quality:i,...s}=r;super({...s,compatibleRenderers:Sn.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Zf({horizontal:!1,...r}),this.blurYFilter=new Zf({horizontal:!0,...r}),this.quality=i,this.blur=n,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=rr.getSameSizeTexture(r);this.blurXFilter.apply(e,r,a,!0),this.blurYFilter.apply(e,a,n,i),rr.returnTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}P4.defaultOptions={strength:8,quality:4,kernelSize:5};var A4=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`,Xv=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class qY extends Bs{constructor(e={}){const r=new Lt({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),n=Rn.from({vertex:{source:Xv,entryPoint:"mainVertex"},fragment:{source:Xv,entryPoint:"mainFragment"}}),i=li.from({vertex:Yg,fragment:A4,name:"color-matrix-filter"});super({...e,gpuProgram:n,glProgram:i,resources:{colorMatrixUniforms:r}}),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.matrix,e),n=this._colorMatrix(n)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=n,this.resources.colorMatrixUniforms.update()}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ae.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}grayscale(e,r){this.greyscale(e,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,c=o*(1-n)+a*i,d=o*(1-n)+a*i,h=n+o*(1-n),f=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,g=n+o*(1-n),_=[u,l,c,0,0,d,h,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ae.shared,[a,u,l]=o.setValue(n).toArray(),[c,d,h]=o.setValue(i).toArray(),f=[.3,.59,.11,0,0,a,u,l,e,0,c,d,h,r,0,a-c,u-d,l-h,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(e){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=e}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(e){this.resources.colorMatrixUniforms.uniforms.uAlpha=e}}var R4=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,M4=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,Yv=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class KY extends Bs{constructor(...e){let r=e[0];r instanceof bn&&(e[1]&&le(de,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),r={sprite:r,scale:e[1]});const{sprite:n,scale:i,...s}=r;let o=i??20;typeof o=="number"&&(o=new De(o,o));const a=new Lt({uFilterMatrix:{value:new te,type:"mat3x3<f32>"},uScale:{value:o,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),u=li.from({vertex:M4,fragment:R4,name:"displacement-filter"}),l=Rn.from({vertex:{source:Yv,entryPoint:"mainVertex"},fragment:{source:Yv,entryPoint:"mainFragment"}}),c=n.texture.source;super({...s,gpuProgram:l,glProgram:u,resources:{filterUniforms:a,uMapTexture:c,uMapSampler:c.style}}),this._sprite=r.sprite,this._sprite.renderable=!1}apply(e,r,n,i){const s=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(s.uFilterMatrix,this._sprite);const o=this._sprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&u!==0&&(s.uRotation[0]=o.a/a,s.uRotation[1]=o.b/a,s.uRotation[2]=o.c/u,s.uRotation[3]=o.d/u),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,r,n,i)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}var B4=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) *  uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    finalColor = color;
}
`,qv=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
  uNoise:f32,
  uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

fn rand(co:vec2<f32>) -> f32
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);
  
    
    var sample = textureSample(uTexture, uSampler, uv);
    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;
  
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (sample.a > 0.0) {
      sample.r /= sample.a;
      sample.g /= sample.a;
      sample.b /= sample.a;
    }

    sample.r += diff;
    sample.g += diff;
    sample.b += diff;

    // Premultiply alpha again.
    sample.r *= sample.a;
    sample.g *= sample.a;
    sample.b *= sample.a;
    
    return sample;
}`;const D4=class k4 extends Bs{constructor(e={}){e={...k4.defaultOptions,...e};const r=Rn.from({vertex:{source:qv,entryPoint:"mainVertex"},fragment:{source:qv,entryPoint:"mainFragment"}}),n=li.from({vertex:Yg,fragment:B4,name:"noise-filter"}),{noise:i,seed:s,...o}=e;super({...o,gpuProgram:r,glProgram:n,resources:{noiseUniforms:new Lt({uNoise:{value:1,type:"f32"},uSeed:{value:1,type:"f32"}})}}),this.noise=i,this.seed=s??Math.random()}get noise(){return this.resources.noiseUniforms.uniforms.uNoise}set noise(e){this.resources.noiseUniforms.uniforms.uNoise=e}get seed(){return this.resources.noiseUniforms.uniforms.uSeed}set seed(e){this.resources.noiseUniforms.uniforms.uSeed=e}};D4.defaultOptions={noise:.5};let QY=D4;class O4{constructor(e){this._renderer=e}push(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:r,filterEffect:e})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}O4.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"filter"};const ZY=new te;function I4(t,e){return e.clear(),_2(t,e),e.isValid||e.set(0,0,0,0),t.renderGroup?e.applyMatrix(t.renderGroup.localTransform):e.applyMatrix(t.parentRenderGroup.worldTransform),e}function _2(t,e){if(t.localDisplayStatus!==7||!t.measurable)return;const r=!!t.effects.length;let n=e;if((t.renderGroup||r)&&(n=Wi.get().clear()),t.boundsArea)e.addRect(t.boundsArea,t.worldTransform);else{if(t.renderPipeId){const s=t.bounds;n.addFrame(s.minX,s.minY,s.maxX,s.maxY,t.groupTransform)}const i=t.children;for(let s=0;s<i.length;s++)_2(i[s],n)}if(r){let i=!1;for(let s=0;s<t.effects.length;s++)t.effects[s].addBounds&&(i||(i=!0,n.applyMatrix(t.parentRenderGroup.worldTransform)),t.effects[s].addBounds(n,!0));i&&(n.applyMatrix(t.parentRenderGroup.worldTransform.copyTo(ZY).invert()),e.addBounds(n,t.relativeGroupTransform)),e.addBounds(n),Wi.return(n)}else t.renderGroup&&(e.addBounds(n,t.relativeGroupTransform),Wi.return(n))}function F4(t,e){e.clear();const r=e.matrix;for(let n=0;n<t.length;n++){const i=t[n];i.globalDisplayStatus<7||(e.matrix=i.worldTransform,i.addBounds(e))}return e.matrix=r,e}const JY=new Cl({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),location:0,format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class U4{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new Lt({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new Vi({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){var f;const r=this.renderer,n=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,n.length===0){i.skip=!0;return}const s=i.bounds;e.renderables?F4(e.renderables,s):e.filterEffect.filterArea?(s.clear(),s.addRect(e.filterEffect.filterArea),s.applyMatrix(e.container.worldTransform)):I4(e.container,s);const o=r.renderTarget.rootRenderTarget.colorTexture.source;let a=o._resolution,u=0,l=o.antialias,c=!1,d=!1;for(let p=0;p<n.length;p++){const m=n[p];if(a=Math.min(a,m.resolution),u+=m.padding,m.antialias!=="inherit"&&(m.antialias==="on"?l=!0:l=!1),!!!(m.compatibleRenderers&r.type)){d=!1;break}if(m.blendRequired&&!(((f=r.backBuffer)==null?void 0:f.useBackBuffer)??!0)){fe("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),d=!1;break}d=m.enabled||d,c=c||m.blendRequired}if(!d){i.skip=!0;return}const h=r.renderTarget.rootViewPort;if(s.scale(a).fitBounds(0,h.width,0,h.height).scale(1/a).pad(u).ceil(),!s.isPositive){i.skip=!0;return}i.skip=!1,i.bounds=s,i.blendRequired=c,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=r.renderTarget.renderSurface,i.inputTexture=rr.getOptimalTexture(s.width,s.height,a,l),r.renderTarget.bind(i.inputTexture,!0),r.globalUniforms.push({offset:s})}pop(){const e=this.renderer;this._filterStackIndex--;const r=this._filterStack[this._filterStackIndex];if(r.skip)return;this._activeFilterData=r;const n=r.inputTexture,i=r.bounds;let s=X.EMPTY;if(e.renderTarget.finishRenderPass(),r.blendRequired){const a=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,u=e.renderTarget.getRenderTarget(r.previousRenderSurface);s=this.getBackTexture(u,i,a)}r.backTexture=s;const o=r.filterEffect.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(s.source,3),e.globalUniforms.pop(),o.length===1)o[0].apply(this,n,r.previousRenderSurface,!1),rr.returnTexture(n);else{let a=r.inputTexture,u=rr.getOptimalTexture(i.width,i.height,a.source._resolution,!1),l=0;for(l=0;l<o.length-1;++l){o[l].apply(this,a,u,!0);const d=a;a=u,u=d}o[l].apply(this,a,r.previousRenderSurface,!1),rr.returnTexture(a),rr.returnTexture(u)}r.blendRequired&&rr.returnTexture(s)}getBackTexture(e,r,n){const i=e.colorTexture.source._resolution,s=rr.getOptimalTexture(r.width,r.height,i,!1);let o=r.minX,a=r.minY;n&&(o-=n.minX,a-=n.minY),o=Math.floor(o*i),a=Math.floor(a*i);const u=Math.ceil(r.width*i),l=Math.ceil(r.height*i);return this.renderer.renderTarget.copyToTexture(e,s,{x:o,y:a},{width:u,height:l},{x:0,y:0}),s}applyFilter(e,r,n,i){const s=this.renderer,o=this._filterStack[this._filterStackIndex],a=o.bounds,u=De.shared,c=o.previousRenderSurface===n;let d=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,h=this._filterStackIndex-1;for(;h>0&&this._filterStack[h].skip;)--h;h>0&&(d=this._filterStack[h].inputTexture.source._resolution);const f=this._filterGlobalUniforms,p=f.uniforms,m=p.uOutputFrame,g=p.uInputSize,_=p.uInputPixel,v=p.uInputClamp,y=p.uGlobalFrame,x=p.uOutputTexture;if(c){let b=this._filterStackIndex;for(;b>0;){b--;const E=this._filterStack[this._filterStackIndex-1];if(!E.skip){u.x=E.bounds.minX,u.y=E.bounds.minY;break}}m[0]=a.minX-u.x,m[1]=a.minY-u.y}else m[0]=0,m[1]=0;m[2]=r.frame.width,m[3]=r.frame.height,g[0]=r.source.width,g[1]=r.source.height,g[2]=1/g[0],g[3]=1/g[1],_[0]=r.source.pixelWidth,_[1]=r.source.pixelHeight,_[2]=1/_[0],_[3]=1/_[1],v[0]=.5*_[2],v[1]=.5*_[3],v[2]=r.frame.width*g[2]-.5*_[2],v[3]=r.frame.height*g[3]-.5*_[3];const S=this.renderer.renderTarget.rootRenderTarget.colorTexture;y[0]=u.x*d,y[1]=u.y*d,y[2]=S.source.width*d,y[3]=S.source.height*d;const w=this.renderer.renderTarget.getRenderTarget(n);if(s.renderTarget.bind(n,!!i),n instanceof X?(x[0]=n.frame.width,x[1]=n.frame.height):(x[0]=w.width,x[1]=w.height),x[2]=w.isRoot?-1:1,f.update(),s.renderPipes.uniformBatch){const b=s.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(b,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(r.source,1),this._globalFilterBindGroup.setResource(r.source.style,2),e.groups[0]=this._globalFilterBindGroup,s.encoder.draw({geometry:JY,shader:e,state:e._state,topology:"triangle-list"}),s.type===Sn.WEBGL&&s.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new sr,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,r){const n=this._activeFilterData,i=e.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),s=r.worldTransform.copyTo(te.shared);return s.invert(),i.prepend(s),i.scale(1/r.texture.frame.width,1/r.texture.frame.height),i.translate(r.anchor.x,r.anchor.y),i}}U4.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"filter"};var L4=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha; 
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * uAlpha * clip);

    finalColor = original;
}
`,N4=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,Kv=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,  
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;

     var clip = step(3.5,
        step(maskClamp.x, filterUv.x) +
        step(maskClamp.y, filterUv.y) +
        step(filterUv.x, maskClamp.z) +
        step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    
    var npmAlpha = 0.0;

    var alphaMul = 1.0 - npmAlpha * (1.0 - mask.a);

    var a = (alphaMul * mask.r) * clip;

    return vec4(source.rgb, source.a) * a;
}`;class G4 extends Bs{constructor(e){const{sprite:r,...n}=e,i=new pb(r.texture),s=new Lt({uFilterMatrix:{value:new te,type:"mat3x3<f32>"},uMaskClamp:{value:i.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"}}),o=Rn.from({vertex:{source:Kv,entryPoint:"mainVertex"},fragment:{source:Kv,entryPoint:"mainFragment"}}),a=li.from({vertex:N4,fragment:L4,name:"mask-filter"});super({...n,gpuProgram:o,glProgram:a,resources:{filterUniforms:s,uMaskTexture:r.texture.source}}),this.sprite=r,this._textureMatrix=i}apply(e,r,n,i){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,r,n,i)}}var eq=`fn getLuminosity(c: vec3<f32>) -> f32 {
  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
}

fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {
  let d: f32 = lum - getLuminosity(c);
  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);

  // clip back into legal range
  let newLum: f32 = getLuminosity(newColor);
  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));
  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));

  let t1: f32 = newLum / (newLum - cMin);
  let t2: f32 = (1.0 - newLum) / (cMax - newLum);

  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));

  return finalColor;
}

fn getSaturation(c: vec3<f32>) -> f32 {
  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
}

// Set saturation if color components are sorted in ascending order.
fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {
  var result: vec3<f32>;
  if (cSorted.z > cSorted.x) {
    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));
    result = vec3<f32>(0.0, newY, s);
  } else {
    result = vec3<f32>(0.0, 0.0, 0.0);
  }
  return vec3<f32>(result.x, result.y, result.z);
}

fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {
    var result: vec3<f32> = c;

    if (c.r <= c.g && c.r <= c.b) {
        if (c.g <= c.b) {
            result = setSaturationMinMidMax(result, s);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.r, temp.b, temp.g);
        }
    } else if (c.g <= c.r && c.g <= c.b) {
        if (c.r <= c.b) {
            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.r, temp.b);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.b, temp.r);
        }
    } else {
        if (c.r <= c.g) {
            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.r, temp.g);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.g, temp.r);
        }
    }

    return result;
}`;function Qv(t,e,r,n,i,s,o,a){const u=o-r,l=a-n,c=i-r,d=s-n,h=t-r,f=e-n,p=u*u+l*l,m=u*c+l*d,g=u*h+l*f,_=c*c+d*d,v=c*h+d*f,y=1/(p*_-m*m),x=(_*g-m*v)*y,S=(p*v-m*g)*y;return x>=0&&S>=0&&x+S<1}class y2{constructor(e=0,r=0,n=0,i=0,s=0,o=0){this.type="triangle",this.x=e,this.y=r,this.x2=n,this.y2=i,this.x3=s,this.y3=o}contains(e,r){const n=(this.x-this.x3)*(r-this.y3)-(this.y-this.y3)*(e-this.x3),i=(this.x2-this.x)*(r-this.y)-(this.y2-this.y)*(e-this.x);if(n<0!=i<0&&n!==0&&i!==0)return!1;const s=(this.x3-this.x2)*(r-this.y2)-(this.y3-this.y2)*(e-this.x2);return s===0||s<0==n+i<=0}strokeContains(e,r,n){const i=n/2,s=i*i,{x:o,x2:a,x3:u,y:l,y2:c,y3:d}=this;return $c(e,r,o,l,a,d)<=s||$c(e,r,a,c,u,d)<=s||$c(e,r,u,d,o,l)<=s}clone(){return new y2(this.x,this.y,this.x2,this.y2,this.x3,this.y3)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x2=e.x2,this.y2=e.y2,this.x3=e.x3,this.y3=e.y3,this}copyTo(e){return e.copyFrom(this),e}getBounds(e){e=e||new Me;const r=Math.min(this.x,this.x2,this.x3),n=Math.max(this.x,this.x2,this.x3),i=Math.min(this.y,this.y2,this.y3),s=Math.max(this.y,this.y2,this.y3);return e.x=r,e.y=i,e.width=n-r,e.height=s-i,e}}const z4=class $4{constructor(e){this._tick=()=>{this.timeout=setTimeout(this._processQueue,0)},this._processQueue=()=>{const{queue:r}=this;let n=0;for(;r.length&&n<$4.uploadsPerFrame;){const i=r.shift();this.uploadQueueItem(i),n++}r.length?Er.system.addOnce(this._tick,this,Ss.UTILITY):this._resolve()},this.renderer=e,this.queue=[],this.resolves=[]}getQueue(){return[...this.queue]}add(e){const r=Array.isArray(e)?e:[e];for(const n of r)n instanceof $e?this._addContainer(n):this.resolveQueueItem(n,this.queue);return this}_addContainer(e){this.resolveQueueItem(e,this.queue);for(const r of e.children)this._addContainer(r)}upload(e){return e&&this.add(e),new Promise(r=>{this.queue.length?(this.resolves.push(r),this.dedupeQueue(),Er.system.addOnce(this._tick,this,Ss.UTILITY)):r()})}dedupeQueue(){const e=Object.create(null);let r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];e[i.uid]||(e[i.uid]=!0,this.queue[r++]=i)}this.queue.length=r}_resolve(){const{resolves:e}=this,r=e.slice(0);e.length=0;for(const n of r)n()}};z4.uploadsPerFrame=4;let H4=z4;class cl extends $e{constructor(e){e instanceof Sr&&(e={context:e});const{context:r,roundPixels:n,...i}=e||{};super({label:"Graphics",...i}),this.canBundle=!0,this.renderPipeId="graphics",this._roundPixels=0,r?this._context=r:this._context=this._ownedContext=new Sr,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(e){e.addBounds(this._context.bounds)}containsPoint(e){return this._context.containsPoint(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}onViewUpdate(){if(this._didChangeId+=4096,this._didGraphicsUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new cl(this._context.clone()):(this._ownedContext=null,new cl(this._context))}lineStyle(e,r,n){le(de,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),r&&(i.color=r),n&&(i.alpha=n),this.context.strokeStyle=i,this}beginFill(e,r){le(de,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e&&(n.color=e),r&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){le(de,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Sr.defaultStrokeStyle.width||e.color!==Sr.defaultStrokeStyle.color||e.alpha!==Sr.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return le(de,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return le(de,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return le(de,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return le(de,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return le(de,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return le(de,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const j4=class W4 extends Cl{constructor(...e){let r=e[0]??{};r instanceof Float32Array&&(le(de,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:e[1],indices:e[2]}),r={...W4.defaultOptions,...r};const n=r.positions||new Float32Array([0,0,1,0,1,1,0,1]),i=r.uvs||new Float32Array([0,0,1,0,1,1,0,1]),s=r.indices||new Uint32Array([0,1,2,0,2,3]),o=r.shrinkBuffersToFit,a=new mn({data:n,label:"attribute-mesh-positions",shrinkToFit:o,usage:we.VERTEX|we.COPY_DST}),u=new mn({data:i,label:"attribute-mesh-uvs",shrinkToFit:o,usage:we.VERTEX|we.COPY_DST}),l=new mn({data:s,label:"index-mesh-buffer",shrinkToFit:o,usage:we.INDEX|we.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:u,format:"float32x2",stride:2*4,offset:0}},indexBuffer:l,topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};j4.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let Fo=j4;class Eh extends $e{constructor(...e){let r=e[0];r instanceof Cl&&(le(de,"Mesh: use new Mesh({ geometry, shader }) instead"),r={geometry:r,shader:e[1]},e[3]&&(le(de,"Mesh: drawMode argument has been removed, use geometry.topology instead"),r.geometry.topology=e[3]));const{geometry:n,shader:i,texture:s,roundPixels:o,state:a,...u}=r;super({label:"Mesh",...u}),this.renderPipeId="mesh",this.canBundle=!0,this._roundPixels=0,this.allowChildren=!1,this.shader=i,this.texture=s??(i==null?void 0:i.texture)??X.WHITE,this.state=a??Ci.for2d(),this._geometry=n,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=o??!1}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get material(){return le(de,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(e){this._shader!==e&&(this._shader=e,this.onViewUpdate())}get shader(){return this._shader}set geometry(e){var r;this._geometry!==e&&((r=this._geometry)==null||r.off("update",this.onViewUpdate,this),e.on("update",this.onViewUpdate,this),this._geometry=e,this.onViewUpdate())}get geometry(){return this._geometry}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=e),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}get batched(){return this._shader?!1:this._geometry instanceof Fo?this._geometry.batchMode==="auto"?this._geometry.positions.length/2<=100:this._geometry.batchMode==="batch":!1}get bounds(){return this._geometry.bounds}addBounds(e){e.addBounds(this.geometry.bounds)}containsPoint(e){const{x:r,y:n}=e;if(!this.bounds.containsPoint(r,n))return!1;const i=this.geometry.getBuffer("aPosition").data,s=this.geometry.topology==="triangle-strip"?3:1;if(this.geometry.getIndex()){const o=this.geometry.getIndex().data,a=o.length;for(let u=0;u+2<a;u+=s){const l=o[u]*2,c=o[u+1]*2,d=o[u+2]*2;if(Qv(r,n,i[l],i[l+1],i[c],i[c+1],i[d],i[d+1]))return!0}}else{const o=i.length/2;for(let a=0;a+2<o;a+=s){const u=a*2,l=(a+1)*2,c=(a+2)*2;if(Qv(r,n,i[u],i[u+1],i[l],i[l+1],i[c],i[c+1]))return!0}}return!1}onViewUpdate(){if(this._didChangeId+=4096,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var n;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(i)}(n=this._geometry)==null||n.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null}}class zd extends bn{constructor(e,r=!0){super(e[0]instanceof X?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Er.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Er.shared.add(this.update,this,Ss.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=e.deltaTime,n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(X.from(e[n]));return new zd(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(X.from(e[n]));return new zd(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof X)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Er.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Er.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class V4{constructor({matrix:e,observer:r}={}){this.dirty=!0,this._matrix=e??new te,this.observer=r,this.position=new Rt(this,0,0),this.scale=new Rt(this,1,1),this.pivot=new Rt(this,0,0),this.skew=new Rt(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var r;this.dirty=!0,e===this.skew&&this.updateSkew(),(r=this.observer)==null||r._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const X4=class Jf extends $e{constructor(...e){let r=e[0]||{};r instanceof X&&(r={texture:r}),e.length>1&&(le(de,"use new TilingSprite({ texture, width:100, height:100 }) instead"),r.width=e[1],r.height=e[2]),r={...Jf.defaultOptions,...r};const{texture:n,anchor:i,tilePosition:s,tileScale:o,tileRotation:a,width:u,height:l,applyAnchorToTexture:c,roundPixels:d,...h}=r??{};super({label:"TilingSprite",...h}),this.renderPipeId="tilingSprite",this.canBundle=!0,this.batched=!0,this._roundPixels=0,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this.allowChildren=!1,this._anchor=new Rt({_onUpdate:()=>{this.onViewUpdate()}}),this._applyAnchorToTexture=c,this.texture=n,this._width=u??n.width,this._height=l??n.height,this._tileTransform=new V4({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=s,this.tileScale=o,this.tileRotation=a,this.roundPixels=d??!1}static from(e,r={}){return typeof e=="string"?new Jf({texture:Le.get(e),...r}):new Jf({texture:e,...r})}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}_updateBounds(){const e=this._bounds,r=this._anchor,n=this._width,i=this._height;e.maxX=-r._x*n,e.minX=e.maxX+n,e.maxY=-r._y*i,e.minY=e.maxY+i}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this._width,n=this._height,i=-r*this._anchor._x;let s=0;return e.x>=i&&e.x<=i+r&&(s=-n*this._anchor._y,e.y>=s&&e.y<=s+n)}onViewUpdate(){if(this._boundsDirty=!0,this._didTilingSpriteUpdate=!0,this._didChangeId+=4096,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null}};X4.defaultOptions={texture:X.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let Y4=X4;class qg extends $e{constructor(e,r){const{text:n,resolution:i,style:s,anchor:o,width:a,height:u,roundPixels:l,...c}=e;super({...c}),this.batched=!0,this._resolution=null,this._didTextUpdate=!0,this._roundPixels=0,this._bounds=new sr,this._boundsDirty=!0,this._styleClass=r,this.text=n??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Rt({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=l??!1,a&&(this.width=a),u&&(this.height=u)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var r;e=e||{},(r=this._style)==null||r.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,r){let n,i;typeof e!="object"?(n=e,i=r??e):(n=e.width,i=e.height??e.width),n!==void 0&&this._setWidth(n,this.bounds.width),i!==void 0&&this._setHeight(i,this.bounds.height)}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this.bounds.width,n=this.bounds.height,i=-r*this.anchor.x;let s=0;return e.x>=i&&e.x<=i+r&&(s=-n*this.anchor.y,e.y>=s&&e.y<=s+n)}onViewUpdate(){if(this._didChangeId+=4096,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0,this._didTextUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_getKey(){return`${this.text}:${this._style.styleKey}-${this.resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Kg(t,e){let r=t[0]??{};return(typeof r=="string"||t[1])&&(le(de,`use new ${e}({ text: "hi!", style }) instead`),r={text:r,style:t[1]}),r}class v2 extends qg{constructor(...e){const r=Kg(e,"Text");super(r,ii),this.renderPipeId="text"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=vi.measureText(this._text,this._style),{width:s,height:o}=i;e.minX=-n._x*s-r,e.maxX=e.minX+s+r*2,e.minY=-n._y*o-r,e.maxY=e.minY+o+r*2}}class q4 extends H4{resolveQueueItem(e,r){return e instanceof $e?this.resolveContainerQueueItem(e,r):e instanceof wt||e instanceof X?r.push(e.source):e instanceof Sr&&r.push(e),null}resolveContainerQueueItem(e,r){e instanceof bn||e instanceof Y4||e instanceof Eh?r.push(e.texture.source):e instanceof v2?r.push(e):e instanceof cl?r.push(e.context):e instanceof zd&&e.textures.forEach(n=>{n.source?r.push(n.source):r.push(n.texture.source)})}resolveGraphicsContextQueueItem(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:r}=e;for(const n of r)if(n.action==="texture"){const{image:i}=n.data;return i.source}else if(n.action==="fill"){const{texture:i}=n.data.style;return i.source}return null}}class K4 extends qg{constructor(...e){var r;const n=Kg(e,"BitmapText");n.style??(n.style=n.style||{}),(r=n.style).fill??(r.fill=16777215),super(n,ii),this.renderPipeId="bitmapText"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=Fd.measureText(this.text,this._style),s=i.scale,o=i.offsetY*s,a=i.width*s,u=i.height*s;e.minX=-n._x*a-r,e.maxX=e.minX+a,e.minY=-n._y*(u+o)-r,e.maxY=e.minY+u}}function Q4(t){const e=t._stroke,r=t._fill,i=[`div { ${[`color: ${Ae.shared.setValue(r.color).toHex()}`,`font-size: ${t.fontSize}px`,`font-family: ${t.fontFamily}`,`font-weight: ${t.fontWeight}`,`font-style: ${t.fontStyle}`,`font-variant: ${t.fontVariant}`,`letter-spacing: ${t.letterSpacing}px`,`text-align: ${t.align}`,`padding: ${t.padding}px`,`white-space: ${t.whiteSpace==="pre"&&t.wordWrap?"pre-wrap":t.whiteSpace}`,...t.lineHeight?[`line-height: ${t.lineHeight}px`]:[],...t.wordWrap?[`word-wrap: ${t.breakWords?"break-all":"break-word"}`,`max-width: ${t.wordWrapWidth}px`]:[],...e?[J4(e)]:[],...t.dropShadow?[Z4(t.dropShadow)]:[],...t.cssOverrides].join(";")} }`];return tq(t.tagStyles,i),i.join(" ")}function Z4(t){const e=Ae.shared.setValue(t.color).setAlpha(t.alpha).toHexa(),r=Math.round(Math.cos(t.angle)*t.distance),n=Math.round(Math.sin(t.angle)*t.distance),i=`${r}px ${n}px`;return t.blur>0?`text-shadow: ${i} ${t.blur}px ${e}`:`text-shadow: ${i} ${e}`}function J4(t){return[`-webkit-text-stroke-width: ${t.width}px`,`-webkit-text-stroke-color: ${Ae.shared.setValue(t.color).toHex()}`,`text-stroke-width: ${t.width}px`,`text-stroke-color: ${Ae.shared.setValue(t.color).toHex()}`,"paint-order: stroke"].join(";")}const z3={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},$3={fill:t=>`color: ${Ae.shared.setValue(t).toHex()}`,breakWords:t=>`word-wrap: ${t?"break-all":"break-word"}`,stroke:J4,dropShadow:Z4};function tq(t,e){for(const r in t){const n=t[r],i=[];for(const s in n)$3[s]?i.push($3[s](n[s])):z3[s]&&i.push(z3[s].replace("{{VALUE}}",n[s]));e.push(`${r} { ${i.join(";")} }`)}}class Ba extends ii{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=Yb(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new Ba({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=Q4(this)),this._cssStyle}addOverride(...e){const r=e.filter(n=>!this.cssOverrides.includes(n));r.length>0&&(this.cssOverrides.push(...r),this.update())}removeOverride(...e){const r=e.filter(n=>this.cssOverrides.includes(n));r.length>0&&(this.cssOverrides=this.cssOverrides.filter(n=>!r.includes(n)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&fe("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&fe("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}const Zv="http://www.w3.org/2000/svg",Jv="http://www.w3.org/1999/xhtml";class x2{constructor(){this.svgRoot=document.createElementNS(Zv,"svg"),this.foreignObject=document.createElementNS(Zv,"foreignObject"),this.domElement=document.createElementNS(Jv,"div"),this.styleElement=document.createElementNS(Jv,"style"),this.image=new Image;const{foreignObject:e,svgRoot:r,styleElement:n,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",r.appendChild(e),e.appendChild(n),e.appendChild(i)}}let H3;function b2(t,e,r,n){n=n||H3||(H3=new x2);const{domElement:i,styleElement:s,svgRoot:o}=n;i.innerHTML=`<style>${e.cssStyle}</style><div>${t}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(o);const a=i.getBoundingClientRect();o.remove();const u=vi.measureFont(e.fontStyle).descent;return{width:a.width,height:a.height+u}}class eO extends qg{constructor(...e){const r=Kg(e,"HtmlText");super(r,Ba),this.renderPipeId="htmlText"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=b2(this.text,this._style),{width:s,height:o}=i;e.minX=-n._x*s-r,e.maxX=e.minX+s,e.minY=-n._y*o-r,e.maxY=e.minY+o}}class tO extends q4{uploadQueueItem(e){e instanceof wt?this.uploadTextureSource(e):e instanceof v2?this.uploadText(e):e instanceof eO?this.uploadHTMLText(e):e instanceof K4?this.uploadBitmapText(e):e instanceof Sr&&this.uploadGraphicsContext(e)}uploadTextureSource(e){this.renderer.texture.initSource(e)}uploadText(e){this.renderer.renderPipes.text.initGpuText(e)}uploadBitmapText(e){this.renderer.renderPipes.bitmapText.initGpuText(e)}uploadHTMLText(e){this.renderer.renderPipes.htmlText.initGpuText(e)}uploadGraphicsContext(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:r}=e;for(const n of r)if(n.action==="texture"){const{image:i}=n.data;this.uploadTextureSource(i.source)}else if(n.action==="fill"){const{texture:i}=n.data.style;this.uploadTextureSource(i.source)}return null}}class rO extends tO{destroy(){clearTimeout(this.timeout),this.renderer=null,this.queue=null,this.resolves=null}}rO.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"prepare"};function ex(t,e,r){if(t)for(const n in t){const i=n.toLocaleLowerCase(),s=e[i];if(s){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&s.push(`//----${r}----//`),s.push(o)}else fe(`${n} placement hook does not exist in shader`)}}const nO=/\{\{(.*?)\}\}/g;function tx(t){var n;const e={};return(((n=t.match(nO))==null?void 0:n.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function j3(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function rx(t,e,r=!1){const n=[];j3(e,n),t.forEach(a=>{a.header&&j3(a.header,n)});const i=n;r&&i.sort();const s=i.map((a,u)=>`       @location(${u}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function W3(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function rq(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function nq(t){const e=/@.*?\s+/g;return t.replace(e,"")}function iO(t,e){const r=[];W3(e,r),t.forEach(u=>{u.header&&W3(u.header,r)});let n=0;const i=r.sort().map(u=>u.indexOf("builtin")>-1?u:`@location(${n++}) ${u}`).join(`,
`),s=r.sort().map(u=>`       var ${nq(u)};`).join(`
`),o=`return VSOutput(
                ${r.sort().map(u=>` ${rq(u)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function nx(t,e){let r=t;for(const n in e){const i=e[n];i.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const eo=Object.create(null),C_=new Map;let iq=0;function sO({template:t,bits:e}){const r=aO(t,e);if(eo[r])return eo[r];const{vertex:n,fragment:i}=sq(t,e);return eo[r]=uO(n,i,e),eo[r]}function oO({template:t,bits:e}){const r=aO(t,e);return eo[r]||(eo[r]=uO(t.vertex,t.fragment,e)),eo[r]}function sq(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let i=rx(r,t.vertex,!0);i=iO(r,i);const s=rx(n,t.fragment,!0);return{vertex:i,fragment:s}}function aO(t,e){return e.map(r=>(C_.has(r)||C_.set(r,iq++),C_.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function uO(t,e,r){const n=tx(t),i=tx(e);return r.forEach(s=>{ex(s.vertex,n,s.name),ex(s.fragment,i,s.name)}),{vertex:nx(t,n),fragment:nx(e,i)}}const lO=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,cO=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        return outColor * vColor;
      };
`,dO=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,hO=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
    }
`,fO={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},oq={name:"global-uniforms-ubo-bit",vertex:{header:`
          uniform globalUniforms {
            mat3 uProjectionMatrix;
            mat3 uWorldTransformMatrix;
            vec4 uWorldColorAlpha;
            vec2 uResolution;
          };
        `}},pO={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Pl({bits:t,name:e}){const r=sO({template:{fragment:cO,vertex:lO},bits:[fO,...t]});return Rn.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function Al({bits:t,name:e}){return new li({name:e,...oO({template:{vertex:dO,fragment:hO},bits:[pO,...t]})})}const Qg={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Zg={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},P_={};function aq(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function uq(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function Jg(t){return P_[t]||(P_[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;
    
                ${aq(Ti())}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);
    
                ${uq(Ti())}
            `}}),P_[t]}const A_={};function lq(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function e0(t){return A_[t]||(A_[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;
              
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;
    
                uniform sampler2D uTextures[${t}];
              
            `,main:`
    
                ${lq(Ti())}
            `}}),A_[t]}const Rl={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ml={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},V3={};function t0(t){let e=V3[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=V3[t]=new Lt({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class S2{constructor(){this._didUpload=!1,this._tempState=Ci.for2d()}init(e){const r=Ti(),n=Al({name:"batch",bits:[Zg,e0(r),Ml]});this._shader=new Mn({glProgram:n,resources:{batchSamplers:t0(r)}}),e.renderer.runners.contextChange.add(this)}contextChange(){this._didUpload=!1}start(e,r){const n=e.renderer;n.shader.bind(this._shader,this._didUpload),n.shader.updateUniformGroup(n.globalUniforms.uniformGroup),n.geometry.bind(r,this._shader.glProgram)}execute(e,r){const n=e.renderer;this._didUpload=!0,this._tempState.blendMode=r.blendMode,n.state.set(this._tempState);const i=r.textures.textures;for(let s=0;s<i.length;s++)n.texture.bind(i[s],s);n.geometry.draw("triangle-list",r.size,r.start)}destroy(){this._shader.destroy(!0),this._shader=null}}S2.extension={type:[A.WebGLPipesAdaptor],name:"batch"};function cq(t){const e=[];let r=0;for(let n=0;n<t;n++)e[r]={texture:{sampleType:"float",viewDimension:"2d",multisampled:!1},binding:r,visibility:GPUShaderStage.FRAGMENT},r++,e[r]={sampler:{type:"filtering"},binding:r,visibility:GPUShaderStage.FRAGMENT},r++;return e}function dq(t){const e={};let r=0;for(let n=0;n<t;n++)e[`textureSource${n+1}`]=r++,e[`textureSampler${n+1}`]=r++;return e}const Tf=Ci.for2d();class w2{init(){const e=Pl({name:"batch",bits:[Qg,Jg(Ti()),Rl]});this._shader=new Mn({gpuProgram:e,groups:{}})}start(e,r){const n=e.renderer,i=n.encoder,s=this._shader.gpuProgram;this._geometry=r,i.setGeometry(r),Tf.blendMode="normal",n.pipeline.getPipeline(r,s,Tf);const o=n.globalUniforms.bindGroup;i.resetBindGroup(1),i.setBindGroup(0,o,s)}execute(e,r){const n=this._shader.gpuProgram,i=e.renderer,s=i.encoder;if(!r.bindGroup){const u=r.textures;r.bindGroup=Gg(u.textures,u.count)}Tf.blendMode=r.blendMode;const o=i.bindGroup.getBindGroup(r.bindGroup,n,1),a=i.pipeline.getPipeline(this._geometry,n,Tf);r.bindGroup._touch(i.textureGC.count),s.setPipeline(a),s.renderPassEncoder.setBindGroup(1,o),s.renderPassEncoder.drawIndexed(r.size,1,r.start)}destroy(){this._shader.destroy(!0),this._shader=null}}w2.extension={type:[A.WebGPUPipesAdaptor],name:"batch"};class E2{constructor(e,r){this.state=Ci.for2d(),this._batches=Object.create(null),this._geometries=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init(this)}buildStart(e){if(!this._batches[e.uid]){const r=new Ib;this._batches[e.uid]=r,this._geometries[r.uid]=new Ob}this._activeBatch=this._batches[e.uid],this._activeGeometry=this._geometries[this._activeBatch.uid],this._activeBatch.begin()}addToBatch(e){this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){const r=this._activeBatch,n=this._activeGeometry;r.finish(e),n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}upload(e){const r=this._batches[e.uid],n=this._geometries[r.uid];r.dirty&&(r.dirty=!1,n.buffers[0].update(r.attributeSize*4))}execute(e){if(e.action==="startBatch"){const r=e.batcher,n=this._geometries[r.uid];this._adaptor.start(this,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor.destroy(),this._adaptor=null;for(const e in this._batches)this._batches[e].destroy();this._batches=null;for(const e in this._geometries)this._geometries[e].destroy();this._geometries=null}}E2.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"batch"};function hq(t){const e=t.split(/([\n{}])/g).map(i=>i.trim()).filter(i=>i.length);let r="";return e.map(i=>{let s=r+i;return i==="{"?r+="    ":i==="}"&&(r=r.substr(0,r.length-4),s=r+i),s}).join(`
`)}const Lu={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},mO={...Lu,vertex:{...Lu.vertex,header:Lu.vertex.header.replace("group(1)","group(2)")}},r0={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},gO={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},_O={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;

         
        `,main:`
            outColor = texture(uTexture, vUV);
        `}};function yO(t,e){const r=t.root,n=t.instructionSet;n.reset(),e.batch.buildStart(n),e.blendMode.buildStart(),e.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),vO(r,n,e,!0),e.batch.buildEnd(n),e.blendMode.buildEnd(n)}function Th(t,e,r){t.globalDisplayStatus<7||!t.includeInBuild||(t.sortableChildren&&t.sortChildren(),t.isSimple?fq(t,e,r):vO(t,e,r,!1))}function fq(t,e,r){if(t.renderPipeId&&(r.blendMode.setBlendMode(t,t.groupBlendMode,e),t.didViewUpdate=!1,r[t.renderPipeId].addRenderable(t,e)),!t.renderGroup){const n=t.children,i=n.length;for(let s=0;s<i;s++)Th(n[s],e,r)}}function vO(t,e,r,n){if(!n&&t.renderGroup)r.renderGroup.addRenderGroup(t.renderGroup,e);else{for(let o=0;o<t.effects.length;o++){const a=t.effects[o];r[a.pipe].push(a,t,e)}const i=t.renderPipeId;i&&(r.blendMode.setBlendMode(t,t.groupBlendMode,e),t.didViewUpdate=!1,r[i].addRenderable(t,e));const s=t.children;if(s.length)for(let o=0;o<s.length;o++)Th(s[o],e,r);for(let o=t.effects.length-1;o>=0;o--){const a=t.effects[o];r[a.pipe].pop(a,t,e)}}}const pq=new sr;class mq extends Pd{constructor(){super(),this.filters=[new G4({sprite:new bn(X.EMPTY)})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}}class T2{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,r,n){const i=this._renderer;if(i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,canBundle:!1,maskedContainer:r}),e.renderMaskToTexture){const s=e.mask;s.includeInBuild=!0,Th(s,n,i.renderPipes),s.includeInBuild=!1}i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:r,canBundle:!1})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,canBundle:!1})}execute(e){const r=this._renderer,n=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const i=Pe.get(mq);if(n){e.mask.mask.measurable=!0;const s=hh(e.mask.mask,!0,pq);e.mask.mask.measurable=!1,s.ceil();const o=rr.getOptimalTexture(s.width,s.height,1,!1);r.renderTarget.push(o,!0),r.globalUniforms.push({offset:s,worldColor:4294967295});const a=i.sprite;a.texture=o,a.worldTransform.tx=s.minX,a.worldTransform.ty=s.minY,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer,filterTexture:o})}else i.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const i=this._activeMaskStage[this._activeMaskStage.length-1];n&&(r.renderTarget.pop(),r.globalUniforms.pop()),r.filter.push({renderPipeId:"filter",action:"pushFilter",container:i.maskedContainer,filterEffect:i.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){r.filter.pop();const i=this._activeMaskStage.pop();n&&rr.returnTexture(i.filterTexture),Pe.return(i.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}T2.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"alphaMask"};class C2{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,r,n){this._renderer.renderPipes.batch.break(n);const s=this._colorStack;s[this._colorStackIndex]=s[this._colorStackIndex-1]&e.mask;const o=this._colorStack[this._colorStackIndex];o!==this._currentColor&&(this._currentColor=o,n.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1})),this._colorStackIndex++}pop(e,r,n){this._renderer.renderPipes.batch.break(n);const s=this._colorStack;this._colorStackIndex--;const o=s[this._colorStackIndex-1];o!==this._currentColor&&(this._currentColor=o,n.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}C2.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"colorMask"};class gq{constructor(e){this.priority=0,this.pipe="scissorMask",this.mask=e,this.mask.renderable=!1,this.mask.measurable=!1}addBounds(e,r){Mg(this.mask,e,r)}addLocalBounds(e,r){Bg(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}reset(){this.mask.measurable=!0,this.mask=null}destroy(){this.reset()}}class P2{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,r,n){var i;const s=e,o=this._renderer;o.renderPipes.batch.break(n),o.renderPipes.blendMode.setBlendMode(s.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,canBundle:!1});const a=s.mask;a.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const u=this._maskHash.get(s);u.instructionsStart=n.instructionSize,Th(a,n,o.renderPipes),a.includeInBuild=!1,o.renderPipes.batch.break(n),n.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,canBundle:!1});const l=n.instructionSize-u.instructionsStart-1;u.instructionsLength=l;const c=o.renderTarget.renderTarget.uid;(i=this._maskStackHash)[c]??(i[c]=0)}pop(e,r,n){const i=e,s=this._renderer;s.renderPipes.batch.break(n),s.renderPipes.blendMode.setBlendMode(i.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"popMaskBegin",canBundle:!1});const o=this._maskHash.get(e);for(let a=0;a<o.instructionsLength;a++)n.instructions[n.instructionSize++]=n.instructions[o.instructionsStart++];n.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var r;const n=this._renderer,i=n.renderTarget.renderTarget.uid;let s=(r=this._maskStackHash)[i]??(r[i]=0);e.action==="pushMaskBegin"?(n.renderTarget.ensureDepthStencil(),n.stencil.setStencilMode(Ft.RENDERING_MASK_ADD,s),s++,n.colorMask.setMask(0)):e.action==="pushMaskEnd"?(n.stencil.setStencilMode(Ft.MASK_ACTIVE,s),n.colorMask.setMask(15)):e.action==="popMaskBegin"?(n.colorMask.setMask(0),s!==0?n.stencil.setStencilMode(Ft.RENDERING_MASK_REMOVE,s):(n.renderTarget.clear(null,Lr.STENCIL),n.stencil.setStencilMode(Ft.DISABLED,s)),s--):e.action==="popMaskEnd"&&(n.stencil.setStencilMode(Ft.MASK_ACTIVE,s),n.colorMask.setMask(15)),this._maskStackHash[i]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}P2.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"stencilMask"};var jc=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(jc||{});class xO{constructor(e,r){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=r}}class A2{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._renderer=e}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gpuBuffers=Object.create(null),this._gl=this._renderer.gl}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:r}=this,n=this.getGlBuffer(e);r.bindBuffer(n.type,n.buffer)}bindBufferBase(e,r){const{_gl:n}=this;if(this._boundBufferBases[r]!==e){const i=this.getGlBuffer(e);this._boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,i.buffer)}}bindBufferRange(e,r,n){const{_gl:i}=this;n=n||0;const s=this.getGlBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)}updateBuffer(e){const{_gl:r}=this,n=this.getGlBuffer(e);if(e._updateID===n.updateID)return n;n.updateID=e._updateID,r.bindBuffer(n.type,n.buffer);const i=e.data;if(n.byteLength>=e.data.byteLength)r.bufferSubData(n.type,0,i,0,e._updateSize/i.BYTES_PER_ELEMENT);else{const s=e.descriptor.usage&we.STATIC?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=i.byteLength,r.bufferData(n.type,i,s)}return n}destroyAll(){const e=this._gl;for(const r in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[r].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,r){const n=this._gpuBuffers[e.uid],i=this._gl;r||i.deleteBuffer(n.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:r}=this;let n=jc.ARRAY_BUFFER;e.descriptor.usage&we.INDEX?n=jc.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&we.UNIFORM&&(n=jc.UNIFORM_BUFFER);const i=new xO(r.createBuffer(),n);return this._gpuBuffers[e.uid]=i,e.on("destroy",this.onBufferDestroy,this),i}}A2.extension={type:[A.WebGLSystem],name:"buffer"};const R2=class bO{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){if(e={...bO.defaultOptions,...e},e.context)this.initFromContext(e.context);else{const r=this._renderer.background.alpha<1,n=e.premultipliedAlpha??!0,i=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:r,premultipliedAlpha:n,antialias:i,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof Re.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const r=this._renderer.view.canvas;r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,r){let n;const i=this._renderer.view.canvas;if(e===2&&(n=i.getContext("webgl2",r)),!n&&(n=i.getContext("webgl",r),!n))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=n,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...r,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...r,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const n=e.getExtension("WEBGL_provoking_vertex");n&&n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var r;this.gl.isContextLost()&&((r=this.extensions.loseContext)==null||r.restoreContext())},0))}handleContextRestored(){this._renderer.runners.contextChange.emit(this.gl)}destroy(){var r;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(r=this.extensions.loseContext)==null||r.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const r=e.getContextAttributes();r&&!r.stencil&&fe("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=this.supports,i=this.webGLVersion===2,s=this.extensions;n.uint32Indices=i||!!s.uint32ElementIndex,n.uniformBufferObject=i,n.vertexArrayObject=i||!!s.vertexArrayObject,n.srgbTextures=i||!!s.srgb,n.nonPowOf2wrapping=i,n.nonPowOf2mipmaps=i,n.msaa=i,n.uint32Indices||fe("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};R2.extension={type:[A.WebGLSystem],name:"context"};R2.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2};let SO=R2;function M2(t,e){for(const r in t.attributes){const n=t.attributes[r],i=e[r];i?(n.location??(n.location=i.location),n.format??(n.format=i.format),n.offset??(n.offset=i.offset),n.instance??(n.instance=i.instance)):fe(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}_q(t)}function _q(t){const{buffers:e,attributes:r}=t,n={},i={};for(const s in e){const o=e[s];n[o.uid]=0,i[o.uid]=0}for(const s in r){const o=r[s];n[o.buffer.uid]+=sl(o.format).stride}for(const s in r){const o=r[s];o.stride??(o.stride=n[o.buffer.uid]),o.start??(o.start=i[o.buffer.uid]),i[o.buffer.uid]+=sl(o.format).stride}}var Jp=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Jp||{}),B2=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(B2||{}),wO=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(wO||{}),Se=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Se||{});const X3={uint8x2:Se.UNSIGNED_BYTE,uint8x4:Se.UNSIGNED_BYTE,sint8x2:Se.BYTE,sint8x4:Se.BYTE,unorm8x2:Se.UNSIGNED_BYTE,unorm8x4:Se.UNSIGNED_BYTE,snorm8x2:Se.BYTE,snorm8x4:Se.BYTE,uint16x2:Se.UNSIGNED_SHORT,uint16x4:Se.UNSIGNED_SHORT,sint16x2:Se.SHORT,sint16x4:Se.SHORT,unorm16x2:Se.UNSIGNED_SHORT,unorm16x4:Se.UNSIGNED_SHORT,snorm16x2:Se.SHORT,snorm16x4:Se.SHORT,float16x2:Se.HALF_FLOAT,float16x4:Se.HALF_FLOAT,float32:Se.FLOAT,float32x2:Se.FLOAT,float32x3:Se.FLOAT,float32x4:Se.FLOAT,uint32:Se.UNSIGNED_INT,uint32x2:Se.UNSIGNED_INT,uint32x3:Se.UNSIGNED_INT,uint32x4:Se.UNSIGNED_INT,sint32:Se.INT,sint32x2:Se.INT,sint32x3:Se.INT,sint32x4:Se.INT};function EO(t){return X3[t]??X3.float32}const yq={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class D2{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const r=this._renderer.context.extensions.vertexArrayObject;r&&(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i));const n=this._renderer.context.extensions.vertexAttribDivisorANGLE;n&&(e.drawArraysInstanced=(i,s,o,a)=>{n.drawArraysInstancedANGLE(i,s,o,a)},e.drawElementsInstanced=(i,s,o,a,u)=>{n.drawElementsInstancedANGLE(i,s,o,a,u)},e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,r){const n=this.gl;this._activeGeometry=e;const i=this.getVao(e,r);this._activeVao!==i&&(this._activeVao=i,n.bindVertexArray(i)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this._renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.updateBuffer(i)}}checkCompatibility(e,r){const n=e.attributes,i=r._attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r._attributeData,s=["g",e.uid];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}getVao(e,r){var n;return((n=this._geometryVaoHash[e.uid])==null?void 0:n[r._key])||this.initGeometryVao(e,r)}initGeometryVao(e,r,n=!0){const i=this._renderer.gl,s=this._renderer.buffer;this._renderer.shader._getProgramData(r),this.checkCompatibility(e,r);const o=this.getSignature(e,r);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let u=a[o];if(u)return a[r._key]=u,u;M2(e,r._attributeData);const l=e.buffers;u=i.createVertexArray(),i.bindVertexArray(u);for(let c=0;c<l.length;c++){const d=l[c];s.bind(d)}return this.activateVao(e,r),a[r._key]=u,a[o]=u,i.bindVertexArray(null),u}onGeometryDestroy(e,r){const n=this._geometryVaoHash[e.uid],i=this.gl;if(n){if(r)for(const s in n)this._activeVao!==n[s]&&this.unbind(),i.deleteVertexArray(n[s]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const r=this.gl;for(const n in this._geometryVaoHash){if(e)for(const i in this._geometryVaoHash[n]){const s=this._geometryVaoHash[n];this._activeVao!==s&&this.unbind(),r.deleteVertexArray(s[i])}this._geometryVaoHash[n]=null}}activateVao(e,r){var a;const n=this._renderer.gl,i=this._renderer.buffer,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let o=null;for(const u in s){const l=s[u],c=l.buffer,d=i.getGlBuffer(c),h=r._attributeData[u];if(h){o!==d&&(i.bind(c),o=d);const f=l.location;n.enableVertexAttribArray(f);const p=sl(l.format),m=EO(l.format);if(((a=h.format)==null?void 0:a.substring(1,4))==="int"?n.vertexAttribIPointer(f,p.size,m,l.stride,l.offset):n.vertexAttribPointer(f,p.size,m,p.normalised,l.stride,l.offset),l.instance)if(this.hasInstance)n.vertexAttribDivisor(f,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this._renderer,o=this._activeGeometry,a=yq[o.topology||e];if(i||(i=o.instanceCount),o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,l=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;i>1?s.drawElementsInstanced(a,r||o.indexBuffer.data.length,l,(n||0)*u,i):s.drawElements(a,r||o.indexBuffer.data.length,l,(n||0)*u)}else i>1?s.drawArraysInstanced(a,n||0,r||o.getSize(),i):s.drawArrays(a,n||0,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}D2.extension={type:[A.WebGLSystem],name:"geometry"};const vq=new Cl({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),k2=class TO{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:r,antialias:n}={...TO.defaultOptions,...e};this.useBackBuffer=r,this._antialias=n,this._renderer.context.supports.msaa||(fe("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Ci.for2d();const i=new li({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new Mn({glProgram:i,resources:{uTexture:X.WHITE.source}})}renderStart(e){const r=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!r.isRoot,this._useBackBufferThisRender){const n=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=n.colorTexture,e.target=this._getBackBufferTexture(n.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:vq,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new X({source:new wt({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};k2.extension={type:[A.WebGLSystem],name:"backBuffer",priority:1};k2.defaultOptions={useBackBuffer:!1};let CO=k2;class O2{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}O2.extension={type:[A.WebGLSystem],name:"colorMask"};class I2{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,r){this._renderer.geometry.bind(e,r.glProgram)}finishRenderPass(){}draw(e){const r=this._renderer,{geometry:n,shader:i,state:s,skipSync:o,topology:a,size:u,start:l,instanceCount:c}=e;r.shader.bind(i,o),r.geometry.bind(n,r.shader._activeProgram),s&&r.state.set(s),r.geometry.draw(a,u,l,c??n.instanceCount)}destroy(){this._renderer=null}}I2.extension={type:[A.WebGLSystem],name:"encoder"};class PO{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const Uo=[];Uo[Ft.NONE]=void 0;Uo[Ft.DISABLED]={stencilWriteMask:0,stencilReadMask:0};Uo[Ft.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};Uo[Ft.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};Uo[Ft.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};class F2{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:Ft.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this._stencilCache.enabled=!1,this._stencilCache.stencilMode=Ft.NONE,this._stencilCache.stencilReference=0}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:Ft.DISABLED,stencilReference:0}),this.setStencilMode(r.stencilMode,r.stencilReference)}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid],i=this._gl,s=Uo[e],o=this._stencilCache;if(n.stencilMode=e,n.stencilReference=r,e===Ft.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,i.disable(i.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,i.enable(i.STENCIL_TEST)),(e!==o.stencilMode||o.stencilReference!==r)&&(o.stencilMode=e,o.stencilReference=r,i.stencilFunc(this._comparisonFuncMapping[s.stencilBack.compare],r,255),i.stencilOp(i.KEEP,i.KEEP,this._stencilOpsMapping[s.stencilBack.passOp]))}}F2.extension={type:[A.WebGLSystem],name:"stencil"};class U2{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!Ab())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const r=this.getUniformGroupData(e);e.buffer||(e.buffer=new mn({data:new Float32Array(r.layout.size/4),usage:we.UNIFORM|we.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const r=e._signature;let n=this._syncFunctionHash[r];if(!n){const i=Object.keys(e.uniformStructures).map(a=>e.uniformStructures[a]),s=this._adaptor.createUboElements(i),o=this._generateUboSync(s.uboElements);n=this._syncFunctionHash[r]={layout:s,syncFunction:o}}return this._syncFunctionHash[r]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,r,n){const i=this.getUniformGroupData(e);return e.buffer||(e.buffer=new mn({data:new Float32Array(i.layout.size/4),usage:we.UNIFORM|we.COPY_DST})),r||(r=e.buffer.data),n||(n=0),i.syncFunction(e.uniforms,r,n),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const r=this.syncUniformGroup(e);return e.buffer.update(),r}destroy(){this._syncFunctionHash=null}}const L2={f32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function AO(t){const e=t.map(s=>({data:s,offset:0,size:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=L2[o.data.type],!r)throw new Error(`Unknown type ${o.data.type}`);if(o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.size=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}const to=[{type:"mat3x3<f32>",test:t=>t.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:t=>t.type==="vec2<f32>"&&t.size===1&&t.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:t=>t.type==="vec3<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function N2(t,e,r,n){const i=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let s=0;for(let a=0;a<t.length;a++){const u=t[a],l=u.data.name;let c=!1,d=0;for(let h=0;h<to.length;h++)if(to[h].test(u.data)){d=u.offset/4,i.push(`name = "${l}";`,`offset += ${d-s};`,to[h][e]||to[h].ubo),c=!0;break}if(!c)if(u.data.size>1)d=u.offset/4,i.push(r(u,d-s));else{const h=n[u.data.type];d=u.offset/4,i.push(`
                    v = uv.${l};
                    offset += ${d-s};
                    ${h};
                `)}s=d}const o=i.join(`
`);return new Function("uv","data","offset",o)}function tu(t,e){return`
        for (let i = 0; i < ${t*e}; i++) {
            data[offset + (((i / ${t})|0) * 4) + (i % ${t})] = v[i];
        }
    `}const G2={f32:`
        data[offset] = v;`,i32:`
        data[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":tu(3,2),"mat4x2<f32>":tu(4,2),"mat2x3<f32>":tu(2,3),"mat4x3<f32>":tu(4,3),"mat2x4<f32>":tu(2,4),"mat3x4<f32>":tu(3,4)},RO={...G2,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function MO(t,e){const r=Math.max(L2[t.data.type]/16,1),n=t.data.value.length/t.data.size,i=(4-n%4)%4;return`
        v = uv.${t.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${t.data.size*r}; i++)
        {
            for(var j = 0; j < ${n}; j++)
            {
                data[arrayOffset++] = v[t++];
            }
            ${i!==0?`arrayOffset += ${i};`:""}
        }
    `}function BO(t){return N2(t,"uboStd40",MO,G2)}class z2 extends U2{constructor(){super({createUboElements:AO,generateUboSync:BO})}}z2.extension={type:[A.WebGLSystem],name:"ubo"};class DO{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Me}init(e,r){this._renderer=e,this._renderTargetSystem=r,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Me}copyToTexture(e,r,n,i,s){const o=this._renderTargetSystem,a=this._renderer,u=o.getGpuRenderTarget(e),l=a.gl;return this.finishRenderPass(e),l.bindFramebuffer(l.FRAMEBUFFER,u.resolveTargetFramebuffer),a.texture.bind(r,0),l.copyTexSubImage2D(l.TEXTURE_2D,0,s.x,s.y,n.x,n.y,i.width,i.height),r}startRenderPass(e,r=!0,n,i){const s=this._renderTargetSystem,o=e.colorTexture,a=s.getGpuRenderTarget(e);let u=i.y;e.isRoot&&(u=o.pixelHeight-i.height),e.colorTextures.forEach(d=>{this._renderer.texture.unbind(d)});const l=this._renderer.gl;l.bindFramebuffer(l.FRAMEBUFFER,a.framebuffer);const c=this._viewPortCache;(c.x!==i.x||c.y!==u||c.width!==i.width||c.height!==i.height)&&(c.x=i.x,c.y=u,c.width=i.width,c.height=i.height,l.viewport(i.x,u,i.width,i.height)),!a.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(a),this.clear(e,r,n)}finishRenderPass(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);if(!n.msaa)return;const i=this._renderer.gl;i.bindFramebuffer(i.FRAMEBUFFER,n.resolveTargetFramebuffer),i.bindFramebuffer(i.READ_FRAMEBUFFER,n.framebuffer),i.blitFramebuffer(0,0,n.width,n.height,0,0,n.width,n.height,i.COLOR_BUFFER_BIT,i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)}initGpuRenderTarget(e){const r=this._renderer,n=r.gl,i=new PO;return e.colorTexture.resource===r.gl.canvas?(i.framebuffer=null,i):(this._initColor(e,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i)}destroyGpuRenderTarget(e){const r=this._renderer.gl;e.framebuffer&&(r.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(r.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(r.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(n=>{r.deleteRenderbuffer(n)}),e.msaaRenderBuffer=null}clear(e,r,n){if(!r)return;const i=this._renderTargetSystem;typeof r=="boolean"&&(r=r?Lr.ALL:Lr.NONE);const s=this._renderer.gl;if(r&Lr.COLOR){n??(n=i.defaultClearColor);const o=this._clearColorCache,a=n;(o[0]!==a[0]||o[1]!==a[1]||o[2]!==a[2]||o[3]!==a[3])&&(o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],s.clearColor(a[0],a[1],a[2],a[3]))}s.clear(r)}resizeGpuRenderTarget(e){if(e.isRoot)return;const n=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,n),e.stencil&&this._resizeStencil(n)}_initColor(e,r){const n=this._renderer,i=n.gl,s=i.createFramebuffer();if(r.resolveTargetFramebuffer=s,i.bindFramebuffer(i.FRAMEBUFFER,s),r.width=e.colorTexture.source.pixelWidth,r.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((o,a)=>{const u=o.source;u.antialias&&(n.context.supports.msaa?r.msaa=!0:fe("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),n.texture.bindSource(u,0);const c=n.texture.getGlSource(u).texture;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,3553,c,0)}),r.msaa){const o=i.createFramebuffer();r.framebuffer=o,i.bindFramebuffer(i.FRAMEBUFFER,o),e.colorTextures.forEach((a,u)=>{const l=i.createRenderbuffer();r.msaaRenderBuffer[u]=l})}else r.framebuffer=s;this._resizeColor(e,r)}_resizeColor(e,r){const n=e.colorTexture.source;if(r.width=n.pixelWidth,r.height=n.pixelHeight,e.colorTextures.forEach((i,s)=>{s!==0&&i.source.resize(n.width,n.height,n._resolution)}),r.msaa){const i=this._renderer,s=i.gl,o=r.framebuffer;s.bindFramebuffer(s.FRAMEBUFFER,o),e.colorTextures.forEach((a,u)=>{const l=a.source;i.texture.bindSource(l,0);const d=i.texture.getGlSource(l).internalFormat,h=r.msaaRenderBuffer[u];s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorageMultisample(s.RENDERBUFFER,4,d,l.pixelWidth,l.pixelHeight),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+u,s.RENDERBUFFER,h)})}}_initStencil(e){if(e.framebuffer===null)return;const r=this._renderer.gl,n=r.createRenderbuffer();e.depthStencilRenderBuffer=n,r.bindRenderbuffer(r.RENDERBUFFER,n),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n),this._resizeStencil(e)}_resizeStencil(e){const r=this._renderer.gl;r.bindRenderbuffer(r.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?r.renderbufferStorageMultisample(r.RENDERBUFFER,4,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,this._renderer.context.webGLVersion===2?r.DEPTH24_STENCIL8:r.DEPTH_STENCIL,e.width,e.height)}}function kO(t,e,r,n,i,s){const o=s?1:-1;return t.identity(),t.a=1/n*2,t.d=o*(1/i*2),t.tx=-1-e*t.a,t.ty=-o-r*t.d,t}const su=new Map;function $2(t,e){if(!su.has(t)){const r=new X({source:new Pa({resource:t,...e})}),n=()=>{su.get(t)===r&&su.delete(t)};r.once("destroy",n),r.source.once("destroy",n),su.set(t,r)}return su.get(t)}function xq(t){return su.has(t)}function OO(t){const e=t.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const IO=class FO{constructor(e={}){if(this.uid=Je("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...FO.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let r=0;r<e.colorTextures;r++)this.colorTextures.push(new wt({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(n=>n.source)];const r=this.colorTexture.source;this.resize(r.width,r.height,r._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof X||e.depthStencilTexture instanceof wt?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new wt({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,r,n=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((s,o)=>{i&&o===0||s.source.resize(e,r,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,r,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};IO.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let em=IO;class H2{constructor(e){this.rootViewPort=new Me,this.viewport=new Me,this.onRenderTargetChange=new Mb("onRenderTargetChange"),this.projectionMatrix=new te,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:r,clearColor:n,frame:i}){this._renderTargetStack.length=0,this.push(e,r,n,i),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=OO(this.rootRenderTarget)}bind(e,r=!0,n,i){const s=this.getRenderTarget(e),o=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const a=this.getGpuRenderTarget(s);(s.pixelWidth!==a.width||s.pixelHeight!==a.height)&&(this.adaptor.resizeGpuRenderTarget(s),a.width=s.pixelWidth,a.height=s.pixelHeight);const u=s.colorTexture,l=this.viewport,c=u.pixelWidth,d=u.pixelHeight;if(!i&&e instanceof X&&(i=e.frame),i){const h=u._resolution;l.x=i.x*h+.5|0,l.y=i.y*h+.5|0,l.width=i.width*h+.5|0,l.height=i.height*h+.5|0}else l.x=0,l.y=0,l.width=c,l.height=d;return kO(this.projectionMatrix,0,0,l.width/u.resolution,l.height/u.resolution,!s.isRoot),this.adaptor.startRenderPass(s,r,n,l),o&&this.onRenderTargetChange.emit(s),s}clear(e,r=Lr.ALL,n){r&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,r,n,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,r=Lr.ALL,n,i){const s=this.bind(e,r,n,i);return this._renderTargetStack.push({renderTarget:s,frame:i}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,r,n,i,s){n.x<0&&(i.width+=n.x,s.x-=n.x,n.x=0),n.y<0&&(i.height+=n.y,s.y-=n.y,n.y=0);const{pixelWidth:o,pixelHeight:a}=e;return i.width=Math.min(i.width,o-n.x),i.height=Math.min(i.height,a-n.y),this.adaptor.copyToTexture(e,r,n,i,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,r)=>{e!==r&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let r=null;return Pa.test(e)&&(e=$2(e).source),e instanceof em?r=e:e instanceof wt&&(r=new em({colorTextures:[e]}),Pa.test(e.source.resource)&&(r.isRoot=!0),e.once("destroy",()=>{r.destroy();const n=this._gpuRenderTargetHash[r.uid];n&&(this._gpuRenderTargetHash[r.uid]=null,this.adaptor.destroyGpuRenderTarget(n))})),this._renderSurfaceToRenderTargetHash.set(e,r),r}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}}class j2 extends H2{constructor(e){super(e),this.adaptor=new DO,this.adaptor.init(e,this)}}j2.extension={type:[A.WebGLSystem],name:"renderTarget"};class n0 extends Jr{constructor({buffer:e,offset:r,size:n}){super(),this.uid=Je("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Je("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=r|0,this.size=n,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Je("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function UO(t,e){const r=[],n=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let i=!1,s=0,o=0;const a=e._getProgramData(t.glProgram);for(const l in t.groups){const c=t.groups[l];r.push(`
            resources = g[${l}].resources;
        `);for(const d in c.resources){const h=c.resources[d];if(h instanceof Lt)h.ubo?r.push(`
                        sS.bindUniformBlock(
                            resources[${d}],
                            sS._uniformBindMap[${l}[${d}],
                            ${s++}
                        );
                    `):r.push(`
                        ugS.updateUniformGroup(resources[${d}], p, sD);
                    `);else if(h instanceof n0)r.push(`
                    sS.bindUniformBlock(
                        resources[${d}],
                        sS._uniformBindMap[${l}[${d}],
                        ${s++}
                    );
                `);else if(h instanceof wt){const f=t._uniformBindMap[l][d],p=a.uniformData[f];p&&(i||(i=!0,n.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(p.location,o),r.push(`
                        tS.bind(resources[${d}], ${o});
                    `),o++)}}}const u=[...n,...r].join(`
`);return new Function("r","s","sD",u)}class bq{}class LO{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function ix(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function R_(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function W2(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return R_(2*e);case"bvec3":return R_(3*e);case"bvec4":return R_(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let Cf=null;const Y3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Sq={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function V2(t,e){if(!Cf){const r=Object.keys(Y3);Cf={};for(let n=0;n<r.length;++n){const i=r[n];Cf[t[i]]=Y3[i]}}return Cf[e]}function NO(t,e){const r=V2(t,e);return Sq[r]||"float32"}function GO(t,e,r=!1){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const a=e.getActiveAttrib(t,o);if(a.name.startsWith("gl_"))continue;const u=NO(e,a.type);n[a.name]={location:0,format:u,stride:sl(u).stride,offset:0,instance:!1,start:0}}const s=Object.keys(n);if(r){s.sort((o,a)=>o>a?1:-1);for(let o=0;o<s.length;o++)n[s[o]].location=o,e.bindAttribLocation(t,o,s[o]);e.linkProgram(t)}else for(let o=0;o<s.length;o++)n[s[o]].location=e.getAttribLocation(t,s[o]);return n}function zO(t,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<n;i++){const s=e.getActiveUniformBlockName(t,i),o=e.getUniformBlockIndex(t,s),a=e.getActiveUniformBlockParameter(t,i,e.UNIFORM_BLOCK_DATA_SIZE);r[s]={name:s,index:o,size:a}}return r}function $O(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=V2(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:W2(u,s.size)}}return r}function q3(t,e){const r=t.getShaderSource(e).split(`
`).map((l,c)=>`${c}: ${l}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{r[l-1]=`%c${r[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function HO(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||q3(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||q3(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function jO(t,e){const r=ix(t,t.VERTEX_SHADER,e.vertex),n=ix(t,t.FRAGMENT_SHADER,e.fragment),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=e.transformFeedbackVaryings;s&&(typeof t.transformFeedbackVaryings!="function"?fe("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||HO(t,i,r,n),e._attributeData=GO(i,t,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=$O(i,t),e._uniformBlockData=zO(i,t),t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e._uniformData){const l=e._uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:W2(l.type,l.size)}}return new LO(i,o)}const Pf={textureCount:0,blockIndex:0};class X2{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._nextIndex=0,this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e}contextChange(e){this._gl=e,this._maxBindings=e.MAX_UNIFORM_BUFFER_BINDINGS?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0,this._programDataHash=Object.create(null),this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._activeProgram=null}bind(e,r){if(this._setProgram(e.glProgram),r)return;Pf.textureCount=0,Pf.blockIndex=0;let n=this._shaderSyncFunctions[e.glProgram._key];n||(n=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),n(this._renderer,e,Pf)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,Pf)}bindUniformBlock(e,r,n=0){const i=this._renderer.buffer,s=this._getProgramData(this._activeProgram),o=e._bufferResource;o&&this._renderer.ubo.updateUniformGroup(e),i.updateBuffer(e.buffer);let a=this._boundUniformsIdsToIndexHash[e.uid];if(a===void 0){const c=this._nextIndex++%this._maxBindings,d=this._boundIndexToUniformsHash[c];d&&(this._boundUniformsIdsToIndexHash[d.uid]=void 0),a=this._boundUniformsIdsToIndexHash[e.uid]=c,this._boundIndexToUniformsHash[c]=e,o?i.bindBufferRange(e.buffer,c,e.offset):i.bindBufferBase(e.buffer,c)}const u=this._gl,l=this._activeProgram._uniformBlockData[r].index;s.uniformBlockBindings[n]!==a&&(s.uniformBlockBindings[n]=a,u.uniformBlockBinding(s.program,l,a))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const r=this._getProgramData(e);this._gl.useProgram(r.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const r=e._key;return this._programDataHash[r]=jO(this._gl,e),this._programDataHash[r]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null,this._boundUniformsIdsToIndexHash=null}_generateShaderSync(e,r){return UO(e,r)}}X2.extension={type:[A.WebGLSystem],name:"shader"};const WO={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},VO={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function XO(t,e){const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const n in t.uniforms){if(!e[n]){t.uniforms[n]instanceof Lt?t.uniforms[n].ubo?r.push(`
                        renderer.shader.bindUniformBlock(uv.${n}, "${n}");
                    `):r.push(`
                        renderer.shader.updateUniformGroup(uv.${n});
                    `):t.uniforms[n]instanceof n0&&r.push(`
                        renderer.shader.bindBufferResource(uv.${n}, "${n}");
                    `);continue}const i=t.uniformStructures[n];let s=!1;for(let o=0;o<to.length;o++){const a=to[o];if(i.type===a.type&&a.test(i)){r.push(`name = "${n}";`,to[o].uniform),s=!0;break}}if(!s){const a=(i.size===1?WO:VO)[i.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}class Y2{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,r,n){const i=this._renderer.shader._getProgramData(r);(!e.isStatic||e._dirtyId!==i.uniformDirtyGroups[e.uid])&&(i.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,r)(i.uniformData,e.uniforms,this._renderer,n))}_getUniformSyncFunction(e,r){var n;return((n=this._uniformGroupSyncHash[e._signature])==null?void 0:n[r._key])||this._createUniformSyncFunction(e,r)}_createUniformSyncFunction(e,r){const n=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),i=this._getSignature(e,r._uniformData,"u");return this._cache[i]||(this._cache[i]=this._generateUniformsSync(e,r._uniformData)),n[r._key]=this._cache[i],n[r._key]}_generateUniformsSync(e,r){return XO(e,r)}_getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}destroy(){this._renderer=null,this._cache=null}}Y2.extension={type:[A.WebGLSystem],name:"uniformGroup"};function wq(t){return t=t.replaceAll("texture2D","texture").replaceAll("gl_FragColor","finalColor").replaceAll("varying","in"),t=`
        out vec4 finalColor;
    ${t}
    `,t}const Eq={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Tq(t){return Eq[t]}function YO(t){const e={};return e.normal=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e.add=[t.ONE,t.ONE],e.multiply=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.screen=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e["screen-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.erase=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e}const Cq=0,Pq=1,Aq=2,Rq=3,Mq=4,Bq=5,qO=class sx{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[Cq]=this.setBlend,this.map[Pq]=this.setOffset,this.map[Aq]=this.setCullFace,this.map[Rq]=this.setDepthTest,this.map[Mq]=this.setFrontFace,this.map[Bq]=this.setDepthMask,this.checks=[],this.defaultState=Ci.for2d()}contextChange(e){this.gl=e,this.blendModesMap=YO(e),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(sx._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(sx._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const r=this.blendModesMap[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static _checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static _checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};qO.extension={type:[A.WebGLSystem],name:"state"};let KO=qO;class QO{constructor(e){this.target=B2.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=Se.UNSIGNED_BYTE,this.internalFormat=Jp.RGBA,this.format=Jp.RGBA,this.samplerType=0}}const ZO={id:"buffer",upload(t,e,r){e.width===t.width||e.height===t.height?r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.width,t.height,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,t.width,t.height,0,e.format,e.type,t.resource),e.width=t.width,e.height=t.height}},Dq={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},JO={id:"compressed",upload(t,e,r){r.pixelStorei(r.UNPACK_ALIGNMENT,4);let n=t.pixelWidth,i=t.pixelHeight;const s=!!Dq[t.format];for(let o=0;o<t.resource.length;o++){const a=t.resource[o];s?r.compressedTexImage2D(r.TEXTURE_2D,o,e.internalFormat,n,i,0,a):r.texImage2D(r.TEXTURE_2D,o,e.internalFormat,n,i,0,e.format,e.type,a),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},q2={id:"image",upload(t,e,r,n){const i=t.alphaMode==="premultiply-alpha-on-upload";r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i);const s=e.width,o=e.height,a=t.pixelWidth,u=t.pixelHeight,l=t.resourceWidth,c=t.resourceHeight;l<a||c<u?((s!==a||o!==u)&&r.texImage2D(e.target,0,e.internalFormat,a,u,0,e.format,e.type,null),n===2?r.texSubImage2D(r.TEXTURE_2D,0,0,0,l,c,e.format,e.type,t.resource):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource)):s===a||o===u?r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource):n===2?r.texImage2D(e.target,0,e.internalFormat,a,u,0,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,e.format,e.type,t.resource),e.width=a,e.height=u}},e5={id:"video",upload(t,e,r,n){if(!t.isValid){r.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}q2.upload(t,e,r,n)}},ox={linear:9729,nearest:9728},t5={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},ep={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},r5={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function ax(t,e,r,n,i,s,o,a){const u=s;if(!a||t.addressModeU!=="repeat"||t.addressModeV!=="repeat"||t.addressModeW!=="repeat"){const l=ep[o?"clamp-to-edge":t.addressModeU],c=ep[o?"clamp-to-edge":t.addressModeV],d=ep[o?"clamp-to-edge":t.addressModeW];e[i](u,e.TEXTURE_WRAP_S,l),e[i](u,e.TEXTURE_WRAP_T,c),e.TEXTURE_WRAP_R&&e[i](u,e.TEXTURE_WRAP_R,d)}if((!a||t.magFilter!=="linear")&&e[i](u,e.TEXTURE_MAG_FILTER,ox[t.magFilter]),r){if(!a||t.mipmapFilter!=="linear"){const l=t5[t.minFilter][t.mipmapFilter];e[i](u,e.TEXTURE_MIN_FILTER,l)}}else e[i](u,e.TEXTURE_MIN_FILTER,ox[t.minFilter]);if(n&&t.maxAnisotropy>1){const l=Math.min(t.maxAnisotropy,e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[i](u,n.TEXTURE_MAX_ANISOTROPY_EXT,l)}t.compare&&e[i](u,e.TEXTURE_COMPARE_FUNC,r5[t.compare])}function n5(t){return{r8unorm:t.RED,r8snorm:t.RED,r8uint:t.RED,r8sint:t.RED,r16uint:t.RED,r16sint:t.RED,r16float:t.RED,rg8unorm:t.RG,rg8snorm:t.RG,rg8uint:t.RG,rg8sint:t.RG,r32uint:t.RED,r32sint:t.RED,r32float:t.RED,rg16uint:t.RG,rg16sint:t.RG,rg16float:t.RG,rgba8unorm:t.RGBA,"rgba8unorm-srgb":t.RGBA,rgba8snorm:t.RGBA,rgba8uint:t.RGBA,rgba8sint:t.RGBA,bgra8unorm:t.RGBA,"bgra8unorm-srgb":t.RGBA,rgb9e5ufloat:t.RGB,rgb10a2unorm:t.RGBA,rg11b10ufloat:t.RGB,rg32uint:t.RG,rg32sint:t.RG,rg32float:t.RG,rgba16uint:t.RGBA,rgba16sint:t.RGBA,rgba16float:t.RGBA,rgba32uint:t.RGBA,rgba32sint:t.RGBA,rgba32float:t.RGBA,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT,depth24plus:t.DEPTH_COMPONENT,"depth24plus-stencil8":t.DEPTH_STENCIL,depth32float:t.DEPTH_COMPONENT,"depth32float-stencil8":t.DEPTH_STENCIL}}function i5(t,e){let r={},n=t.RGBA;return t instanceof Re.get().getWebGLRenderingContext()?e.srgb&&(r={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(r={"rgba8unorm-srgb":t.SRGB8_ALPHA8,"bgra8unorm-srgb":t.SRGB8_ALPHA8},n=t.RGBA8),{r8unorm:t.R8,r8snorm:t.R8_SNORM,r8uint:t.R8UI,r8sint:t.R8I,r16uint:t.R16UI,r16sint:t.R16I,r16float:t.R16F,rg8unorm:t.RG8,rg8snorm:t.RG8_SNORM,rg8uint:t.RG8UI,rg8sint:t.RG8I,r32uint:t.R32UI,r32sint:t.R32I,r32float:t.R32F,rg16uint:t.RG16UI,rg16sint:t.RG16I,rg16float:t.RG16F,rgba8unorm:t.RGBA,...r,rgba8snorm:t.RGBA8_SNORM,rgba8uint:t.RGBA8UI,rgba8sint:t.RGBA8I,bgra8unorm:n,rgb9e5ufloat:t.RGB9_E5,rgb10a2unorm:t.RGB10_A2,rg11b10ufloat:t.R11F_G11F_B10F,rg32uint:t.RG32UI,rg32sint:t.RG32I,rg32float:t.RG32F,rgba16uint:t.RGBA16UI,rgba16sint:t.RGBA16I,rgba16float:t.RGBA16F,rgba32uint:t.RGBA32UI,rgba32sint:t.RGBA32I,rgba32float:t.RGBA32F,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT16,depth24plus:t.DEPTH_COMPONENT24,"depth24plus-stencil8":t.DEPTH24_STENCIL8,depth32float:t.DEPTH_COMPONENT32F,"depth32float-stencil8":t.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function s5(t){return{r8unorm:t.UNSIGNED_BYTE,r8snorm:t.BYTE,r8uint:t.UNSIGNED_BYTE,r8sint:t.BYTE,r16uint:t.UNSIGNED_SHORT,r16sint:t.SHORT,r16float:t.HALF_FLOAT,rg8unorm:t.UNSIGNED_BYTE,rg8snorm:t.BYTE,rg8uint:t.UNSIGNED_BYTE,rg8sint:t.BYTE,r32uint:t.UNSIGNED_INT,r32sint:t.INT,r32float:t.FLOAT,rg16uint:t.UNSIGNED_SHORT,rg16sint:t.SHORT,rg16float:t.HALF_FLOAT,rgba8unorm:t.UNSIGNED_BYTE,"rgba8unorm-srgb":t.UNSIGNED_BYTE,rgba8snorm:t.BYTE,rgba8uint:t.UNSIGNED_BYTE,rgba8sint:t.BYTE,bgra8unorm:t.UNSIGNED_BYTE,"bgra8unorm-srgb":t.UNSIGNED_BYTE,rgb9e5ufloat:t.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:t.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:t.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:t.UNSIGNED_INT,rg32sint:t.INT,rg32float:t.FLOAT,rgba16uint:t.UNSIGNED_SHORT,rgba16sint:t.SHORT,rgba16float:t.HALF_FLOAT,rgba32uint:t.UNSIGNED_INT,rgba32sint:t.INT,rgba32float:t.FLOAT,stencil8:t.UNSIGNED_BYTE,depth16unorm:t.UNSIGNED_SHORT,depth24plus:t.UNSIGNED_INT,"depth24plus-stencil8":t.UNSIGNED_INT_24_8,depth32float:t.FLOAT,"depth32float-stencil8":t.FLOAT_32_UNSIGNED_INT_24_8_REV}}function kq(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}const Oq=4;class K2{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:q2,buffer:ZO,video:e5,compressed:JO},this._useSeparateSamplers=!1,this._renderer=e}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=i5(e,this._renderer.context.extensions),this._mapFormatToType=s5(e),this._mapFormatToFormat=n5(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null);for(let r=0;r<16;r++)this.bind(X.EMPTY,r)}initSource(e){this.bind(e)}bind(e,r=0){const n=e.source;e?(this.bindSource(n,r),this._useSeparateSamplers&&this._bindSampler(n.style,r)):(this.bindSource(null,r),this._useSeparateSamplers&&this._bindSampler(null,r))}bindSource(e,r=0){const n=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[r]!==e){this._boundTextures[r]=e,this._activateLocation(r),e=e||X.EMPTY.source;const i=this.getGlSource(e);n.bindTexture(i.target,i.texture)}}_bindSampler(e,r=0){const n=this._gl;if(!e){this._boundSamplers[r]=null,n.bindSampler(r,null);return}const i=this._getGlSampler(e);this._boundSamplers[r]!==i&&(this._boundSamplers[r]=i,n.bindSampler(r,i))}unbind(e){const r=e.source,n=this._boundTextures,i=this._gl;for(let s=0;s<n.length;s++)if(n[s]===r){this._activateLocation(s);const o=this.getGlSource(r);i.bindTexture(o.target,null),n[s]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const r=this._gl,n=new QO(r.createTexture());if(n.type=this._mapFormatToType[e.format],n.internalFormat=this._mapFormatToInternalFormat[e.format],n.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const i=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(i))+1}return this._glTextures[e.uid]=n,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),n}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,r){const n=this._gl,i=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,i.texture),this._boundTextures[this._activeTextureLocation]=e,ax(e.style,n,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",n.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,r)}onSourceUnload(e){const r=this._glTextures[e.uid];r&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(r.texture))}onSourceUpdate(e){const r=this._gl,n=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,n.texture),this._boundTextures[this._activeTextureLocation]=e,this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,n,r,this._renderer.context.webGLVersion):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.pixelWidth,e.pixelHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,r=!0){r&&this.bindSource(e,0);const n=this.getGlSource(e);this._gl.generateMipmap(n.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const r=this._gl,n=this._gl.createSampler();return this._glSamplers[e._resourceId]=n,ax(e,r,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",n,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:r,width:n,height:i}=this.getPixels(e),s=Re.get().createCanvas();s.width=n,s.height=i;const o=s.getContext("2d");if(o){const a=o.createImageData(n,i);a.data.set(r),o.putImageData(a,0,0)}return s}getPixels(e){const r=e.source.resolution,n=e.frame,i=Math.max(Math.round(n.width*r),1),s=Math.max(Math.round(n.height*r),1),o=new Uint8Array(Oq*i*s),a=this._renderer,u=a.renderTarget.getRenderTarget(e),l=a.renderTarget.getGpuRenderTarget(u),c=a.gl;return c.bindFramebuffer(c.FRAMEBUFFER,l.resolveTargetFramebuffer),c.readPixels(Math.round(n.x*r),Math.round(n.y*r),i,s,c.RGBA,c.UNSIGNED_BYTE,o),{pixels:new Uint8ClampedArray(o.buffer),width:i,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}}K2.extension={type:[A.WebGLSystem],name:"texture"};class Q2{init(){const e=new Lt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),r=Ti(),n=Al({name:"graphics",bits:[Zg,e0(r),r0,Ml]});this.shader=new Mn({glProgram:n,resources:{localUniforms:e,batchSamplers:t0(r)}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{geometry:a,instructions:u}=o.getContextRenderData(n);i.groups[0]=s.globalUniforms.bindGroup,s.state.set(e.state),s.shader.bind(i),s.geometry.bind(a,i.glProgram);const l=u.instructions;for(let c=0;c<u.instructionSize;c++){const d=l[c];if(d.size){for(let h=0;h<d.textures.textures.length;h++)s.texture.bind(d.textures.textures[h],h);s.geometry.draw("triangle-list",d.size,d.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}Q2.extension={type:[A.WebGLPipesAdaptor],name:"graphics"};class Z2{init(){const e=Al({name:"mesh",bits:[r0,_O,Ml]});this._shader=new Mn({glProgram:e,resources:{uTexture:X.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new te}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(i){if(!i.glProgram){fe("Mesh shader has no glProgram",r.shader);return}}else{i=this._shader;const s=r.texture,o=s.source;i.resources.uTexture=o,i.resources.uSampler=o.style,i.resources.textureUniforms.uniforms.uTextureMatrix=s.textureMatrix.mapCoord}i.groups[100]=n.globalUniforms.bindGroup,i.groups[101]=e.localUniformsBindGroup,n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}Z2.extension={type:[A.WebGLPipesAdaptor],name:"mesh"};class J2{constructor(e){this._renderer=e}addRenderable(e,r){this._renderer.renderPipes.batch.break(r),r.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}J2.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"customRender"};function eS(t,e){const r=t.instructionSet,n=r.instructions;for(let i=0;i<r.instructionSize;i++){const s=n[i];e[s.renderPipeId].execute(s)}}class tS{constructor(e){this._renderer=e}addRenderGroup(e,r){this._renderer.renderPipes.batch.break(r),r.add(e)}execute(e){e.isRenderable&&(this._renderer.globalUniforms.push({worldTransformMatrix:e.worldTransform,worldColor:e.worldColorAlpha}),eS(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop())}destroy(){this._renderer=null}}tS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"renderGroup"};function rS(t,e=[]){e.push(t);for(let r=0;r<t.renderGroupChildren.length;r++)rS(t.renderGroupChildren[r],e);return e}function nS(t,e,r){const n=t>>16&255,i=t>>8&255,s=t&255,o=e>>16&255,a=e>>8&255,u=e&255,l=n+(o-n)*r,c=i+(a-i)*r,d=s+(u-s)*r;return(l<<16)+(c<<8)+d}const Nu=16777215;function iS(t,e){return t===Nu||e===Nu?t+e-Nu:nS(t,e,.5)}function Iq(t,e,r){const n=(r>>24&255)/255,i=e*n*255,s=((t&255)<<16)+(t&65280)+(t>>16&255),o=r&16777215;let a;return s===Nu||o===Nu?a=s+o-Nu:a=nS(s,o,.5),a+(i<<24)}const Fq=new $e;function sS(t,e=!1){o5(t);const r=t.childrenToUpdate,n=t.updateTick++;for(const i in r){const s=r[i],o=s.list,a=s.index;for(let u=0;u<a;u++){const l=o[u];l.parentRenderGroup===t&&oS(l,n,0)}s.index=0}if(e)for(let i=0;i<t.renderGroupChildren.length;i++)sS(t.renderGroupChildren[i],e)}function o5(t){const e=t.root;let r;if(t.renderGroupParent){const n=t.renderGroupParent;t.worldTransform.appendFrom(e.relativeGroupTransform,n.worldTransform),t.worldColor=iS(e.groupColor,n.worldColor),r=e.groupAlpha*n.worldAlpha}else t.worldTransform.copyFrom(e.localTransform),t.worldColor=e.localColor,r=e.localAlpha;r=r<0?0:r>1?1:r,t.worldAlpha=r,t.worldColorAlpha=t.worldColor+((r*255|0)<<24)}function oS(t,e,r){if(e===t.updateTick)return;t.updateTick=e,t.didChange=!1;const n=t.localTransform;t.updateLocalTransform();const i=t.parent;if(i&&!i.renderGroup?(r=r|t._updateFlags,t.relativeGroupTransform.appendFrom(n,i.relativeGroupTransform),r&&K3(t,i,r)):(r=t._updateFlags,t.relativeGroupTransform.copyFrom(n),r&&K3(t,Fq,r)),!t.renderGroup){const s=t.children,o=s.length;for(let u=0;u<o;u++)oS(s[u],e,r);const a=t.parentRenderGroup;t.renderPipeId&&!a.structureDidChange&&a.updateRenderable(t)}}function K3(t,e,r){if(r&Hp){t.groupColor=iS(t.localColor,e.groupColor);let n=t.localAlpha*e.groupAlpha;n=n<0?0:n>1?1:n,t.groupAlpha=n,t.groupColorAlpha=t.groupColor+((n*255|0)<<24)}r&vb&&(t.groupBlendMode=t.localBlendMode==="inherit"?e.groupBlendMode:t.localBlendMode),r&Gc&&(t.globalDisplayStatus=t.localDisplayStatus&e.globalDisplayStatus),t._updateFlags=0}function a5(t,e){const{list:r,index:n}=t.childrenRenderablesToUpdate;let i=!1;for(let s=0;s<n;s++){const o=r[s];if(i=e[o.renderPipeId].validateRenderable(o),i)break}return t.structureDidChange=i,i}const Uq=new te;class aS{constructor(e){this._renderer=e}render({container:e,transform:r}){e.isRenderGroup=!0;const n=e.parent,i=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer,o=rS(e.renderGroup,[]);let a=Uq;r&&(a=a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(r));const u=s.renderPipes;for(let l=0;l<o.length;l++){const c=o[l];c.runOnRender(),c.instructionSet.renderPipes=u,c.structureDidChange||a5(c,u),sS(c),c.structureDidChange?(c.structureDidChange=!1,yO(c,u)):Lq(c),c.childrenRenderablesToUpdate.index=0,s.renderPipes.batch.upload(c.instructionSet)}s.globalUniforms.start({worldTransformMatrix:r?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),eS(e.renderGroup,u),u.uniformBatch&&u.uniformBatch.renderEnd(),r&&e.renderGroup.localTransform.copyFrom(a),e.parent=n,e.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}}aS.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"renderGroup"};function Lq(t){const{list:e,index:r}=t.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const i=e[n];i.didViewUpdate&&t.updateRenderable(i)}}class i0{constructor(){this.vertexSize=4,this.indexSize=6,this.location=0,this.batcher=null,this.batch=null,this.roundPixels=0}get blendMode(){return this.renderable.groupBlendMode}packAttributes(e,r,n,i){const s=this.renderable,o=this.texture,a=s.groupTransform,u=a.a,l=a.b,c=a.c,d=a.d,h=a.tx,f=a.ty,p=this.bounds,m=p.maxX,g=p.minX,_=p.maxY,v=p.minY,y=o.uvs,x=s.groupColorAlpha,S=i<<16|this.roundPixels&65535;e[n+0]=u*g+c*v+h,e[n+1]=d*v+l*g+f,e[n+2]=y.x0,e[n+3]=y.y0,r[n+4]=x,r[n+5]=S,e[n+6]=u*m+c*v+h,e[n+7]=d*v+l*m+f,e[n+8]=y.x1,e[n+9]=y.y1,r[n+10]=x,r[n+11]=S,e[n+12]=u*m+c*_+h,e[n+13]=d*_+l*m+f,e[n+14]=y.x2,e[n+15]=y.y2,r[n+16]=x,r[n+17]=S,e[n+18]=u*g+c*_+h,e[n+19]=d*_+l*g+f,e[n+20]=y.x3,e[n+21]=y.y3,r[n+22]=x,r[n+23]=S}packIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}reset(){this.renderable=null,this.texture=null,this.batcher=null,this.batch=null,this.bounds=null}}class uS{constructor(e){this._gpuSpriteHash=Object.create(null),this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const r=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,r),r.batcher.updateElement(r)}validateRenderable(e){const r=e._texture,n=this._getGpuSprite(e);return n.texture._source!==r._source?!n.batcher.checkAndUpdateTexture(n,r):!1}destroyRenderable(e){const r=this._gpuSpriteHash[e.uid];Pe.return(r),this._gpuSpriteHash[e.uid]=null}_updateBatchableSprite(e,r){e._didSpriteUpdate=!1,r.bounds=e.bounds,r.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=Pe.get(i0);return r.renderable=e,r.texture=e._texture,r.bounds=e.bounds,r.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=r,e._didSpriteUpdate=!1,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuSpriteHash)Pe.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}uS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"sprite"};const lS=class u5{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ae(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...u5.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};lS.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"background",priority:0};lS.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let l5=lS;const Wc={};lt.handle(A.BlendMode,t=>{if(!t.name)throw new Error("BlendMode extension must have a name property");Wc[t.name]=t.ref},t=>{delete Wc[t.name]});class cS{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e}setBlendMode(e,r,n){if(this._activeBlendMode===r){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=r,this._isAdvanced&&this._endAdvancedBlendMode(n),this._isAdvanced=!!Wc[r],this._isAdvanced&&(this._beginAdvancedBlendMode(n),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const r=this._activeBlendMode;if(!Wc[r]){fe(`Unable to assign BlendMode: '${r}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let n=this._filterHash[r];n||(n=this._filterHash[r]=new Pd,n.filters=[new Wc[r]]);const i={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:n,canBundle:!1};this._renderableList=i.renderables,e.add(i)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}cS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"blendMode"};const M_={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},dS=class c5{constructor(e){this._renderer=e}_normalizeOptions(e,r={}){return e instanceof $e||e instanceof X?{target:e,...r}:{...r,...e}}async image(e){const r=new Image;return r.src=await this.base64(e),r}async base64(e){e=this._normalizeOptions(e,c5.defaultImageOptions);const{format:r,quality:n}=e,i=this.canvas(e);if(i.toBlob!==void 0)return new Promise((s,o)=>{i.toBlob(a=>{if(!a){o(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(a)},M_[r],n)});if(i.toDataURL!==void 0)return i.toDataURL(M_[r],n);if(i.convertToBlob!==void 0){const s=await i.convertToBlob({type:M_[r],quality:n});return new Promise((o,a)=>{const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(s)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer;if(r instanceof X)return n.texture.generateCanvas(r);const i=n.textureGenerator.generateTexture(e),s=n.texture.generateCanvas(i);return i.destroy(),s}pixels(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer,i=r instanceof X?r:n.textureGenerator.generateTexture(e),s=n.texture.getPixels(i);return r instanceof $e&&i.destroy(),s}texture(e){return e=this._normalizeOptions(e),e.target instanceof X?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const r=this.canvas(e),n=document.createElement("a");n.download=e.filename??"image.png",n.href=r.toDataURL("image/png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}log(e){const r=e.width??200;e=this._normalizeOptions(e);const n=this.canvas(e),i=n.toDataURL();console.log(`[Pixi Texture] ${n.width}px ${n.height}px`);const s=["font-size: 1px;",`padding: ${r}px 300px;`,`background: url(${i}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};dS.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"extract"};dS.defaultImageOptions={format:"png",quality:1};let d5=dS;class h5 extends X{static create(e){return new X({source:new wt(e)})}resize(e,r,n){return this.source.resize(e,r,n),this}}const Nq=new Me,Gq=new sr,zq=[0,0,0,0];class hS{constructor(e){this._renderer=e}generateTexture(e){var l;e instanceof $e&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const r=e.resolution||this._renderer.resolution,n=e.antialias||this._renderer.view.antialias,i=e.target;let s=e.clearColor;s?s=Array.isArray(s)&&s.length===4?s:Ae.shared.setValue(s).toArray():s=zq;const o=((l=e.frame)==null?void 0:l.copyTo(Nq))||Rg(i,Gq).rectangle;o.width=Math.max(o.width,1/r)|0,o.height=Math.max(o.height,1/r)|0;const a=h5.create({...e.textureSourceOptions,width:o.width,height:o.height,resolution:r,antialias:n}),u=te.shared.translate(-o.x,-o.y);return this._renderer.render({container:i,transform:u,target:a,clearColor:s}),a}destroy(){this._renderer=null}}hS.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"textureGenerator"};function $q(t,e,r,n){r[n++]=(t>>16&255)/255,r[n++]=(t>>8&255)/255,r[n++]=(t&255)/255,r[n++]=e}function Ch(t,e,r){const n=(t>>24&255)/255;e[r++]=(t&255)/255*n,e[r++]=(t>>8&255)/255*n,e[r++]=(t>>16&255)/255*n,e[r++]=n}class fS{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:r,worldTransformMatrix:n,worldColor:i,offset:s}){const o=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:o,worldTransformMatrix:new te,worldColor:4294967295,offset:new De},u={projectionMatrix:r||this._renderer.renderTarget.projectionMatrix,resolution:e||o.size,worldTransformMatrix:n||a.worldTransformMatrix,worldColor:i||a.worldColor,offset:s||a.offset,bindGroup:null},l=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(l);const c=l.uniforms;c.uProjectionMatrix=u.projectionMatrix,c.uResolution=u.resolution,c.uWorldTransformMatrix.copyFrom(u.worldTransformMatrix),c.uWorldTransformMatrix.tx-=u.offset.x,c.uWorldTransformMatrix.ty-=u.offset.y,Ch(u.worldColor,c.uWorldColorAlpha,0),l.update();let d;this._renderer.renderPipes.uniformBatch?d=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(l,!1):(d=this._bindGroupPool.pop()||new Vi,this._activeBindGroups.push(d),d.setResource(l,0)),u.bindGroup=d,this._currentGlobalUniformData=u}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===Sn.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new Lt({uProjectionMatrix:{value:new te,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new te,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}fS.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"globalUniforms"};let Q3=!1;const ux="8.1.6";function f5(t){if(!Q3){if(Re.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${ux} (${t}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${ux} - ${t} - http://www.pixijs.com/`);Q3=!0}}class s0{constructor(e){this._renderer=e}init(e){if(e.hello){let r=this._renderer.name;this._renderer.type===Sn.WEBGL&&(r+=` ${this._renderer.context.webGLVersion}`),f5(r)}}}s0.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"hello",priority:-2};s0.defaultOptions={hello:!1};const pS=class p5{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={...p5.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let r=0;r<e.length;r++){const n=e[r];n.autoGarbageCollect&&n.resource&&n._touched>-1&&this.count-n._touched>this.maxIdle&&(n._touched=-1,n.unload())}}destroy(){this._renderer=null}};pS.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"textureGC"};pS.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:60*60,textureGCCheckCountMax:600};let mS=pS;lt.add(mS);const gS=class m5{get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...m5.defaultOptions,...e},e.view&&(le(de,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new Me(0,0,e.width,e.height),this.canvas=e.canvas||Re.get().createCanvas(),this.antialias=!!e.antialias,this.texture=$2(this.canvas,e),this.renderTarget=new em({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.multiView=!!e.multiView,this.autoDensity&&(this.canvas.style.width=`${this.texture.width}px`,this.canvas.style.height=`${this.texture.height}px`),this.resolution=e.resolution}resize(e,r,n){this.texture.source.resize(e,r,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height,this.autoDensity&&(this.canvas.style.width=`${e}px`,this.canvas.style.height=`${r}px`)}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};gS.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"view",priority:0};gS.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let g5=gS;const _S=[l5,fS,s0,g5,aS,mS,hS,d5],yS=[cS,E2,uS,tS,T2,P2,C2,J2],Hq=[..._S,z2,CO,SO,A2,K2,j2,D2,Y2,X2,I2,KO,F2,O2],jq=[...yS],Wq=[S2,Z2,Q2],_5=[],y5=[],v5=[];lt.handleByNamedList(A.WebGLSystem,_5);lt.handleByNamedList(A.WebGLPipes,y5);lt.handleByNamedList(A.WebGLPipesAdaptor,v5);lt.add(...Hq,...jq,...Wq);class x5 extends ph{constructor(){const e={name:"webgl",type:Sn.WEBGL,systems:_5,renderPipes:y5,renderPipeAdaptors:v5};super(e)}}const Vq=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:x5},Symbol.toStringTag,{value:"Module"}));class vS{constructor(e){this._hash=Object.create(null),this._renderer=e}contextChange(e){this._gpu=e}getBindGroup(e,r,n){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,r,n)}_createBindGroup(e,r,n){const i=this._gpu.device,s=r.layout[n],o=[],a=this._renderer;for(const c in s){const d=e.resources[c]??e.resources[s[c]];let h;if(d._resourceType==="uniformGroup"){const f=d;a.ubo.updateUniformGroup(f);const p=f.buffer;h={buffer:a.buffer.getGPUBuffer(p),offset:0,size:p.descriptor.size}}else if(d._resourceType==="buffer"){const f=d;h={buffer:a.buffer.getGPUBuffer(f),offset:0,size:f.descriptor.size}}else if(d._resourceType==="bufferResource"){const f=d;h={buffer:a.buffer.getGPUBuffer(f.buffer),offset:f.offset,size:f.size}}else if(d._resourceType==="textureSampler"){const f=d;h=a.texture.getGpuSampler(f)}else if(d._resourceType==="textureSource"){const f=d;h=a.texture.getGpuSource(f).createView({})}o.push({binding:s[c],resource:h})}const u=a.shader.getProgramData(r).bindGroups[n],l=i.createBindGroup({layout:u,entries:o});return this._hash[e._key]=l,l}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}vS.extension={type:[A.WebGPUSystem],name:"bindGroup"};class xS{constructor(){this._gpuBuffers=Object.create(null),this._managedBuffers=[]}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const r=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),n=e.data;return e._updateID&&n&&(e._updateID=0,this._gpu.device.queue.writeBuffer(r,0,n.buffer,0,(e._updateSize||n.byteLength)+3&-4)),r}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this));const r=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(Wp(e.data.buffer,r.getMappedRange()),r.unmap()),this._gpuBuffers[e.uid]=r,this._managedBuffers.push(e),r}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}xS.extension={type:[A.WebGPUSystem],name:"buffer"};function Xq(t,e){const r=t.descriptor.size,n=e.gpu.device,i=new mn({data:new Float32Array(24e5),usage:we.MAP_READ|we.COPY_DST}),s=e.buffer.createGPUBuffer(i),o=n.createCommandEncoder();o.copyBufferToBuffer(e.buffer.getGPUBuffer(t),0,s,0,r),n.queue.submit([o.finish()]),s.mapAsync(GPUMapMode.READ,0,r).then(()=>{s.getMappedRange(0,r),s.unmap()})}class b5{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const r=this.byteIndex;let n=r+e*4;if(n=Math.ceil(n/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,n>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=n,r}addGroup(e){const r=this.addEmptyGroup(e.length);for(let n=0;n<e.length;n++)this.data[r/4+n]=e[n];return r}destroy(){this._buffer.destroy(),this._buffer=null,this.data=null}}class bS{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}bS.extension={type:[A.WebGPUSystem],name:"colorMask"};class o0{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(e).then(r=>{this.gpu=r,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const r=await navigator.gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),n=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(s=>r.features.has(s)),i=await r.requestDevice({requiredFeatures:n});return{adapter:r,device:i}}destroy(){this.gpu=null,this._renderer=null}}o0.extension={type:[A.WebGPUSystem],name:"device"};o0.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class SS{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,r,n,i){const s=this._renderer.pipeline.getPipeline(e,r,n,i);this.setPipeline(s)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,r){this._boundVertexBuffer[e]!==r&&(this._boundVertexBuffer[e]=r,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(r)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const r=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),r)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,r,n){if(this._boundBindGroup[e]===r)return;this._boundBindGroup[e]=r,r._touch(this._renderer.textureGC.count);const i=this._renderer.bindGroup.getBindGroup(r,n,e);this.renderPassEncoder.setBindGroup(e,i)}setGeometry(e){for(const r in e.attributes){const n=e.attributes[r];this._setVertexBuffer(n.location,n.buffer)}e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,r){for(const n in e.groups){const i=e.groups[n];r||this._syncBindGroup(i),this.setBindGroup(n,i,e.gpuProgram)}}_syncBindGroup(e){for(const r in e.resources){const n=e.resources[r];n.isUniformGroup&&this._renderer.ubo.updateUniformGroup(n)}}draw(e){const{geometry:r,shader:n,state:i,topology:s,size:o,start:a,instanceCount:u,skipSync:l}=e;this.setPipelineFromGeometryProgramAndState(r,n.gpuProgram,i,s),this.setGeometry(r),this._setShaderBindGroups(n,l),r.indexBuffer?this.renderPassEncoder.drawIndexed(o||r.indexBuffer.data.length,u||r.instanceCount,a||0):this.renderPassEncoder.draw(o||r.getSize(),u||r.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const r=this._boundPipeline,n={...this._boundVertexBuffer},i=this._boundIndexBuffer,s={...this._boundBindGroup};this._clearCache();const o=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(o.x,o.y,o.width,o.height,0,1),this.setPipeline(r);for(const a in n)this._setVertexBuffer(a,n[a]);for(const a in s)this.setBindGroup(a,s[a],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}SS.extension={type:[A.WebGPUSystem],name:"encoder",priority:1};class wS{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:Ft.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(r.stencilMode,r.stencilReference)}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid];n.stencilMode=e,n.stencilReference=r;const i=this._renderer;i.pipeline.setStencilMode(e),i.encoder.renderPassEncoder.setStencilReference(r)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}wS.extension={type:[A.WebGPUSystem],name:"stencil"};const Vc={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function S5(t){const e=t.map(n=>({data:n,offset:0,size:0}));let r=0;for(let n=0;n<e.length;n++){const i=e[n];let s=Vc[i.data.type].size;const o=Vc[i.data.type].align;if(!Vc[i.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`);i.data.size>1&&(s=Math.max(s,o)*i.data.size),r=Math.ceil(r/o)*o,i.size=s,i.offset=r,r+=s}return r=Math.ceil(r/16)*16,{uboElements:e,size:r}}function w5(t,e){const{size:r,align:n}=Vc[t.data.type],i=(n-r)/4;return`
         v = uv.${t.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${t.data.size*(r/4)}; i++)
         {
             for(var j = 0; j < ${r/4}; j++)
             {
                 data[arrayOffset++] = v[t++];
             }
             ${i!==0?`arrayOffset += ${i};`:""}
         }
     `}function E5(t){return N2(t,"uboWgsl",w5,RO)}class ES extends U2{constructor(){super({createUboElements:S5,generateUboSync:E5})}}ES.extension={type:[A.WebGPUSystem],name:"ubo"};const $s=128;class TS{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._batchBuffer=new b5({minUniformOffsetAlignment:$s});const r=256/$s;for(let n=0;n<r;n++){let i=we.UNIFORM|we.COPY_DST;n===0&&(i|=we.COPY_SRC),this._buffers.push(new mn({data:this._batchBuffer.data,usage:i}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,r){if(!r&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const n=e.buffer.data,i=this._batchBuffer.addEmptyGroup(n.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,i/4),this._bindGroupHash[e.uid]=this._getBindGroup(i/$s),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const r=e.buffer.data,n=this._batchBuffer.addGroup(r);return this._getBufferResource(n/$s)}getArrayBindGroup(e){const r=this._batchBuffer.addGroup(e);return this._getBindGroup(r/$s)}getArrayBufferResource(e){const n=this._batchBuffer.addGroup(e)/$s;return this._getBufferResource(n)}_getBufferResource(e){if(!this._bufferResources[e]){const r=this._buffers[e%2];this._bufferResources[e]=new n0({buffer:r,offset:(e/2|0)*256,size:$s})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const r=new Vi({0:this._getBufferResource(e)});this._bindGroups[e]=r}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,r=this._buffers[0];r.update(this._batchBuffer.byteIndex),e.updateBuffer(r);const n=this._renderer.gpu.device.createCommandEncoder();for(let i=1;i<this._buffers.length;i++){const s=this._buffers[i];n.copyBufferToBuffer(e.getGPUBuffer(r),$s,e.getGPUBuffer(s),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([n.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}TS.extension={type:[A.WebGPUPipes],name:"uniformBatch"};const Yq={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function qq(t,e,r,n,i){return t<<24|e<<16|r<<10|n<<5|i}function Kq(t,e,r,n){return r<<6|t<<3|n<<1|e}class CS{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(Ft.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=Uo[e],this._updatePipeHash())}setPipeline(e,r,n,i){const s=this.getPipeline(e,r,n);i.setPipeline(s)}getPipeline(e,r,n,i){e._layoutKey||(M2(e,r.attributeData),this._generateBufferKey(e)),i=i||e.topology;const s=qq(e._layoutKey,r._layoutKey,n.data,n._blendModeId,Yq[i]);return this._pipeCache[s]?this._pipeCache[s]:(this._pipeCache[s]=this._createPipeline(e,r,n,i),this._pipeCache[s])}_createPipeline(e,r,n,i){const s=this._gpu.device,o=this._createVertexBufferLayouts(e),a=this._renderer.state.getColorTargets(n);a[0].writeMask=this._stencilMode===Ft.RENDERING_MASK_ADD?0:this._colorMask;const u=this._renderer.shader.getProgramData(r).pipeline,l={vertex:{module:this._getModule(r.vertex.source),entryPoint:r.vertex.entryPoint,buffers:o},fragment:{module:this._getModule(r.fragment.source),entryPoint:r.fragment.entryPoint,targets:a},primitive:{topology:i,cullMode:n.cullMode},layout:u,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(l.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:n.depthTest,depthCompare:n.depthTest?"less":"always"}),s.createRenderPipeline(l)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const r=this._gpu.device;return this._moduleCache[e]=r.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const r=[];let n=0;const i=Object.keys(e.attributes).sort();for(let o=0;o<i.length;o++){const a=e.attributes[i[o]];r[n++]=a.location,r[n++]=a.offset,r[n++]=a.format,r[n++]=a.stride}const s=r.join("");return e._layoutKey=fh(s,"geometry"),e._layoutKey}_createVertexBufferLayouts(e){if(this._bufferLayoutsCache[e._layoutKey])return this._bufferLayoutsCache[e._layoutKey];const r=[];return e.buffers.forEach(n=>{const i={arrayStride:0,stepMode:"vertex",attributes:[]},s=i.attributes;for(const o in e.attributes){const a=e.attributes[o];a.buffer===n&&(i.arrayStride=a.stride,i.stepMode=a.instance?"instance":"vertex",s.push({shaderLocation:a.location,offset:a.offset,format:a.format}))}s.length&&r.push(i)}),this._bufferLayoutsCache[e._layoutKey]=r,r}_updatePipeHash(){const e=Kq(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}CS.extension={type:[A.WebGPUSystem],name:"pipeline"};class T5{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class C5{init(e,r){this._renderer=e,this._renderTargetSystem=r}copyToTexture(e,r,n,i,s){const o=this._renderer,a=this._getGpuColorTexture(e),u=o.texture.getGpuSource(r.source);return o.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:n},{texture:u,origin:s},i),r}startRenderPass(e,r=!0,n,i){const o=this._renderTargetSystem.getGpuRenderTarget(e),a=this.getDescriptor(e,r,n);o.descriptor=a,this._renderer.pipeline.setRenderTarget(o),this._renderer.encoder.beginRenderPass(o),this._renderer.encoder.setViewport(i)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);return r.contexts[0]?r.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,r,n){typeof r=="boolean"&&(r=r?Lr.ALL:Lr.NONE);const i=this._renderTargetSystem,s=i.getGpuRenderTarget(e),o=e.colorTextures.map((l,c)=>{const d=s.contexts[c];let h,f;d?h=d.getCurrentTexture().createView():h=this._renderer.texture.getGpuSource(l).createView({mipLevelCount:1}),s.msaaTextures[c]&&(f=h,h=this._renderer.texture.getTextureView(s.msaaTextures[c]));const p=r&Lr.COLOR?"clear":"load";return n??(n=i.defaultClearColor),{view:h,resolveTarget:f,clearValue:n,storeOp:"store",loadOp:p}});let a;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=s.msaa?4:1),e.depthStencilTexture){const l=r&Lr.STENCIL?"clear":"load",c=r&Lr.DEPTH?"clear":"load";a={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:l,depthClearValue:1,depthLoadOp:c,depthStoreOp:"store"}}return{colorAttachments:o,depthStencilAttachment:a}}clear(e,r=!0,n,i){if(!r)return;const{gpu:s,encoder:o}=this._renderer,a=s.device;if(o.commandEncoder===null){const l=a.createCommandEncoder(),c=this.getDescriptor(e,r,n),d=l.beginRenderPass(c);d.setViewport(i.x,i.y,i.width,i.height,0,1),d.end();const h=l.finish();a.queue.submit([h])}else this.startRenderPass(e,r,n,i)}initGpuRenderTarget(e){e.isRoot=!0;const r=new T5;return e.colorTextures.forEach((n,i)=>{if(Pa.test(n.resource)){const s=n.resource.getContext("webgpu"),o=n.transparent?"premultiplied":"opaque";try{s.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:o})}catch(a){console.error(a)}r.contexts[i]=s}if(r.msaa=n.source.antialias,n.source.antialias){const s=new wt({width:0,height:0,sampleCount:4});r.msaaTextures[i]=s}}),r.msaa&&(r.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),r}destroyGpuRenderTarget(e){e.contexts.forEach(r=>{r.unconfigure()}),e.msaaTextures.forEach(r=>{r.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&r.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);r.width=e.width,r.height=e.height,r.msaa&&e.colorTextures.forEach((n,i)=>{const s=r.msaaTextures[i];s==null||s.resize(n.source.width,n.source.height,n.source._resolution)})}}class PS extends H2{constructor(e){super(e),this.adaptor=new C5,this.adaptor.init(e,this)}}PS.extension={type:[A.WebGPUSystem],name:"renderTarget"};class AS{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const r=this._gpu.device,n=e.gpuLayout.map(s=>r.createBindGroupLayout({entries:s})),i={bindGroupLayouts:n};return this._gpuProgramData[e._layoutKey]={bindGroups:n,pipeline:r.createPipelineLayout(i)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}AS.extension={type:[A.WebGPUSystem],name:"shader"};const wn={};wn.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};wn.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};wn.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};wn.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};wn.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};wn.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};wn["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};wn["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};wn["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};wn.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};class RS{constructor(){this.defaultState=new Ci,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:wn[e.blendMode]||wn.normal}]}destroy(){this.gpu=null}}RS.extension={type:[A.WebGPUSystem],name:"state"};const P5={type:"image",upload(t,e,r){const n=t.resource,i=(t.pixelWidth|0)*(t.pixelHeight|0),s=n.byteLength/i;r.device.queue.writeTexture({texture:e},n,{offset:0,rowsPerImage:t.pixelHeight,bytesPerRow:t.pixelHeight*s},{width:t.pixelWidth,height:t.pixelHeight,depthOrArrayLayers:1})}},MS={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},Qq={blockBytes:4,blockWidth:1,blockHeight:1},A5={type:"compressed",upload(t,e,r){let n=t.pixelWidth,i=t.pixelHeight;const s=MS[t.format]||Qq;for(let o=0;o<t.resource.length;o++){const a=t.resource[o],u=Math.ceil(n/s.blockWidth)*s.blockBytes;r.device.queue.writeTexture({texture:e,mipLevel:o},a,{offset:0,bytesPerRow:u},{width:Math.ceil(n/s.blockWidth)*s.blockWidth,height:Math.ceil(i/s.blockHeight)*s.blockHeight,depthOrArrayLayers:1}),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},BS={type:"image",upload(t,e,r){const n=t.resource;if(!n)return;const i=Math.min(e.width,t.resourceWidth||t.pixelWidth),s=Math.min(e.height,t.resourceHeight||t.pixelHeight),o=t.alphaMode==="premultiply-alpha-on-upload";r.device.queue.copyExternalImageToTexture({source:n},{texture:e,premultipliedAlpha:o},{width:i,height:s})}},R5={type:"video",upload(t,e,r){BS.upload(t,e,r)}};class M5{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let r=this.pipelines[e];return r||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),r=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=r),r}generateMipmap(e){const r=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let n=e;const i=e.depthOrArrayLayers||1,s=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!s){const u={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};n=this.device.createTexture(u)}const o=this.device.createCommandEncoder({}),a=r.getBindGroupLayout(0);for(let u=0;u<i;++u){let l=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:u,arrayLayerCount:1}),c=s?1:0;for(let d=1;d<e.mipLevelCount;++d){const h=n.createView({baseMipLevel:c++,mipLevelCount:1,dimension:"2d",baseArrayLayer:u,arrayLayerCount:1}),f=o.beginRenderPass({colorAttachments:[{view:h,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),p=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:l}]});f.setPipeline(r),f.setBindGroup(0,p),f.draw(3,1,0,0),f.end(),l=h}}if(!s){const u={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i};for(let l=1;l<e.mipLevelCount;++l)o.copyTextureToTexture({texture:n,mipLevel:l-1},{texture:e,mipLevel:l},u),u.width=Math.ceil(u.width/2),u.height=Math.ceil(u.height/2)}return this.device.queue.submit([o.finish()]),s||n.destroy(),e}}class DS{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:BS,buffer:P5,video:R5,compressed:A5},this._renderer=e}contextChange(e){this._gpu=e}initSource(e){if(e.autoGenerateMipmaps){const u=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(u))+1}let r=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(r|=GPUTextureUsage.RENDER_ATTACHMENT,r|=GPUTextureUsage.COPY_SRC);const n=MS[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},i=Math.ceil(e.pixelWidth/n.blockWidth)*n.blockWidth,s=Math.ceil(e.pixelHeight/n.blockHeight)*n.blockHeight,o={label:e.label,size:{width:i,height:s},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:r},a=this._gpu.device.createTexture(o);return this._gpuSources[e.uid]=a,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const r=this.getGpuSource(e);r&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,r,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const r=this._gpuSources[e.uid];r&&(this._gpuSources[e.uid]=null,r.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new M5(this._gpu.device));const r=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(r)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const r=this._gpuSources[e.uid];r?(r.width!==e.pixelWidth||r.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const r=e.source,n=r.uid;return this._bindGroupHash[n]=new Vi({0:r,1:r.style}),this._bindGroupHash[n]}getTextureView(e){const r=e.source;return this._textureViewHash[r.uid]??this._createTextureView(r)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const r=this._renderer,n=r.gpu.device.createCommandEncoder(),i=Re.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const s=i.getContext("webgpu");return s.configure({device:r.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),n.copyTextureToTexture({texture:r.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:s.getCurrentTexture()},{width:i.width,height:i.height}),r.gpu.device.queue.submit([n.finish()]),i}getPixels(e){const r=this.generateCanvas(e),n=Xi.getOptimalCanvasAndContext(r.width,r.height),i=n.context;i.drawImage(r,0,0);const{width:s,height:o}=r,a=i.getImageData(0,0,s,o),u=new Uint8ClampedArray(a.data.buffer);return Xi.returnCanvasAndContext(n),{pixels:u,width:s,height:o}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const r=Number(e),n=this._bindGroupHash[r];n==null||n.destroy(),this._bindGroupHash[r]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}DS.extension={type:[A.WebGPUSystem],name:"texture"};class kS{init(){const e=new Lt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),r=Pl({name:"graphics",bits:[Qg,Jg(Ti()),mO,Rl]});this.shader=new Mn({gpuProgram:r,resources:{localUniforms:e}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{geometry:a,instructions:u}=o.getContextRenderData(n),l=s.encoder;l.setPipelineFromGeometryProgramAndState(a,i.gpuProgram,e.state),l.setGeometry(a);const c=s.globalUniforms.bindGroup;l.setBindGroup(0,c,i.gpuProgram);const d=s.renderPipes.uniformBatch.getUniformBindGroup(i.resources.localUniforms,!0);l.setBindGroup(2,d,i.gpuProgram);const h=u.instructions;for(let f=0;f<u.instructionSize;f++){const p=h[f];if(i.groups[1]=p.bindGroup,!p.gpuBindGroup){const m=p.textures;p.bindGroup=Gg(m.textures,m.count),p.gpuBindGroup=s.bindGroup.getBindGroup(p.bindGroup,i.gpuProgram,1)}l.setBindGroup(1,p.bindGroup,i.gpuProgram),l.renderPassEncoder.drawIndexed(p.size,1,p.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}kS.extension={type:[A.WebGPUPipesAdaptor],name:"graphics"};class OS{init(){const e=Pl({name:"mesh",bits:[Lu,gO,Rl]});this._shader=new Mn({gpuProgram:e,resources:{uTexture:X.EMPTY._source,uSampler:X.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new te}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(!i)i=this._shader,i.resources.uTexture=r.texture.source,i.resources.uSampler=r.texture.source.style,i.resources.textureUniforms.uniforms.uTextureMatrix=r.texture.textureMatrix.mapCoord;else if(!i.gpuProgram){fe("Mesh shader has no gpuProgram",r.shader);return}const s=i.gpuProgram;if(s.autoAssignGlobalUniforms&&(i.groups[0]=n.globalUniforms.bindGroup),s.autoAssignLocalUniforms){const o=e.localUniforms;i.groups[1]=n.renderPipes.uniformBatch.getUniformBindGroup(o,!0)}n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}OS.extension={type:[A.WebGPUPipesAdaptor],name:"mesh"};const Zq=[..._S,ES,SS,o0,xS,DS,PS,AS,RS,CS,bS,wS,vS],Jq=[...yS,TS],eK=[w2,OS,kS],B5=[],D5=[],k5=[];lt.handleByNamedList(A.WebGPUSystem,B5);lt.handleByNamedList(A.WebGPUPipes,D5);lt.handleByNamedList(A.WebGPUPipesAdaptor,k5);lt.add(...Zq,...Jq,...eK);class O5 extends ph{constructor(){const e={name:"webgpu",type:Sn.WEBGPU,systems:B5,renderPipes:D5,renderPipeAdaptors:k5};super(e)}}const tK=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:O5},Symbol.toStringTag,{value:"Module"})),Z3={POINTS:"point-list",LINES:"line-list",LINE_STRIP:"line-strip",TRIANGLES:"triangle-list",TRIANGLE_STRIP:"triangle-strip"},rK=new Proxy(Z3,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${Z3[e]}' instead`),t[e]}}),nK=new Me(0,0,1,1);function iK(t,e,r){r||(r=nK);const n=e.pixelWidth,i=e.pixelHeight;return t.x=r.x*n|0,t.y=r.y*i|0,t.width=r.width*n|0,t.height=r.height*i|0,t}var I5=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(I5||{}),tm=(t=>(t.CLAMP="clamp-to-edge",t.REPEAT="repeat",t.MIRRORED_REPEAT="mirror-repeat",t))(tm||{});const sK=new Proxy(tm,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${tm[e]}' instead`),t[e]}});var rm=(t=>(t.NEAREST="nearest",t.LINEAR="linear",t))(rm||{});const oK=new Proxy(rm,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${rm[e]}' instead`),t[e]}});class aK{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,l=e.y/s+a;n=ge.add(n,ge.NW),this.x0=u+o*ge.uX(n),this.y0=l+a*ge.uY(n),n=ge.add(n,2),this.x1=u+o*ge.uX(n),this.y1=l+a*ge.uY(n),n=ge.add(n,2),this.x2=u+o*ge.uX(n),this.y2=l+a*ge.uY(n),n=ge.add(n,2),this.x3=u+o*ge.uX(n),this.y3=l+a*ge.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[pixi.js/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}let uK=0;function lK(){return uK++}function cK(t){const e=t.toString(),r=e.indexOf("{"),n=e.lastIndexOf("}");if(r===-1||n===-1)throw new Error("getFunctionBody: No body found in function definition");return e.slice(r+1,n).trim()}class dK extends $e{constructor(e){typeof e=="function"&&(e={render:e});const{render:r,...n}=e;super({label:"RenderContainer",...n}),this.batched=!1,this.bounds=new sr,this.canBundle=!1,this.renderPipeId="customRender",r&&(this.render=r),this.containsPoint=e.containsPoint??(()=>!1),this.addBounds=e.addBounds??(()=>!1)}render(e){}}function hK(t,e){const r=e._scale,n=e._pivot,i=e._position,s=r._x,o=r._y,a=n._x,u=n._y;t.a=e._cx*s,t.b=e._sx*s,t.c=e._cy*o,t.d=e._sy*o,t.tx=i._x-(a*t.a+u*t.c),t.ty=i._y-(a*t.b+u*t.d)}function fK(t,e,r){const n=t.a,i=t.b,s=t.c,o=t.d,a=t.tx,u=t.ty,l=e.a,c=e.b,d=e.c,h=e.d;r.a=n*l+i*d,r.b=n*c+i*h,r.c=s*l+o*d,r.d=s*c+o*h,r.tx=a*l+u*d+e.tx,r.ty=a*c+u*h+e.ty}class F5{constructor(e,r){this.state=Ci.for2d(),this._graphicsBatchesHash=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init()}validateRenderable(e){const r=e.context,n=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(r);return!!(i.isBatchable||n!==i.isBatchable)}addRenderable(e,r){const n=this.renderer.graphicsContext.updateGpuContext(e.context);e._didGraphicsUpdate&&(e._didGraphicsUpdate=!1,this._rebuild(e)),n.isBatchable?this._addToBatcher(e,r):(this.renderer.renderPipes.batch.break(r),r.add(e))}updateRenderable(e){const r=this._graphicsBatchesHash[e.uid];if(r)for(let n=0;n<r.length;n++){const i=r[n];i.batcher.updateElement(i)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid)}execute(e){if(!e.isRenderable)return;const r=this.renderer,n=e.context;if(!r.graphicsContext.getGpuContext(n).batches.length)return;const s=n.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const o=s.resources.localUniforms.uniforms;o.uTransformMatrix=e.groupTransform,o.uRound=r._roundPixels|e._roundPixels,Ch(e.groupColorAlpha,o.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const r=!!this._graphicsBatchesHash[e.uid],n=this.renderer.graphicsContext.updateGpuContext(e.context);r&&this._removeBatchForRenderable(e.uid),n.isBatchable&&this._initBatchesForRenderable(e),e.batched=n.isBatchable}_addToBatcher(e,r){const n=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let s=0;s<i.length;s++){const o=i[s];n.addToBatch(o,r)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const r=e.context,n=this.renderer.graphicsContext.getGpuContext(r),i=this.renderer._roundPixels|e._roundPixels,s=n.batches.map(o=>{const a=Pe.get($g);return o.copyTo(a),a.renderable=e,a.roundPixels=i,a});return this._graphicsBatchesHash[e.uid]===void 0&&e.on("destroyed",()=>{this.destroyRenderable(e)}),this._graphicsBatchesHash[e.uid]=s,s}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach(r=>{Pe.return(r)}),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}F5.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"graphics"};const pK={rectangle:Gb,polygon:Nb,triangle:zb,circle:ha,ellipse:ha,roundedRectangle:ha};function mK(t){t instanceof So&&(t={path:t,textureMatrix:null,out:null});const e=[],r=[],n=[],i=t.path.shapePath,s=t.textureMatrix;i.shapePrimitives.forEach(({shape:u,transform:l})=>{const c=n.length,d=e.length/2,h=[],f=pK[u.type];f.build(u,h),l&&zg(h,l),f.triangulate(h,e,2,d,n,c);const p=r.length/2;s?(l&&s.append(l.clone().invert()),Fb(e,2,d,r,p,2,e.length/2-d,s)):Ub(r,p,2,e.length/2-d)});const o=t.out;return o?(o.positions=new Float32Array(e),o.uvs=new Float32Array(r),o.indices=new Uint32Array(n),o):new Fo({positions:new Float32Array(e),uvs:new Float32Array(r),indices:new Uint32Array(n)})}const U5=class L5 extends Fo{constructor(...e){super({});let r=e[0]??{};typeof r=="number"&&(le(de,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),r={width:r,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(r)}build(e){e={...L5.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const r=this.verticesX*this.verticesY,n=[],i=[],s=[],o=this.verticesX-1,a=this.verticesY-1,u=this.width/o,l=this.height/a;for(let d=0;d<r;d++){const h=d%this.verticesX,f=d/this.verticesX|0;n.push(h*u,f*l),i.push(h/o,f/a)}const c=o*a;for(let d=0;d<c;d++){const h=d%o,f=d/o|0,p=f*this.verticesX+h,m=f*this.verticesX+h+1,g=(f+1)*this.verticesX+h,_=(f+1)*this.verticesX+h+1;s.push(p,m,g,m,_,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};U5.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let IS=U5;class gK extends Eh{constructor(e){const{texture:r,verticesX:n,verticesY:i,...s}=e,o=new IS(bo({width:r.width,height:r.height,verticesX:n,verticesY:i}));super(bo({...s,geometry:o,texture:r})),this.texture=r,this.autoResize=!0}textureUpdated(){const e=this.geometry,{width:r,height:n}=this.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,e.build({}))}set texture(e){var r;(r=this._texture)==null||r.off("update",this.textureUpdated,this),super.texture=e,e.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(e){this.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const N5=class G5 extends Fo{constructor(e){const{width:r,points:n,textureScale:i}={...G5.defaultOptions,...e};super({positions:new Float32Array(n.length*4),uvs:new Float32Array(n.length*4),indices:new Uint32Array((n.length-1)*6)}),this.points=n,this._width=r,this.textureScale=i,this._build()}get width(){return this._width}_build(){const e=this.points;if(!e)return;const r=this.getBuffer("aPosition"),n=this.getBuffer("aUV"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const l=this._width*this.textureScale,c=e.length;for(let h=0;h<c;h++){const f=h*4;if(this.textureScale>0){const p=u.x-e[h].x,m=u.y-e[h].y,g=Math.sqrt(p*p+m*m);u=e[h],a+=g/l}else a=h/(c-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let d=0;for(let h=0;h<c-1;h++){const f=h*2;o[d++]=f,o[d++]=f+1,o[d++]=f+2,o[d++]=f+2,o[d++]=f+1,o[d++]=f+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const c=e[l],d=l*4;l<e.length-1?n=e[l+1]:n=c,s=-(n.x-r.x),i=n.y-r.y;const h=Math.sqrt(i*i+s*s);h<1e-6?(i=0,s=0):(i/=h,s/=h,i*=u,s*=u),o[d]=c.x+i,o[d+1]=c.y+s,o[d+2]=c.x-i,o[d+3]=c.y-s,r=c}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};N5.defaultOptions={width:200,points:[],textureScale:0};let z5=N5;const $5=class H5 extends Eh{constructor(e){const{texture:r,points:n,textureScale:i,...s}={...H5.defaultOptions,...e},o=new z5(bo({width:r.height,points:n,textureScale:i}));i>0&&(r.source.style.addressMode="repeat"),super(bo({...s,texture:r,geometry:o})),this.autoUpdate=!0,this.onRender=this._render}_render(){const e=this.geometry;(this.autoUpdate||e._width!==this.texture.height)&&(e._width=this.texture.height,e.update())}};$5.defaultOptions={textureScale:0};let _K=$5;class yK extends Eh{constructor(e){const{texture:r,vertices:n,uvs:i,indices:s,topology:o,...a}=e,u=new Fo(bo({positions:n,uvs:i,indices:s,topology:o}));super(bo({...a,texture:r,geometry:u})),this.autoUpdate=!0,this.onRender=this._render}get vertices(){return this.geometry.getBuffer("aPosition").data}set vertices(e){this.geometry.getBuffer("aPosition").data=e}_render(){this.autoUpdate&&this.geometry.getBuffer("aPosition").update()}}class a0{constructor(){this.batcher=null,this.batch=null,this.roundPixels=0,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.mesh.groupBlendMode}reset(){this.mesh=null,this.texture=null,this.batcher=null,this.batch=null}packIndex(e,r,n){const i=this.geometry.indices;for(let s=0;s<i.length;s++)e[r++]=i[s]+n}packAttributes(e,r,n,i){const s=this.mesh,o=this.geometry,a=s.groupTransform,u=i<<16|this.roundPixels&65535,l=a.a,c=a.b,d=a.c,h=a.d,f=a.tx,p=a.ty,m=o.positions,g=o.getBuffer("aUV"),_=g.data;let v=_;const y=this.texture.textureMatrix;y.isSimple||(v=this._transformedUvs,(this._textureMatrixUpdateId!==y._updateID||this._uvUpdateId!==g._updateID)&&((!v||v.length<_.length)&&(v=this._transformedUvs=new Float32Array(_.length)),this._textureMatrixUpdateId=y._updateID,this._uvUpdateId=g._updateID,y.multiplyUvs(_,v)));const x=s.groupColorAlpha;for(let S=0;S<m.length;S+=2){const w=m[S],b=m[S+1];e[n]=l*w+d*b+f,e[n+1]=c*w+h*b+p,e[n+2]=v[S],e[n+3]=v[S+1],r[n+4]=x,r[n+5]=u,n+=6}}get vertexSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}function vK(t,e){const{width:r,height:n}=t.frame;return e.scale(1/r,1/n),e}class j5{constructor(e,r){this.localUniforms=new Lt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new Vi({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init()}validateRenderable(e){const r=this._getMeshData(e),n=r.batched,i=e.batched;if(r.batched=i,n!==i)return!0;if(i){const s=e._geometry;if(s.indices.length!==r.indexSize||s.positions.length!==r.vertexSize)return r.indexSize=s.indices.length,r.vertexSize=s.positions.length,!0;const o=this._getBatchableMesh(e),a=e.texture;if(o.texture._source!==a._source&&o.texture._source!==a._source)return!o.batcher.checkAndUpdateTexture(o,a)}return!1}addRenderable(e,r){const n=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const s=this._getBatchableMesh(e);s.texture=e._texture,s.geometry=e._geometry,n.addToBatch(s)}else n.break(r),r.add({renderPipeId:"mesh",mesh:e})}updateRenderable(e){if(e.batched){const r=this._gpuBatchableMeshHash[e.uid];r.texture=e._texture,r.geometry=e._geometry,r.batcher.updateElement(r)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const r=this._gpuBatchableMeshHash[e.uid];r&&(Pe.return(r),this._gpuBatchableMeshHash[e.uid]=null)}execute({mesh:e}){if(!e.isRenderable)return;e.state.blendMode=e.groupBlendMode;const r=this.localUniforms;r.uniforms.uTransformMatrix=e.groupTransform,r.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,r.update(),Ch(e.groupColorAlpha,r.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){var r,n;return this._meshDataHash[e.uid]={batched:e.batched,indexSize:(r=e._geometry.indices)==null?void 0:r.length,vertexSize:(n=e._geometry.positions)==null?void 0:n.length},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const r=Pe.get(a0);return r.mesh=e,r.texture=e._texture,r.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=r,r.mesh=e,r}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&Pe.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}j5.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"mesh"};const W5=class V5 extends IS{constructor(e={}){e={...V5.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,r=this._leftWidth+this._rightWidth,n=this.width>r?1:this.width/r,i=this._topHeight+this._bottomHeight,s=this.height>i?1:this.height/i,o=Math.min(n,s);e[9]=e[11]=e[13]=e[15]=this._topHeight*o,e[17]=e[19]=e[21]=e[23]=this.height-this._bottomHeight*o,e[25]=e[27]=e[29]=e[31]=this.height,e[2]=e[10]=e[18]=e[26]=this._leftWidth*o,e[4]=e[12]=e[20]=e[28]=this.width-this._rightWidth*o,e[6]=e[14]=e[22]=e[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const r=1/this._originalWidth,n=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.getBuffer("aUV").update()}};W5.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let Vs=W5;const X5=class Y5 extends $e{constructor(e){var d,h,f,p;e instanceof X&&(e={texture:e});const{width:r,height:n,leftWidth:i,rightWidth:s,topHeight:o,bottomHeight:a,texture:u,roundPixels:l,...c}=e;super({label:"NineSliceSprite",...c}),this._roundPixels=0,this.renderPipeId="nineSliceSprite",this.batched=!0,this._didSpriteUpdate=!0,this.bounds={minX:0,minY:0,maxX:0,maxY:0},this._leftWidth=i??((d=u==null?void 0:u.defaultBorders)==null?void 0:d.left)??Vs.defaultOptions.leftWidth,this._topHeight=o??((h=u==null?void 0:u.defaultBorders)==null?void 0:h.top)??Vs.defaultOptions.topHeight,this._rightWidth=s??((f=u==null?void 0:u.defaultBorders)==null?void 0:f.right)??Vs.defaultOptions.rightWidth,this._bottomHeight=a??((p=u==null?void 0:u.defaultBorders)==null?void 0:p.bottom)??Vs.defaultOptions.bottomHeight,this.bounds.maxX=this._width=r??u.width??Vs.defaultOptions.width,this.bounds.maxY=this._height=n??u.height??Vs.defaultOptions.height,this.allowChildren=!1,this.texture=u??Y5.defaultOptions.texture,this.roundPixels=l??!1}get width(){return this._width}set width(e){this.bounds.maxX=this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this.bounds.maxY=this._height=e,this.onViewUpdate()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this.bounds;return e.x>=r.minX&&e.x<=r.maxX&&e.y>=r.minY&&e.y<=r.maxY}destroy(e){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this.bounds=null}};X5.defaultOptions={texture:X.EMPTY};let q5=X5;class xK extends q5{constructor(...e){let r=e[0];r instanceof X&&(le(de,"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}"),r={texture:r,leftWidth:e[1],topHeight:e[2],rightWidth:e[3],bottomHeight:e[4]}),le(de,"NineSlicePlane is deprecated. Use NineSliceSprite instead."),super(r)}}class K5{constructor(e){this._gpuSpriteHash=Object.create(null),this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const r=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,r),r.batcher.updateElement(r)}validateRenderable(e){const r=e._texture,n=this._getGpuSprite(e);return n.texture._source!==r._source?!n.batcher.checkAndUpdateTexture(n,r):!1}destroyRenderable(e){const r=this._gpuSpriteHash[e.uid];Pe.return(r),this._gpuSpriteHash[e.uid]=null}_updateBatchableSprite(e,r){e._didSpriteUpdate=!1,r.geometry.update(e),r.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=new a0;return r.geometry=new Vs,r.mesh=e,r.texture=e._texture,r.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=r,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}K5.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"nineSliceSprite"};const Q5={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},Z5={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `}};let B_,D_;class J5 extends Mn{constructor(){B_??(B_=Pl({name:"tiling-sprite-shader",bits:[Lu,Q5,Rl]})),D_??(D_=Al({name:"tiling-sprite-shader",bits:[r0,Z5,Ml]}));const e=new Lt({uMapCoord:{value:new te,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new te,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:D_,gpuProgram:B_,resources:{localUniforms:new Lt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:X.EMPTY.source,uSampler:X.EMPTY.source.style}})}updateUniforms(e,r,n,i,s,o){const a=this.resources.tilingUniforms,u=o.width,l=o.height,c=o.textureMatrix,d=a.uniforms.uTextureTransform;d.set(n.a*u/e,n.b*u/r,n.c*l/e,n.d*l/r,n.tx/e,n.ty/r),d.invert(),a.uniforms.uMapCoord=c.mapCoord,a.uniforms.uClampFrame=c.uClampFrame,a.uniforms.uClampOffset=c.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=r,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=s,o&&(this.resources.uTexture=o.source,this.resources.uSampler=o.source.style)}}class e8 extends Fo{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function t8(t,e){const r=t.anchor.x,n=t.anchor.y;e[0]=-r*t.width,e[1]=-n*t.height,e[2]=(1-r)*t.width,e[3]=-n*t.height,e[4]=(1-r)*t.width,e[5]=(1-n)*t.height,e[6]=-r*t.width,e[7]=(1-n)*t.height}function r8(t,e,r,n){let i=0;const s=t.length/(e||2),o=n.a,a=n.b,u=n.c,l=n.d,c=n.tx,d=n.ty;for(r*=e;i<s;){const h=t[r],f=t[r+1];t[r]=o*h+u*f+c,t[r+1]=a*h+l*f+d,r+=e,i++}}function n8(t,e){const r=t.texture,n=r.frame.width,i=r.frame.height;let s=0,o=0;t._applyAnchorToTexture&&(s=t.anchor.x,o=t.anchor.y),e[0]=e[6]=-s,e[2]=e[4]=1-s,e[1]=e[3]=-o,e[5]=e[7]=1-o;const a=te.shared;a.copyFrom(t._tileTransform.matrix),a.tx/=t.width,a.ty/=t.height,a.invert(),a.scale(t.width/n,t.height/i),r8(e,2,0,a)}const Af=new e8;class i8{constructor(e){this._tilingSpriteDataHash=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getTilingSpriteData(e),n=r.canBatch;this._updateCanBatch(e);const i=r.canBatch;if(i&&i===n){const{batchableMesh:s}=r;if(s.texture._source!==e.texture._source)return!s.batcher.checkAndUpdateTexture(s,e.texture)}return n!==i}addRenderable(e,r){const n=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:s,canBatch:o}=i;if(o){i.batchableMesh||(i.batchableMesh=new a0);const a=i.batchableMesh;e._didTilingSpriteUpdate&&(e._didTilingSpriteUpdate=!1,this._updateBatchableMesh(e),a.geometry=s,a.mesh=e,a.texture=e._texture),a.roundPixels=this._renderer._roundPixels|e._roundPixels,n.addToBatch(a)}else n.break(r),i.shader||(i.shader=new J5),this.updateRenderable(e),r.add(e)}execute(e){const{shader:r}=this._tilingSpriteDataHash[e.uid];r.groups[0]=this._renderer.globalUniforms.bindGroup;const n=r.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=this._renderer._roundPixels|e._roundPixels,Ch(e.groupColorAlpha,n.uColor,0),this._renderer.encoder.draw({geometry:Af,shader:r,state:Ci.default2d})}updateRenderable(e){const r=this._getTilingSpriteData(e),{canBatch:n}=r;if(n){const{batchableMesh:i}=r;e._didTilingSpriteUpdate&&this._updateBatchableMesh(e),i.batcher.updateElement(i)}else if(e._didTilingSpriteUpdate){const{shader:i}=r;i.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}e._didTilingSpriteUpdate=!1}destroyRenderable(e){var n;const r=this._getTilingSpriteData(e);r.batchableMesh=null,(n=r.shader)==null||n.destroy(),this._tilingSpriteDataHash[e.uid]=null}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const r=new Fo({indices:Af.indices,positions:Af.positions.slice(),uvs:Af.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:r},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const r=this._getTilingSpriteData(e),{geometry:n}=r,i=e.texture.source.style;i.addressMode!=="repeat"&&(i.addressMode="repeat",i.update()),n8(e,n.uvs),t8(e,n.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const r=this._getTilingSpriteData(e),n=e.texture;let i=!0;return this._renderer.type===Sn.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),r.canBatch=n.textureMatrix.isSimple&&(i||n.source.isPowerOfTwo),r.canBatch}}i8.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"tilingSprite"};const s8={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:` 
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},o8={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:` 
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},a8={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;
             
            }
        `}},u8={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);  
              
                return coverage;
            }
        `}};let k_,O_;class l8 extends Mn{constructor(){const e=new Lt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),r=Ti();k_??(k_=Pl({name:"sdf-shader",bits:[Qg,Jg(r),s8,a8,Rl]})),O_??(O_=Al({name:"sdf-shader",bits:[Zg,e0(r),o8,u8,Ml]})),super({glProgram:O_,gpuProgram:k_,resources:{localUniforms:e,batchSamplers:t0(r)}})}}class c8{constructor(e){this._gpuBitmapText={},this._renderer=e}validateRenderable(e){const r=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.validateRenderable(r)}addRenderable(e,r){const n=this._getGpuBitmapText(e);J3(e,n),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,n)),this._renderer.renderPipes.graphics.addRenderable(n,r),n.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const r=this._gpuBitmapText[e].context;r.customShader&&(Pe.return(r.customShader),r.customShader=null),Pe.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const r=this._getGpuBitmapText(e);J3(e,r),this._renderer.renderPipes.graphics.updateRenderable(r),r.context.customShader&&this._updateDistanceField(e)}_updateContext(e,r){var f;const{context:n}=r,i=Fd.getFont(e.text,e._style);n.clear(),i.distanceField.type!=="none"&&(n.customShader||(n.customShader=Pe.get(l8)));const s=Array.from(e.text),o=e._style;let a=(((f=o._stroke)==null?void 0:f.width)||0)/2;a+=i.baseLineOffset;const u=Qb(s,o,i);let l=0;const c=o.padding,d=u.scale;n.translate(-e._anchor._x*u.width-c,-e._anchor._y*(u.height+u.offsetY)-c).scale(d,d);const h=o._fill.color;for(let p=0;p<u.lines.length;p++){const m=u.lines[p];for(let g=0;g<m.charPositions.length;g++){const _=s[l++],v=i.chars[_];v!=null&&v.texture&&n.texture(v.texture,h||"black",Math.round(m.charPositions[g]+v.xOffset),Math.round(a+v.yOffset))}a+=i.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const r=Pe.get(cl);return this._gpuBitmapText[e.uid]=r,this._updateContext(e,r),e.on("destroyed",()=>{this.destroyRenderable(e)}),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const r=this._getGpuBitmapText(e).context,n=e._style.fontFamily,i=Le.get(`${n}-bitmap`),{a:s,b:o,c:a,d:u}=e.groupTransform,l=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+u*u),d=(Math.abs(l)+Math.abs(c))/2,h=i.baseRenderedFontSize/e._style.fontSize,f=d*i.distanceField.range*(1/h);r.customShader.resources.localUniforms.uniforms.uDistance=f}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}c8.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"bitmapText"};function J3(t,e){e.groupTransform=t.groupTransform,e.groupColorAlpha=t.groupColorAlpha,e.groupColor=t.groupColor,e.groupBlendMode=t.groupBlendMode,e.globalDisplayStatus=t.globalDisplayStatus,e.groupTransform=t.groupTransform,e.localDisplayStatus=t.localDisplayStatus,e.groupAlpha=t.groupAlpha,e._roundPixels=t._roundPixels}class d8{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getGpuText(e),n=e._getKey();return r.textureNeedsUploading?(r.textureNeedsUploading=!1,!0):r.currentKey!==n}addRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),n.batcher.updateElement(n)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const r=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(r.currentKey),Pe.return(r.batchableSprite),this._gpuText[e]=null}_updateText(e){const r=e._getKey(),n=this._getGpuText(e),i=n.batchableSprite;n.currentKey!==r&&this._updateGpuText(e).catch(o=>{console.error(o)}),e._didTextUpdate=!1;const s=e._style.padding;Cd(i.bounds,e._anchor,i.texture,s)}async _updateGpuText(e){e._didTextUpdate=!1;const r=this._getGpuText(e);if(r.generatingTexture)return;const n=e._getKey();this._renderer.htmlText.decreaseReferenceCount(r.currentKey),r.generatingTexture=!0,r.currentKey=n;const i=e.resolution??this._renderer.resolution,s=await this._renderer.htmlText.getManagedTexture(e.text,i,e._style,e._getKey()),o=r.batchableSprite;o.texture=r.texture=s,r.generatingTexture=!1,r.textureNeedsUploading=!0,e.onViewUpdate();const a=e._style.padding;Cd(o.bounds,e._anchor,o.texture,a)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const r={texture:X.EMPTY,currentKey:"--",batchableSprite:Pe.get(i0),textureNeedsUploading:!1,generatingTexture:!1},n=r.batchableSprite;return n.renderable=e,n.texture=X.EMPTY,n.bounds={minX:0,maxX:1,minY:0,maxY:0},n.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=r,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}d8.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"htmlText"};function h8(){const{userAgent:t}=Re.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}const bK=new sr;function FS(t,e,r,n){const i=bK;i.minX=0,i.minY=0,i.maxX=t.width/n|0,i.maxY=t.height/n|0;const s=rr.getOptimalTexture(i.width,i.height,n,!1);return s.source.uploadMethodId="image",s.source.resource=t,s.source.alphaMode="premultiply-alpha-on-upload",s.frame.width=e/n,s.frame.height=r/n,s.source.emit("update",s.source),s.updateUvs(),s}function f8(t,e){const r=e.fontFamily,n=[],i={},s=/font-family:([^;"\s]+)/g,o=t.match(s);function a(u){i[u]||(n.push(u),i[u]=!0)}if(Array.isArray(r))for(let u=0;u<r.length;u++)a(r[u]);else a(r);o&&o.forEach(u=>{const l=u.split(":")[1].trim();a(l)});for(const u in e.tagStyles){const l=e.tagStyles[u].fontFamily;a(l)}return n}async function p8(t){const r=await(await Re.get().fetch(t)).blob(),n=new FileReader;return await new Promise((s,o)=>{n.onloadend=()=>s(n.result),n.onerror=o,n.readAsDataURL(r)})}async function lx(t,e){const r=await p8(e);return`@font-face {
        font-family: "${t.fontFamily}";
        src: url('${r}');
        font-weight: ${t.fontWeight};
        font-style: ${t.fontStyle};
    }`}const Sc=new Map;async function m8(t,e,r){const n=t.filter(i=>Le.has(`${i}-and-url`)).map((i,s)=>{if(!Sc.has(i)){const{url:o}=Le.get(`${i}-and-url`);s===0?Sc.set(i,lx(e,o)):Sc.set(i,lx({fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:i},o))}return Sc.get(i)});return(await Promise.all(n)).join(`
`)}function g8(t,e,r,n,i){const{domElement:s,styleElement:o,svgRoot:a}=i;s.innerHTML=`<style>${e.cssStyle}</style><div>${t}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),o.textContent=n;const{width:u,height:l}=i.image;return a.setAttribute("width",u.toString()),a.setAttribute("height",l.toString()),new XMLSerializer().serializeToString(a)}function _8(t,e){const r=Xi.getOptimalCanvasAndContext(t.width,t.height,e),{context:n}=r;return n.clearRect(0,0,t.width,t.height),n.drawImage(t,0,0),Xi.returnCanvasAndContext(r),r.canvas}function y8(t,e,r){return new Promise(async n=>{r&&await new Promise(i=>setTimeout(i,100)),t.onload=()=>{n()},t.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,t.crossOrigin="anonymous"})}class US{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===Sn.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,r,n,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const s=this._buildTexturePromise(e,r,n).then(o=>(this._activeTextures[i].texture=o,o));return this._activeTextures[i]={texture:null,promise:s,usageCount:1},s}async _buildTexturePromise(e,r,n){const i=Pe.get(x2),s=f8(e,n),o=await m8(s,n,Ba.defaultTextStyle),a=b2(e,n,o,i),u=Math.ceil(Math.ceil(Math.max(1,a.width)+n.padding*2)*r),l=Math.ceil(Math.ceil(Math.max(1,a.height)+n.padding*2)*r),c=i.image;c.width=u|0,c.height=l|0;const d=g8(e,n,r,o,i);await y8(c,d,h8()&&s.length>0);let h=c;this._createCanvas&&(h=_8(c,r));const f=FS(h,c.width,c.height,r);return this._createCanvas&&this._renderer.texture.initSource(f.source),Pe.return(i),f}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const r=this._activeTextures[e];r&&(r.usageCount--,r.usageCount===0&&(r.texture?this._cleanUp(r):r.promise.then(n=>{r.texture=n,this._cleanUp(r)}).catch(()=>{fe("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}_cleanUp(e){rr.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}US.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"htmlText"};US.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"};class v8{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getGpuText(e),n=e._getKey();if(r.currentKey!==n){const i=e.resolution??this._renderer.resolution,{width:s,height:o}=this._renderer.canvasText.getTextureSize(e.text,i,e._style);return!(this._renderer.canvasText.getReferenceCount(r.currentKey)===1&&s===r.texture._source.width&&o===r.texture._source.height)}return!1}addRenderable(e,r){const i=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(i)}updateRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),n.batcher.updateElement(n)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const r=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(r.currentKey),Pe.return(r.batchableSprite),this._gpuText[e]=null}_updateText(e){const r=e._getKey(),n=this._getGpuText(e),i=n.batchableSprite;n.currentKey!==r&&this._updateGpuText(e),e._didTextUpdate=!1;const s=e._style.padding;Cd(i.bounds,e._anchor,i.texture,s)}_updateGpuText(e){const r=this._getGpuText(e),n=r.batchableSprite;r.texture&&this._renderer.canvasText.decreaseReferenceCount(r.currentKey),r.texture=n.texture=this._renderer.canvasText.getManagedTexture(e),r.currentKey=e._getKey(),n.texture=r.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const r={texture:null,currentKey:"--",batchableSprite:Pe.get(i0)};return r.batchableSprite.renderable=e,r.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},r.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=r,this._updateText(e),e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}v8.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"text"};function eC(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function tC(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function x8(t,e=1){const{width:r,height:n}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const o=i.getImageData(0,0,r,n).data;let a=0,u=0,l=r-1,c=n-1;for(;u<n&&eC(o,r,u);)++u;if(u===n)return Me.EMPTY;for(;eC(o,r,c);)--c;for(;tC(o,r,a,u,c);)++a;for(;tC(o,r,l,u,c);)--l;return++l,++c,new Me(a/e,u/e,(l-a)/e,(c-u)/e)}class b8{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,r,n){const i=vi.measureText(e||" ",n);let s=Math.ceil(Math.ceil(Math.max(1,i.width)+n.padding*2)*r),o=Math.ceil(Math.ceil(Math.max(1,i.height)+n.padding*2)*r);return s=Math.ceil(s-1e-6),o=Math.ceil(o-1e-6),s=Ca(s),o=Ca(o),{width:s,height:o}}getTexture(e,r,n,i){typeof e=="string"&&(le("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:n,resolution:r}),e.style instanceof ii||(e.style=new ii(e.style));const{texture:s,canvasAndContext:o}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(s._source),Xi.returnCanvasAndContext(o),s}createTextureAndCanvas(e){const{text:r,style:n}=e,i=e.resolution??this._renderer.resolution,s=vi.measureText(r||" ",n),o=Math.ceil(Math.ceil(Math.max(1,s.width)+n.padding*2)*i),a=Math.ceil(Math.ceil(Math.max(1,s.height)+n.padding*2)*i),u=Xi.getOptimalCanvasAndContext(o,a),{canvas:l}=u;this.renderTextToCanvas(r,n,i,u);const c=FS(l,o,a,i);if(n.trim){const d=x8(l,i);c.frame.copyFrom(d),c.updateUvs()}return{texture:c,canvasAndContext:u}}getManagedTexture(e){const r=e._getKey();if(this._activeTextures[r])return this._increaseReferenceCount(r),this._activeTextures[r].texture;const{texture:n,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[r]={canvasAndContext:i,texture:n,usageCount:1},n}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const r=this._activeTextures[e];if(r.usageCount--,r.usageCount===0){Xi.returnCanvasAndContext(r.canvasAndContext),rr.returnTexture(r.texture);const n=r.texture.source;n.resource=null,n.uploadMethodId="unknown",n.alphaMode="no-premultiply-alpha",this._activeTextures[e]=null}}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,r,n,i){var y,x,S,w,b;const{canvas:s,context:o}=i,a=Od(r),u=vi.measureText(e||" ",r),l=u.lines,c=u.lineHeight,d=u.lineWidths,h=u.maxLineWidth,f=u.fontProperties,p=s.height;o.resetTransform(),o.scale(n,n);const m=r.padding*2;if(o.clearRect(0,0,u.width+4+m,u.height+4+m),(y=r._stroke)!=null&&y.width){const E=r._stroke;o.lineWidth=E.width,o.miterLimit=E.miterLimit,o.lineJoin=E.join,o.lineCap=E.cap}o.font=a;let g,_;const v=r.dropShadow?2:1;for(let E=0;E<v;++E){const T=r.dropShadow&&E===0,C=T?Math.ceil(Math.max(1,p)+r.padding*2):0,M=C*n;if(T){o.fillStyle="black",o.strokeStyle="black";const B=r.dropShadow,U=B.color,I=B.alpha;o.shadowColor=Ae.shared.setValue(U).setAlpha(I).toRgbaString();const $=B.blur*n,O=B.distance*n;o.shadowBlur=$,o.shadowOffsetX=Math.cos(B.angle)*O,o.shadowOffsetY=Math.sin(B.angle)*O+M}else o.globalAlpha=((x=r._fill)==null?void 0:x.alpha)??1,o.fillStyle=r._fill?Id(r._fill,o):null,(S=r._stroke)!=null&&S.width&&(o.strokeStyle=Id(r._stroke,o)),o.shadowColor="black";let N=(c-f.fontSize)/2;c-f.fontSize<0&&(N=0);const D=((w=r._stroke)==null?void 0:w.width)??0;for(let B=0;B<l.length;B++)g=D/2,_=D/2+B*c+f.ascent+N,r.align==="right"?g+=h-d[B]:r.align==="center"&&(g+=(h-d[B])/2),(b=r._stroke)!=null&&b.width&&this._drawLetterSpacing(l[B],r,i,g+r.padding,_+r.padding-C,!0),r._fill!==void 0&&this._drawLetterSpacing(l[B],r,i,g+r.padding,_+r.padding-C)}}_drawLetterSpacing(e,r,n,i,s,o=!1){const{context:a}=n,u=r.letterSpacing;let l=!1;if(vi.experimentalLetterSpacingSupported&&(vi.experimentalLetterSpacing?(a.letterSpacing=`${u}px`,a.textLetterSpacing=`${u}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),u===0||l){o?a.strokeText(e,i,s):a.fillText(e,i,s);return}let c=i;const d=vi.graphemeSegmenter(e);let h=a.measureText(e).width,f=0;for(let p=0;p<d.length;++p){const m=d[p];o?a.strokeText(m,c,s):a.fillText(m,c,s);let g="";for(let _=p+1;_<d.length;++_)g+=d[_];f=a.measureText(g).width,c+=h-f+u,h=f}}destroy(){this._activeTextures=null}}b8.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"canvasText"};function SK(t,e){return e instanceof ii||e instanceof Ba?e:t==="html"?new Ba(e):new ii(e)}const wK=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;async function EK(t,e,r=200){const n=await e.extract.base64(t);await e.encoder.commandFinished;const i=r;console.log(`logging texture ${t.source.width}px ${t.source.height}px`);const s=["font-size: 1px;",`padding: ${i}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}const TK=["#000080","#228B22","#8B0000","#4169E1","#008080","#800000","#9400D3","#FF8C00","#556B2F","#8B008B"];let CK=0;function S8(t,e=0,r={color:"#000000"}){t.renderGroup&&(r.color=TK[CK++]);let n="";for(let o=0;o<e;o++)n+="    ";let i=t.label;!i&&t instanceof bn&&(i=`sprite:${t.texture.label}`);let s=`%c ${n}|- ${i} (worldX:${t.worldTransform.tx}, relativeRenderX:${t.relativeGroupTransform.tx}, renderX:${t.groupTransform.tx}, localX:${t.x})`;t.renderGroup&&(s+=" (RenderGroup)"),t.filters&&(s+="(*filters)"),console.log(s,`color:${r.color}; font-weight:bold;`),e++;for(let o=0;o<t.children.length;o++){const a=t.children[o];S8(a,e,{...r})}}function w8(t,e=0,r={index:0,color:"#000000"}){let n="";for(let s=0;s<e;s++)n+="    ";const i=`%c ${n}- ${r.index}: ${t.root.label} worldX:${t.worldTransform.tx}`;console.log(i,`color:${r.color}; font-weight:bold;`),e++;for(let s=0;s<t.renderGroupChildren.length;s++){const o=t.renderGroupChildren[s];w8(o,e,{...r,index:s})}}lt.add(HM,jM);const PK=Object.freeze(Object.defineProperty({__proto__:null,AbstractBitmapFont:Db,AbstractRenderer:ph,AbstractText:qg,AccessibilitySystem:BB,AlphaFilter:WY,AlphaMask:bb,AlphaMaskPipe:T2,AnimatedSprite:zd,Application:Bb,Assets:aa,AssetsClass:wk,BLEND_TO_NPM:kD,BUFFER_TYPE:jc,BackgroundLoader:tk,BackgroundSystem:l5,Batch:Av,BatchGeometry:Ob,BatchTextureArray:Pv,BatchableGraphics:$g,BatchableMesh:a0,BatchableSprite:i0,Batcher:Ib,BatcherPipe:E2,BigPool:Pe,BindGroup:Vi,BindGroupSystem:vS,BitmapFont:Zb,BitmapFontManager:Fd,BitmapText:K4,BitmapTextPipe:c8,BlendModeFilter:_t,BlendModePipe:cS,BlurFilter:P4,BlurFilterPass:Zf,Bounds:sr,BrowserAdapter:yB,Buffer:mn,BufferImageSource:Pg,BufferResource:n0,BufferUsage:we,CLEAR:Lr,Cache:Le,CanvasPool:Xi,CanvasPoolClass:ZD,CanvasSource:Pa,CanvasTextMetrics:vi,CanvasTextPipe:v8,CanvasTextSystem:b8,Circle:Ug,Color:Ae,ColorBlend:ZB,ColorBurnBlend:JB,ColorDodgeBlend:eD,ColorMask:Sb,ColorMaskPipe:C2,ColorMatrixFilter:qY,CompressedSource:yh,Container:$e,Culler:Uk,CullerPlugin:Lk,CustomRenderPipe:J2,D3D10_RESOURCE_DIMENSION:i2,D3DFMT:Or,DATA_URI:wK,DDS:ue,DEG_TO_RAD:YM,DEPRECATED_SCALE_MODES:rm,DEPRECATED_WRAP_MODES:tm,DOMAdapter:Re,DRAW_MODES:rK,DXGI_FORMAT:n2,DXGI_TO_TEXTURE_FORMAT:Ir,DarkenBlend:tD,DifferenceBlend:rD,DisplacementFilter:KY,DivideBlend:nD,DynamicBitmapFont:kv,Ellipse:Lg,EventBoundary:p4,EventEmitter:Jr,EventSystem:m4,EventsTicker:ls,ExclusionBlend:iD,ExtensionType:A,ExtractSystem:d5,FOURCC_TO_TEXTURE_FORMAT:Gv,FederatedContainer:jY,FederatedEvent:Tl,FederatedMouseEvent:Gd,FederatedPointerEvent:kn,FederatedWheelEvent:Ma,FillGradient:ol,FillPattern:_h,Filter:Bs,FilterEffect:Pd,FilterPipe:O4,FilterSystem:U4,FontStylePromiseCache:Sc,GAUSSIAN_VALUES:g2,GL_FORMATS:Jp,GL_INTERNAL_FORMAT:Mk,GL_TARGETS:B2,GL_TYPES:Se,GL_WRAP_MODES:wO,GenerateTextureSystem:hS,Geometry:Cl,GlBackBufferSystem:CO,GlBatchAdaptor:S2,GlBuffer:xO,GlBufferSystem:A2,GlColorMaskSystem:O2,GlContextSystem:SO,GlEncoderSystem:I2,GlGeometrySystem:D2,GlGraphicsAdaptor:Q2,GlMeshAdaptor:Z2,GlProgram:li,GlProgramData:LO,GlRenderTarget:PO,GlRenderTargetAdaptor:DO,GlRenderTargetSystem:j2,GlShaderSystem:X2,GlStateSystem:KO,GlStencilSystem:F2,GlTexture:QO,GlTextureSystem:K2,GlUboSystem:z2,GlUniformGroupSystem:Y2,GlobalUniformSystem:fS,GpuBatchAdaptor:w2,GpuBlendModesToPixi:wn,GpuBufferSystem:xS,GpuColorMaskSystem:bS,GpuDeviceSystem:o0,GpuEncoderSystem:SS,GpuGraphicsAdaptor:kS,GpuGraphicsContext:zD,GpuMeshAdapter:OS,GpuMipmapGenerator:M5,GpuProgram:Rn,GpuReadBuffer:Xq,GpuRenderTarget:T5,GpuRenderTargetAdaptor:C5,GpuRenderTargetSystem:PS,GpuShaderSystem:AS,GpuStateSystem:RS,GpuStencilModesToPixi:Uo,GpuStencilSystem:wS,GpuTextureSystem:DS,GpuUboSystem:ES,GpuUniformBatchPipe:TS,Graphics:cl,GraphicsContext:Sr,GraphicsContextRenderData:$D,GraphicsContextSystem:jb,GraphicsPath:So,GraphicsPipe:F5,HTMLText:eO,HTMLTextPipe:d8,HTMLTextRenderData:x2,HTMLTextStyle:Ba,HTMLTextSystem:US,HardLightBlend:sD,HardMixBlend:oD,HelloSystem:s0,IGLUniformData:bq,ImageSource:Ua,InstructionSet:yb,KTX:pt,LightenBlend:aD,LinearBurnBlend:uD,LinearDodgeBlend:lD,LinearLightBlend:cD,Loader:lk,LoaderParserPriority:An,LuminosityBlend:dD,MSAA_QUALITY:I5,MaskEffectManager:$p,MaskEffectManagerClass:aB,MaskFilter:G4,Matrix:te,Mesh:Eh,MeshGeometry:Fo,MeshPipe:j5,MeshPlane:gK,MeshRope:_K,MeshSimple:yK,NOOP:fb,NegationBlend:hD,NineSliceGeometry:Vs,NineSlicePlane:xK,NineSliceSprite:q5,NineSliceSpritePipe:K5,NoiseFilter:QY,ObservablePoint:Rt,OverlayBlend:fD,PI_2:VM,PinLightBlend:pD,PipelineSystem:CS,PlaneGeometry:IS,Point:De,Polygon:ku,Pool:Ag,PoolGroupClass:oB,PrepareBase:H4,PrepareQueue:q4,PrepareSystem:rO,PrepareUpload:tO,QuadGeometry:e8,RAD_TO_DEG:XM,Rectangle:Me,RenderContainer:dK,RenderGroup:gB,RenderGroupPipe:tS,RenderGroupSystem:aS,RenderTarget:em,RenderTargetSystem:H2,RenderTexture:h5,RendererType:Sn,ResizePlugin:PD,Resolver:ko,RopeGeometry:z5,RoundedRectangle:Ng,SCALE_MODES:oK,STENCIL_MODES:Ft,SVGParser:qD,SVGToGraphicsPath:MD,SaturationBlend:mD,ScissorMask:gq,SdfShader:l8,Shader:Mn,ShaderStage:xu,ShapePath:YD,SharedRenderPipes:yS,SharedSystems:_S,SoftLightBlend:gD,Sprite:bn,SpritePipe:uS,Spritesheet:mv,State:Ci,StencilMask:wb,StencilMaskPipe:P2,SubtractBlend:_D,SystemRunner:Mb,TEXTURE_FORMAT_BLOCK_SIZE:Ak,Text:v2,TextStyle:ii,Texture:X,TextureGCSystem:mS,TextureMatrix:pb,TexturePool:rr,TexturePoolClass:v4,TextureSource:wt,TextureStyle:ZM,TextureUvs:aK,Ticker:Er,TickerListener:qf,TickerPlugin:AD,TilingSprite:Y4,TilingSpritePipe:i8,TilingSpriteShader:J5,Transform:V4,Triangle:y2,UNIFORM_TO_ARRAY_SETTERS:VO,UNIFORM_TO_SINGLE_SETTERS:WO,UNIFORM_TYPES_MAP:HB,UNIFORM_TYPES_VALUES:Cb,UPDATE_BLEND:vb,UPDATE_COLOR:Hp,UPDATE_PRIORITY:Ss,UPDATE_TRANSFORM:BW,UPDATE_VISIBLE:Gc,UboBatch:b5,UboSystem:U2,UniformGroup:Lt,VERSION:ux,VideoSource:zc,ViewSystem:g5,ViewableBuffer:Tv,VividLightBlend:yD,WGSL_ALIGN_SIZE_DATA:Vc,WGSL_TO_STD40_SIZE:L2,WRAP_MODES:sK,WebGLRenderer:x5,WebGPURenderer:O5,WebWorkerAdapter:LY,WorkerManager:Uv,_getGlobalBounds:gb,_getGlobalBoundsRecursive:_2,accessibilityTarget:VW,addBits:ex,addMaskBounds:Mg,addMaskLocalBounds:Bg,addProgramDefines:kB,alphaFrag:g4,alphaWgsl:Vv,applyMatrix:r8,applyStyleParams:ax,assignWithIgnore:_B,autoDetectEnvironment:QW,autoDetectRenderer:TD,autoDetectSource:bB,basisTranscoderUrls:Vp,bitmapFontCachePlugin:JD,bitmapFontTextParser:Qf,bitmapFontXMLParser:Ov,bitmapFontXMLStringParser:Iv,blendTemplateFrag:qB,blendTemplateVert:KB,blendTemplateWgsl:QB,blockDataMap:MS,blurTemplateWgsl:w4,boundsPool:Wi,browserExt:HM,buildAdaptiveBezier:Wb,buildAdaptiveQuadratic:HD,buildArc:Vb,buildArcTo:jD,buildArcToSvg:WD,buildCircle:ha,buildContextBatches:GD,buildGeometryFromPath:mK,buildInstructions:yO,buildLine:ND,buildPolygon:Nb,buildRectangle:Gb,buildSimpleUvs:Ub,buildTriangle:zb,buildUvs:Fb,cacheTextureArray:rk,calculateProjection:kO,checkChildrenDidChange:_b,checkDataUrl:La,checkExtension:ci,childrenHelperMixin:sB,closePointEps:UD,collectAllRenderables:Th,collectRenderGroups:rS,color32BitToUniform:Ch,colorBit:Qg,colorBitGl:Zg,colorMatrixFilterFrag:A4,colorMatrixFilterWgsl:Xv,colorToUniform:$q,compareModeToGlCompare:r5,compileHighShader:sO,compileHighShaderGl:oO,compileHighShaderGlProgram:Al,compileHighShaderGpuProgram:Pl,compileHooks:tx,compileInputs:rx,compileOutputs:iO,compileShader:ix,convertFormatIfRequired:JX,convertToList:Wn,copySearchParams:jp,createIdFromString:fh,createLevelBuffers:TX,createLevelBuffersFromKTX:eY,createStringVariations:TB,createTexture:Oo,createUboElementsSTD40:AO,createUboElementsWGSL:S5,createUboSyncFunction:N2,createUboSyncFunctionSTD40:BO,createUboSyncFunctionWGSL:E5,crossOrigin:yk,cullingMixin:iB,curveEps:Rv,defaultFilterVert:Yg,defaultValue:W2,definedProps:bo,deprecation:le,detectAvif:nk,detectBasis:xX,detectCompressed:aY,detectDefaults:ik,detectMp4:sk,detectOgv:ok,detectVideoAlphaMode:Eb,detectWebm:ak,detectWebp:uk,determineCrossOrigin:xk,displacementFrag:R4,displacementVert:M4,displacementWgsl:Yv,earcut:SD,effectsMixin:uB,ensureAttributes:M2,ensureIsBuffer:kb,ensureOptions:Kg,ensurePrecision:OB,ensureTextStyle:SK,executeInstructions:eS,extensions:lt,extractAttributesFromGlProgram:GO,extractAttributesFromGpuProgram:NB,extractFontFamilies:f8,extractStructAndGroups:Kf,fastCopy:Wp,findHooksRx:nO,findMixin:lB,fontStringFromTextStyle:Od,formatShader:hq,fragmentGPUTemplate:cO,fragmentGlTemplate:hO,generateArraySyncSTD40:MO,generateArraySyncWGSL:w5,generateBlurFragSource:x4,generateBlurGlProgram:S4,generateBlurProgram:E4,generateBlurVertSource:b4,generateGPULayout:cq,generateGpuLayoutGroups:GB,generateLayout:dq,generateLayoutHash:zB,generateProgram:jO,generateShaderSyncCode:UO,generateTextStyleKey:Yb,generateTextureBatchBit:Jg,generateTextureBatchBitGl:e0,generateUID:lK,generateUniformsSync:XO,getAdjustedBlendModeBlend:Cv,getAttributeInfoFromFormat:sl,getBatchSamplersUniformGroup:t0,getBitmapTextLayout:Qb,getCanvasBoundingBox:x8,getCanvasFillStyle:Id,getCanvasTexture:$2,getDefaultUniformValue:jB,getFastGlobalBounds:I4,getFontCss:m8,getFontFamilyName:hk,getGeometryBounds:BD,getGlTypeFromFormat:EO,getGlobalBounds:hh,getGlobalRenderableBounds:F4,getLocalBounds:Rg,getMatrixRelativeToParent:xb,getMaxFragmentPrecision:DB,getOrientationOfPoints:LD,getParent:dB,getPo2TextureFromSource:FS,getResolutionOfUrl:jg,getSVGUrl:g8,getSupportedCompressedTextureFormats:r2,getSupportedGPUCompressedTextureFormats:Nv,getSupportedGlCompressedTextureFormats:Lv,getSupportedTextureFormats:vh,getTemporaryCanvasFromImage:_8,getTestContext:Tb,getTextureBatchBindGroup:Gg,getTextureDefaultMatrix:vK,getTextureFormatFromKTXTexture:nY,getUboData:zO,getUniformData:$O,getUrlExtension:CB,glFormatToGPUFormat:Ik,glUploadBufferImageResource:ZO,glUploadCompressedTextureResource:JO,glUploadImageResource:q2,glUploadVideoResource:e5,globalUniformsBit:fO,globalUniformsBitGl:pO,globalUniformsUBOBitGl:oq,gpuFormatToBasisTranscoderFormat:PX,gpuFormatToKTXBasisTranscoderFormat:sY,gpuUploadBufferImageResource:P5,gpuUploadCompressedTextureResource:A5,gpuUploadImageResource:BS,gpuUploadVideoResource:R5,groupD8:ge,hasCachedCanvasTexture:xq,hslWgsl:eq,hslgl:kg,hslgpu:Og,injectBits:nx,insertVersion:IB,isMobile:MB,isPow2:dv,isRenderingToScreen:OO,isSafari:h8,isSingleItem:Rd,isWebGLSupported:mh,isWebGPUSupported:gh,ktxTranscoderUrls:Xp,loadBasis:EX,loadBasisOnWorker:Pk,loadBitmapFont:ek,loadDDS:OX,loadEnvironmentExtensions:Pb,loadFontAsBase64:p8,loadFontCSS:lx,loadImageBitmap:gk,loadJson:ck,loadKTX:YX,loadKTX2:ZX,loadKTX2onWorker:Ok,loadSVGImage:y8,loadSvg:pk,loadTextures:e2,loadTxt:dk,loadVideoTextures:bk,loadWebFont:fk,localUniformBit:Lu,localUniformBitGl:r0,localUniformBitGroup2:mO,localUniformMSDFBit:s8,localUniformMSDFBitGl:o8,log2:yW,logDebugTexture:EK,logProgramError:HO,logRenderGroupScene:w8,logScene:S8,mSDFBit:a8,mSDFBitGl:u8,mapFormatToGlFormat:n5,mapFormatToGlInternalFormat:i5,mapFormatToGlType:s5,mapGlToVertexFormat:NO,mapSize:Tq,mapType:V2,mapWebGLBlendModesToPixi:YO,maskFrag:L4,maskVert:N4,maskWgsl:Kv,matrixPool:ji,maxRecommendedTextures:Ti,measureHtmlText:b2,measureMixin:hB,migrateFragmentFromV7toV8:wq,mipmapScaleModeToGlFilter:t5,mixColors:iS,mixHexColors:nS,mixStandardAnd32BitColors:Iq,multiplyHexColors:FD,nextPow2:Ca,noiseFrag:B4,noiseWgsl:qv,nonCompressedFormats:Ek,normalizeExtensionPriority:vc,nssvg:Zv,nsxhtml:Jv,onRenderMixin:fB,parseDDS:Rk,parseFunctionBody:cK,parseKTX:Bk,path:Vr,pointInTriangle:Qv,preloadVideo:vk,removeItems:mb,removeStructAndGroupDuplicates:$B,resetUids:_W,resolveCharacters:Kb,resolveCompressedTextureUrl:oY,resolveJsonUrl:Sk,resolveTextureUrl:t2,resourceToTexture:SB,roundPixelsBit:Rl,roundPixelsBitGl:Ml,roundedShapeArc:VD,roundedShapeQuadraticCurve:XD,sayHello:f5,scaleModeToGlFilter:ox,setBasisTranscoderPath:SX,setKTXTranscoderPath:KX,setPositions:t8,setProgramName:FB,setUvs:n8,sortMixin:pB,spritesheetAsset:RB,squaredDistanceToLineSegment:$c,stripVersion:UB,testImageFormat:Jb,testVideoFormat:Hg,textStyleToCSS:Q4,textureBit:gO,textureBitGl:_O,textureFrom:wB,tilingBit:Q5,tilingBitGl:Z5,toFillStyle:Js,toLocalGlobalMixin:mB,toStrokeStyle:kd,transformVertices:zg,triangulateWithHoles:Lb,uboSyncFunctionsSTD40:G2,uboSyncFunctionsWGSL:RO,uid:Je,uniformParsers:to,unpremultiplyAlpha:kq,unsafeEvalSupported:Ab,updateLocalTransform:hK,updateQuadBounds:Cd,updateRenderGroupTransform:o5,updateRenderGroupTransforms:sS,updateTransformAndChildren:oS,updateTransformBackwards:Ad,updateWorldTransform:fK,v8_0_0:de,validFormats:Yp,validateRenderables:a5,vertexGPUTemplate:lO,vertexGlTemplate:dO,viewportFromFrame:iK,vkFormatToGPUFormat:Fk,warn:fe,webworkerExt:jM,wrapModeToGlAddress:ep},Symbol.toStringTag,{value:"Module"})),AK=({onReady:t,canvasRef:e,containerRef:r})=>{const n=P.useRef(),i=P.useRef(),s=P.useCallback((a,u)=>{const l=new Bb;(async()=>{await l.init({resizeTo:u,canvas:a}),n.current=l,t(n)})()},[t]),o=P.useCallback(a=>{!(n!=null&&n.current)||!a||(i.current&&n.current.ticker.remove(i.current),n.current.ticker.add(a),i.current=a)},[n,i]);return P.useEffect(()=>{!(e!=null&&e.current)||!(r!=null&&r.current)||s(e.current,r.current)},[s,e,r]),{app:n.current,updateTicker:o}},RK=(t,e=250)=>{const r=P.useRef(),n=P.useRef(!1);return P.useEffect(()=>{r.current=t},[t]),[P.useCallback(()=>{const s=()=>{n.current=!1,r.current&&r.current()};let o=-1;return e>0&&(o=window.setTimeout(s,e),n.current=!0),()=>window.clearTimeout(o)},[e]),n]},MK=(t,e)=>{const r=P.useRef(t),n=P.useRef(t),i=P.useRef(),s=P.useCallback(l=>{n.current=l},[]),o=P.useCallback(()=>{n.current=r.current},[]),[a]=RK(o,e),u=P.useCallback(l=>(i.current&&i.current(),n.current=l,i.current=a()),[a]);return[n,u,s]},BK=t=>t.nav;function os(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},dl={duration:.5,overwrite:!1,delay:0},LS,pr,Ze,qn=1e8,He=1/qn,cx=Math.PI*2,DK=cx/4,kK=0,T8=Math.sqrt,OK=Math.cos,IK=Math.sin,Kt=function(e){return typeof e=="string"},gt=function(e){return typeof e=="function"},Ts=function(e){return typeof e=="number"},NS=function(e){return typeof e>"u"},Ji=function(e){return typeof e=="object"},Xr=function(e){return e!==!1},GS=function(){return typeof window<"u"},Rf=function(e){return gt(e)||Kt(e)},C8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},mr=Array.isArray,dx=/(?:-?\.?\d|\.)+/gi,P8=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,wu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,I_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,A8=/[+-]=-?[.\d]+/,R8=/[^,'"\[\]\s]+/gi,FK=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,st,ki,hx,zS,En={},nm={},M8,B8=function(e){return(nm=Da(e,En))&&Zr},$S=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},$d=function(e,r){return!r&&console.warn(e)},D8=function(e,r){return e&&(En[e]=r)&&nm&&(nm[e]=r)||En},Hd=function(){return 0},UK={suppressEvents:!0,isStart:!0,kill:!1},tp={suppressEvents:!0,kill:!1},LK={suppressEvents:!0},HS={},mo=[],fx={},k8,on={},F_={},rC=30,rp=[],jS="",WS=function(e){var r=e[0],n,i;if(Ji(r)||gt(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=rp.length;i--&&!rp[i].targetTest(r););n=rp[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new nI(e[i],n)))||e.splice(i,1);return e},fa=function(e){return e._gsap||WS(Kn(e))[0]._gsap},O8=function(e,r,n){return(n=e[r])&&gt(n)?e[r]():NS(n)&&e.getAttribute&&e.getAttribute(r)||n},Yr=function(e,r){return(e=e.split(",")).forEach(r)||e},xt=function(e){return Math.round(e*1e5)/1e5||0},Xt=function(e){return Math.round(e*1e7)/1e7||0},Gu=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},NK=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},im=function(){var e=mo.length,r=mo.slice(0),n,i;for(fx={},mo.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},I8=function(e,r,n,i){mo.length&&!pr&&im(),e.render(r,n,pr&&r<0&&(e._initted||e._startAt)),mo.length&&!pr&&im()},F8=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(R8).length<2?r:Kt(e)?e.trim():e},U8=function(e){return e},si=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},GK=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},Da=function(e,r){for(var n in r)e[n]=r[n];return e},nC=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Ji(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},sm=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},Xc=function(e){var r=e.parent||st,n=e.keyframes?GK(mr(e.keyframes)):si;if(Xr(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},zK=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},L8=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},u0=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},wo=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},pa=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},$K=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},px=function(e,r,n,i){return e._startAt&&(pr?e._startAt.revert(tp):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},HK=function t(e){return!e||e._ts&&t(e.parent)},iC=function(e){return e._repeat?hl(e._tTime,e=e.duration()+e._rDelay)*e:0},hl=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},om=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},l0=function(e){return e._end=Xt(e._start+(e._tDur/Math.abs(e._ts||e._rts||He)||0))},c0=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Xt(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),l0(e),n._dirty||pa(n,e)),e},N8=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=om(e.rawTime(),r),(!r._dur||Ph(0,r.totalDuration(),n)-r._tTime>He)&&r.render(n,!0)),pa(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-He}},Ui=function(e,r,n,i){return r.parent&&wo(r),r._start=Xt((Ts(n)?n:n||e!==st?On(e,n,r):e._time)+r._delay),r._end=Xt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),L8(e,r,"_first","_last",e._sort?"_start":0),mx(r)||(e._recent=r),i||N8(e,r),e._ts<0&&c0(e,e._tTime),e},G8=function(e,r){return(En.ScrollTrigger||$S("scrollTrigger",r))&&En.ScrollTrigger.create(r,e)},z8=function(e,r,n,i,s){if(XS(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!pr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&k8!==un.frame)return mo.push(e),e._lazy=[s,i],1},jK=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},mx=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},WK=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&jK(e)&&!(!e._initted&&mx(e))||(e._ts<0||e._dp._ts<0)&&!mx(e))?0:1,a=e._rDelay,u=0,l,c,d;if(a&&e._repeat&&(u=Ph(0,e._tDur,r),c=hl(u,a),e._yoyo&&c&1&&(o=1-o),c!==hl(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||pr||i||e._zTime===He||!r&&e._zTime){if(!e._initted&&z8(e,r,i,n,u))return;for(d=e._zTime,e._zTime=r||(n?He:0),n||(n=r&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,l=e._pt;l;)l.r(o,l.d),l=l._next;r<0&&px(e,r,n,!0),e._onUpdate&&!n&&hn(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&hn(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&wo(e,1),!n&&!pr&&(hn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},VK=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},fl=function(e,r,n,i){var s=e._repeat,o=Xt(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Xt(o*(s+1)+e._rDelay*s):o,a>0&&!i&&c0(e,e._tTime=e._tDur*a),e.parent&&l0(e),n||pa(e.parent,e),e},sC=function(e){return e instanceof wr?pa(e):fl(e,e._dur)},XK={_start:0,endTime:Hd,totalDuration:Hd},On=function t(e,r,n){var i=e.labels,s=e._recent||XK,o=e.duration()>=qn?s.endTime(!1):e._dur,a,u,l;return Kt(r)&&(isNaN(r)||r in i)?(u=r.charAt(0),l=r.substr(-1)==="%",a=r.indexOf("="),u==="<"||u===">"?(a>=0&&(r=r.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(l?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(u=parseFloat(r.charAt(a-1)+r.substr(a+1)),l&&n&&(u=u/100*(mr(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+u:o+u)):r==null?o:+r},Yc=function(e,r,n){var i=Ts(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,u;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,u=n;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=Xr(u.vars.inherit)&&u.parent;o.immediateRender=Xr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new At(r[0],o,r[s+1])},Lo=function(e,r){return e||e===0?r(e):r},Ph=function(e,r,n){return n<e?e:n>r?r:n},fr=function(e,r){return!Kt(e)||!(r=FK.exec(e))?"":r[1]},YK=function(e,r,n){return Lo(n,function(i){return Ph(e,r,i)})},gx=[].slice,$8=function(e,r){return e&&Ji(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Ji(e[0]))&&!e.nodeType&&e!==ki},qK=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Kt(i)&&!r||$8(i,1)?(s=n).push.apply(s,Kn(i)):n.push(i)})||n},Kn=function(e,r,n){return Ze&&!r&&Ze.selector?Ze.selector(e):Kt(e)&&!n&&(hx||!pl())?gx.call((r||zS).querySelectorAll(e),0):mr(e)?qK(e,n):$8(e)?gx.call(e,0):e?[e]:[]},_x=function(e){return e=Kn(e)[0]||$d("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return Kn(r,n.querySelectorAll?n:n===e?$d("Invalid scope")||zS.createElement("div"):e)}},H8=function(e){return e.sort(function(){return .5-Math.random()})},j8=function(e){if(gt(e))return e;var r=Ji(e)?e:{each:e},n=ma(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,u=isNaN(i)||a,l=r.axis,c=i,d=i;return Kt(i)?c=d={center:.5,edges:.5,end:1}[i]||0:!a&&u&&(c=i[0],d=i[1]),function(h,f,p){var m=(p||r).length,g=o[m],_,v,y,x,S,w,b,E,T;if(!g){if(T=r.grid==="auto"?0:(r.grid||[1,qn])[1],!T){for(b=-qn;b<(b=p[T++].getBoundingClientRect().left)&&T<m;);T<m&&T--}for(g=o[m]=[],_=u?Math.min(T,m)*c-.5:i%T,v=T===qn?0:u?m*d/T-.5:i/T|0,b=0,E=qn,w=0;w<m;w++)y=w%T-_,x=v-(w/T|0),g[w]=S=l?Math.abs(l==="y"?x:y):T8(y*y+x*x),S>b&&(b=S),S<E&&(E=S);i==="random"&&H8(g),g.max=b-E,g.min=E,g.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(T>m?m-1:l?l==="y"?m/T:T:Math.max(T,m/T))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=fr(r.amount||r.each)||0,n=n&&m<0?eI(n):n}return m=(g[h]-g.min)/g.max||0,Xt(g.b+(n?n(m):m)*g.v)+g.u}},yx=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Xt(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Ts(n)?0:fr(n))}},W8=function(e,r){var n=mr(e),i,s;return!n&&Ji(e)&&(i=n=e.radius||qn,e.values?(e=Kn(e.values),(s=!Ts(e[0]))&&(i*=i)):e=yx(e.increment)),Lo(r,n?gt(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),l=qn,c=0,d=e.length,h,f;d--;)s?(h=e[d].x-a,f=e[d].y-u,h=h*h+f*f):h=Math.abs(e[d]-a),h<l&&(l=h,c=d);return c=!i||l<=i?e[c]:o,s||c===o||Ts(o)?c:c+fr(o)}:yx(e))},V8=function(e,r,n,i){return Lo(mr(e)?!r:n===!0?!!(n=0):!i,function(){return mr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},KK=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},QK=function(e,r){return function(n){return e(parseFloat(n))+(r||fr(n))}},ZK=function(e,r,n){return Y8(e,r,0,1,n)},X8=function(e,r,n){return Lo(n,function(i){return e[~~r(i)]})},JK=function t(e,r,n){var i=r-e;return mr(e)?X8(e,t(0,e.length),r):Lo(n,function(s){return(i+(s-e)%i)%i+e})},eQ=function t(e,r,n){var i=r-e,s=i*2;return mr(e)?X8(e,t(0,e.length-1),r):Lo(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},jd=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?R8:dx),n+=e.substr(r,i-r)+V8(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},Y8=function(e,r,n,i,s){var o=r-e,a=i-n;return Lo(s,function(u){return n+((u-e)/o*a||0)})},tQ=function t(e,r,n,i){var s=isNaN(e+r)?0:function(f){return(1-f)*e+f*r};if(!s){var o=Kt(e),a={},u,l,c,d,h;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(mr(e)&&!mr(r)){for(c=[],d=e.length,h=d-2,l=1;l<d;l++)c.push(t(e[l-1],e[l]));d--,s=function(p){p*=d;var m=Math.min(h,~~p);return c[m](p-m)},n=r}else i||(e=Da(mr(e)?[]:{},e));if(!c){for(u in r)VS.call(a,e,u,"get",r[u]);s=function(p){return KS(p,a)||(o?e.p:e)}}}return Lo(n,s)},oC=function(e,r,n){var i=e.labels,s=qn,o,a,u;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},hn=function(e,r,n){var i=e.vars,s=i[r],o=Ze,a=e._ctx,u,l,c;if(s)return u=i[r+"Params"],l=i.callbackScope||e,n&&mo.length&&im(),a&&(Ze=a),c=u?s.apply(l,u):s.call(l),Ze=o,c},wc=function(e){return wo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!pr),e.progress()<1&&hn(e,"onInterrupt"),e},Eu,q8=[],K8=function(e){if(e)if(e=!e.name&&e.default||e,GS()||e.headless){var r=e.name,n=gt(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Hd,render:KS,add:VS,kill:_Q,modifier:gQ,rawVars:0},o={targetTest:0,get:0,getSetter:qS,aliases:{},register:0};if(pl(),e!==i){if(on[r])return;si(i,si(sm(e,s),o)),Da(i.prototype,Da(s,sm(e,o))),on[i.prop=r]=i,e.targetTest&&(rp.push(i),HS[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}D8(r,i),e.register&&e.register(Zr,i,qr)}else q8.push(e)},ze=255,Ec={aqua:[0,ze,ze],lime:[0,ze,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ze],navy:[0,0,128],white:[ze,ze,ze],olive:[128,128,0],yellow:[ze,ze,0],orange:[ze,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ze,0,0],pink:[ze,192,203],cyan:[0,ze,ze],transparent:[ze,ze,ze,0]},U_=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*ze+.5|0},Q8=function(e,r,n){var i=e?Ts(e)?[e>>16,e>>8&ze,e&ze]:0:Ec.black,s,o,a,u,l,c,d,h,f,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ec[e])i=Ec[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&ze,i&ze,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&ze,e&ze]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(dx),!r)u=+i[0]%360/360,l=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(l+1):c+l-c*l,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=U_(u+1/3,s,o),i[1]=U_(u,s,o),i[2]=U_(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(P8),n&&i.length<4&&(i[3]=1),i}else i=e.match(dx)||Ec.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/ze,o=i[1]/ze,a=i[2]/ze,d=Math.max(s,o,a),h=Math.min(s,o,a),c=(d+h)/2,d===h?u=l=0:(f=d-h,l=c>.5?f/(2-d-h):f/(d+h),u=d===s?(o-a)/f+(o<a?6:0):d===o?(a-s)/f+2:(s-o)/f+4,u*=60),i[0]=~~(u+.5),i[1]=~~(l*100+.5),i[2]=~~(c*100+.5)),n&&i.length<4&&(i[3]=1),i},Z8=function(e){var r=[],n=[],i=-1;return e.split(go).forEach(function(s){var o=s.match(wu)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},aC=function(e,r,n){var i="",s=(e+i).match(go),o=r?"hsla(":"rgba(",a=0,u,l,c,d;if(!s)return e;if(s=s.map(function(h){return(h=Q8(h,r,1))&&o+(r?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),n&&(c=Z8(e),u=n.c,u.join(i)!==c.c.join(i)))for(l=e.replace(go,"1").split(wu),d=l.length-1;a<d;a++)i+=l[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:n).shift());if(!l)for(l=e.split(go),d=l.length-1;a<d;a++)i+=l[a]+s[a];return i+l[d]},go=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ec)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),rQ=/hsl[a]?\(/,J8=function(e){var r=e.join(" "),n;if(go.lastIndex=0,go.test(r))return n=rQ.test(r),e[1]=aC(e[1],n),e[0]=aC(e[0],n,Z8(e[1])),!0},Wd,un=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],u,l,c,d,h,f,p=function m(g){var _=t()-i,v=g===!0,y,x,S,w;if((_>e||_<0)&&(n+=_-r),i+=_,S=i-n,y=S-o,(y>0||v)&&(w=++d.frame,h=S-d.time*1e3,d.time=S=S/1e3,o+=y+(y>=s?4:s-y),x=1),v||(u=l(m)),x)for(f=0;f<a.length;f++)a[f](S,h,w,g)};return d={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){M8&&(!hx&&GS()&&(ki=hx=window,zS=ki.document||{},En.gsap=Zr,(ki.gsapVersions||(ki.gsapVersions=[])).push(Zr.version),B8(nm||ki.GreenSockGlobals||!ki.gsap&&ki||{}),q8.forEach(K8)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&d.sleep(),l=c||function(g){return setTimeout(g,o-d.time*1e3+1|0)},Wd=1,p(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(u),Wd=0,l=Hd},lagSmoothing:function(g,_){e=g||1/0,r=Math.min(_||33,e)},fps:function(g){s=1e3/(g||240),o=d.time*1e3+s},add:function(g,_,v){var y=_?function(x,S,w,b){g(x,S,w,b),d.remove(y)}:g;return d.remove(g),a[v?"unshift":"push"](y),pl(),y},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&f>=_&&f--},_listeners:a},d}(),pl=function(){return!Wd&&un.wake()},xe={},nQ=/^[\d.\-M][\d.\-,\s]/,iQ=/["']/g,sQ=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,u,l;s<o;s++)u=n[s],a=s!==o-1?u.lastIndexOf(","):u.length,l=u.substr(0,a),r[i]=isNaN(l)?l.replace(iQ,"").trim():+l,i=u.substr(a+1).trim();return r},oQ=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},aQ=function(e){var r=(e+"").split("("),n=xe[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[sQ(r[1])]:oQ(e).split(",").map(F8)):xe._CE&&nQ.test(e)?xe._CE("",e):n},eI=function(e){return function(r){return 1-e(1-r)}},tI=function t(e,r){for(var n=e._first,i;n;)n instanceof wr?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},ma=function(e,r){return e&&(gt(e)?e:xe[e]||aQ(e))||r},Na=function(e,r,n,i){n===void 0&&(n=function(u){return 1-r(1-u)}),i===void 0&&(i=function(u){return u<.5?r(u*2)/2:1-r((1-u)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return Yr(e,function(a){xe[a]=En[a]=s,xe[o=a.toLowerCase()]=n;for(var u in s)xe[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=xe[a+"."+u]=s[u]}),s},rI=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},L_=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/cx*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*IK((c-o)*s)+1},u=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:rI(a);return s=cx/s,u.config=function(l,c){return t(e,l,c)},u},N_=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:rI(n);return i.config=function(s){return t(e,s)},i};Yr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Na(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});xe.Linear.easeNone=xe.none=xe.Linear.easeIn;Na("Elastic",L_("in"),L_("out"),L_());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Na("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Na("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Na("Circ",function(t){return-(T8(1-t*t)-1)});Na("Sine",function(t){return t===1?1:-OK(t*DK)+1});Na("Back",N_("in"),N_("out"),N_());xe.SteppedEase=xe.steps=En.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-He;return function(a){return((i*Ph(0,o,a)|0)+s)*n}}};dl.ease=xe["quad.out"];Yr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return jS+=t+","+t+"Params,"});var nI=function(e,r){this.id=kK++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:O8,this.set=r?r.getSetter:qS},Vd=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,fl(this,+r.duration,1,1),this.data=r.data,Ze&&(this._ctx=Ze,Ze.data.push(this)),Wd||un.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,fl(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(pl(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(c0(this,n),!s._dp||s.parent||N8(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ui(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===He||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),I8(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+iC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+iC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?hl(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-He?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?om(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-He?0:this._rts,this.totalTime(Ph(-Math.abs(this._delay),this._tDur,s),i!==!1),l0(this),$K(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(pl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==He&&(this._tTime-=He)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ui(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Xr(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?om(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=LK);var i=pr;return pr=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),pr=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,sC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,sC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(On(this,n),Xr(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Xr(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-He:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-He,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-He)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=gt(n)?n:U8,a=function(){var l=i.then;i.then=null,gt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),s(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){wc(this)},t}();si(Vd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-He,_prom:0,_ps:!1,_rts:1});var wr=function(t){E8(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Xr(n.sortChildren),st&&Ui(n.parent||st,os(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&G8(os(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return Yc(0,arguments,this),this},r.from=function(i,s,o){return Yc(1,arguments,this),this},r.fromTo=function(i,s,o,a){return Yc(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,Xc(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new At(i,s,On(this,o),1),this},r.call=function(i,s,o){return Ui(this,At.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,u,l,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=c,o.parent=this,new At(i,o,On(this,u)),this},r.staggerFrom=function(i,s,o,a,u,l,c){return o.runBackwards=1,Xc(o).immediateRender=Xr(o.immediateRender),this.staggerTo(i,s,o,a,u,l,c)},r.staggerFromTo=function(i,s,o,a,u,l,c,d){return a.startAt=o,Xc(a).immediateRender=Xr(a.immediateRender),this.staggerTo(i,s,a,u,l,c,d)},r.render=function(i,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=i<=0?0:Xt(i),d=this._zTime<0!=i<0&&(this._initted||!l),h,f,p,m,g,_,v,y,x,S,w,b;if(this!==st&&c>u&&i>=0&&(c=u),c!==this._tTime||o||d){if(a!==this._time&&l&&(c+=this._time-a,i+=this._time-a),h=c,x=this._start,y=this._ts,_=!y,d&&(l||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,g=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(h=Xt(c%g),c===u?(m=this._repeat,h=l):(m=~~(c/g),m&&m===c/g&&(h=l,m--),h>l&&(h=l)),S=hl(this._tTime,g),!a&&this._tTime&&S!==m&&this._tTime-S*g-this._dur<=0&&(S=m),w&&m&1&&(h=l-h,b=1),m!==S&&!this._lock){var E=w&&S&1,T=E===(w&&m&1);if(m<S&&(E=!E),a=E?0:c%l?l:c,this._lock=1,this.render(a||(b?0:Xt(m*g)),s,!l)._lock=0,this._tTime=c,!s&&this.parent&&hn(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,u=this._tDur,T&&(this._lock=2,a=E?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;tI(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=VK(this,Xt(a),Xt(h)),v&&(c-=h-(h=v._start))),this._tTime=c,this._time=h,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!m&&(hn(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(f=this._first;f;){if(p=f._next,(f._act||h>=f._start)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,s,o),h!==this._time||!this._ts&&!_){v=0,p&&(c+=this._zTime=-He);break}}f=p}else{f=this._last;for(var C=i<0?i:h;f;){if(p=f._prev,(f._act||C<=f._end)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(C-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(C-f._start)*f._ts,s,o||pr&&(f._initted||f._startAt)),h!==this._time||!this._ts&&!_){v=0,p&&(c+=this._zTime=C?-He:He);break}}f=p}}if(v&&!s&&(this.pause(),v.render(h>=a?0:-He)._zTime=h>=a?1:-1,this._ts))return this._start=x,l0(this),this.render(i,s,o);this._onUpdate&&!s&&hn(this,"onUpdate",!0),(c===u&&this._tTime>=this.totalDuration()||!c&&a)&&(x===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(c===u&&this._ts>0||!c&&this._ts<0)&&wo(this,1),!s&&!(i<0&&!a)&&(c||a||!u)&&(hn(this,c===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<u&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Ts(s)||(s=On(this,s,i)),!(i instanceof Vd)){if(mr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Kt(i))return this.addLabel(i,s);if(gt(i))i=At.delayedCall(0,i);else return this}return this!==i?Ui(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-qn);for(var u=[],l=this._first;l;)l._start>=a&&(l instanceof At?s&&u.push(l):(o&&u.push(l),i&&u.push.apply(u,l.getChildren(!0,s,o)))),l=l._next;return u},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return Kt(i)?this.removeLabel(i):gt(i)?this.killTweensOf(i):(u0(this,i),i===this._recent&&(this._recent=this._last),pa(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xt(un.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=On(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=At.delayedCall(0,s||Hd,o);return a.data="isPause",this._hasPause=1,Ui(this,a,On(this,i))},r.removePause=function(i){var s=this._first;for(i=On(this,i);s;)s._start===i&&s.data==="isPause"&&wo(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),u=a.length;u--;)ro!==a[u]&&a[u].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=Kn(i),u=this._first,l=Ts(s),c;u;)u instanceof At?NK(u._targets,a)&&(l?(!ro||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(c=u.getTweensOf(a,s)).length&&o.push.apply(o,c),u=u._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=On(o,i),u=s,l=u.startAt,c=u.onStart,d=u.onStartParams,h=u.immediateRender,f,p=At.to(o,si({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||He,onStart:function(){if(o.pause(),!f){var g=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());p._dur!==g&&fl(p,g,0,1).render(p._time,!0,!0),f=1}c&&c.apply(p,d||[])}},s));return h?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,si({startAt:{time:On(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),oC(this,On(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),oC(this,On(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+He)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(l in u)u[l]>=o&&(u[l]+=i);return pa(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),pa(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,u=qn,l,c,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ui(o,a,c-a._delay,1)._lock=0):u=c,c<0&&a._ts&&(s-=c,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=l;fl(o,o===st&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(st._ts&&(I8(st,om(i,st)),k8=un.frame),un.frame>=rC){rC+=gn.autoSleep||120;var s=st._first;if((!s||!s._ts)&&gn.autoSleep&&un._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||un.sleep()}}},e}(Vd);si(wr.prototype,{_lock:0,_hasPause:0,_forcing:0});var uQ=function(e,r,n,i,s,o,a){var u=new qr(this._pt,e,r,0,1,lI,null,s),l=0,c=0,d,h,f,p,m,g,_,v;for(u.b=n,u.e=i,n+="",i+="",(_=~i.indexOf("random("))&&(i=jd(i)),o&&(v=[n,i],o(v,e,r),n=v[0],i=v[1]),h=n.match(I_)||[];d=I_.exec(i);)p=d[0],m=i.substring(l,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),p!==h[c++]&&(g=parseFloat(h[c-1])||0,u._pt={_next:u._pt,p:m||c===1?m:",",s:g,c:p.charAt(1)==="="?Gu(g,p)-g:parseFloat(p)-g,m:f&&f<4?Math.round:0},l=I_.lastIndex);return u.c=l<i.length?i.substring(l,i.length):"",u.fp=a,(A8.test(i)||_)&&(u.e=0),this._pt=u,u},VS=function(e,r,n,i,s,o,a,u,l,c){gt(i)&&(i=i(s||0,e,o));var d=e[r],h=n!=="get"?n:gt(d)?l?e[r.indexOf("set")||!gt(e["get"+r.substr(3)])?r:"get"+r.substr(3)](l):e[r]():d,f=gt(d)?l?fQ:aI:YS,p;if(Kt(i)&&(~i.indexOf("random(")&&(i=jd(i)),i.charAt(1)==="="&&(p=Gu(h,i)+(fr(h)||0),(p||p===0)&&(i=p))),!c||h!==i||vx)return!isNaN(h*i)&&i!==""?(p=new qr(this._pt,e,r,+h||0,i-(h||0),typeof d=="boolean"?mQ:uI,0,f),l&&(p.fp=l),a&&p.modifier(a,this,e),this._pt=p):(!d&&!(r in e)&&$S(r,i),uQ.call(this,e,r,h,i,f,u||gn.stringFilter,l))},lQ=function(e,r,n,i,s){if(gt(e)&&(e=qc(e,s,r,n,i)),!Ji(e)||e.style&&e.nodeType||mr(e)||C8(e))return Kt(e)?qc(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=qc(e[a],s,r,n,i);return o},iI=function(e,r,n,i,s,o){var a,u,l,c;if(on[e]&&(a=new on[e]).init(s,a.rawVars?r[e]:lQ(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new qr(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Eu))for(l=n._ptLookup[n._targets.indexOf(s)],c=a._props.length;c--;)l[a._props[c]]=u;return a},ro,vx,XS=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,u=i.lazy,l=i.onUpdate,c=i.runBackwards,d=i.yoyoEase,h=i.keyframes,f=i.autoRevert,p=e._dur,m=e._startAt,g=e._targets,_=e.parent,v=_&&_.data==="nested"?_.vars.targets:g,y=e._overwrite==="auto"&&!LS,x=e.timeline,S,w,b,E,T,C,M,N,D,B,U,I,$;if(x&&(!h||!s)&&(s="none"),e._ease=ma(s,dl.ease),e._yEase=d?eI(ma(d===!0?s:d,dl.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!x&&!!i.runBackwards,!x||h&&!i.stagger){if(N=g[0]?fa(g[0]).harness:0,I=N&&i[N.prop],S=sm(i,HS),m&&(m._zTime<0&&m.progress(1),r<0&&c&&a&&!f?m.render(-1,!0):m.revert(c&&p?tp:UK),m._lazy=0),o){if(wo(e._startAt=At.set(g,si({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!m&&Xr(u),startAt:null,delay:0,onUpdate:l&&function(){return hn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(pr||!a&&!f)&&e._startAt.revert(tp),a&&p&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(c&&p&&!m){if(r&&(a=!1),b=si({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Xr(u),immediateRender:a,stagger:0,parent:_},S),I&&(b[N.prop]=I),wo(e._startAt=At.set(g,b)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(pr?e._startAt.revert(tp):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,He,He);else if(!r)return}for(e._pt=e._ptCache=0,u=p&&Xr(u)||u&&!p,w=0;w<g.length;w++){if(T=g[w],M=T._gsap||WS(g)[w]._gsap,e._ptLookup[w]=B={},fx[M.id]&&mo.length&&im(),U=v===g?w:v.indexOf(T),N&&(D=new N).init(T,I||S,e,U,v)!==!1&&(e._pt=E=new qr(e._pt,T,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(O){B[O]=E}),D.priority&&(C=1)),!N||I)for(b in S)on[b]&&(D=iI(b,S,e,U,T,v))?D.priority&&(C=1):B[b]=E=VS.call(e,T,b,"get",S[b],U,v,0,i.stringFilter);e._op&&e._op[w]&&e.kill(T,e._op[w]),y&&e._pt&&(ro=e,st.killTweensOf(T,B,e.globalTime(r)),$=!e.parent,ro=0),e._pt&&u&&(fx[M.id]=1)}C&&cI(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!$,h&&r<=0&&x.render(qn,!0,!0)},cQ=function(e,r,n,i,s,o,a,u){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],c,d,h,f;if(!l)for(l=e._ptCache[r]=[],h=e._ptLookup,f=e._targets.length;f--;){if(c=h[f][r],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==r&&c.fp!==r;)c=c._next;if(!c)return vx=1,e.vars[r]="+=0",XS(e,a),vx=0,u?$d(r+" not eligible for reset"):1;l.push(c)}for(f=l.length;f--;)d=l[f],c=d._pt||d,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=n-c.s,d.e&&(d.e=xt(n)+fr(d.e)),d.b&&(d.b=c.s+fr(d.b))},dQ=function(e,r){var n=e[0]?fa(e[0]).harness:0,i=n&&n.aliases,s,o,a,u;if(!i)return r;s=Da({},r);for(o in i)if(o in s)for(u=i[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},hQ=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(mr(r))a=n[e]||(n[e]=[]),r.forEach(function(u,l){return a.push({t:l/(r.length-1)*100,v:u,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},qc=function(e,r,n,i,s){return gt(e)?e.call(r,n,i,s):Kt(e)&&~e.indexOf("random(")?jd(e):e},sI=jS+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oI={};Yr(sI+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return oI[t]=1});var At=function(t){E8(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Xc(i))||this;var u=a.vars,l=u.duration,c=u.delay,d=u.immediateRender,h=u.stagger,f=u.overwrite,p=u.keyframes,m=u.defaults,g=u.scrollTrigger,_=u.yoyoEase,v=i.parent||st,y=(mr(n)||C8(n)?Ts(n[0]):"length"in i)?[n]:Kn(n),x,S,w,b,E,T,C,M;if(a._targets=y.length?WS(y):$d("GSAP target "+n+" not found. https://gsap.com",!gn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,p||h||Rf(l)||Rf(c)){if(i=a.vars,x=a.timeline=new wr({data:"nested",defaults:m||{},targets:v&&v.data==="nested"?v.vars.targets:y}),x.kill(),x.parent=x._dp=os(a),x._start=0,h||Rf(l)||Rf(c)){if(b=y.length,C=h&&j8(h),Ji(h))for(E in h)~sI.indexOf(E)&&(M||(M={}),M[E]=h[E]);for(S=0;S<b;S++)w=sm(i,oI),w.stagger=0,_&&(w.yoyoEase=_),M&&Da(w,M),T=y[S],w.duration=+qc(l,os(a),S,T,y),w.delay=(+qc(c,os(a),S,T,y)||0)-a._delay,!h&&b===1&&w.delay&&(a._delay=c=w.delay,a._start+=c,w.delay=0),x.to(T,w,C?C(S,T,y):0),x._ease=xe.none;x.duration()?l=c=0:a.timeline=0}else if(p){Xc(si(x.vars.defaults,{ease:"none"})),x._ease=ma(p.ease||i.ease||"none");var N=0,D,B,U;if(mr(p))p.forEach(function(I){return x.to(y,I,">")}),x.duration();else{w={};for(E in p)E==="ease"||E==="easeEach"||hQ(E,p[E],w,p.easeEach);for(E in w)for(D=w[E].sort(function(I,$){return I.t-$.t}),N=0,S=0;S<D.length;S++)B=D[S],U={ease:B.e,duration:(B.t-(S?D[S-1].t:0))/100*l},U[E]=B.v,x.to(y,U,N),N+=U.duration;x.duration()<l&&x.to({},{duration:l-x.duration()})}}l||a.duration(l=x.duration())}else a.timeline=0;return f===!0&&!LS&&(ro=os(a),st.killTweensOf(y),ro=0),Ui(v,os(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!l&&!p&&a._start===Xt(v._time)&&Xr(d)&&HK(os(a))&&v.data!=="nested")&&(a._tTime=-He,a.render(Math.max(0,-c)||0)),g&&G8(os(a),g),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,u=this._tDur,l=this._dur,c=i<0,d=i>u-He&&!c?u:i<He?0:i,h,f,p,m,g,_,v,y,x;if(!l)WK(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(h=d,y=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+i,s,o);if(h=Xt(d%m),d===u?(p=this._repeat,h=l):(p=~~(d/m),p&&p===Xt(d/m)&&(h=l,p--),h>l&&(h=l)),_=this._yoyo&&p&1,_&&(x=this._yEase,h=l-h),g=hl(this._tTime,m),h===a&&!o&&this._initted&&p===g)return this._tTime=d,this;p!==g&&(y&&this._yEase&&tI(y,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==m&&this._initted&&(this._lock=o=1,this.render(Xt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(z8(this,c?i:h,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==g))return this;if(l!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(h/l),this._from&&(this.ratio=v=1-v),h&&!a&&!s&&!p&&(hn(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;y&&y.render(i<0?i:y._dur*y._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&px(this,i,s,o),hn(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&hn(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(c&&!this._onUpdate&&px(this,i,!0,!0),(i||!l)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&wo(this,1),!s&&!(c&&!a)&&(d||a||_)&&(hn(this,d===u?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a,u){Wd||un.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||XS(this,l),c=this._ease(l/this._dur),cQ(this,i,s,o,a,c,l,u)?this.resetTo(i,s,o,a,1):(c0(this,0),this.parent||L8(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?wc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ro&&ro.vars.overwrite!==!0)._first||wc(this),this.parent&&o!==this.timeline.totalDuration()&&fl(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=i?Kn(i):a,l=this._ptLookup,c=this._pt,d,h,f,p,m,g,_;if((!s||s==="all")&&zK(a,u))return s==="all"&&(this._pt=0),wc(this);for(d=this._op=this._op||[],s!=="all"&&(Kt(s)&&(m={},Yr(s,function(v){return m[v]=1}),s=m),s=dQ(a,s)),_=a.length;_--;)if(~u.indexOf(a[_])){h=l[_],s==="all"?(d[_]=s,p=h,f={}):(f=d[_]=d[_]||{},p=s);for(m in p)g=h&&h[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&u0(this,g,"_pt"),delete h[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&c&&wc(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Yc(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Yc(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return st.killTweensOf(i,s,o)},e}(Vd);si(At.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Yr("staggerTo,staggerFrom,staggerFromTo",function(t){At[t]=function(){var e=new wr,r=gx.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var YS=function(e,r,n){return e[r]=n},aI=function(e,r,n){return e[r](n)},fQ=function(e,r,n,i){return e[r](i.fp,n)},pQ=function(e,r,n){return e.setAttribute(r,n)},qS=function(e,r){return gt(e[r])?aI:NS(e[r])&&e.setAttribute?pQ:YS},uI=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},mQ=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},lI=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},KS=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},gQ=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},_Q=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?u0(this,r,"_pt"):r.dep||(n=1),r=i;return!n},yQ=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},cI=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},qr=function(){function t(r,n,i,s,o,a,u,l,c){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||uI,this.d=u||this,this.set=l||YS,this.pr=c||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=yQ,this.m=n,this.mt=s,this.tween=i},t}();Yr(jS+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return HS[t]=1});En.TweenMax=En.TweenLite=At;En.TimelineLite=En.TimelineMax=wr;st=new wr({sortChildren:!1,defaults:dl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gn.stringFilter=J8;var ga=[],np={},vQ=[],uC=0,xQ=0,G_=function(e){return(np[e]||vQ).map(function(r){return r()})},xx=function(){var e=Date.now(),r=[];e-uC>2&&(G_("matchMediaInit"),ga.forEach(function(n){var i=n.queries,s=n.conditions,o,a,u,l;for(a in i)o=ki.matchMedia(i[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,l=1);l&&(n.revert(),u&&r.push(n))}),G_("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),uC=e,G_("matchMedia"))},dI=function(){function t(r,n){this.selector=n&&_x(n),this.data=[],this._r=[],this.isReverted=!1,this.id=xQ++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){gt(n)&&(s=i,i=n,n=gt);var o=this,a=function(){var l=Ze,c=o.selector,d;return l&&l!==o&&l.data.push(o),s&&(o.selector=_x(s)),Ze=o,d=i.apply(o,arguments),gt(d)&&o._r.push(d),Ze=l,o.selector=c,o.isReverted=!1,d};return o.last=a,n===gt?a(o,function(u){return o.add(null,u)}):n?o[n]=a:a},e.ignore=function(n){var i=Ze;Ze=null,n(this),Ze=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof At&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),u=s.data.length,l;u--;)l=s.data[u],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),u=s.data.length;u--;)l=s.data[u],l instanceof wr?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof At)&&l.revert&&l.revert(n);s._r.forEach(function(c){return c(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=ga.length;o--;)ga[o].id===this.id&&ga.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),bQ=function(){function t(r){this.contexts=[],this.scope=r,Ze&&Ze.data.push(this)}var e=t.prototype;return e.add=function(n,i,s){Ji(n)||(n={matches:n});var o=new dI(0,s||this.scope),a=o.conditions={},u,l,c;Ze&&!o.selector&&(o.selector=Ze.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(l in n)l==="all"?c=1:(u=ki.matchMedia(n[l]),u&&(ga.indexOf(o)<0&&ga.push(o),(a[l]=u.matches)&&(c=1),u.addListener?u.addListener(xx):u.addEventListener("change",xx)));return c&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),am={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return K8(i)})},timeline:function(e){return new wr(e)},getTweensOf:function(e,r){return st.getTweensOf(e,r)},getProperty:function(e,r,n,i){Kt(e)&&(e=Kn(e)[0]);var s=fa(e||{}).get,o=n?U8:F8;return n==="native"&&(n=""),e&&(r?o((on[r]&&on[r].get||s)(e,r,n,i)):function(a,u,l){return o((on[a]&&on[a].get||s)(e,a,u,l))})},quickSetter:function(e,r,n){if(e=Kn(e),e.length>1){var i=e.map(function(c){return Zr.quickSetter(c,r,n)}),s=i.length;return function(c){for(var d=s;d--;)i[d](c)}}e=e[0]||{};var o=on[r],a=fa(e),u=a.harness&&(a.harness.aliases||{})[r]||r,l=o?function(c){var d=new o;Eu._pt=0,d.init(e,n?c+n:c,Eu,0,[e]),d.render(1,d),Eu._pt&&KS(1,Eu)}:a.set(e,u);return o?l:function(c){return l(e,u,n?c+n:c,a,1)}},quickTo:function(e,r,n){var i,s=Zr.to(e,Da((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(u,l,c){return s.resetTo(r,u,l,c)};return o.tween=s,o},isTweening:function(e){return st.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ma(e.ease,dl.ease)),nC(dl,e||{})},config:function(e){return nC(gn,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!on[a]&&!En[a]&&$d(r+" effect requires "+a+" plugin.")}),F_[r]=function(a,u,l){return n(Kn(a),si(u||{},s),l)},o&&(wr.prototype[r]=function(a,u,l){return this.add(F_[r](a,Ji(u)?u:(l=u)&&{},this),l)})},registerEase:function(e,r){xe[e]=ma(r)},parseEase:function(e,r){return arguments.length?ma(e,r):xe},getById:function(e){return st.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new wr(e),i,s;for(n.smoothChildTiming=Xr(e.smoothChildTiming),st.remove(n),n._dp=0,n._time=n._tTime=st._time,i=st._first;i;)s=i._next,(r||!(!i._dur&&i instanceof At&&i.vars.onComplete===i._targets[0]))&&Ui(n,i,i._start-i._delay),i=s;return Ui(st,n,0),n},context:function(e,r){return e?new dI(e,r):Ze},matchMedia:function(e){return new bQ(e)},matchMediaRefresh:function(){return ga.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||xx()},addEventListener:function(e,r){var n=np[e]||(np[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=np[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:JK,wrapYoyo:eQ,distribute:j8,random:V8,snap:W8,normalize:ZK,getUnit:fr,clamp:YK,splitColor:Q8,toArray:Kn,selector:_x,mapRange:Y8,pipe:KK,unitize:QK,interpolate:tQ,shuffle:H8},install:B8,effects:F_,ticker:un,updateRoot:wr.updateRoot,plugins:on,globalTimeline:st,core:{PropTween:qr,globals:D8,Tween:At,Timeline:wr,Animation:Vd,getCache:fa,_removeLinkedListItem:u0,reverting:function(){return pr},context:function(e){return e&&Ze&&(Ze.data.push(e),e._ctx=Ze),Ze},suppressOverwrites:function(e){return LS=e}}};Yr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return am[t]=At[t]});un.add(wr.updateRoot);Eu=am.to({},{duration:0});var SQ=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},wQ=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=SQ(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},z_=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var u,l;if(Kt(s)&&(u={},Yr(s,function(c){return u[c]=1}),s=u),r){u={};for(l in s)u[l]=r(s[l]);s=u}wQ(a,s)}}}},Zr=am.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,u;this.tween=n;for(o in r)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)pr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},z_("roundProps",yx),z_("modifiers"),z_("snap",W8))||am;At.version=wr.version=Zr.version="3.12.5";M8=1;GS()&&pl();xe.Power0;xe.Power1;xe.Power2;xe.Power3;xe.Power4;xe.Linear;xe.Quad;xe.Cubic;xe.Quart;xe.Quint;xe.Strong;xe.Elastic;xe.Back;xe.SteppedEase;xe.Bounce;xe.Sine;xe.Expo;xe.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lC,no,zu,QS,ua,cC,ZS,EQ=function(){return typeof window<"u"},Cs={},Jo=180/Math.PI,$u=Math.PI/180,ru=Math.atan2,dC=1e8,JS=/([A-Z])/g,TQ=/(left|right|width|margin|padding|x)/i,CQ=/[\s,\(]\S/,Li={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},bx=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},PQ=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},AQ=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},RQ=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},hI=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},fI=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},MQ=function(e,r,n){return e.style[r]=n},BQ=function(e,r,n){return e.style.setProperty(r,n)},DQ=function(e,r,n){return e._gsap[r]=n},kQ=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},OQ=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},IQ=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},at="transform",Kr=at+"Origin",FQ=function t(e,r){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Cs&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Li[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=us(i,a)}):this.tfm[e]=o.x?o[e]:us(i,e),e===Kr&&(this.tfm.zOrigin=o.zOrigin);else return Li.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(at)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Kr,r,"")),e=at}(s||r)&&this.props.push(e,r,s[e])},pI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},UQ=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(JS,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=ZS(),(!s||!s.isStart)&&!n[at]&&(pI(n),i.zOrigin&&n[Kr]&&(n[Kr]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},mI=function(e,r){var n={target:e,props:[],revert:UQ,save:FQ};return e._gsap||Zr.core.getCache(e),r&&r.split(",").forEach(function(i){return n.save(i)}),n},gI,Sx=function(e,r){var n=no.createElementNS?no.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):no.createElement(e);return n&&n.style?n:no.createElement(e)},Ki=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(JS,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ml(r)||r,1)||""},hC="O,Moz,ms,Ms,Webkit".split(","),ml=function(e,r,n){var i=r||ua,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(hC[o]+e in s););return o<0?null:(o===3?"ms":o>=0?hC[o]:"")+e},wx=function(){EQ()&&window.document&&(lC=window,no=lC.document,zu=no.documentElement,ua=Sx("div")||{style:{}},Sx("div"),at=ml(at),Kr=at+"Origin",ua.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",gI=!!ml("perspective"),ZS=Zr.core.reverting,QS=1)},$_=function t(e){var r=Sx("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(zu.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),zu.removeChild(r),this.style.cssText=s,o},fC=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},_I=function(e){var r;try{r=e.getBBox()}catch{r=$_.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===$_||(r=$_.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+fC(e,["x","cx","x1"])||0,y:+fC(e,["y","cy","y1"])||0,width:0,height:0}:r},yI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_I(e))},ka=function(e,r){if(r){var n=e.style,i;r in Cs&&r!==Kr&&(r=at),n.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(i==="--"?r:r.replace(JS,"-$1").toLowerCase())):n.removeAttribute(r)}},io=function(e,r,n,i,s,o){var a=new qr(e._pt,r,n,0,1,o?fI:hI);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},pC={deg:1,rad:1,turn:1},LQ={grid:1,flex:1},Eo=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=ua.style,u=TQ.test(r),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(u?"Width":"Height"),d=100,h=i==="px",f=i==="%",p,m,g,_;if(i===o||!s||pC[i]||pC[o])return s;if(o!=="px"&&!h&&(s=t(e,r,n,"px")),_=e.getCTM&&yI(e),(f||o==="%")&&(Cs[r]||~r.indexOf("adius")))return p=_?e.getBBox()[u?"width":"height"]:e[c],xt(f?s/p*d:s/100*p);if(a[u?"width":"height"]=d+(h?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===no||!m.appendChild)&&(m=no.body),g=m._gsap,g&&f&&g.width&&u&&g.time===un.time&&!g.uncache)return xt(s/g.width*d);if(f&&(r==="height"||r==="width")){var v=e.style[r];e.style[r]=d+i,p=e[c],v?e.style[r]=v:ka(e,r)}else(f||o==="%")&&!LQ[Ki(m,"display")]&&(a.position=Ki(e,"position")),m===e&&(a.position="static"),m.appendChild(ua),p=ua[c],m.removeChild(ua),a.position="absolute";return u&&f&&(g=fa(m),g.time=un.time,g.width=m[c]),xt(h?p*s/d:p&&s?d/p*s:0)},us=function(e,r,n,i){var s;return QS||wx(),r in Li&&r!=="transform"&&(r=Li[r],~r.indexOf(",")&&(r=r.split(",")[0])),Cs[r]&&r!=="transform"?(s=Yd(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:lm(Ki(e,Kr))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=um[r]&&um[r](e,r,n)||Ki(e,r)||O8(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Eo(e,r,s,n)+n:s},NQ=function(e,r,n,i){if(!n||n==="none"){var s=ml(r,e,1),o=s&&Ki(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=Ki(e,"borderTopColor"))}var a=new qr(this._pt,e.style,r,0,1,lI),u=0,l=0,c,d,h,f,p,m,g,_,v,y,x,S;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(m=e.style[r],e.style[r]=i,i=Ki(e,r)||i,m?e.style[r]=m:ka(e,r)),c=[n,i],J8(c),n=c[0],i=c[1],h=n.match(wu)||[],S=i.match(wu)||[],S.length){for(;d=wu.exec(i);)g=d[0],v=i.substring(u,d.index),p?p=(p+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(p=1),g!==(m=h[l++]||"")&&(f=parseFloat(m)||0,x=m.substr((f+"").length),g.charAt(1)==="="&&(g=Gu(f,g)+x),_=parseFloat(g),y=g.substr((_+"").length),u=wu.lastIndex-y.length,y||(y=y||gn.units[r]||x,u===i.length&&(i+=y,a.e+=y)),x!==y&&(f=Eo(e,r,m,y)||0),a._pt={_next:a._pt,p:v||l===1?v:",",s:f,c:_-f,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=u<i.length?i.substring(u,i.length):""}else a.r=r==="display"&&i==="none"?fI:hI;return A8.test(i)&&(a.e=0),this._pt=a,a},mC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},GQ=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=mC[n]||n,r[1]=mC[i]||i,r.join(" ")},zQ=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,u,l;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],Cs[a]&&(u=1,a=a==="transformOrigin"?Kr:at),ka(n,a);u&&(ka(n,at),o&&(o.svg&&n.removeAttribute("transform"),Yd(n,1),o.uncache=1,pI(i)))}},um={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new qr(e._pt,r,n,0,0,zQ);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Xd=[1,0,0,1,0,0],vI={},xI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},gC=function(e){var r=Ki(e,at);return xI(r)?Xd:r.substr(7).match(P8).map(xt)},ew=function(e,r){var n=e._gsap||fa(e),i=e.style,s=gC(e),o,a,u,l;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?Xd:s):(s===Xd&&!e.offsetParent&&e!==zu&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,zu.appendChild(e)),s=gC(e),u?i.display=u:ka(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):zu.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Ex=function(e,r,n,i,s,o){var a=e._gsap,u=s||ew(e,!0),l=a.xOrigin||0,c=a.yOrigin||0,d=a.xOffset||0,h=a.yOffset||0,f=u[0],p=u[1],m=u[2],g=u[3],_=u[4],v=u[5],y=r.split(" "),x=parseFloat(y[0])||0,S=parseFloat(y[1])||0,w,b,E,T;n?u!==Xd&&(b=f*g-p*m)&&(E=x*(g/b)+S*(-m/b)+(m*v-g*_)/b,T=x*(-p/b)+S*(f/b)-(f*v-p*_)/b,x=E,S=T):(w=_I(e),x=w.x+(~y[0].indexOf("%")?x/100*w.width:x),S=w.y+(~(y[1]||y[0]).indexOf("%")?S/100*w.height:S)),i||i!==!1&&a.smooth?(_=x-l,v=S-c,a.xOffset=d+(_*f+v*m)-_,a.yOffset=h+(_*p+v*g)-v):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=S,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[Kr]="0px 0px",o&&(io(o,a,"xOrigin",l,x),io(o,a,"yOrigin",c,S),io(o,a,"xOffset",d,a.xOffset),io(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+S)},Yd=function(e,r){var n=e._gsap||new nI(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",u=getComputedStyle(e),l=Ki(e,Kr)||"0",c,d,h,f,p,m,g,_,v,y,x,S,w,b,E,T,C,M,N,D,B,U,I,$,O,F,G,oe,W,ve,re,ae;return c=d=h=m=g=_=v=y=x=0,f=p=1,n.svg=!!(e.getCTM&&yI(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[at]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[at]!=="none"?u[at]:"")),i.scale=i.rotate=i.translate="none"),b=ew(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),l=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",$=""):$=!r&&e.getAttribute("data-svg-origin"),Ex(e,$||l,!!$||n.originIsAbsolute,n.smooth!==!1,b)),S=n.xOrigin||0,w=n.yOrigin||0,b!==Xd&&(M=b[0],N=b[1],D=b[2],B=b[3],c=U=b[4],d=I=b[5],b.length===6?(f=Math.sqrt(M*M+N*N),p=Math.sqrt(B*B+D*D),m=M||N?ru(N,M)*Jo:0,v=D||B?ru(D,B)*Jo+m:0,v&&(p*=Math.abs(Math.cos(v*$u))),n.svg&&(c-=S-(S*M+w*D),d-=w-(S*N+w*B))):(ae=b[6],ve=b[7],G=b[8],oe=b[9],W=b[10],re=b[11],c=b[12],d=b[13],h=b[14],E=ru(ae,W),g=E*Jo,E&&(T=Math.cos(-E),C=Math.sin(-E),$=U*T+G*C,O=I*T+oe*C,F=ae*T+W*C,G=U*-C+G*T,oe=I*-C+oe*T,W=ae*-C+W*T,re=ve*-C+re*T,U=$,I=O,ae=F),E=ru(-D,W),_=E*Jo,E&&(T=Math.cos(-E),C=Math.sin(-E),$=M*T-G*C,O=N*T-oe*C,F=D*T-W*C,re=B*C+re*T,M=$,N=O,D=F),E=ru(N,M),m=E*Jo,E&&(T=Math.cos(E),C=Math.sin(E),$=M*T+N*C,O=U*T+I*C,N=N*T-M*C,I=I*T-U*C,M=$,U=O),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,_=180-_),f=xt(Math.sqrt(M*M+N*N+D*D)),p=xt(Math.sqrt(I*I+ae*ae)),E=ru(U,I),v=Math.abs(E)>2e-4?E*Jo:0,x=re?1/(re<0?-re:re):0),n.svg&&($=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!xI(Ki(e,at)),$&&e.setAttribute("transform",$))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(f*=-1,v+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=c-((n.xPercent=c&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=d-((n.yPercent=d&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=h+o,n.scaleX=xt(f),n.scaleY=xt(p),n.rotation=xt(m)+a,n.rotationX=xt(g)+a,n.rotationY=xt(_)+a,n.skewX=v+a,n.skewY=y+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(l.split(" ")[2])||!r&&n.zOrigin||0)&&(i[Kr]=lm(l)),n.xOffset=n.yOffset=0,n.force3D=gn.force3D,n.renderTransform=n.svg?HQ:gI?bI:$Q,n.uncache=0,n},lm=function(e){return(e=e.split(" "))[0]+" "+e[1]},H_=function(e,r,n){var i=fr(r);return xt(parseFloat(r)+parseFloat(Eo(e,"x",n+"px",i)))+i},$Q=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,bI(e,r)},$o="0deg",uc="0px",Ho=") ",bI=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.z,l=n.rotation,c=n.rotationY,d=n.rotationX,h=n.skewX,f=n.skewY,p=n.scaleX,m=n.scaleY,g=n.transformPerspective,_=n.force3D,v=n.target,y=n.zOrigin,x="",S=_==="auto"&&e&&e!==1||_===!0;if(y&&(d!==$o||c!==$o)){var w=parseFloat(c)*$u,b=Math.sin(w),E=Math.cos(w),T;w=parseFloat(d)*$u,T=Math.cos(w),o=H_(v,o,b*T*-y),a=H_(v,a,-Math.sin(w)*-y),u=H_(v,u,E*T*-y+y)}g!==uc&&(x+="perspective("+g+Ho),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(S||o!==uc||a!==uc||u!==uc)&&(x+=u!==uc||S?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+Ho),l!==$o&&(x+="rotate("+l+Ho),c!==$o&&(x+="rotateY("+c+Ho),d!==$o&&(x+="rotateX("+d+Ho),(h!==$o||f!==$o)&&(x+="skew("+h+", "+f+Ho),(p!==1||m!==1)&&(x+="scale("+p+", "+m+Ho),v.style[at]=x||"translate(0, 0)"},HQ=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.rotation,l=n.skewX,c=n.skewY,d=n.scaleX,h=n.scaleY,f=n.target,p=n.xOrigin,m=n.yOrigin,g=n.xOffset,_=n.yOffset,v=n.forceCSS,y=parseFloat(o),x=parseFloat(a),S,w,b,E,T;u=parseFloat(u),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,u+=c),u||l?(u*=$u,l*=$u,S=Math.cos(u)*d,w=Math.sin(u)*d,b=Math.sin(u-l)*-h,E=Math.cos(u-l)*h,l&&(c*=$u,T=Math.tan(l-c),T=Math.sqrt(1+T*T),b*=T,E*=T,c&&(T=Math.tan(c),T=Math.sqrt(1+T*T),S*=T,w*=T)),S=xt(S),w=xt(w),b=xt(b),E=xt(E)):(S=d,E=h,w=b=0),(y&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(y=Eo(f,"x",o,"px"),x=Eo(f,"y",a,"px")),(p||m||g||_)&&(y=xt(y+p-(p*S+m*b)+g),x=xt(x+m-(p*w+m*E)+_)),(i||s)&&(T=f.getBBox(),y=xt(y+i/100*T.width),x=xt(x+s/100*T.height)),T="matrix("+S+","+w+","+b+","+E+","+y+","+x+")",f.setAttribute("transform",T),v&&(f.style[at]=T)},jQ=function(e,r,n,i,s){var o=360,a=Kt(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Jo:1),l=u-i,c=i+l+"deg",d,h;return a&&(d=s.split("_")[1],d==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),d==="cw"&&l<0?l=(l+o*dC)%o-~~(l/o)*o:d==="ccw"&&l>0&&(l=(l-o*dC)%o-~~(l/o)*o)),e._pt=h=new qr(e._pt,r,n,i,l,PQ),h.e=c,h.u="deg",e._props.push(n),h},_C=function(e,r){for(var n in r)e[n]=r[n];return e},WQ=function(e,r,n){var i=_C({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,u,l,c,d,h,f,p;i.svg?(l=n.getAttribute("transform"),n.setAttribute("transform",""),o[at]=r,a=Yd(n,1),ka(n,at),n.setAttribute("transform",l)):(l=getComputedStyle(n)[at],o[at]=r,a=Yd(n,1),o[at]=l);for(u in Cs)l=i[u],c=a[u],l!==c&&s.indexOf(u)<0&&(f=fr(l),p=fr(c),d=f!==p?Eo(n,u,l,p):parseFloat(l),h=parseFloat(c),e._pt=new qr(e._pt,a,u,d,h-d,bx),e._pt.u=p||0,e._props.push(u));_C(a,i)};Yr("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});um[e>1?"border"+t:t]=function(a,u,l,c,d){var h,f;if(arguments.length<4)return h=o.map(function(p){return us(a,p,l)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(c+"").split(" "),f={},o.forEach(function(p,m){return f[p]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(u,f,d)}});var SI={name:"css",register:wx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,u=n.vars.startAt,l,c,d,h,f,p,m,g,_,v,y,x,S,w,b,E;QS||wx(),this.styles=this.styles||mI(e),E=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(c=r[m],!(on[m]&&iI(m,r,n,i,e,s)))){if(f=typeof c,p=um[m],f==="function"&&(c=c.call(n,i,e,s),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=jd(c)),p)p(this,e,m,c,n)&&(b=1);else if(m.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),c+="",go.lastIndex=0,go.test(l)||(g=fr(l),_=fr(c)),_?g!==_&&(l=Eo(e,m,l,_)+_):g&&(c+=g),this.add(a,"setProperty",l,c,i,s,0,0,m),o.push(m),E.push(m,0,a[m]);else if(f!=="undefined"){if(u&&m in u?(l=typeof u[m]=="function"?u[m].call(n,i,e,s):u[m],Kt(l)&&~l.indexOf("random(")&&(l=jd(l)),fr(l+"")||l==="auto"||(l+=gn.units[m]||fr(us(e,m))||""),(l+"").charAt(1)==="="&&(l=us(e,m))):l=us(e,m),h=parseFloat(l),v=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),v&&(c=c.substr(2)),d=parseFloat(c),m in Li&&(m==="autoAlpha"&&(h===1&&us(e,"visibility")==="hidden"&&d&&(h=0),E.push("visibility",0,a.visibility),io(this,a,"visibility",h?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Li[m],~m.indexOf(",")&&(m=m.split(",")[0]))),y=m in Cs,y){if(this.styles.save(m),x||(S=e._gsap,S.renderTransform&&!r.parseTransform||Yd(e,r.parseTransform),w=r.smoothOrigin!==!1&&S.smooth,x=this._pt=new qr(this._pt,a,at,0,1,S.renderTransform,S,0,-1),x.dep=1),m==="scale")this._pt=new qr(this._pt,S,"scaleY",S.scaleY,(v?Gu(S.scaleY,v+d):d)-S.scaleY||0,bx),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){E.push(Kr,0,a[Kr]),c=GQ(c),S.svg?Ex(e,c,0,w,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==S.zOrigin&&io(this,S,"zOrigin",S.zOrigin,_),io(this,a,m,lm(l),lm(c)));continue}else if(m==="svgOrigin"){Ex(e,c,1,w,0,this);continue}else if(m in vI){jQ(this,S,m,h,v?Gu(h,v+c):c);continue}else if(m==="smoothOrigin"){io(this,S,"smooth",S.smooth,c);continue}else if(m==="force3D"){S[m]=c;continue}else if(m==="transform"){WQ(this,c,e);continue}}else m in a||(m=ml(m)||m);if(y||(d||d===0)&&(h||h===0)&&!CQ.test(c)&&m in a)g=(l+"").substr((h+"").length),d||(d=0),_=fr(c)||(m in gn.units?gn.units[m]:g),g!==_&&(h=Eo(e,m,l,_)),this._pt=new qr(this._pt,y?S:a,m,h,(v?Gu(h,v+d):d)-h,!y&&(_==="px"||m==="zIndex")&&r.autoRound!==!1?RQ:bx),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=l,this._pt.r=AQ);else if(m in a)NQ.call(this,e,m,l,v?v+c:c);else if(m in e)this.add(e,m,l||e[m],v?v+c:c,i,s);else if(m!=="parseTransform"){$S(m,c);continue}y||(m in a?E.push(m,0,a[m]):E.push(m,1,l||e[m])),o.push(m)}}b&&cI(this)},render:function(e,r){if(r.tween._time||!ZS())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:us,aliases:Li,getSetter:function(e,r,n){var i=Li[r];return i&&i.indexOf(",")<0&&(r=i),r in Cs&&r!==Kr&&(e._gsap.x||us(e,"x"))?n&&cC===n?r==="scale"?kQ:DQ:(cC=n||{})&&(r==="scale"?OQ:IQ):e.style&&!NS(e.style[r])?MQ:~r.indexOf("-")?BQ:qS(e,r)},core:{_removeProperty:ka,_getMatrix:ew}};Zr.utils.checkPrefix=ml;Zr.core.getStyleSaver=mI;(function(t,e,r,n){var i=Yr(t+","+e+","+r,function(s){Cs[s]=1});Yr(e,function(s){gn.units[s]="deg",vI[s]=1}),Li[i[13]]=t+","+e,Yr(n,function(s){var o=s.split(":");Li[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Yr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){gn.units[t]="px"});Zr.registerPlugin(SI);var is=Zr.registerPlugin(SI)||Zr;is.core.Tween;/*!
 * PixiPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var so,cm,yC,Vn,Kc,wI,Tx,EI=function(){return typeof window<"u"},TI=function(){return so||EI()&&(so=window.gsap)&&so.registerPlugin&&so},Cx=function(e){return typeof e=="function"},CI=function(e){return console.warn(e)},VQ=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Un=.212671,Ln=.71516,Nn=.072169,PI=function(e){return Cx(Vn[e])?Vn[e]:Vn.filters[e]},d0=function(e,r){var n=[],i=0,s=0,o,a;for(o=0;o<4;o++){for(a=0;a<5;a++)s=a===4?e[i+4]:0,n[i+a]=e[i]*r[a]+e[i+1]*r[a+5]+e[i+2]*r[a+10]+e[i+3]*r[a+15]+s;i+=5}return n},vC=function(e,r){var n=1-r,i=n*Un,s=n*Ln,o=n*Nn;return d0([i+r,s,o,0,0,i,s+r,o,0,0,i,s,o+r,0,0,0,0,0,1,0],e)},xC=function(e,r,n){var i=cm(r),s=i[0]/255,o=i[1]/255,a=i[2]/255,u=1-n;return d0([u+n*s*Un,n*s*Ln,n*s*Nn,0,0,n*o*Un,u+n*o*Ln,n*o*Nn,0,0,n*a*Un,n*a*Ln,u+n*a*Nn,0,0,0,0,0,1,0],e)},bC=function(e,r){r*=Math.PI/180;var n=Math.cos(r),i=Math.sin(r);return d0([Un+n*(1-Un)+i*-Un,Ln+n*-Ln+i*-Ln,Nn+n*-Nn+i*(1-Nn),0,0,Un+n*-Un+i*.143,Ln+n*(1-Ln)+i*.14,Nn+n*-Nn+i*-.283,0,0,Un+n*-Un+i*-(1-Un),Ln+n*-Ln+i*Ln,Nn+n*(1-Nn)+i*Nn,0,0,0,0,0,1,0,0,0,0,0,1],e)},SC=function(e,r){return d0([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},AI=function(e,r){var n=PI(r),i=e.filters||[],s=i.length,o;for(n||CI(r+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(i[s]instanceof n)return i[s];return o=new n,r==="BlurFilter"&&(o.blur=0),i.push(o),e.filters=i,o},Ht=function(e,r,n,i){r.add(n,e,n[e],i[e]),r._props.push(e)},wC=function(e,r){var n=PI("ColorMatrixFilter"),i=new n;return i.matrix=r,i.brightness(e,!0),i.matrix},XQ=function(e){var r={},n;for(n in e)r[n]=e[n];return r},rn={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},YQ=function(e,r,n){var i=AI(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||XQ(rn),o=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),a,u,l;for(l=i.matrix,r.resolution&&(i.resolution=r.resolution),r.matrix&&r.matrix.length===l.length?(u=r.matrix,s.contrast!==1&&Ht("contrast",n,s,rn),s.hue&&Ht("hue",n,s,rn),s.brightness!==1&&Ht("brightness",n,s,rn),s.colorizeAmount&&(Ht("colorize",n,s,rn),Ht("colorizeAmount",n,s,rn)),s.saturation!==1&&Ht("saturation",n,s,rn)):(u=VQ.slice(),r.contrast!=null?(u=SC(u,+r.contrast),Ht("contrast",n,s,r)):s.contrast!==1&&(o?u=SC(u,s.contrast):Ht("contrast",n,s,rn)),r.hue!=null?(u=bC(u,+r.hue),Ht("hue",n,s,r)):s.hue&&(o?u=bC(u,s.hue):Ht("hue",n,s,rn)),r.brightness!=null?(u=wC(+r.brightness,u),Ht("brightness",n,s,r)):s.brightness!==1&&(o?u=wC(s.brightness,u):Ht("brightness",n,s,rn)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,u=xC(u,r.colorize,r.colorizeAmount),Ht("colorize",n,s,r),Ht("colorizeAmount",n,s,r)):s.colorizeAmount&&(o?u=xC(u,s.colorize,s.colorizeAmount):(Ht("colorize",n,s,rn),Ht("colorizeAmount",n,s,rn))),r.saturation!=null?(u=vC(u,+r.saturation),Ht("saturation",n,s,r)):s.saturation!==1&&(o?u=vC(u,s.saturation):Ht("saturation",n,s,rn))),a=u.length;--a>-1;)u[a]!==l[a]&&n.add(l,a,l[a],u[a],"colorMatrixFilter");n._props.push("colorMatrixFilter")},qQ=function(e,r){var n=r.t,i=r.p,s=r.color,o=r.set;o(n,i,s[0]<<16|s[1]<<8|s[2])},KQ=function(e,r){var n=r.g;n&&(n.dirty++,n.clearDirty++)},QQ=function(e,r){r.t.visible=!!r.t.alpha},EC=function(e,r,n,i){var s=e[r],o=cm(Cx(s)?e[r.indexOf("set")||!Cx(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():s),a=cm(n);i._pt=new Kc(i._pt,e,r,0,0,qQ,{t:e,p:r,color:o,set:wI(e,r)}),i.add(o,0,o[0],a[0]),i.add(o,1,o[1],a[1]),i.add(o,2,o[2],a[2])},ZQ={tint:1,lineColor:1,fillColor:1},TC="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Px={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},JQ={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},dm=Math.PI/180,RI=function(e){return typeof e=="string"},eZ=function(e){return RI(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*dm:e*dm},tZ=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},rZ=function(e,r,n,i,s,o){var a=360*(o?dm:1),u=RI(s),l=u&&s.charAt(1)==="="?+(s.charAt(0)+"1"):0,c=parseFloat(l?s.substr(2):s)*(o?dm:1),d=l?c*l:c-i,h=i+d,f,p;return u&&(f=s.split("_")[1],f==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),f==="cw"&&d<0?d=(d+a*1e10)%a-~~(d/a)*a:f==="ccw"&&d>0&&(d=(d-a*1e10)%a-~~(d/a)*a)),e._pt=p=new Kc(e._pt,r,n,i,d,tZ),p.e=h,p},CC=function(){yC||(so=TI(),Vn=yC=Vn||EI()&&window.PIXI,Tx=Vn&&Vn.VERSION&&Vn.VERSION.charAt(0)==="4",cm=function(r){return so.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)})},Mf,lc;for(Mf=0;Mf<TC.length;Mf++)lc=TC[Mf],Px[lc+"X"]=lc,Px[lc+"Y"]=lc;var Ax={version:"3.12.5",name:"pixi",register:function(e,r,n){so=e,Kc=n,wI=r.getSetter,CC()},headless:!0,registerPIXI:function(e){Vn=e},init:function(e,r,n,i,s){if(Vn||CC(),!Vn)return CI("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,u,l,c,d,h,f,p;for(d in r){if(o=Px[d],u=r[d],o)a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],a,e[o][a],o==="skew"?eZ(u):u,0,0,0,0,0,1);else if(d==="scale"||d==="anchor"||d==="pivot"||d==="tileScale")this.add(e[d],"x",e[d].x,u),this.add(e[d],"y",e[d].y,u);else if(d==="rotation"||d==="angle")rZ(this,e,d,e[d],u,d==="rotation");else if(JQ[d])l||(YQ(e,r.colorMatrixFilter||r,this),l=!0);else if(d==="blur"||d==="blurX"||d==="blurY"||d==="blurPadding"){if(c=AI(e,"BlurFilter"),this.add(c,d,c[d],u),r.blurPadding!==0)for(h=r.blurPadding||Math.max(c[d],u)*2,f=e.filters.length;--f>-1;)e.filters[f].padding=Math.max(e.filters[f].padding,h)}else if(ZQ[d])if((d==="lineColor"||d==="fillColor")&&e instanceof Vn.Graphics)for(p=(e.geometry||e).graphicsData,this._pt=new Kc(this._pt,e,d,0,0,KQ,{g:e.geometry||e}),f=p.length;--f>-1;)EC(Tx?p[f]:p[f][d.substr(0,4)+"Style"],Tx?d:"color",u,this);else EC(e,d,u,this);else d==="autoAlpha"?(this._pt=new Kc(this._pt,e,"visible",0,0,QQ),this.add(e,"alpha",e.alpha,u),this._props.push("alpha","visible")):d!=="resolution"&&this.add(e,d,"get",u);this._props.push(d)}}};TI()&&so.registerPlugin(Ax);const nZ={fov:20,baseSpeed:.025,speed:0,starStretch:50,starBaseSize:.05};function iZ(t,e){return{...t,...e.payload}}const sZ=()=>{const t="0123456789ABCDEF";let e="#";for(let r=0;r<6;r++)e+=t[Math.floor(Math.random()*16)];return parseInt(e.substring(1),16)},oZ=(t,e=!1,r=0)=>{t.z=e?Math.random()*2e3:r+Math.random()*1e3+2e3;const n=Math.random()*Math.PI*2,i=Math.random()*50+1;t.x=Math.cos(n)*i,t.y=Math.sin(n)*i,t.sprite.tint=sZ()},aZ=t=>{const{location:e}=a$(BK),r=P.useRef();P.useEffect(()=>{e&&r.current&&r.current({selectedItem:e.pathname.split("/")[1]})},[e]);const n=P.useCallback(i=>{location&&(r.current=i,r.current({selectedItem:location.pathname.split("/")[1]}))},[]);return V.jsx(uZ,{onInitialized:n,...t})},MI=({onInitialized:t})=>{const e=P.useRef(),r=P.useRef(),n=P.useRef([]),i=P.useRef(0),s=P.useRef(0),[o]=MK(0,2e3),a=P.useRef(),[u]=P.useReducer(iZ,nZ),l=P.useRef();is.registerPlugin(Ax),Ax.registerPIXI(PK),is.defaults({overwrite:!0});const c=P.useCallback(y=>{var w;if(!y)return;const x=l.current,{selectedItem:S}=y;a.current&&a.current in m.current&&(is.fromTo(m.current[a.current].planetSprite,{pixi:{scale:.5}},{pixi:{scale:6,y:"+=5000"},duration:.8,ease:"power2.inOut"}),is.to(m.current[a.current].planetSprite,{pixi:{alpha:0},duration:.3,delay:.3,overwrite:!1})),(w=m.current[S])!=null&&w.planetSprite&&(is.fromTo(m.current[S].planetSprite,{pixi:{alpha:0}},{pixi:{alpha:1},duration:.3,delay:1.9}),is.fromTo(m.current[S].planetSprite,{pixi:{scale:.2,y:x.renderer.screen.height/2}},{pixi:{scale:.5},duration:.8,delay:1.9,overwrite:!1})),a.current=S,is.to(o,{current:1,duration:1,delay:0,ease:"power2.inOut"}),is.to(o,{current:0,duration:.5,delay:1.5,ease:"power2.outIn",overwrite:!1})},[o]),d=P.useCallback((y,x,S,w,b=0)=>{let{fov:E,starStretch:T,starBaseSize:C}=u;(x||y.z<b)&&oZ(y,x,b);const M=y.z-b;y.sprite.x=y.x*(E/M)*S+S/2,y.sprite.y=y.y*(E/M)*w+w/2;const N=y.sprite.x-S/2,D=y.sprite.y-w/2,B=Math.sqrt(N*N+D*D),U=Math.max(0,(2e3-M)/2e3);y.sprite.scale.x=U*C,y.sprite.scale.y=U*C+U*s.current*T*B/S,y.sprite.rotation=Math.atan2(D,N)+Math.PI/2},[u]),h=P.useCallback((y=0,x)=>{let{baseSpeed:S}=u;s.current+=(o.current-s.current)/20,i.current+=y*10*(s.current+S);const w=n.current.length;for(let b=0;b<w;b++)d(n.current[b],!1,x.renderer.screen.width,x.renderer.screen.height,i.current)},[u,n,d,o]),f=P.useCallback(y=>x=>{!x||!y||h(x.deltaTime,y)},[h]),p=P.useCallback(y=>new Promise((x,S)=>{try{l.current=y,(async()=>{const b=await aa.load("https://pixijs.com/assets/star.png");for(let E=0;E<1e3;E++){const T={sprite:new bn(b),z:0,x:0,y:0};T.sprite.anchor.x=.5,T.sprite.anchor.y=.8,l.current.stage.addChild(T.sprite),d(T,!0,y.renderer.screen.width,y.renderer.screen.height),n.current.push(T)}x()})()}catch(w){console.error("Error: ",w),S(w)}}),[d]),m=P.useRef({experience:{planetSprite:null,active:!1,url:"/assets/planet-green.png"},about:{planetSprite:null,active:!1,url:"/assets/planet-red.png"},interns:{planetSprite:null,active:!1,url:"/assets/planet-blue.png"},contact:{planetSprite:null,active:!1,url:"/assets/planet-orange.png"}}),g=P.useCallback(y=>new Promise((x,S)=>{try{l.current=y,console.log("appRef.current: ",l.current),(async()=>{const b=Object.values(m.current);for(let E=0;E<b.length;E++){const T=await aa.load(b[E].url);b[E].planetSprite=new bn(T),b[E].planetSprite.anchor.set(.5),b[E].planetSprite.x=y.renderer.screen.width/2,b[E].planetSprite.y=y.renderer.screen.height/2,b[E].planetSprite.scale.set(.2),b[E].planetSprite.alpha=0,b[E].active=!1,l.current.stage.addChild(b[E].planetSprite),console.log("defs[i].planetSprite: ",b[E].planetSprite)}x()})()}catch(w){console.error("Error: ",w),S(w)}}),[l]),_=async y=>{await p(y.current),await g(y.current),v(f(y.current)),t(c)},{updateTicker:v}=AK({canvasRef:e,containerRef:r,onReady:_});return V.jsx(bg,{ref:r,className:"pixi-container",children:V.jsx("canvas",{ref:e})})};MI.propTypes={onInitialized:dL.func};const uZ=ln.memo(MI),lZ=Nt(bg)(()=>`
  .page-container {
    position: relative;
  }
`);function cc({name:t,children:e}){return V.jsx(lZ,{children:V.jsxs("div",{className:`page-container ${t}`,children:[V.jsx("h1",{children:t}),e]})})}let cZ=Xj([{path:"/",element:V.jsxs(V.Fragment,{children:[V.jsx(Nj,{}),V.jsx(lW,{})]}),children:[{index:!0,element:V.jsx(cc,{name:"home",className:"home"})},{path:"experience",element:V.jsx(cc,{name:"experience",className:"experience"})},{path:"about",element:V.jsx(cc,{name:"about",className:"about"})},{path:"interns",element:V.jsx(cc,{name:"interns",className:"interns"})},{path:"contact",element:V.jsx(cc,{name:"contact",className:"contact"})}]}]);function dZ(){const t=El();return V.jsxs("div",{children:["Current Route: ",t.pathname]})}function hZ(){return V.jsx(V7,{children:V.jsx(aZ,{})})}function fZ(){return V.jsxs(m$,{store:cW,children:[V.jsx(hZ,{}),V.jsx(rW,{router:cZ,fallbackElement:V.jsx("p",{children:"Loading..."}),children:V.jsx(dZ,{})})]})}j_.createRoot(document.getElementById("root")).render(V.jsx(ln.StrictMode,{children:V.jsx(fZ,{})}));export{BB as A,c8 as B,$e as C,m4 as E,jY as F,F5 as G,US as H,j5 as M,K5 as N,PD as R,AD as T,VW as a,jb as b,b8 as c,v8 as d,lt as e,d8 as f,i8 as g,U4 as h,O4 as i};
