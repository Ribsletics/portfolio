const __vite__fileDeps=["portfolio/assets/browserAll-CZyuCHYw.js","portfolio/assets/webworkerAll-1ueNb-RX.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function aP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function wl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ro(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var uP={exports:{}},Bm={},lP={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),yF=Symbol.for("react.portal"),vF=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),SF=Symbol.for("react.provider"),wF=Symbol.for("react.context"),EF=Symbol.for("react.forward_ref"),TF=Symbol.for("react.suspense"),CF=Symbol.for("react.memo"),PF=Symbol.for("react.lazy"),Mw=Symbol.iterator;function AF(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var cP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dP=Object.assign,hP={};function El(t,e,r){this.props=t,this.context=e,this.refs=hP,this.updater=r||cP}El.prototype.isReactComponent={};El.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};El.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fP(){}fP.prototype=El.prototype;function Jx(t,e,r){this.props=t,this.context=e,this.refs=hP,this.updater=r||cP}var e1=Jx.prototype=new fP;e1.constructor=Jx;dP(e1,El.prototype);e1.isPureReactComponent=!0;var Bw=Array.isArray,pP=Object.prototype.hasOwnProperty,t1={current:null},mP={key:!0,ref:!0,__self:!0,__source:!0};function gP(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pP.call(e,n)&&!mP.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:oh,type:t,key:s,ref:o,props:i,_owner:t1.current}}function RF(t,e){return{$$typeof:oh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r1(t){return typeof t=="object"&&t!==null&&t.$$typeof===oh}function MF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Dw=/\/+/g;function k0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MF(""+t.key):e.toString(36)}function Yf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oh:case yF:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+k0(o,0):n,Bw(i)?(r="",t!=null&&(r=t.replace(Dw,"$&/")+"/"),Yf(i,e,r,"",function(l){return l})):i!=null&&(r1(i)&&(i=RF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Bw(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+k0(s,a);o+=Yf(s,e,r,u,i)}else if(u=AF(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+k0(s,a++),o+=Yf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hh(t,e,r){if(t==null)return t;var n=[],i=0;return Yf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function BF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},qf={transition:null},DF={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:qf,ReactCurrentOwner:t1};function _P(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Hh,forEach:function(t,e,r){Hh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hh(t,function(){e++}),e},toArray:function(t){return Hh(t,function(e){return e})||[]},only:function(t){if(!r1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=El;xe.Fragment=vF;xe.Profiler=bF;xe.PureComponent=Jx;xe.StrictMode=xF;xe.Suspense=TF;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DF;xe.act=_P;xe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)pP.call(e,u)&&!mP.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:oh,type:t.type,key:i,ref:s,props:n,_owner:o}};xe.createContext=function(t){return t={$$typeof:wF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SF,_context:t},t.Consumer=t};xe.createElement=gP;xe.createFactory=function(t){var e=gP.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:EF,render:t}};xe.isValidElement=r1;xe.lazy=function(t){return{$$typeof:PF,_payload:{_status:-1,_result:t},_init:BF}};xe.memo=function(t,e){return{$$typeof:CF,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=qf.transition;qf.transition={};try{t()}finally{qf.transition=e}};xe.unstable_act=_P;xe.useCallback=function(t,e){return Dr.current.useCallback(t,e)};xe.useContext=function(t){return Dr.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Dr.current.useEffect(t,e)};xe.useId=function(){return Dr.current.useId()};xe.useImperativeHandle=function(t,e,r){return Dr.current.useImperativeHandle(t,e,r)};xe.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Dr.current.useMemo(t,e)};xe.useReducer=function(t,e,r){return Dr.current.useReducer(t,e,r)};xe.useRef=function(t){return Dr.current.useRef(t)};xe.useState=function(t){return Dr.current.useState(t)};xe.useSyncExternalStore=function(t,e,r){return Dr.current.useSyncExternalStore(t,e,r)};xe.useTransition=function(){return Dr.current.useTransition()};xe.version="18.3.1";lP.exports=xe;var C=lP.exports;const Wr=wl(C),Yu=aP({__proto__:null,default:Wr},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kF=C,OF=Symbol.for("react.element"),IF=Symbol.for("react.fragment"),FF=Object.prototype.hasOwnProperty,UF=kF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LF={key:!0,ref:!0,__self:!0,__source:!0};function yP(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)FF.call(e,n)&&!LF.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OF,type:t,key:s,ref:o,props:i,_owner:UF.current}}Bm.Fragment=IF;Bm.jsx=yP;Bm.jsxs=yP;uP.exports=Bm;var R=uP.exports,fy={},vP={exports:{}},Dn={},xP={exports:{}},bP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,N){var $=F.length;F.push(N);e:for(;0<$;){var oe=$-1>>>1,V=F[oe];if(0<i(V,N))F[oe]=N,F[$]=V,$=oe;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var N=F[0],$=F.pop();if($!==N){F[0]=$;e:for(var oe=0,V=F.length,be=V>>>1;oe<be;){var re=2*(oe+1)-1,ae=F[re],_e=re+1,Ge=F[_e];if(0>i(ae,$))_e<V&&0>i(Ge,ae)?(F[oe]=Ge,F[_e]=$,oe=_e):(F[oe]=ae,F[re]=$,oe=re);else if(_e<V&&0>i(Ge,$))F[oe]=Ge,F[_e]=$,oe=_e;else break e}}return N}function i(F,N){var $=F.sortIndex-N.sortIndex;return $!==0?$:F.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var N=r(l);N!==null;){if(N.callback===null)n(l);else if(N.startTime<=F)n(l),N.sortIndex=N.expirationTime,e(u,N);else break;N=r(l)}}function x(F){if(m=!1,y(F),!p)if(r(u)!==null)p=!0,U(S);else{var N=r(l);N!==null&&H(x,N.startTime-F)}}function S(F,N){p=!1,m&&(m=!1,_(T),T=-1),f=!0;var $=h;try{for(y(N),d=r(u);d!==null&&(!(d.expirationTime>N)||F&&!B());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var V=oe(d.expirationTime<=N);N=t.unstable_now(),typeof V=="function"?d.callback=V:d===r(u)&&n(u),y(N)}else n(u);d=r(u)}if(d!==null)var be=!0;else{var re=r(l);re!==null&&H(x,re.startTime-N),be=!1}return be}finally{d=null,h=$,f=!1}}var w=!1,b=null,T=-1,E=5,P=-1;function B(){return!(t.unstable_now()-P<E)}function L(){if(b!==null){var F=t.unstable_now();P=F;var N=!0;try{N=b(!0,F)}finally{N?O():(w=!1,b=null)}}else w=!1}var O;if(typeof v=="function")O=function(){v(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,G=k.port2;k.port1.onmessage=L,O=function(){G.postMessage(null)}}else O=function(){g(L,0)};function U(F){b=F,w||(w=!0,O())}function H(F,N){T=g(function(){F(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,U(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var $=h;h=N;try{return F()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,N){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=h;h=F;try{return N()}finally{h=$}},t.unstable_scheduleCallback=function(F,N,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,F={id:c++,callback:N,priorityLevel:F,startTime:$,expirationTime:V,sortIndex:-1},$>oe?(F.sortIndex=$,e(l,F),r(u)===null&&F===r(l)&&(m?(_(T),T=-1):m=!0,H(x,$-oe))):(F.sortIndex=V,e(u,F),p||f||(p=!0,U(S))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var N=h;return function(){var $=h;h=N;try{return F.apply(this,arguments)}finally{h=$}}}})(bP);xP.exports=bP;var NF=xP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF=C,En=NF;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SP=new Set,ad={};function Ua(t,e){qu(t,e),qu(t+"Capture",e)}function qu(t,e){for(ad[t]=e,t=0;t<e.length;t++)SP.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),py=Object.prototype.hasOwnProperty,zF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kw={},Ow={};function $F(t){return py.call(Ow,t)?!0:py.call(kw,t)?!1:zF.test(t)?Ow[t]=!0:(kw[t]=!0,!1)}function HF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jF(t,e,r,n){if(e===null||typeof e>"u"||HF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var n1=/[\-:]([a-z])/g;function i1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n1,i1);cr[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n1,i1);cr[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n1,i1);cr[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function s1(t,e,r,n){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jF(e,r,i,n)&&(r=null),n||i===null?$F(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Os=GF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jh=Symbol.for("react.element"),du=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),wP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),u1=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),TP=Symbol.for("react.offscreen"),Iw=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=Iw&&t[Iw]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,O0;function bc(t){if(O0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);O0=e&&e[1]||""}return`
`+O0+t}var I0=!1;function F0(t,e){if(!t||I0)return"";I0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{I0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bc(t):""}function WF(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=F0(t.type,!1),t;case 11:return t=F0(t.type.render,!1),t;case 1:return t=F0(t.type,!0),t;default:return""}}function yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hu:return"Fragment";case du:return"Portal";case my:return"Profiler";case o1:return"StrictMode";case gy:return"Suspense";case _y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EP:return(t.displayName||"Context")+".Consumer";case wP:return(t._context.displayName||"Context")+".Provider";case a1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u1:return e=t.displayName||null,e!==null?e:yy(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return yy(t(e))}catch{}}return null}function VF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yy(e);case 8:return e===o1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XF(t){var e=CP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wh(t){t._valueTracker||(t._valueTracker=XF(t))}function PP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vy(t,e){var r=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Fw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=bo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AP(t,e){e=e.checked,e!=null&&s1(t,"checked",e,!1)}function xy(t,e){AP(t,e);var r=bo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?by(t,e.type,r):e.hasOwnProperty("defaultValue")&&by(t,e.type,bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function by(t,e,r){(e!=="number"||Sp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sc=Array.isArray;function Mu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+bo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(Sc(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:bo(r)}}function RP(t,e){var r=bo(e.value),n=bo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Nw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vh,BP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YF=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){YF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function DP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function kP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=DP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qF=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ey(t,e){if(e){if(qF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function l1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Py=null,Bu=null,Du=null;function Gw(t){if(t=lh(t)){if(typeof Py!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Fm(e),Py(t.stateNode,t.type,e))}}function OP(t){Bu?Du?Du.push(t):Du=[t]:Bu=t}function IP(){if(Bu){var t=Bu,e=Du;if(Du=Bu=null,Gw(t),e)for(t=0;t<e.length;t++)Gw(e[t])}}function FP(t,e){return t(e)}function UP(){}var U0=!1;function LP(t,e,r){if(U0)return t(e,r);U0=!0;try{return FP(t,e,r)}finally{U0=!1,(Bu!==null||Du!==null)&&(UP(),IP())}}function ld(t,e){var r=t.stateNode;if(r===null)return null;var n=Fm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var Ay=!1;if(ws)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Ay=!1}function KF(t,e,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Fc=!1,wp=null,Ep=!1,Ry=null,QF={onError:function(t){Fc=!0,wp=t}};function ZF(t,e,r,n,i,s,o,a,u){Fc=!1,wp=null,KF.apply(QF,arguments)}function JF(t,e,r,n,i,s,o,a,u){if(ZF.apply(this,arguments),Fc){if(Fc){var l=wp;Fc=!1,wp=null}else throw Error(j(198));Ep||(Ep=!0,Ry=l)}}function La(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function NP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zw(t){if(La(t)!==t)throw Error(j(188))}function eU(t){var e=t.alternate;if(!e){if(e=La(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return zw(i),t;if(s===n)return zw(i),e;s=s.sibling}throw Error(j(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function GP(t){return t=eU(t),t!==null?zP(t):null}function zP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zP(t);if(e!==null)return e;t=t.sibling}return null}var $P=En.unstable_scheduleCallback,$w=En.unstable_cancelCallback,tU=En.unstable_shouldYield,rU=En.unstable_requestPaint,Ct=En.unstable_now,nU=En.unstable_getCurrentPriorityLevel,c1=En.unstable_ImmediatePriority,HP=En.unstable_UserBlockingPriority,Tp=En.unstable_NormalPriority,iU=En.unstable_LowPriority,jP=En.unstable_IdlePriority,Dm=null,qi=null;function sU(t){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(Dm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:uU,oU=Math.log,aU=Math.LN2;function uU(t){return t>>>=0,t===0?32:31-(oU(t)/aU|0)|0}var Xh=64,Yh=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=wc(a):(s&=o,s!==0&&(n=wc(s)))}else o=r&~i,o!==0?n=wc(o):s!==0&&(n=wc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ri(e),i=1<<r,n|=t[r],e&=~i;return n}function lU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cU(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ri(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=lU(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function My(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WP(){var t=Xh;return Xh<<=1,!(Xh&4194240)&&(Xh=64),t}function L0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ah(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ri(e),t[e]=r}function dU(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ri(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function d1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ri(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Fe=0;function VP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XP,h1,YP,qP,KP,By=!1,qh=[],co=null,ho=null,fo=null,cd=new Map,dd=new Map,Zs=[],hU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hw(t,e){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":cd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(e.pointerId)}}function Yl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lh(e),e!==null&&h1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fU(t,e,r,n,i){switch(e){case"focusin":return co=Yl(co,t,e,r,n,i),!0;case"dragenter":return ho=Yl(ho,t,e,r,n,i),!0;case"mouseover":return fo=Yl(fo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return cd.set(s,Yl(cd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,dd.set(s,Yl(dd.get(s)||null,t,e,r,n,i)),!0}return!1}function QP(t){var e=ra(t.target);if(e!==null){var r=La(e);if(r!==null){if(e=r.tag,e===13){if(e=NP(r),e!==null){t.blockedOn=e,KP(t.priority,function(){YP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Dy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Cy=n,r.target.dispatchEvent(n),Cy=null}else return e=lh(r),e!==null&&h1(e),t.blockedOn=r,!1;e.shift()}return!0}function jw(t,e,r){Kf(t)&&r.delete(e)}function pU(){By=!1,co!==null&&Kf(co)&&(co=null),ho!==null&&Kf(ho)&&(ho=null),fo!==null&&Kf(fo)&&(fo=null),cd.forEach(jw),dd.forEach(jw)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,By||(By=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,pU)))}function hd(t){function e(i){return ql(i,t)}if(0<qh.length){ql(qh[0],t);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(co!==null&&ql(co,t),ho!==null&&ql(ho,t),fo!==null&&ql(fo,t),cd.forEach(e),dd.forEach(e),r=0;r<Zs.length;r++)n=Zs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)QP(r),r.blockedOn===null&&Zs.shift()}var ku=Os.ReactCurrentBatchConfig,Pp=!0;function mU(t,e,r,n){var i=Fe,s=ku.transition;ku.transition=null;try{Fe=1,f1(t,e,r,n)}finally{Fe=i,ku.transition=s}}function gU(t,e,r,n){var i=Fe,s=ku.transition;ku.transition=null;try{Fe=4,f1(t,e,r,n)}finally{Fe=i,ku.transition=s}}function f1(t,e,r,n){if(Pp){var i=Dy(t,e,r,n);if(i===null)Y0(t,e,n,Ap,r),Hw(t,n);else if(fU(i,t,e,r,n))n.stopPropagation();else if(Hw(t,n),e&4&&-1<hU.indexOf(t)){for(;i!==null;){var s=lh(i);if(s!==null&&XP(s),s=Dy(t,e,r,n),s===null&&Y0(t,e,n,Ap,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Y0(t,e,n,null,r)}}var Ap=null;function Dy(t,e,r,n){if(Ap=null,t=l1(n),t=ra(t),t!==null)if(e=La(t),e===null)t=null;else if(r=e.tag,r===13){if(t=NP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ap=t,null}function ZP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nU()){case c1:return 1;case HP:return 4;case Tp:case iU:return 16;case jP:return 536870912;default:return 16}default:return 16}}var eo=null,p1=null,Qf=null;function JP(){if(Qf)return Qf;var t,e=p1,r=e.length,n,i="value"in eo?eo.value:eo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Qf=i.slice(t,1<n?1-n:void 0)}function Zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function Ww(){return!1}function kn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kh:Ww,this.isPropagationStopped=Ww,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m1=kn(Tl),uh=ht({},Tl,{view:0,detail:0}),_U=kn(uh),N0,G0,Kl,km=ht({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(N0=t.screenX-Kl.screenX,G0=t.screenY-Kl.screenY):G0=N0=0,Kl=t),N0)},movementY:function(t){return"movementY"in t?t.movementY:G0}}),Vw=kn(km),yU=ht({},km,{dataTransfer:0}),vU=kn(yU),xU=ht({},uh,{relatedTarget:0}),z0=kn(xU),bU=ht({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),SU=kn(bU),wU=ht({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EU=kn(wU),TU=ht({},Tl,{data:0}),Xw=kn(TU),CU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AU[t])?!!e[t]:!1}function g1(){return RU}var MU=ht({},uh,{key:function(t){if(t.key){var e=CU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g1,charCode:function(t){return t.type==="keypress"?Zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BU=kn(MU),DU=ht({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yw=kn(DU),kU=ht({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g1}),OU=kn(kU),IU=ht({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FU=kn(IU),UU=ht({},km,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LU=kn(UU),NU=[9,13,27,32],_1=ws&&"CompositionEvent"in window,Uc=null;ws&&"documentMode"in document&&(Uc=document.documentMode);var GU=ws&&"TextEvent"in window&&!Uc,eA=ws&&(!_1||Uc&&8<Uc&&11>=Uc),qw=" ",Kw=!1;function tA(t,e){switch(t){case"keyup":return NU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fu=!1;function zU(t,e){switch(t){case"compositionend":return rA(e);case"keypress":return e.which!==32?null:(Kw=!0,qw);case"textInput":return t=e.data,t===qw&&Kw?null:t;default:return null}}function $U(t,e){if(fu)return t==="compositionend"||!_1&&tA(t,e)?(t=JP(),Qf=p1=eo=null,fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eA&&e.locale!=="ko"?null:e.data;default:return null}}var HU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HU[t.type]:e==="textarea"}function nA(t,e,r,n){OP(n),e=Rp(e,"onChange"),0<e.length&&(r=new m1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Lc=null,fd=null;function jU(t){pA(t,0)}function Om(t){var e=gu(t);if(PP(e))return t}function WU(t,e){if(t==="change")return e}var iA=!1;if(ws){var $0;if(ws){var H0="oninput"in document;if(!H0){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),H0=typeof Zw.oninput=="function"}$0=H0}else $0=!1;iA=$0&&(!document.documentMode||9<document.documentMode)}function Jw(){Lc&&(Lc.detachEvent("onpropertychange",sA),fd=Lc=null)}function sA(t){if(t.propertyName==="value"&&Om(fd)){var e=[];nA(e,fd,t,l1(t)),LP(jU,e)}}function VU(t,e,r){t==="focusin"?(Jw(),Lc=e,fd=r,Lc.attachEvent("onpropertychange",sA)):t==="focusout"&&Jw()}function XU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Om(fd)}function YU(t,e){if(t==="click")return Om(e)}function qU(t,e){if(t==="input"||t==="change")return Om(e)}function KU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:KU;function pd(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!py.call(e,i)||!Di(t[i],e[i]))return!1}return!0}function eE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tE(t,e){var r=eE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eE(r)}}function oA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aA(){for(var t=window,e=Sp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sp(t.document)}return e}function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QU(t){var e=aA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oA(r.ownerDocument.documentElement,r)){if(n!==null&&y1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=tE(r,s);var o=tE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZU=ws&&"documentMode"in document&&11>=document.documentMode,pu=null,ky=null,Nc=null,Oy=!1;function rE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oy||pu==null||pu!==Sp(n)||(n=pu,"selectionStart"in n&&y1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nc&&pd(Nc,n)||(Nc=n,n=Rp(ky,"onSelect"),0<n.length&&(e=new m1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pu)))}function Qh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mu={animationend:Qh("Animation","AnimationEnd"),animationiteration:Qh("Animation","AnimationIteration"),animationstart:Qh("Animation","AnimationStart"),transitionend:Qh("Transition","TransitionEnd")},j0={},uA={};ws&&(uA=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function Im(t){if(j0[t])return j0[t];if(!mu[t])return t;var e=mu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in uA)return j0[t]=e[r];return t}var lA=Im("animationend"),cA=Im("animationiteration"),dA=Im("animationstart"),hA=Im("transitionend"),fA=new Map,nE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){fA.set(t,e),Ua(e,[t])}for(var W0=0;W0<nE.length;W0++){var V0=nE[W0],JU=V0.toLowerCase(),e6=V0[0].toUpperCase()+V0.slice(1);Mo(JU,"on"+e6)}Mo(lA,"onAnimationEnd");Mo(cA,"onAnimationIteration");Mo(dA,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(hA,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function iE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,JF(n,e,void 0,t),t.currentTarget=null}function pA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;iE(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;iE(i,a,l),s=u}}}if(Ep)throw t=Ry,Ep=!1,Ry=null,t}function qe(t,e){var r=e[Ny];r===void 0&&(r=e[Ny]=new Set);var n=t+"__bubble";r.has(n)||(mA(e,t,2,!1),r.add(n))}function X0(t,e,r){var n=0;e&&(n|=4),mA(r,t,n,e)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[Zh]){t[Zh]=!0,SP.forEach(function(r){r!=="selectionchange"&&(t6.has(r)||X0(r,!1,t),X0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zh]||(e[Zh]=!0,X0("selectionchange",!1,e))}}function mA(t,e,r,n){switch(ZP(e)){case 1:var i=mU;break;case 4:i=gU;break;default:i=f1}r=i.bind(null,e,r,t),i=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Y0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ra(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}LP(function(){var l=s,c=l1(r),d=[];e:{var h=fA.get(t);if(h!==void 0){var f=m1,p=t;switch(t){case"keypress":if(Zf(r)===0)break e;case"keydown":case"keyup":f=BU;break;case"focusin":p="focus",f=z0;break;case"focusout":p="blur",f=z0;break;case"beforeblur":case"afterblur":f=z0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=OU;break;case lA:case cA:case dA:f=SU;break;case hA:f=FU;break;case"scroll":f=_U;break;case"wheel":f=LU;break;case"copy":case"cut":case"paste":f=EU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Yw}var m=(e&4)!==0,g=!m&&t==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var v=l,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,_!==null&&(x=ld(v,_),x!=null&&m.push(gd(v,x,y)))),g)break;v=v.return}0<m.length&&(h=new f(h,p,null,r,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==Cy&&(p=r.relatedTarget||r.fromElement)&&(ra(p)||p[Es]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=l,p=p?ra(p):null,p!==null&&(g=La(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(m=Vw,x="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Yw,x="onPointerLeave",_="onPointerEnter",v="pointer"),g=f==null?h:gu(f),y=p==null?h:gu(p),h=new m(x,v+"leave",f,r,c),h.target=g,h.relatedTarget=y,x=null,ra(c)===l&&(m=new m(_,v+"enter",p,r,c),m.target=y,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,_=p,v=0,y=m;y;y=Va(y))v++;for(y=0,x=_;x;x=Va(x))y++;for(;0<v-y;)m=Va(m),v--;for(;0<y-v;)_=Va(_),y--;for(;v--;){if(m===_||_!==null&&m===_.alternate)break t;m=Va(m),_=Va(_)}m=null}else m=null;f!==null&&sE(d,h,f,m,!1),p!==null&&g!==null&&sE(d,g,p,m,!0)}}e:{if(h=l?gu(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=WU;else if(Qw(h))if(iA)S=qU;else{S=XU;var w=VU}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=YU);if(S&&(S=S(t,l))){nA(d,S,r,c);break e}w&&w(t,h,l),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&by(h,"number",h.value)}switch(w=l?gu(l):window,t){case"focusin":(Qw(w)||w.contentEditable==="true")&&(pu=w,ky=l,Nc=null);break;case"focusout":Nc=ky=pu=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,rE(d,r,c);break;case"selectionchange":if(ZU)break;case"keydown":case"keyup":rE(d,r,c)}var b;if(_1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fu?tA(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(eA&&r.locale!=="ko"&&(fu||T!=="onCompositionStart"?T==="onCompositionEnd"&&fu&&(b=JP()):(eo=c,p1="value"in eo?eo.value:eo.textContent,fu=!0)),w=Rp(l,T),0<w.length&&(T=new Xw(T,t,null,r,c),d.push({event:T,listeners:w}),b?T.data=b:(b=rA(r),b!==null&&(T.data=b)))),(b=GU?zU(t,r):$U(t,r))&&(l=Rp(l,"onBeforeInput"),0<l.length&&(c=new Xw("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=b))}pA(d,e)})}function gd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ld(t,r),s!=null&&n.unshift(gd(t,s,i)),s=ld(t,e),s!=null&&n.push(gd(t,s,i))),t=t.return}return n}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sE(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=ld(r,s),u!=null&&o.unshift(gd(r,u,a))):i||(u=ld(r,s),u!=null&&o.push(gd(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var r6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function oE(t){return(typeof t=="string"?t:""+t).replace(r6,`
`).replace(n6,"")}function Jh(t,e,r){if(e=oE(e),oE(t)!==e&&r)throw Error(j(425))}function Mp(){}var Iy=null,Fy=null;function Uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,i6=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,s6=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(t){return aE.resolve(null).then(t).catch(o6)}:Ly;function o6(t){setTimeout(function(){throw t})}function q0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),hd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);hd(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Vi="__reactFiber$"+Cl,_d="__reactProps$"+Cl,Es="__reactContainer$"+Cl,Ny="__reactEvents$"+Cl,a6="__reactListeners$"+Cl,u6="__reactHandles$"+Cl;function ra(t){var e=t[Vi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Es]||r[Vi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uE(t);t!==null;){if(r=t[Vi])return r;t=uE(t)}return e}t=r,r=t.parentNode}return null}function lh(t){return t=t[Vi]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Fm(t){return t[_d]||null}var Gy=[],_u=-1;function Bo(t){return{current:t}}function Ke(t){0>_u||(t.current=Gy[_u],Gy[_u]=null,_u--)}function Ye(t,e){_u++,Gy[_u]=t.current,t.current=e}var So={},wr=Bo(So),Xr=Bo(!1),va=So;function Ku(t,e){var r=t.type.contextTypes;if(!r)return So;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(t){return t=t.childContextTypes,t!=null}function Bp(){Ke(Xr),Ke(wr)}function lE(t,e,r){if(wr.current!==So)throw Error(j(168));Ye(wr,e),Ye(Xr,r)}function gA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(j(108,VF(t)||"Unknown",i));return ht({},r,n)}function Dp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,va=wr.current,Ye(wr,t),Ye(Xr,Xr.current),!0}function cE(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=gA(t,e,va),n.__reactInternalMemoizedMergedChildContext=t,Ke(Xr),Ke(wr),Ye(wr,t)):Ke(Xr),Ye(Xr,r)}var ps=null,Um=!1,K0=!1;function _A(t){ps===null?ps=[t]:ps.push(t)}function l6(t){Um=!0,_A(t)}function Do(){if(!K0&&ps!==null){K0=!0;var t=0,e=Fe;try{var r=ps;for(Fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ps=null,Um=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),$P(c1,Do),i}finally{Fe=e,K0=!1}}return null}var yu=[],vu=0,kp=null,Op=0,Yn=[],qn=0,xa=null,ys=1,vs="";function Vo(t,e){yu[vu++]=Op,yu[vu++]=kp,kp=t,Op=e}function yA(t,e,r){Yn[qn++]=ys,Yn[qn++]=vs,Yn[qn++]=xa,xa=t;var n=ys;t=vs;var i=32-Ri(n)-1;n&=~(1<<i),r+=1;var s=32-Ri(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ys=1<<32-Ri(e)+i|r<<i|n,vs=s+t}else ys=1<<s|r<<i|n,vs=t}function v1(t){t.return!==null&&(Vo(t,1),yA(t,1,0))}function x1(t){for(;t===kp;)kp=yu[--vu],yu[vu]=null,Op=yu[--vu],yu[vu]=null;for(;t===xa;)xa=Yn[--qn],Yn[qn]=null,vs=Yn[--qn],Yn[qn]=null,ys=Yn[--qn],Yn[qn]=null}var xn=null,_n=null,Je=!1,Ci=null;function vA(t,e){var r=ei(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function dE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,_n=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xa!==null?{id:ys,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ei(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xn=t,_n=null,!0):!1;default:return!1}}function zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $y(t){if(Je){var e=_n;if(e){var r=e;if(!dE(t,e)){if(zy(t))throw Error(j(418));e=po(r.nextSibling);var n=xn;e&&dE(t,e)?vA(n,r):(t.flags=t.flags&-4097|2,Je=!1,xn=t)}}else{if(zy(t))throw Error(j(418));t.flags=t.flags&-4097|2,Je=!1,xn=t}}}function hE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function ef(t){if(t!==xn)return!1;if(!Je)return hE(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uy(t.type,t.memoizedProps)),e&&(e=_n)){if(zy(t))throw xA(),Error(j(418));for(;e;)vA(t,e),e=po(e.nextSibling)}if(hE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){_n=po(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=xn?po(t.stateNode.nextSibling):null;return!0}function xA(){for(var t=_n;t;)t=po(t.nextSibling)}function Qu(){_n=xn=null,Je=!1}function b1(t){Ci===null?Ci=[t]:Ci.push(t)}var c6=Os.ReactCurrentBatchConfig;function Ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function tf(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fE(t){var e=t._init;return e(t._payload)}function bA(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=yo(_,v),_.index=0,_.sibling=null,_}function s(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,x){return v===null||v.tag!==6?(v=n_(y,_.mode,x),v.return=_,v):(v=i(v,y),v.return=_,v)}function u(_,v,y,x){var S=y.type;return S===hu?c(_,v,y.props.children,x,y.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qs&&fE(S)===v.type)?(x=i(v,y.props),x.ref=Ql(_,v,y),x.return=_,x):(x=sp(y.type,y.key,y.props,null,_.mode,x),x.ref=Ql(_,v,y),x.return=_,x)}function l(_,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=i_(y,_.mode,x),v.return=_,v):(v=i(v,y.children||[]),v.return=_,v)}function c(_,v,y,x,S){return v===null||v.tag!==7?(v=ha(y,_.mode,x,S),v.return=_,v):(v=i(v,y),v.return=_,v)}function d(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=n_(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jh:return y=sp(v.type,v.key,v.props,null,_.mode,y),y.ref=Ql(_,null,v),y.return=_,y;case du:return v=i_(v,_.mode,y),v.return=_,v;case qs:var x=v._init;return d(_,x(v._payload),y)}if(Sc(v)||Vl(v))return v=ha(v,_.mode,y,null),v.return=_,v;tf(_,v)}return null}function h(_,v,y,x){var S=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(_,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jh:return y.key===S?u(_,v,y,x):null;case du:return y.key===S?l(_,v,y,x):null;case qs:return S=y._init,h(_,v,S(y._payload),x)}if(Sc(y)||Vl(y))return S!==null?null:c(_,v,y,x,null);tf(_,y)}return null}function f(_,v,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(y)||null,a(v,_,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jh:return _=_.get(x.key===null?y:x.key)||null,u(v,_,x,S);case du:return _=_.get(x.key===null?y:x.key)||null,l(v,_,x,S);case qs:var w=x._init;return f(_,v,y,w(x._payload),S)}if(Sc(x)||Vl(x))return _=_.get(y)||null,c(v,_,x,S,null);tf(v,x)}return null}function p(_,v,y,x){for(var S=null,w=null,b=v,T=v=0,E=null;b!==null&&T<y.length;T++){b.index>T?(E=b,b=null):E=b.sibling;var P=h(_,b,y[T],x);if(P===null){b===null&&(b=E);break}t&&b&&P.alternate===null&&e(_,b),v=s(P,v,T),w===null?S=P:w.sibling=P,w=P,b=E}if(T===y.length)return r(_,b),Je&&Vo(_,T),S;if(b===null){for(;T<y.length;T++)b=d(_,y[T],x),b!==null&&(v=s(b,v,T),w===null?S=b:w.sibling=b,w=b);return Je&&Vo(_,T),S}for(b=n(_,b);T<y.length;T++)E=f(b,_,T,y[T],x),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?T:E.key),v=s(E,v,T),w===null?S=E:w.sibling=E,w=E);return t&&b.forEach(function(B){return e(_,B)}),Je&&Vo(_,T),S}function m(_,v,y,x){var S=Vl(y);if(typeof S!="function")throw Error(j(150));if(y=S.call(y),y==null)throw Error(j(151));for(var w=S=null,b=v,T=v=0,E=null,P=y.next();b!==null&&!P.done;T++,P=y.next()){b.index>T?(E=b,b=null):E=b.sibling;var B=h(_,b,P.value,x);if(B===null){b===null&&(b=E);break}t&&b&&B.alternate===null&&e(_,b),v=s(B,v,T),w===null?S=B:w.sibling=B,w=B,b=E}if(P.done)return r(_,b),Je&&Vo(_,T),S;if(b===null){for(;!P.done;T++,P=y.next())P=d(_,P.value,x),P!==null&&(v=s(P,v,T),w===null?S=P:w.sibling=P,w=P);return Je&&Vo(_,T),S}for(b=n(_,b);!P.done;T++,P=y.next())P=f(b,_,T,P.value,x),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),v=s(P,v,T),w===null?S=P:w.sibling=P,w=P);return t&&b.forEach(function(L){return e(_,L)}),Je&&Vo(_,T),S}function g(_,v,y,x){if(typeof y=="object"&&y!==null&&y.type===hu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case jh:e:{for(var S=y.key,w=v;w!==null;){if(w.key===S){if(S=y.type,S===hu){if(w.tag===7){r(_,w.sibling),v=i(w,y.props.children),v.return=_,_=v;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qs&&fE(S)===w.type){r(_,w.sibling),v=i(w,y.props),v.ref=Ql(_,w,y),v.return=_,_=v;break e}r(_,w);break}else e(_,w);w=w.sibling}y.type===hu?(v=ha(y.props.children,_.mode,x,y.key),v.return=_,_=v):(x=sp(y.type,y.key,y.props,null,_.mode,x),x.ref=Ql(_,v,y),x.return=_,_=x)}return o(_);case du:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(_,v.sibling),v=i(v,y.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=i_(y,_.mode,x),v.return=_,_=v}return o(_);case qs:return w=y._init,g(_,v,w(y._payload),x)}if(Sc(y))return p(_,v,y,x);if(Vl(y))return m(_,v,y,x);tf(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,y),v.return=_,_=v):(r(_,v),v=n_(y,_.mode,x),v.return=_,_=v),o(_)):r(_,v)}return g}var Zu=bA(!0),SA=bA(!1),Ip=Bo(null),Fp=null,xu=null,S1=null;function w1(){S1=xu=Fp=null}function E1(t){var e=Ip.current;Ke(Ip),t._currentValue=e}function Hy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ou(t,e){Fp=t,S1=xu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function ai(t){var e=t._currentValue;if(S1!==t)if(t={context:t,memoizedValue:e,next:null},xu===null){if(Fp===null)throw Error(j(308));xu=t,Fp.dependencies={lanes:0,firstContext:t}}else xu=xu.next=t;return e}var na=null;function T1(t){na===null?na=[t]:na.push(t)}function wA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,T1(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ts(t,n)}function Ts(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ks=!1;function C1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ts(t,r)}return i=n.interleaved,i===null?(e.next=e,T1(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ts(t,r)}function Jf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d1(t,r)}}function pE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Up(t,e,r,n){var i=t.updateQueue;Ks=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ht({},d,h);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=f,u=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sa|=o,t.lanes=o,t.memoizedState=d}}function mE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(j(191,i));i.call(n)}}}var ch={},Ki=Bo(ch),yd=Bo(ch),vd=Bo(ch);function ia(t){if(t===ch)throw Error(j(174));return t}function P1(t,e){switch(Ye(vd,e),Ye(yd,t),Ye(Ki,ch),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wy(e,t)}Ke(Ki),Ye(Ki,e)}function Ju(){Ke(Ki),Ke(yd),Ke(vd)}function TA(t){ia(vd.current);var e=ia(Ki.current),r=wy(e,t.type);e!==r&&(Ye(yd,t),Ye(Ki,r))}function A1(t){yd.current===t&&(Ke(Ki),Ke(yd))}var ot=Bo(0);function Lp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Q0=[];function R1(){for(var t=0;t<Q0.length;t++)Q0[t]._workInProgressVersionPrimary=null;Q0.length=0}var ep=Os.ReactCurrentDispatcher,Z0=Os.ReactCurrentBatchConfig,ba=0,ct=null,$t=null,Qt=null,Np=!1,Gc=!1,xd=0,d6=0;function mr(){throw Error(j(321))}function M1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Di(t[r],e[r]))return!1;return!0}function B1(t,e,r,n,i,s){if(ba=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ep.current=t===null||t.memoizedState===null?m6:g6,t=r(n,i),Gc){s=0;do{if(Gc=!1,xd=0,25<=s)throw Error(j(301));s+=1,Qt=$t=null,e.updateQueue=null,ep.current=_6,t=r(n,i)}while(Gc)}if(ep.current=Gp,e=$t!==null&&$t.next!==null,ba=0,Qt=$t=ct=null,Np=!1,e)throw Error(j(300));return t}function D1(){var t=xd!==0;return xd=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ct.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function ui(){if($t===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Qt===null?ct.memoizedState:Qt.next;if(e!==null)Qt=e,$t=t;else{if(t===null)throw Error(j(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Qt===null?ct.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function bd(t,e){return typeof e=="function"?e(t):e}function J0(t){var e=ui(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=$t,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((ba&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,ct.lanes|=c,Sa|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,Di(n,e.memoizedState)||(Vr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ct.lanes|=s,Sa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function e_(t){var e=ui(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Di(s,e.memoizedState)||(Vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function CA(){}function PA(t,e){var r=ct,n=ui(),i=e(),s=!Di(n.memoizedState,i);if(s&&(n.memoizedState=i,Vr=!0),n=n.queue,k1(MA.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,Sd(9,RA.bind(null,r,n,i,e),void 0,null),er===null)throw Error(j(349));ba&30||AA(r,e,i)}return i}function AA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RA(t,e,r,n){e.value=r,e.getSnapshot=n,BA(e)&&DA(t)}function MA(t,e,r){return r(function(){BA(e)&&DA(t)})}function BA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Di(t,r)}catch{return!0}}function DA(t){var e=Ts(t,1);e!==null&&Mi(e,t,1,-1)}function gE(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=p6.bind(null,ct,t),[e.memoizedState,t]}function Sd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kA(){return ui().memoizedState}function tp(t,e,r,n){var i=$i();ct.flags|=t,i.memoizedState=Sd(1|e,r,void 0,n===void 0?null:n)}function Lm(t,e,r,n){var i=ui();n=n===void 0?null:n;var s=void 0;if($t!==null){var o=$t.memoizedState;if(s=o.destroy,n!==null&&M1(n,o.deps)){i.memoizedState=Sd(e,r,s,n);return}}ct.flags|=t,i.memoizedState=Sd(1|e,r,s,n)}function _E(t,e){return tp(8390656,8,t,e)}function k1(t,e){return Lm(2048,8,t,e)}function OA(t,e){return Lm(4,2,t,e)}function IA(t,e){return Lm(4,4,t,e)}function FA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UA(t,e,r){return r=r!=null?r.concat([t]):null,Lm(4,4,FA.bind(null,e,t),r)}function O1(){}function LA(t,e){var r=ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&M1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function NA(t,e){var r=ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&M1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function GA(t,e,r){return ba&21?(Di(r,e)||(r=WP(),ct.lanes|=r,Sa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=r)}function h6(t,e){var r=Fe;Fe=r!==0&&4>r?r:4,t(!0);var n=Z0.transition;Z0.transition={};try{t(!1),e()}finally{Fe=r,Z0.transition=n}}function zA(){return ui().memoizedState}function f6(t,e,r){var n=_o(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$A(t))HA(e,r);else if(r=wA(t,e,r,n),r!==null){var i=Br();Mi(r,t,n,i),jA(r,e,n)}}function p6(t,e,r){var n=_o(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($A(t))HA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Di(a,o)){var u=e.interleaved;u===null?(i.next=i,T1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=wA(t,e,i,n),r!==null&&(i=Br(),Mi(r,t,n,i),jA(r,e,n))}}function $A(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function HA(t,e){Gc=Np=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d1(t,r)}}var Gp={readContext:ai,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},m6={readContext:ai,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:ai,useEffect:_E,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tp(4194308,4,FA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tp(4194308,4,t,e)},useInsertionEffect:function(t,e){return tp(4,2,t,e)},useMemo:function(t,e){var r=$i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=f6.bind(null,ct,t),[n.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:gE,useDebugValue:O1,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=gE(!1),e=t[0];return t=h6.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ct,i=$i();if(Je){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),er===null)throw Error(j(349));ba&30||AA(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,_E(MA.bind(null,n,s,t),[t]),n.flags|=2048,Sd(9,RA.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=$i(),e=er.identifierPrefix;if(Je){var r=vs,n=ys;r=(n&~(1<<32-Ri(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=xd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=d6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g6={readContext:ai,useCallback:LA,useContext:ai,useEffect:k1,useImperativeHandle:UA,useInsertionEffect:OA,useLayoutEffect:IA,useMemo:NA,useReducer:J0,useRef:kA,useState:function(){return J0(bd)},useDebugValue:O1,useDeferredValue:function(t){var e=ui();return GA(e,$t.memoizedState,t)},useTransition:function(){var t=J0(bd)[0],e=ui().memoizedState;return[t,e]},useMutableSource:CA,useSyncExternalStore:PA,useId:zA,unstable_isNewReconciler:!1},_6={readContext:ai,useCallback:LA,useContext:ai,useEffect:k1,useImperativeHandle:UA,useInsertionEffect:OA,useLayoutEffect:IA,useMemo:NA,useReducer:e_,useRef:kA,useState:function(){return e_(bd)},useDebugValue:O1,useDeferredValue:function(t){var e=ui();return $t===null?e.memoizedState=t:GA(e,$t.memoizedState,t)},useTransition:function(){var t=e_(bd)[0],e=ui().memoizedState;return[t,e]},useMutableSource:CA,useSyncExternalStore:PA,useId:zA,unstable_isNewReconciler:!1};function wi(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function jy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ht({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nm={isMounted:function(t){return(t=t._reactInternals)?La(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Br(),i=_o(t),s=xs(n,i);s.payload=e,r!=null&&(s.callback=r),e=mo(t,s,i),e!==null&&(Mi(e,t,i,n),Jf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Br(),i=_o(t),s=xs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=mo(t,s,i),e!==null&&(Mi(e,t,i,n),Jf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Br(),n=_o(t),i=xs(r,n);i.tag=2,e!=null&&(i.callback=e),e=mo(t,i,n),e!==null&&(Mi(e,t,n,r),Jf(e,t,n))}};function yE(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!pd(r,n)||!pd(i,s):!0}function WA(t,e,r){var n=!1,i=So,s=e.contextType;return typeof s=="object"&&s!==null?s=ai(s):(i=Yr(e)?va:wr.current,n=e.contextTypes,s=(n=n!=null)?Ku(t,i):So),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Nm.enqueueReplaceState(e,e.state,null)}function Wy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},C1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ai(s):(s=Yr(e)?va:wr.current,i.context=Ku(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jy(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nm.enqueueReplaceState(i,i.state,null),Up(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function el(t,e){try{var r="",n=e;do r+=WF(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function t_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Vy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var y6=typeof WeakMap=="function"?WeakMap:Map;function VA(t,e,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$p||($p=!0,rv=n),Vy(t,e)},r}function XA(t,e,r){r=xs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Vy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Vy(t,e),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function xE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new y6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=D6.bind(null,t,e,r),e.then(t,t))}function bE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xs(-1,1),e.tag=2,mo(r,e,1))),r.lanes|=1),t)}var v6=Os.ReactCurrentOwner,Vr=!1;function Pr(t,e,r,n){e.child=t===null?SA(e,null,r,n):Zu(e,t.child,r,n)}function wE(t,e,r,n,i){r=r.render;var s=e.ref;return Ou(e,i),n=B1(t,e,r,n,s,i),r=D1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(Je&&r&&v1(e),e.flags|=1,Pr(t,e,n,i),e.child)}function EE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!$1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,YA(t,e,s,n,i)):(t=sp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:pd,r(o,n)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=yo(s,n),t.ref=e.ref,t.return=e,e.child=t}function YA(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(pd(s,n)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return Xy(t,e,r,n,i)}function qA(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Su,fn),fn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Su,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ye(Su,fn),fn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ye(Su,fn),fn|=n;return Pr(t,e,i,r),e.child}function KA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Xy(t,e,r,n,i){var s=Yr(r)?va:wr.current;return s=Ku(e,s),Ou(e,i),r=B1(t,e,r,n,s,i),n=D1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(Je&&n&&v1(e),e.flags|=1,Pr(t,e,r,i),e.child)}function TE(t,e,r,n,i){if(Yr(r)){var s=!0;Dp(e)}else s=!1;if(Ou(e,i),e.stateNode===null)rp(t,e),WA(e,r,n),Wy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=ai(l):(l=Yr(r)?va:wr.current,l=Ku(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&vE(e,o,n,l),Ks=!1;var h=e.memoizedState;o.state=h,Up(e,n,o,i),u=e.memoizedState,a!==n||h!==u||Xr.current||Ks?(typeof c=="function"&&(jy(e,r,c,n),u=e.memoizedState),(a=Ks||yE(e,r,a,n,h,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,EA(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:wi(e.type,a),o.props=l,d=e.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ai(u):(u=Yr(r)?va:wr.current,u=Ku(e,u));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==u)&&vE(e,o,n,u),Ks=!1,h=e.memoizedState,o.state=h,Up(e,n,o,i);var p=e.memoizedState;a!==d||h!==p||Xr.current||Ks?(typeof f=="function"&&(jy(e,r,f,n),p=e.memoizedState),(l=Ks||yE(e,r,l,n,h,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Yy(t,e,r,n,s,i)}function Yy(t,e,r,n,i,s){KA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&cE(e,r,!1),Cs(t,e,s);n=e.stateNode,v6.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Zu(e,t.child,null,s),e.child=Zu(e,null,a,s)):Pr(t,e,a,s),e.memoizedState=n.state,i&&cE(e,r,!0),e.child}function QA(t){var e=t.stateNode;e.pendingContext?lE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lE(t,e.context,!1),P1(t,e.containerInfo)}function CE(t,e,r,n,i){return Qu(),b1(i),e.flags|=256,Pr(t,e,r,n),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZA(t,e,r){var n=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(ot,i&1),t===null)return $y(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$m(o,n,0,null),t=ha(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ky(r),e.memoizedState=qy,t):I1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return x6(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=yo(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yo(a,s):(s=ha(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ky(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=qy,n}return s=t.child,t=s.sibling,n=yo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function I1(t,e){return e=$m({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,r,n){return n!==null&&b1(n),Zu(e,t.child,null,r),t=I1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x6(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=t_(Error(j(422))),rf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=$m({mode:"visible",children:n.children},i,0,null),s=ha(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zu(e,t.child,null,o),e.child.memoizedState=Ky(o),e.memoizedState=qy,s);if(!(e.mode&1))return rf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(j(419)),n=t_(s,n,void 0),rf(t,e,o,n)}if(a=(o&t.childLanes)!==0,Vr||a){if(n=er,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ts(t,i),Mi(n,t,i,-1))}return z1(),n=t_(Error(j(421))),rf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=po(i.nextSibling),xn=e,Je=!0,Ci=null,t!==null&&(Yn[qn++]=ys,Yn[qn++]=vs,Yn[qn++]=xa,ys=t.id,vs=t.overflow,xa=e),e=I1(e,n.children),e.flags|=4096,e)}function PE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hy(t.return,e,r)}function r_(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function JA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PE(t,r,e);else if(t.tag===19)PE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ye(ot,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),r_(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}r_(e,!0,r,null,s);break;case"together":r_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=yo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b6(t,e,r){switch(e.tag){case 3:QA(e),Qu();break;case 5:TA(e);break;case 1:Yr(e.type)&&Dp(e);break;case 4:P1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ye(Ip,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ye(ot,ot.current&1),e.flags|=128,null):r&e.child.childLanes?ZA(t,e,r):(Ye(ot,ot.current&1),t=Cs(t,e,r),t!==null?t.sibling:null);Ye(ot,ot.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return JA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(ot,ot.current),n)break;return null;case 22:case 23:return e.lanes=0,qA(t,e,r)}return Cs(t,e,r)}var eR,Qy,tR,rR;eR=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qy=function(){};tR=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ia(Ki.current);var s=null;switch(r){case"input":i=vy(t,i),n=vy(t,n),s=[];break;case"select":i=ht({},i,{value:void 0}),n=ht({},n,{value:void 0}),s=[];break;case"textarea":i=Sy(t,i),n=Sy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mp)}Ey(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ad.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ad.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&qe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};rR=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function S6(t,e,r){var n=e.pendingProps;switch(x1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return Yr(e.type)&&Bp(),gr(e),null;case 3:return n=e.stateNode,Ju(),Ke(Xr),Ke(wr),R1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ci!==null&&(sv(Ci),Ci=null))),Qy(t,e),gr(e),null;case 5:A1(e);var i=ia(vd.current);if(r=e.type,t!==null&&e.stateNode!=null)tR(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return gr(e),null}if(t=ia(Ki.current),ef(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vi]=e,n[_d]=s,t=(e.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<Ec.length;i++)qe(Ec[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":Fw(n,s),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},qe("invalid",n);break;case"textarea":Lw(n,s),qe("invalid",n)}Ey(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jh(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jh(n.textContent,a,t),i=["children",""+a]):ad.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":Wh(n),Uw(n,s,!0);break;case"textarea":Wh(n),Nw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Mp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vi]=e,t[_d]=n,eR(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ty(r,n),r){case"dialog":qe("cancel",t),qe("close",t),i=n;break;case"iframe":case"object":case"embed":qe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ec.length;i++)qe(Ec[i],t);i=n;break;case"source":qe("error",t),i=n;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=n;break;case"details":qe("toggle",t),i=n;break;case"input":Fw(t,n),i=vy(t,n),qe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ht({},n,{value:void 0}),qe("invalid",t);break;case"textarea":Lw(t,n),i=Sy(t,n),qe("invalid",t);break;default:i=n}Ey(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?kP(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&BP(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ud(t,u):typeof u=="number"&&ud(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ad.hasOwnProperty(s)?u!=null&&s==="onScroll"&&qe("scroll",t):u!=null&&s1(t,s,u,o))}switch(r){case"input":Wh(t),Uw(t,n,!1);break;case"textarea":Wh(t),Nw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+bo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Mu(t,!!n.multiple,s,!1):n.defaultValue!=null&&Mu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)rR(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=ia(vd.current),ia(Ki.current),ef(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vi]=e,(s=n.nodeValue!==r)&&(t=xn,t!==null))switch(t.tag){case 3:Jh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vi]=e,e.stateNode=n}return gr(e),null;case 13:if(Ke(ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&_n!==null&&e.mode&1&&!(e.flags&128))xA(),Qu(),e.flags|=98560,s=!1;else if(s=ef(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Vi]=e}else Qu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),s=!1}else Ci!==null&&(sv(Ci),Ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?jt===0&&(jt=3):z1())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return Ju(),Qy(t,e),t===null&&md(e.stateNode.containerInfo),gr(e),null;case 10:return E1(e.type._context),gr(e),null;case 17:return Yr(e.type)&&Bp(),gr(e),null;case 19:if(Ke(ot),s=e.memoizedState,s===null)return gr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Zl(s,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lp(t),o!==null){for(e.flags|=128,Zl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ye(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ct()>tl&&(e.flags|=128,n=!0,Zl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Lp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return gr(e),null}else 2*Ct()-s.renderingStartTime>tl&&r!==1073741824&&(e.flags|=128,n=!0,Zl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,r=ot.current,Ye(ot,n?r&1|2:r&1),e):(gr(e),null);case 22:case 23:return G1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fn&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function w6(t,e){switch(x1(e),e.tag){case 1:return Yr(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ju(),Ke(Xr),Ke(wr),R1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return A1(e),null;case 13:if(Ke(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Qu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(ot),null;case 4:return Ju(),null;case 10:return E1(e.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var nf=!1,vr=!1,E6=typeof WeakSet=="function"?WeakSet:Set,K=null;function bu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(t,e,n)}else r.current=null}function Zy(t,e,r){try{r()}catch(n){yt(t,e,n)}}var AE=!1;function T6(t,e){if(Iy=Pp,t=aA(),y1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(u=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++l===i&&(a=o),h===s&&++c===n&&(u=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fy={focusedElem:t,selectionRange:r},Pp=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:wi(e.type,m),g);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){yt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=AE,AE=!1,p}function zc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zy(e,r,s)}i=i.next}while(i!==n)}}function Gm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nR(t){var e=t.alternate;e!==null&&(t.alternate=null,nR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vi],delete e[_d],delete e[Ny],delete e[a6],delete e[u6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iR(t){return t.tag===5||t.tag===3||t.tag===4}function RE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ev(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mp));else if(n!==4&&(t=t.child,t!==null))for(ev(t,e,r),t=t.sibling;t!==null;)ev(t,e,r),t=t.sibling}function tv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tv(t,e,r),t=t.sibling;t!==null;)tv(t,e,r),t=t.sibling}var or=null,Ei=!1;function js(t,e,r){for(r=r.child;r!==null;)sR(t,e,r),r=r.sibling}function sR(t,e,r){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(Dm,r)}catch{}switch(r.tag){case 5:vr||bu(r,e);case 6:var n=or,i=Ei;or=null,js(t,e,r),or=n,Ei=i,or!==null&&(Ei?(t=or,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):or.removeChild(r.stateNode));break;case 18:or!==null&&(Ei?(t=or,r=r.stateNode,t.nodeType===8?q0(t.parentNode,r):t.nodeType===1&&q0(t,r),hd(t)):q0(or,r.stateNode));break;case 4:n=or,i=Ei,or=r.stateNode.containerInfo,Ei=!0,js(t,e,r),or=n,Ei=i;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zy(r,e,o),i=i.next}while(i!==n)}js(t,e,r);break;case 1:if(!vr&&(bu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){yt(r,e,a)}js(t,e,r);break;case 21:js(t,e,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,js(t,e,r),vr=n):js(t,e,r);break;default:js(t,e,r)}}function ME(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new E6),e.forEach(function(n){var i=O6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,Ei=!1;break e;case 3:or=a.stateNode.containerInfo,Ei=!0;break e;case 4:or=a.stateNode.containerInfo,Ei=!0;break e}a=a.return}if(or===null)throw Error(j(160));sR(s,o,i),or=null,Ei=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){yt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oR(e,t),e=e.sibling}function oR(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bi(e,t),Ni(t),n&4){try{zc(3,t,t.return),Gm(3,t)}catch(m){yt(t,t.return,m)}try{zc(5,t,t.return)}catch(m){yt(t,t.return,m)}}break;case 1:bi(e,t),Ni(t),n&512&&r!==null&&bu(r,r.return);break;case 5:if(bi(e,t),Ni(t),n&512&&r!==null&&bu(r,r.return),t.flags&32){var i=t.stateNode;try{ud(i,"")}catch(m){yt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&AP(i,s),Ty(a,o);var l=Ty(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?kP(i,d):c==="dangerouslySetInnerHTML"?BP(i,d):c==="children"?ud(i,d):s1(i,c,d,l)}switch(a){case"input":xy(i,s);break;case"textarea":RP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Mu(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Mu(i,!!s.multiple,s.defaultValue,!0):Mu(i,!!s.multiple,s.multiple?[]:"",!1))}i[_d]=s}catch(m){yt(t,t.return,m)}}break;case 6:if(bi(e,t),Ni(t),n&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){yt(t,t.return,m)}}break;case 3:if(bi(e,t),Ni(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hd(e.containerInfo)}catch(m){yt(t,t.return,m)}break;case 4:bi(e,t),Ni(t);break;case 13:bi(e,t),Ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(L1=Ct())),n&4&&ME(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(vr=(l=vr)||c,bi(e,t),vr=l):bi(e,t),Ni(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(h=K,f=h.child,h.tag){case 0:case 11:case 14:case 15:zc(4,h,h.return);break;case 1:bu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){yt(n,r,m)}}break;case 5:bu(h,h.return);break;case 22:if(h.memoizedState!==null){DE(d);continue}}f!==null?(f.return=h,K=f):DE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=DP("display",o))}catch(m){yt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){yt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bi(e,t),Ni(t),n&4&&ME(t);break;case 21:break;default:bi(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iR(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ud(i,""),n.flags&=-33);var s=RE(t);tv(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=RE(t);ev(t,a,o);break;default:throw Error(j(161))}}catch(u){yt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C6(t,e,r){K=t,aR(t)}function aR(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||nf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||vr;a=nf;var l=vr;if(nf=o,(vr=u)&&!l)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?kE(i):u!==null?(u.return=o,K=u):kE(i);for(;s!==null;)K=s,aR(s),s=s.sibling;K=i,nf=a,vr=l}BE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):BE(t)}}function BE(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||Gm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:wi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mE(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}vr||e.flags&512&&Jy(e)}catch(h){yt(e,e.return,h)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function DE(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function kE(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Gm(4,e)}catch(u){yt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){yt(e,i,u)}}var s=e.return;try{Jy(e)}catch(u){yt(e,s,u)}break;case 5:var o=e.return;try{Jy(e)}catch(u){yt(e,o,u)}}}catch(u){yt(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var P6=Math.ceil,zp=Os.ReactCurrentDispatcher,F1=Os.ReactCurrentOwner,ii=Os.ReactCurrentBatchConfig,Ce=0,er=null,Lt=null,lr=0,fn=0,Su=Bo(0),jt=0,wd=null,Sa=0,zm=0,U1=0,$c=null,$r=null,L1=0,tl=1/0,hs=null,$p=!1,rv=null,go=null,sf=!1,to=null,Hp=0,Hc=0,nv=null,np=-1,ip=0;function Br(){return Ce&6?Ct():np!==-1?np:np=Ct()}function _o(t){return t.mode&1?Ce&2&&lr!==0?lr&-lr:c6.transition!==null?(ip===0&&(ip=WP()),ip):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:ZP(t.type)),t):1}function Mi(t,e,r,n){if(50<Hc)throw Hc=0,nv=null,Error(j(185));ah(t,r,n),(!(Ce&2)||t!==er)&&(t===er&&(!(Ce&2)&&(zm|=r),jt===4&&Js(t,lr)),qr(t,n),r===1&&Ce===0&&!(e.mode&1)&&(tl=Ct()+500,Um&&Do()))}function qr(t,e){var r=t.callbackNode;cU(t,e);var n=Cp(t,t===er?lr:0);if(n===0)r!==null&&$w(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$w(r),e===1)t.tag===0?l6(OE.bind(null,t)):_A(OE.bind(null,t)),s6(function(){!(Ce&6)&&Do()}),r=null;else{switch(VP(n)){case 1:r=c1;break;case 4:r=HP;break;case 16:r=Tp;break;case 536870912:r=jP;break;default:r=Tp}r=mR(r,uR.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uR(t,e){if(np=-1,ip=0,Ce&6)throw Error(j(327));var r=t.callbackNode;if(Iu()&&t.callbackNode!==r)return null;var n=Cp(t,t===er?lr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jp(t,n);else{e=n;var i=Ce;Ce|=2;var s=cR();(er!==t||lr!==e)&&(hs=null,tl=Ct()+500,da(t,e));do try{M6();break}catch(a){lR(t,a)}while(!0);w1(),zp.current=s,Ce=i,Lt!==null?e=0:(er=null,lr=0,e=jt)}if(e!==0){if(e===2&&(i=My(t),i!==0&&(n=i,e=iv(t,i))),e===1)throw r=wd,da(t,0),Js(t,n),qr(t,Ct()),r;if(e===6)Js(t,n);else{if(i=t.current.alternate,!(n&30)&&!A6(i)&&(e=jp(t,n),e===2&&(s=My(t),s!==0&&(n=s,e=iv(t,s))),e===1))throw r=wd,da(t,0),Js(t,n),qr(t,Ct()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Xo(t,$r,hs);break;case 3:if(Js(t,n),(n&130023424)===n&&(e=L1+500-Ct(),10<e)){if(Cp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ly(Xo.bind(null,t,$r,hs),e);break}Xo(t,$r,hs);break;case 4:if(Js(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ri(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P6(n/1960))-n,10<n){t.timeoutHandle=Ly(Xo.bind(null,t,$r,hs),n);break}Xo(t,$r,hs);break;case 5:Xo(t,$r,hs);break;default:throw Error(j(329))}}}return qr(t,Ct()),t.callbackNode===r?uR.bind(null,t):null}function iv(t,e){var r=$c;return t.current.memoizedState.isDehydrated&&(da(t,e).flags|=256),t=jp(t,e),t!==2&&(e=$r,$r=r,e!==null&&sv(e)),t}function sv(t){$r===null?$r=t:$r.push.apply($r,t)}function A6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Di(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~U1,e&=~zm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ri(e),n=1<<r;t[r]=-1,e&=~n}}function OE(t){if(Ce&6)throw Error(j(327));Iu();var e=Cp(t,0);if(!(e&1))return qr(t,Ct()),null;var r=jp(t,e);if(t.tag!==0&&r===2){var n=My(t);n!==0&&(e=n,r=iv(t,n))}if(r===1)throw r=wd,da(t,0),Js(t,e),qr(t,Ct()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xo(t,$r,hs),qr(t,Ct()),null}function N1(t,e){var r=Ce;Ce|=1;try{return t(e)}finally{Ce=r,Ce===0&&(tl=Ct()+500,Um&&Do())}}function wa(t){to!==null&&to.tag===0&&!(Ce&6)&&Iu();var e=Ce;Ce|=1;var r=ii.transition,n=Fe;try{if(ii.transition=null,Fe=1,t)return t()}finally{Fe=n,ii.transition=r,Ce=e,!(Ce&6)&&Do()}}function G1(){fn=Su.current,Ke(Su)}function da(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,i6(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(x1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bp();break;case 3:Ju(),Ke(Xr),Ke(wr),R1();break;case 5:A1(n);break;case 4:Ju();break;case 13:Ke(ot);break;case 19:Ke(ot);break;case 10:E1(n.type._context);break;case 22:case 23:G1()}r=r.return}if(er=t,Lt=t=yo(t.current,null),lr=fn=e,jt=0,wd=null,U1=zm=Sa=0,$r=$c=null,na!==null){for(e=0;e<na.length;e++)if(r=na[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}na=null}return t}function lR(t,e){do{var r=Lt;try{if(w1(),ep.current=Gp,Np){for(var n=ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Np=!1}if(ba=0,Qt=$t=ct=null,Gc=!1,xd=0,F1.current=null,r===null||r.return===null){jt=1,wd=e,Lt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=lr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=bE(o);if(f!==null){f.flags&=-257,SE(f,o,a,s,e),f.mode&1&&xE(s,l,e),e=f,u=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(u),e.updateQueue=m}else p.add(u);break e}else{if(!(e&1)){xE(s,l,e),z1();break e}u=Error(j(426))}}else if(Je&&a.mode&1){var g=bE(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),SE(g,o,a,s,e),b1(el(u,a));break e}}s=u=el(u,a),jt!==4&&(jt=2),$c===null?$c=[s]:$c.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=VA(s,u,e);pE(s,_);break e;case 1:a=u;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(go===null||!go.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=XA(s,a,e);pE(s,x);break e}}s=s.return}while(s!==null)}hR(r)}catch(S){e=S,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function cR(){var t=zp.current;return zp.current=Gp,t===null?Gp:t}function z1(){(jt===0||jt===3||jt===2)&&(jt=4),er===null||!(Sa&268435455)&&!(zm&268435455)||Js(er,lr)}function jp(t,e){var r=Ce;Ce|=2;var n=cR();(er!==t||lr!==e)&&(hs=null,da(t,e));do try{R6();break}catch(i){lR(t,i)}while(!0);if(w1(),Ce=r,zp.current=n,Lt!==null)throw Error(j(261));return er=null,lr=0,jt}function R6(){for(;Lt!==null;)dR(Lt)}function M6(){for(;Lt!==null&&!tU();)dR(Lt)}function dR(t){var e=pR(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?hR(t):Lt=e,F1.current=null}function hR(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=w6(r,e),r!==null){r.flags&=32767,Lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Lt=null;return}}else if(r=S6(r,e,fn),r!==null){Lt=r;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);jt===0&&(jt=5)}function Xo(t,e,r){var n=Fe,i=ii.transition;try{ii.transition=null,Fe=1,B6(t,e,r,n)}finally{ii.transition=i,Fe=n}return null}function B6(t,e,r,n){do Iu();while(to!==null);if(Ce&6)throw Error(j(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(dU(t,s),t===er&&(Lt=er=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sf||(sf=!0,mR(Tp,function(){return Iu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ii.transition,ii.transition=null;var o=Fe;Fe=1;var a=Ce;Ce|=4,F1.current=null,T6(t,r),oR(r,t),QU(Fy),Pp=!!Iy,Fy=Iy=null,t.current=r,C6(r),rU(),Ce=a,Fe=o,ii.transition=s}else t.current=r;if(sf&&(sf=!1,to=t,Hp=i),s=t.pendingLanes,s===0&&(go=null),sU(r.stateNode),qr(t,Ct()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($p)throw $p=!1,t=rv,rv=null,t;return Hp&1&&t.tag!==0&&Iu(),s=t.pendingLanes,s&1?t===nv?Hc++:(Hc=0,nv=t):Hc=0,Do(),null}function Iu(){if(to!==null){var t=VP(Hp),e=ii.transition,r=Fe;try{if(ii.transition=null,Fe=16>t?16:t,to===null)var n=!1;else{if(t=to,to=null,Hp=0,Ce&6)throw Error(j(331));var i=Ce;for(Ce|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(K=l;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:zc(8,c,s)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var h=c.sibling,f=c.return;if(nR(c),c===l){K=null;break}if(h!==null){h.return=f,K=h;break}K=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var v=t.current;for(K=v;K!==null;){o=K;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,K=y;else e:for(o=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gm(9,a)}}catch(S){yt(a,a.return,S)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(Ce=i,Do(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(Dm,t)}catch{}n=!0}return n}finally{Fe=r,ii.transition=e}}return!1}function IE(t,e,r){e=el(r,e),e=VA(t,e,1),t=mo(t,e,1),e=Br(),t!==null&&(ah(t,1,e),qr(t,e))}function yt(t,e,r){if(t.tag===3)IE(t,t,r);else for(;e!==null;){if(e.tag===3){IE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){t=el(r,t),t=XA(e,t,1),e=mo(e,t,1),t=Br(),e!==null&&(ah(e,1,t),qr(e,t));break}}e=e.return}}function D6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Br(),t.pingedLanes|=t.suspendedLanes&r,er===t&&(lr&r)===r&&(jt===4||jt===3&&(lr&130023424)===lr&&500>Ct()-L1?da(t,0):U1|=r),qr(t,e)}function fR(t,e){e===0&&(t.mode&1?(e=Yh,Yh<<=1,!(Yh&130023424)&&(Yh=4194304)):e=1);var r=Br();t=Ts(t,e),t!==null&&(ah(t,e,r),qr(t,r))}function k6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fR(t,r)}function O6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),fR(t,r)}var pR;pR=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Vr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Vr=!1,b6(t,e,r);Vr=!!(t.flags&131072)}else Vr=!1,Je&&e.flags&1048576&&yA(e,Op,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rp(t,e),t=e.pendingProps;var i=Ku(e,wr.current);Ou(e,r),i=B1(null,e,n,t,i,r);var s=D1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(n)?(s=!0,Dp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C1(e),i.updater=Nm,e.stateNode=i,i._reactInternals=e,Wy(e,n,t,r),e=Yy(null,e,n,!0,s,r)):(e.tag=0,Je&&s&&v1(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=F6(n),t=wi(n,t),i){case 0:e=Xy(null,e,n,t,r);break e;case 1:e=TE(null,e,n,t,r);break e;case 11:e=wE(null,e,n,t,r);break e;case 14:e=EE(null,e,n,wi(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),Xy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),TE(t,e,n,i,r);case 3:e:{if(QA(e),t===null)throw Error(j(387));n=e.pendingProps,s=e.memoizedState,i=s.element,EA(t,e),Up(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=el(Error(j(423)),e),e=CE(t,e,n,r,i);break e}else if(n!==i){i=el(Error(j(424)),e),e=CE(t,e,n,r,i);break e}else for(_n=po(e.stateNode.containerInfo.firstChild),xn=e,Je=!0,Ci=null,r=SA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qu(),n===i){e=Cs(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return TA(e),t===null&&$y(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uy(n,i)?o=null:s!==null&&Uy(n,s)&&(e.flags|=32),KA(t,e),Pr(t,e,o,r),e.child;case 6:return t===null&&$y(e),null;case 13:return ZA(t,e,r);case 4:return P1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zu(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),wE(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(Ip,n._currentValue),n._currentValue=o,s!==null)if(Di(s.value,o)){if(s.children===i.children&&!Xr.current){e=Cs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=xs(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Hy(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Hy(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ou(e,r),i=ai(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=wi(n,e.pendingProps),i=wi(n.type,i),EE(t,e,n,i,r);case 15:return YA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),rp(t,e),e.tag=1,Yr(n)?(t=!0,Dp(e)):t=!1,Ou(e,r),WA(e,n,i),Wy(e,n,i,r),Yy(null,e,n,!0,t,r);case 19:return JA(t,e,r);case 22:return qA(t,e,r)}throw Error(j(156,e.tag))};function mR(t,e){return $P(t,e)}function I6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,r,n){return new I6(t,e,r,n)}function $1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F6(t){if(typeof t=="function")return $1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a1)return 11;if(t===u1)return 14}return 2}function yo(t,e){var r=t.alternate;return r===null?(r=ei(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sp(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")$1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hu:return ha(r.children,i,s,e);case o1:o=8,i|=8;break;case my:return t=ei(12,r,e,i|2),t.elementType=my,t.lanes=s,t;case gy:return t=ei(13,r,e,i),t.elementType=gy,t.lanes=s,t;case _y:return t=ei(19,r,e,i),t.elementType=_y,t.lanes=s,t;case TP:return $m(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wP:o=10;break e;case EP:o=9;break e;case a1:o=11;break e;case u1:o=14;break e;case qs:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=ei(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ha(t,e,r,n){return t=ei(7,t,n,e),t.lanes=r,t}function $m(t,e,r,n){return t=ei(22,t,n,e),t.elementType=TP,t.lanes=r,t.stateNode={isHidden:!1},t}function n_(t,e,r){return t=ei(6,t,null,e),t.lanes=r,t}function i_(t,e,r){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L0(0),this.expirationTimes=L0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H1(t,e,r,n,i,s,o,a,u){return t=new U6(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ei(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},C1(s),t}function L6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gR(t){if(!t)return So;t=t._reactInternals;e:{if(La(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Yr(r))return gA(t,r,e)}return e}function _R(t,e,r,n,i,s,o,a,u){return t=H1(r,n,!0,t,i,s,o,a,u),t.context=gR(null),r=t.current,n=Br(),i=_o(r),s=xs(n,i),s.callback=e??null,mo(r,s,i),t.current.lanes=i,ah(t,i,n),qr(t,n),t}function Hm(t,e,r,n){var i=e.current,s=Br(),o=_o(i);return r=gR(r),e.context===null?e.context=r:e.pendingContext=r,e=xs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=mo(i,e,o),t!==null&&(Mi(t,i,o,s),Jf(t,i,o)),o}function Wp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function j1(t,e){FE(t,e),(t=t.alternate)&&FE(t,e)}function N6(){return null}var yR=typeof reportError=="function"?reportError:function(t){console.error(t)};function W1(t){this._internalRoot=t}jm.prototype.render=W1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Hm(t,e,null,null)};jm.prototype.unmount=W1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wa(function(){Hm(null,t,null,null)}),e[Es]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=qP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Zs.length&&e!==0&&e<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&QP(t)}};function V1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UE(){}function G6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Wp(o);s.call(l)}}var o=_R(e,n,t,0,null,!1,!1,"",UE);return t._reactRootContainer=o,t[Es]=o.current,md(t.nodeType===8?t.parentNode:t),wa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Wp(u);a.call(l)}}var u=H1(t,0,!1,null,null,!1,!1,"",UE);return t._reactRootContainer=u,t[Es]=u.current,md(t.nodeType===8?t.parentNode:t),wa(function(){Hm(e,u,r,n)}),u}function Vm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Wp(o);a.call(u)}}Hm(e,o,t,i)}else o=G6(r,e,t,i,n);return Wp(o)}XP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wc(e.pendingLanes);r!==0&&(d1(e,r|1),qr(e,Ct()),!(Ce&6)&&(tl=Ct()+500,Do()))}break;case 13:wa(function(){var n=Ts(t,1);if(n!==null){var i=Br();Mi(n,t,1,i)}}),j1(t,1)}};h1=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var r=Br();Mi(e,t,134217728,r)}j1(t,134217728)}};YP=function(t){if(t.tag===13){var e=_o(t),r=Ts(t,e);if(r!==null){var n=Br();Mi(r,t,e,n)}j1(t,e)}};qP=function(){return Fe};KP=function(t,e){var r=Fe;try{return Fe=t,e()}finally{Fe=r}};Py=function(t,e,r){switch(e){case"input":if(xy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Fm(n);if(!i)throw Error(j(90));PP(n),xy(n,i)}}}break;case"textarea":RP(t,r);break;case"select":e=r.value,e!=null&&Mu(t,!!r.multiple,e,!1)}};FP=N1;UP=wa;var z6={usingClientEntryPoint:!1,Events:[lh,gu,Fm,OP,IP,N1]},Jl={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$6={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GP(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||N6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Dm=of.inject($6),qi=of}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;Dn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(e))throw Error(j(200));return L6(t,e,null,r)};Dn.createRoot=function(t,e){if(!V1(t))throw Error(j(299));var r=!1,n="",i=yR;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H1(t,1,!1,null,null,r,!1,n,i),t[Es]=e.current,md(t.nodeType===8?t.parentNode:t),new W1(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=GP(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return wa(t)};Dn.hydrate=function(t,e,r){if(!Wm(e))throw Error(j(200));return Vm(null,t,e,!0,r)};Dn.hydrateRoot=function(t,e,r){if(!V1(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=yR;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=_R(e,null,t,1,r??null,i,!1,s,o),t[Es]=e.current,md(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new jm(e)};Dn.render=function(t,e,r){if(!Wm(e))throw Error(j(200));return Vm(null,t,e,!1,r)};Dn.unmountComponentAtNode=function(t){if(!Wm(t))throw Error(j(40));return t._reactRootContainer?(wa(function(){Vm(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};Dn.unstable_batchedUpdates=N1;Dn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wm(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Vm(t,e,r,!1,n)};Dn.version="18.3.1-next-f1338f8080-20240426";function vR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vR)}catch(t){console.error(t)}}vR(),vP.exports=Dn;var Xm=vP.exports;const Tc=wl(Xm),H6=aP({__proto__:null,default:Tc},[Xm]);var LE=Xm;fy.createRoot=LE.createRoot,fy.hydrateRoot=LE.hydrateRoot;const Ed={black:"#000",white:"#fff"},Xa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ya={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ka={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Qa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ec={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},j6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Td(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const W6=Object.freeze(Object.defineProperty({__proto__:null,default:Td},Symbol.toStringTag,{value:"Module"})),rl="$$material";function D(){return D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D.apply(null,arguments)}function he(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xR(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var V6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,X6=xR(function(t){return V6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Y6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function q6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var K6=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(q6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Y6(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),_r="-ms-",Vp="-moz-",Pe="-webkit-",bR="comm",X1="rule",Y1="decl",Q6="@import",SR="@keyframes",Z6="@layer",J6=Math.abs,Ym=String.fromCharCode,eL=Object.assign;function tL(t,e){return ar(t,0)^45?(((e<<2^ar(t,0))<<2^ar(t,1))<<2^ar(t,2))<<2^ar(t,3):0}function wR(t){return t.trim()}function rL(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,r){return t.replace(e,r)}function ov(t,e){return t.indexOf(e)}function ar(t,e){return t.charCodeAt(e)|0}function Cd(t,e,r){return t.slice(e,r)}function ji(t){return t.length}function q1(t){return t.length}function af(t,e){return e.push(t),t}function nL(t,e){return t.map(e).join("")}var qm=1,nl=1,ER=0,sn=0,Ut=0,Pl="";function Km(t,e,r,n,i,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:qm,column:nl,length:o,return:""}}function tc(t,e){return eL(Km("",null,null,"",null,null,0),t,{length:-t.length},e)}function iL(){return Ut}function sL(){return Ut=sn>0?ar(Pl,--sn):0,nl--,Ut===10&&(nl=1,qm--),Ut}function bn(){return Ut=sn<ER?ar(Pl,sn++):0,nl++,Ut===10&&(nl=1,qm++),Ut}function Qi(){return ar(Pl,sn)}function op(){return sn}function dh(t,e){return Cd(Pl,t,e)}function Pd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TR(t){return qm=nl=1,ER=ji(Pl=t),sn=0,[]}function CR(t){return Pl="",t}function ap(t){return wR(dh(sn-1,av(t===91?t+2:t===40?t+1:t)))}function oL(t){for(;(Ut=Qi())&&Ut<33;)bn();return Pd(t)>2||Pd(Ut)>3?"":" "}function aL(t,e){for(;--e&&bn()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return dh(t,op()+(e<6&&Qi()==32&&bn()==32))}function av(t){for(;bn();)switch(Ut){case t:return sn;case 34:case 39:t!==34&&t!==39&&av(Ut);break;case 40:t===41&&av(t);break;case 92:bn();break}return sn}function uL(t,e){for(;bn()&&t+Ut!==57;)if(t+Ut===84&&Qi()===47)break;return"/*"+dh(e,sn-1)+"*"+Ym(t===47?t:bn())}function lL(t){for(;!Pd(Qi());)bn();return dh(t,sn)}function cL(t){return CR(up("",null,null,null,[""],t=TR(t),0,[0],t))}function up(t,e,r,n,i,s,o,a,u){for(var l=0,c=0,d=o,h=0,f=0,p=0,m=1,g=1,_=1,v=0,y="",x=i,S=s,w=n,b=y;g;)switch(p=v,v=bn()){case 40:if(p!=108&&ar(b,d-1)==58){ov(b+=Ae(ap(v),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:b+=ap(v);break;case 9:case 10:case 13:case 32:b+=oL(p);break;case 92:b+=aL(op()-1,7);continue;case 47:switch(Qi()){case 42:case 47:af(dL(uL(bn(),op()),e,r),u);break;default:b+="/"}break;case 123*m:a[l++]=ji(b)*_;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:_==-1&&(b=Ae(b,/\f/g,"")),f>0&&ji(b)-d&&af(f>32?GE(b+";",n,r,d-1):GE(Ae(b," ","")+";",n,r,d-2),u);break;case 59:b+=";";default:if(af(w=NE(b,e,r,l,c,i,a,y,x=[],S=[],d),s),v===123)if(c===0)up(b,e,w,w,x,s,d,a,S);else switch(h===99&&ar(b,3)===110?100:h){case 100:case 108:case 109:case 115:up(t,w,w,n&&af(NE(t,w,w,0,0,i,a,y,i,x=[],d),S),i,S,d,a,n?x:S);break;default:up(b,w,w,w,[""],S,0,a,S)}}l=c=f=0,m=_=1,y=b="",d=o;break;case 58:d=1+ji(b),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&sL()==125)continue}switch(b+=Ym(v),v*m){case 38:_=c>0?1:(b+="\f",-1);break;case 44:a[l++]=(ji(b)-1)*_,_=1;break;case 64:Qi()===45&&(b+=ap(bn())),h=Qi(),c=d=ji(y=b+=lL(op())),v++;break;case 45:p===45&&ji(b)==2&&(m=0)}}return s}function NE(t,e,r,n,i,s,o,a,u,l,c){for(var d=i-1,h=i===0?s:[""],f=q1(h),p=0,m=0,g=0;p<n;++p)for(var _=0,v=Cd(t,d+1,d=J6(m=o[p])),y=t;_<f;++_)(y=wR(m>0?h[_]+" "+v:Ae(v,/&\f/g,h[_])))&&(u[g++]=y);return Km(t,e,r,i===0?X1:a,u,l,c)}function dL(t,e,r){return Km(t,e,r,bR,Ym(iL()),Cd(t,2,-2),0)}function GE(t,e,r,n){return Km(t,e,r,Y1,Cd(t,0,n),Cd(t,n+1,-1),n)}function Fu(t,e){for(var r="",n=q1(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function hL(t,e,r,n){switch(t.type){case Z6:if(t.children.length)break;case Q6:case Y1:return t.return=t.return||t.value;case bR:return"";case SR:return t.return=t.value+"{"+Fu(t.children,n)+"}";case X1:t.value=t.props.join(",")}return ji(r=Fu(t.children,n))?t.return=t.value+"{"+r+"}":""}function fL(t){var e=q1(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function pL(t){return function(e){e.root||(e=e.return)&&t(e)}}var mL=function(e,r,n){for(var i=0,s=0;i=s,s=Qi(),i===38&&s===12&&(r[n]=1),!Pd(s);)bn();return dh(e,sn)},gL=function(e,r){var n=-1,i=44;do switch(Pd(i)){case 0:i===38&&Qi()===12&&(r[n]=1),e[n]+=mL(sn-1,r,n);break;case 2:e[n]+=ap(i);break;case 4:if(i===44){e[++n]=Qi()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Ym(i)}while(i=bn());return e},_L=function(e,r){return CR(gL(TR(e),r))},zE=new WeakMap,yL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!zE.get(n))&&!i){zE.set(e,!0);for(var s=[],o=_L(r,s),a=n.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},vL=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function PR(t,e){switch(tL(t,e)){case 5103:return Pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+t+Vp+t+_r+t+t;case 6828:case 4268:return Pe+t+_r+t+t;case 6165:return Pe+t+_r+"flex-"+t+t;case 5187:return Pe+t+Ae(t,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+_r+"flex-$1$2")+t;case 5443:return Pe+t+_r+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return Pe+t+_r+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return Pe+t+_r+Ae(t,"shrink","negative")+t;case 5292:return Pe+t+_r+Ae(t,"basis","preferred-size")+t;case 6060:return Pe+"box-"+Ae(t,"-grow","")+Pe+t+_r+Ae(t,"grow","positive")+t;case 4554:return Pe+Ae(t,/([^-])(transform)/g,"$1"+Pe+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,Pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ji(t)-1-e>6)switch(ar(t,e+1)){case 109:if(ar(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Vp+(ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ov(t,"stretch")?PR(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ar(t,e+1)!==115)break;case 6444:switch(ar(t,ji(t)-3-(~ov(t,"!important")&&10))){case 107:return Ae(t,":",":"+Pe)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(ar(t,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+_r+"$2box$3")+t}break;case 5936:switch(ar(t,e+11)){case 114:return Pe+t+_r+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pe+t+_r+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pe+t+_r+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pe+t+_r+t+t}return t}var xL=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case Y1:e.return=PR(e.value,e.length);break;case SR:return Fu([tc(e,{value:Ae(e.value,"@","@"+Pe)})],i);case X1:if(e.length)return nL(e.props,function(s){switch(rL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fu([tc(e,{props:[Ae(s,/:(read-\w+)/,":"+Vp+"$1")]})],i);case"::placeholder":return Fu([tc(e,{props:[Ae(s,/:(plac\w+)/,":"+Pe+"input-$1")]}),tc(e,{props:[Ae(s,/:(plac\w+)/,":"+Vp+"$1")]}),tc(e,{props:[Ae(s,/:(plac\w+)/,_r+"input-$1")]})],i)}return""})}},bL=[xL],AR=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||bL,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),_=1;_<g.length;_++)s[g[_]]=!0;a.push(m)});var u,l=[yL,vL];{var c,d=[hL,pL(function(m){c.insert(m)})],h=fL(l.concat(i,d)),f=function(g){return Fu(cL(g),h)};u=function(g,_,v,y){c=v,f(g?g+"{"+_.styles+"}":_.styles),y&&(p.inserted[_.name]=!0)}}var p={key:r,sheet:new K6({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p},RR={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nr=typeof Symbol=="function"&&Symbol.for,K1=nr?Symbol.for("react.element"):60103,Q1=nr?Symbol.for("react.portal"):60106,Qm=nr?Symbol.for("react.fragment"):60107,Zm=nr?Symbol.for("react.strict_mode"):60108,Jm=nr?Symbol.for("react.profiler"):60114,eg=nr?Symbol.for("react.provider"):60109,tg=nr?Symbol.for("react.context"):60110,Z1=nr?Symbol.for("react.async_mode"):60111,rg=nr?Symbol.for("react.concurrent_mode"):60111,ng=nr?Symbol.for("react.forward_ref"):60112,ig=nr?Symbol.for("react.suspense"):60113,SL=nr?Symbol.for("react.suspense_list"):60120,sg=nr?Symbol.for("react.memo"):60115,og=nr?Symbol.for("react.lazy"):60116,wL=nr?Symbol.for("react.block"):60121,EL=nr?Symbol.for("react.fundamental"):60117,TL=nr?Symbol.for("react.responder"):60118,CL=nr?Symbol.for("react.scope"):60119;function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case K1:switch(t=t.type,t){case Z1:case rg:case Qm:case Jm:case Zm:case ig:return t;default:switch(t=t&&t.$$typeof,t){case tg:case ng:case og:case sg:case eg:return t;default:return e}}case Q1:return e}}}function MR(t){return On(t)===rg}Le.AsyncMode=Z1;Le.ConcurrentMode=rg;Le.ContextConsumer=tg;Le.ContextProvider=eg;Le.Element=K1;Le.ForwardRef=ng;Le.Fragment=Qm;Le.Lazy=og;Le.Memo=sg;Le.Portal=Q1;Le.Profiler=Jm;Le.StrictMode=Zm;Le.Suspense=ig;Le.isAsyncMode=function(t){return MR(t)||On(t)===Z1};Le.isConcurrentMode=MR;Le.isContextConsumer=function(t){return On(t)===tg};Le.isContextProvider=function(t){return On(t)===eg};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===K1};Le.isForwardRef=function(t){return On(t)===ng};Le.isFragment=function(t){return On(t)===Qm};Le.isLazy=function(t){return On(t)===og};Le.isMemo=function(t){return On(t)===sg};Le.isPortal=function(t){return On(t)===Q1};Le.isProfiler=function(t){return On(t)===Jm};Le.isStrictMode=function(t){return On(t)===Zm};Le.isSuspense=function(t){return On(t)===ig};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qm||t===rg||t===Jm||t===Zm||t===ig||t===SL||typeof t=="object"&&t!==null&&(t.$$typeof===og||t.$$typeof===sg||t.$$typeof===eg||t.$$typeof===tg||t.$$typeof===ng||t.$$typeof===EL||t.$$typeof===TL||t.$$typeof===CL||t.$$typeof===wL)};Le.typeOf=On;RR.exports=Le;var PL=RR.exports,BR=PL,AL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DR={};DR[BR.ForwardRef]=AL;DR[BR.Memo]=RL;var ML=!0;function BL(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var kR=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||ML===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},OR=function(e,r,n){kR(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function DL(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var kL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},OL=/[A-Z]|^ms/g,IL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IR=function(e){return e.charCodeAt(1)===45},$E=function(e){return e!=null&&typeof e!="boolean"},s_=xR(function(t){return IR(t)?t:t.replace(OL,"-$&").toLowerCase()}),HE=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(IL,function(n,i,s){return Wi={name:i,styles:s,next:Wi},i})}return kL[e]!==1&&!IR(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ad(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Wi={name:r.name,styles:r.styles,next:Wi},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Wi={name:n.name,styles:n.styles,next:Wi},n=n.next;var i=r.styles+";";return i}return FL(t,e,r)}case"function":{if(t!==void 0){var s=Wi,o=r(t);return Wi=s,Ad(t,e,o)}break}}if(e==null)return r;var a=e[r];return a!==void 0?a:r}function FL(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ad(t,e,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=s+"{"+e[o]+"}":$E(o)&&(n+=s_(s)+":"+HE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)$E(o[a])&&(n+=s_(s)+":"+HE(s,o[a])+";");else{var u=Ad(t,e,o);switch(s){case"animation":case"animationName":{n+=s_(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var jE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wi,J1=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Wi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ad(n,r,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ad(n,r,e[a]),i&&(s+=o[a]);jE.lastIndex=0;for(var u="",l;(l=jE.exec(s))!==null;)u+="-"+l[1];var c=DL(s)+u;return{name:c,styles:s,next:Wi}},UL=function(e){return e()},FR=Yu.useInsertionEffect?Yu.useInsertionEffect:!1,LL=FR||UL,WE=FR||C.useLayoutEffect,UR=C.createContext(typeof HTMLElement<"u"?AR({key:"css"}):null),NL=UR.Provider,LR=function(e){return C.forwardRef(function(r,n){var i=C.useContext(UR);return e(r,i,n)})},hh=C.createContext({}),o_={exports:{}},VE;function NR(){return VE||(VE=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(o_)),o_.exports}NR();var GL=LR(function(t,e){var r=t.styles,n=J1([r],void 0,C.useContext(hh)),i=C.useRef();return WE(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),WE(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(n.next!==void 0&&OR(e,n.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function GR(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return J1(e)}var ag=function(){var e=GR.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},zL=X6,$L=function(e){return e!=="theme"},XE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?zL:$L},YE=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},HL=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return kR(r,n,i),LL(function(){return OR(r,n,i)}),null},jL=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,o;r!==void 0&&(s=r.label,o=r.target);var a=YE(e,r,n),u=a||XE(i),l=!u("as");return function(){var c=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=LR(function(m,g,_){var v=l&&m.as||i,y="",x=[],S=m;if(m.theme==null){S={};for(var w in m)S[w]=m[w];S.theme=C.useContext(hh)}typeof m.className=="string"?y=BL(g.registered,x,m.className):m.className!=null&&(y=m.className+" ");var b=J1(d.concat(x),g.registered,S);y+=g.key+"-"+b.name,o!==void 0&&(y+=" "+o);var T=l&&a===void 0?XE(v):u,E={};for(var P in m)l&&P==="as"||T(P)&&(E[P]=m[P]);return E.className=y,E.ref=_,C.createElement(C.Fragment,null,C.createElement(HL,{cache:g,serialized:b,isStringTag:typeof v=="string"}),C.createElement(v,E))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,D({},r,g,{shouldForwardProp:YE(p,g,!0)})).apply(void 0,d)},p}},WL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uv=jL.bind();WL.forEach(function(t){uv[t]=uv(t)});var zR={exports:{}},VL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XL=VL,YL=XL;function $R(){}function HR(){}HR.resetWarningCache=$R;var qL=function(){function t(n,i,s,o,a,u){if(u!==YL){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HR,resetWarningCache:$R};return r.PropTypes=r,r};zR.exports=qL();var KL=zR.exports;const QL=wl(KL);let lv;typeof document=="object"&&(lv=AR({key:"css",prepend:!0}));function ZL(t){const{injectFirst:e,children:r}=t;return e&&lv?R.jsx(NL,{value:lv,children:r}):r}function JL(t){return t==null||Object.keys(t).length===0}function eN(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(JL(i)?r:i):e;return R.jsx(GL,{styles:n})}function eb(t,e){return uv(t,e)}const jR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},tN=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:eN,StyledEngineProvider:ZL,ThemeContext:hh,css:GR,default:eb,internal_processStyles:jR,keyframes:ag},Symbol.toStringTag,{value:"Module"}));function gs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function WR(t){if(!gs(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=WR(t[r])}),e}function si(t,e,r={clone:!0}){const n=r.clone?D({},t):t;return gs(t)&&gs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(gs(e[i])&&i in t&&gs(t[i])?n[i]=si(t[i],e[i],r):r.clone?n[i]=gs(e[i])?WR(e[i]):e[i]:n[i]=e[i])}),n}const rN=Object.freeze(Object.defineProperty({__proto__:null,default:si,isPlainObject:gs},Symbol.toStringTag,{value:"Module"})),nN=["values","unit","step"],iN=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>D({},r,{[n.key]:n.val}),{})};function VR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=he(t,nN),s=iN(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function u(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function l(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-n/100}${r})`}function c(h){return o.indexOf(h)+1<o.length?l(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?u(o[f]):l(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return D({keys:o,values:s,up:a,down:u,between:l,only:c,not:d,unit:r},i)}const sN={borderRadius:4};function jc(t,e){return e?si(t,e,{clone:!1}):t}const tb={xs:0,sm:600,md:900,lg:1200,xl:1536},qE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${tb[t]}px)`};function ki(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||qE;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=r(e[u]),o),{})}if(typeof e=="object"){const s=n.breakpoints||qE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||tb).indexOf(a)!==-1){const u=s.up(a);o[u]=r(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return r(e)}function XR(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function YR(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function oN(t,...e){const r=XR(t),n=[r,...e].reduce((i,s)=>si(i,s),{});return YR(Object.keys(r),n)}function aN(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function a_({values:t,breakpoints:e,base:r}){const n=r||aN(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function ft(t){if(typeof t!="string")throw new Error(Td(7));return t.charAt(0).toUpperCase()+t.slice(1)}const uN=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}));function il(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Xp(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=il(t,r)||n,e&&(i=e(i,n,t)),i}function Rt(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,l=il(u,n)||{};return ki(o,a,d=>{let h=Xp(l,i,d);return d===h&&typeof d=="string"&&(h=Xp(l,i,`${e}${d==="default"?"":ft(d)}`,d)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[e],s}function lN(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const cN={m:"margin",p:"padding"},dN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},KE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hN=lN(t=>{if(t.length>2)if(KE[t])t=KE[t];else return[t];const[e,r]=t.split(""),n=cN[e],i=dN[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),rb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rb,...nb];function fh(t,e,r,n){var i;const s=(i=il(t,e,!1))!=null?i:r;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function ib(t){return fh(t,"spacing",8)}function Ea(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function fN(t,e){return r=>t.reduce((n,i)=>(n[i]=Ea(e,r),n),{})}function pN(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=hN(r),s=fN(i,n),o=t[r];return ki(t,o,s)}function qR(t,e){const r=ib(t.theme);return Object.keys(t).map(n=>pN(t,e,n,r)).reduce(jc,{})}function mt(t){return qR(t,rb)}mt.propTypes={};mt.filterProps=rb;function gt(t){return qR(t,nb)}gt.propTypes={};gt.filterProps=nb;function mN(t=8){if(t.mui)return t;const e=ib({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function ug(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?jc(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Kn(t){return typeof t!="number"?t:`${t}px solid`}function pi(t,e){return Rt({prop:t,themeKey:"borders",transform:e})}const gN=pi("border",Kn),_N=pi("borderTop",Kn),yN=pi("borderRight",Kn),vN=pi("borderBottom",Kn),xN=pi("borderLeft",Kn),bN=pi("borderColor"),SN=pi("borderTopColor"),wN=pi("borderRightColor"),EN=pi("borderBottomColor"),TN=pi("borderLeftColor"),CN=pi("outline",Kn),PN=pi("outlineColor"),lg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=fh(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Ea(e,n)});return ki(t,t.borderRadius,r)}return null};lg.propTypes={};lg.filterProps=["borderRadius"];ug(gN,_N,yN,vN,xN,bN,SN,wN,EN,TN,lg,CN,PN);const cg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=fh(t.theme,"spacing",8),r=n=>({gap:Ea(e,n)});return ki(t,t.gap,r)}return null};cg.propTypes={};cg.filterProps=["gap"];const dg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=fh(t.theme,"spacing",8),r=n=>({columnGap:Ea(e,n)});return ki(t,t.columnGap,r)}return null};dg.propTypes={};dg.filterProps=["columnGap"];const hg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=fh(t.theme,"spacing",8),r=n=>({rowGap:Ea(e,n)});return ki(t,t.rowGap,r)}return null};hg.propTypes={};hg.filterProps=["rowGap"];const AN=Rt({prop:"gridColumn"}),RN=Rt({prop:"gridRow"}),MN=Rt({prop:"gridAutoFlow"}),BN=Rt({prop:"gridAutoColumns"}),DN=Rt({prop:"gridAutoRows"}),kN=Rt({prop:"gridTemplateColumns"}),ON=Rt({prop:"gridTemplateRows"}),IN=Rt({prop:"gridTemplateAreas"}),FN=Rt({prop:"gridArea"});ug(cg,dg,hg,AN,RN,MN,BN,DN,kN,ON,IN,FN);function Uu(t,e){return e==="grey"?e:t}const UN=Rt({prop:"color",themeKey:"palette",transform:Uu}),LN=Rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Uu}),NN=Rt({prop:"backgroundColor",themeKey:"palette",transform:Uu});ug(UN,LN,NN);function mn(t){return t<=1&&t!==0?`${t*100}%`:t}const GN=Rt({prop:"width",transform:mn}),sb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const s=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||tb[r];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:mn(r)}};return ki(t,t.maxWidth,e)}return null};sb.filterProps=["maxWidth"];const zN=Rt({prop:"minWidth",transform:mn}),$N=Rt({prop:"height",transform:mn}),HN=Rt({prop:"maxHeight",transform:mn}),jN=Rt({prop:"minHeight",transform:mn});Rt({prop:"size",cssProperty:"width",transform:mn});Rt({prop:"size",cssProperty:"height",transform:mn});const WN=Rt({prop:"boxSizing"});ug(GN,sb,zN,$N,HN,jN,WN);const ph={border:{themeKey:"borders",transform:Kn},borderTop:{themeKey:"borders",transform:Kn},borderRight:{themeKey:"borders",transform:Kn},borderBottom:{themeKey:"borders",transform:Kn},borderLeft:{themeKey:"borders",transform:Kn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lg},color:{themeKey:"palette",transform:Uu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Uu},backgroundColor:{themeKey:"palette",transform:Uu},p:{style:gt},pt:{style:gt},pr:{style:gt},pb:{style:gt},pl:{style:gt},px:{style:gt},py:{style:gt},padding:{style:gt},paddingTop:{style:gt},paddingRight:{style:gt},paddingBottom:{style:gt},paddingLeft:{style:gt},paddingX:{style:gt},paddingY:{style:gt},paddingInline:{style:gt},paddingInlineStart:{style:gt},paddingInlineEnd:{style:gt},paddingBlock:{style:gt},paddingBlockStart:{style:gt},paddingBlockEnd:{style:gt},m:{style:mt},mt:{style:mt},mr:{style:mt},mb:{style:mt},ml:{style:mt},mx:{style:mt},my:{style:mt},margin:{style:mt},marginTop:{style:mt},marginRight:{style:mt},marginBottom:{style:mt},marginLeft:{style:mt},marginX:{style:mt},marginY:{style:mt},marginInline:{style:mt},marginInlineStart:{style:mt},marginInlineEnd:{style:mt},marginBlock:{style:mt},marginBlockStart:{style:mt},marginBlockEnd:{style:mt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cg},rowGap:{style:hg},columnGap:{style:dg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mn},maxWidth:{style:sb},minWidth:{transform:mn},height:{transform:mn},maxHeight:{transform:mn},minHeight:{transform:mn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function VN(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function XN(t,e){return typeof t=="function"?t(e):t}function KR(){function t(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:u=r,themeKey:l,transform:c,style:d}=a;if(n==null)return null;if(l==="typography"&&n==="inherit")return{[r]:n};const h=il(i,l)||{};return d?d(o):ki(o,n,p=>{let m=Xp(h,c,p);return p===m&&typeof p=="string"&&(m=Xp(h,c,`${r}${p==="default"?"":ft(p)}`,p)),u===!1?m:{[u]:m}})}function e(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const o=(n=s.unstable_sxConfig)!=null?n:ph;function a(u){let l=u;if(typeof u=="function")l=u(s);else if(typeof u!="object")return u;if(!l)return null;const c=XR(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const p=XN(l[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=jc(h,t(f,p,s,o));else{const m=ki({theme:s},p,g=>({[f]:g}));VN(m,p)?h[f]=e({sx:p,theme:s}):h=jc(h,m)}else h=jc(h,t(f,p,s,o))}),YR(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Al=KR();Al.filterProps=["sx"];function QR(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const YN=["breakpoints","palette","spacing","shape"];function mh(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=t,o=he(t,YN),a=VR(r),u=mN(i);let l=si({breakpoints:a,direction:"ltr",components:{},palette:D({mode:"light"},n),spacing:u,shape:D({},sN,s)},o);return l.applyStyles=QR,l=e.reduce((c,d)=>si(c,d),l),l.unstable_sxConfig=D({},ph,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(d){return Al({sx:d,theme:this})},l}const qN=Object.freeze(Object.defineProperty({__proto__:null,default:mh,private_createBreakpoints:VR,unstable_applyStyles:QR},Symbol.toStringTag,{value:"Module"}));function KN(t){return Object.keys(t).length===0}function ZR(t=null){const e=C.useContext(hh);return!e||KN(e)?t:e}const QN=mh();function ob(t=QN){return ZR(t)}const ZN=["sx"],JN=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:ph;return Object.keys(t).forEach(s=>{i[s]?n.systemProps[s]=t[s]:n.otherProps[s]=t[s]}),n};function fg(t){const{sx:e}=t,r=he(t,ZN),{systemProps:n,otherProps:i}=JN(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return gs(a)?D({},n,a):n}:s=D({},n,e),D({},i,{sx:s})}const eG=Object.freeze(Object.defineProperty({__proto__:null,default:Al,extendSxProp:fg,unstable_createStyleFunctionSx:KR,unstable_defaultSxConfig:ph},Symbol.toStringTag,{value:"Module"})),QE=t=>t,tG=()=>{let t=QE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=QE}}},JR=tG();function eM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=eM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ge(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=eM(t))&&(n&&(n+=" "),n+=e);return n}const rG=["className","component"];function nG(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=eb("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Al);return C.forwardRef(function(u,l){const c=ob(r),d=fg(u),{className:h,component:f="div"}=d,p=he(d,rG);return R.jsx(s,D({as:f,ref:l,className:ge(h,i?i(n):n),theme:e&&c[e]||c},p))})}const tM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mt(t,e,r="Mui"){const n=tM[e];return n?`${r}-${n}`:`${JR.generate(t)}-${e}`}function xt(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Mt(t,i,r)}),n}var rM={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=Symbol.for("react.element"),ub=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),gg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),yg=Symbol.for("react.context"),iG=Symbol.for("react.server_context"),vg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),wg=Symbol.for("react.lazy"),sG=Symbol.for("react.offscreen"),nM;nM=Symbol.for("react.module.reference");function mi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ab:switch(t=t.type,t){case pg:case gg:case mg:case xg:case bg:return t;default:switch(t=t&&t.$$typeof,t){case iG:case yg:case vg:case wg:case Sg:case _g:return t;default:return e}}case ub:return e}}}Ne.ContextConsumer=yg;Ne.ContextProvider=_g;Ne.Element=ab;Ne.ForwardRef=vg;Ne.Fragment=pg;Ne.Lazy=wg;Ne.Memo=Sg;Ne.Portal=ub;Ne.Profiler=gg;Ne.StrictMode=mg;Ne.Suspense=xg;Ne.SuspenseList=bg;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return mi(t)===yg};Ne.isContextProvider=function(t){return mi(t)===_g};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ab};Ne.isForwardRef=function(t){return mi(t)===vg};Ne.isFragment=function(t){return mi(t)===pg};Ne.isLazy=function(t){return mi(t)===wg};Ne.isMemo=function(t){return mi(t)===Sg};Ne.isPortal=function(t){return mi(t)===ub};Ne.isProfiler=function(t){return mi(t)===gg};Ne.isStrictMode=function(t){return mi(t)===mg};Ne.isSuspense=function(t){return mi(t)===xg};Ne.isSuspenseList=function(t){return mi(t)===bg};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pg||t===gg||t===mg||t===xg||t===bg||t===sG||typeof t=="object"&&t!==null&&(t.$$typeof===wg||t.$$typeof===Sg||t.$$typeof===_g||t.$$typeof===yg||t.$$typeof===vg||t.$$typeof===nM||t.getModuleId!==void 0)};Ne.typeOf=mi;rM.exports=Ne;var ZE=rM.exports;const oG=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function iM(t){const e=`${t}`.match(oG);return e&&e[1]||""}function sM(t,e=""){return t.displayName||t.name||iM(t)||e}function JE(t,e,r){const n=sM(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function aG(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return sM(t,"Component");if(typeof t=="object")switch(t.$$typeof){case ZE.ForwardRef:return JE(t,t.render,"ForwardRef");case ZE.Memo:return JE(t,t.type,"memo");default:return}}}const uG=Object.freeze(Object.defineProperty({__proto__:null,default:aG,getFunctionName:iM},Symbol.toStringTag,{value:"Module"})),lG=["ownerState"],cG=["variants"],dG=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function hG(t){return Object.keys(t).length===0}function fG(t){return typeof t=="string"&&t.charCodeAt(0)>96}function u_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const pG=mh(),mG=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function uf({defaultTheme:t,theme:e,themeId:r}){return hG(e)?t:e[r]||e}function gG(t){return t?(e,r)=>r[t]:null}function lp(t,e){let{ownerState:r}=e,n=he(e,lG);const i=typeof t=="function"?t(D({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>lp(s,D({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=he(i,cG);return s.forEach(u=>{let l=!0;typeof u.props=="function"?l=u.props(D({ownerState:r},n,r)):Object.keys(u.props).forEach(c=>{(r==null?void 0:r[c])!==u.props[c]&&n[c]!==u.props[c]&&(l=!1)}),l&&(Array.isArray(a)||(a=[a]),a.push(typeof u.style=="function"?u.style(D({ownerState:r},n,r)):u.style))}),a}return i}function _G(t={}){const{themeId:e,defaultTheme:r=pG,rootShouldForwardProp:n=u_,slotShouldForwardProp:i=u_}=t,s=o=>Al(D({},o,{theme:uf(D({},o,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{jR(o,S=>S.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:u,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:h=gG(mG(l))}=a,f=he(a,dG),p=c!==void 0?c:l&&l!=="Root"&&l!=="root"||!1,m=d||!1;let g,_=u_;l==="Root"||l==="root"?_=n:l?_=i:fG(o)&&(_=void 0);const v=eb(o,D({shouldForwardProp:_,label:g},f)),y=S=>typeof S=="function"&&S.__emotion_real!==S||gs(S)?w=>lp(S,D({},w,{theme:uf({theme:w.theme,defaultTheme:r,themeId:e})})):S,x=(S,...w)=>{let b=y(S);const T=w?w.map(y):[];u&&h&&T.push(B=>{const L=uf(D({},B,{defaultTheme:r,themeId:e}));if(!L.components||!L.components[u]||!L.components[u].styleOverrides)return null;const O=L.components[u].styleOverrides,k={};return Object.entries(O).forEach(([G,U])=>{k[G]=lp(U,D({},B,{theme:L}))}),h(B,k)}),u&&!p&&T.push(B=>{var L;const O=uf(D({},B,{defaultTheme:r,themeId:e})),k=O==null||(L=O.components)==null||(L=L[u])==null?void 0:L.variants;return lp({variants:k},D({},B,{theme:O}))}),m||T.push(s);const E=T.length-w.length;if(Array.isArray(S)&&E>0){const B=new Array(E).fill("");b=[...S,...B],b.raw=[...S.raw,...B]}const P=v(b,...T);return o.muiName&&(P.muiName=o.muiName),P};return v.withConfig&&(x.withConfig=v.withConfig),x}}const yG=_G();function oM(t,e){const r=D({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=D({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},s=e[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=D({},s),Object.keys(i).forEach(o=>{r[n][o]=oM(i[o],s[o])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function vG(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:oM(e.components[r].defaultProps,n)}function aM({props:t,name:e,defaultTheme:r,themeId:n}){let i=ob(r);return n&&(i=i[n]||i),vG({theme:i,name:e,props:t})}const Rd=typeof window<"u"?C.useLayoutEffect:C.useEffect;function uM(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const xG=Object.freeze(Object.defineProperty({__proto__:null,default:uM},Symbol.toStringTag,{value:"Module"}));function lM(t,e){var r,n;return C.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function eT(t){return t&&t.ownerDocument||document}function cv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let tT=0;function bG(t){const[e,r]=C.useState(t),n=t||e;return C.useEffect(()=>{e==null&&(tT+=1,r(`mui-${tT}`))},[e]),n}const rT=Yu.useId;function SG(t){if(rT!==void 0){const e=rT();return t??e}return bG(t)}function cM({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=C.useRef(t!==void 0),[s,o]=C.useState(e),a=i?t:s,u=C.useCallback(l=>{i||o(l)},[]);return[a,u]}function wu(t){const e=C.useRef(t);return Rd(()=>{e.current=t}),C.useRef((...r)=>(0,e.current)(...r)).current}function Oi(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{cv(r,e)})},t)}const nT={};function wG(t,e){const r=C.useRef(nT);return r.current===nT&&(r.current=t(e)),r}const EG=[];function TG(t){C.useEffect(t,EG)}class gh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new gh}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function sa(){const t=wG(gh.create).current;return TG(t.disposeEffect),t}let Eg=!0,dv=!1;const CG=new gh,PG={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function AG(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&PG[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function RG(t){t.metaKey||t.altKey||t.ctrlKey||(Eg=!0)}function l_(){Eg=!1}function MG(){this.visibilityState==="hidden"&&dv&&(Eg=!0)}function BG(t){t.addEventListener("keydown",RG,!0),t.addEventListener("mousedown",l_,!0),t.addEventListener("pointerdown",l_,!0),t.addEventListener("touchstart",l_,!0),t.addEventListener("visibilitychange",MG,!0)}function DG(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Eg||AG(e)}function lb(){const t=C.useCallback(i=>{i!=null&&BG(i.ownerDocument)},[]),e=C.useRef(!1);function r(){return e.current?(dv=!0,CG.start(100,()=>{dv=!1}),e.current=!1,!0):!1}function n(i){return DG(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function Bt(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),r&&r[o]&&s.push(r[o])}return s},[]).join(" ")}),n}const dM=C.createContext(null);function hM(){return C.useContext(dM)}const kG=typeof Symbol=="function"&&Symbol.for,OG=kG?Symbol.for("mui.nested"):"__THEME_NESTED__";function IG(t,e){return typeof e=="function"?e(t):D({},t,e)}function FG(t){const{children:e,theme:r}=t,n=hM(),i=C.useMemo(()=>{const s=n===null?r:IG(n,r);return s!=null&&(s[OG]=n!==null),s},[r,n]);return R.jsx(dM.Provider,{value:i,children:e})}const UG=["value"],fM=C.createContext();function LG(t){let{value:e}=t,r=he(t,UG);return R.jsx(fM.Provider,D({value:e??!0},r))}const NG=()=>{const t=C.useContext(fM);return t??!1},iT={};function sT(t,e,r,n=!1){return C.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const s=r(i),o=t?D({},e,{[t]:s}):s;return n?()=>o:o}return t?D({},e,{[t]:r}):D({},e,r)},[t,e,r,n])}function GG(t){const{children:e,theme:r,themeId:n}=t,i=ZR(iT),s=hM()||iT,o=sT(n,i,r),a=sT(n,s,r,!0),u=o.direction==="rtl";return R.jsx(FG,{theme:a,children:R.jsx(hh.Provider,{value:o,children:R.jsx(LG,{value:u,children:e})})})}const zG=["component","direction","spacing","divider","children","className","useFlexGap"],$G=mh(),HG=yG("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function jG(t){return aM({props:t,name:"MuiStack",defaultTheme:$G})}function WG(t,e){const r=C.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(C.cloneElement(e,{key:`separator-${s}`})),n),[])}const VG=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],XG=({ownerState:t,theme:e})=>{let r=D({display:"flex",flexDirection:"column"},ki({theme:e},a_({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=ib(e),i=Object.keys(e.breakpoints.values).reduce((u,l)=>((typeof t.spacing=="object"&&t.spacing[l]!=null||typeof t.direction=="object"&&t.direction[l]!=null)&&(u[l]=!0),u),{}),s=a_({values:t.direction,base:i}),o=a_({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((u,l,c)=>{if(!s[u]){const h=l>0?s[c[l-1]]:"column";s[u]=h}}),r=si(r,ki({theme:e},o,(u,l)=>t.useFlexGap?{gap:Ea(n,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${VG(l?s[l]:t.direction)}`]:Ea(n,u)}}))}return r=oN(e.breakpoints,r),r};function YG(t={}){const{createStyledComponent:e=HG,useThemeProps:r=jG,componentName:n="MuiStack"}=t,i=()=>Bt({root:["root"]},u=>Mt(n,u),{}),s=e(XG);return C.forwardRef(function(u,l){const c=r(u),d=fg(c),{component:h="div",direction:f="column",spacing:p=0,divider:m,children:g,className:_,useFlexGap:v=!1}=d,y=he(d,zG),x={direction:f,spacing:p,useFlexGap:v},S=i();return R.jsx(s,D({as:h,ownerState:x,ref:l,className:ge(S.root,_)},y,{children:m?WG(g,m):g}))})}function qG(t,e){return D({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Dt={},pM={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(pM);var mM=pM.exports;const KG=Ro(W6),QG=Ro(xG);var gM=mM;Object.defineProperty(Dt,"__esModule",{value:!0});var Md=Dt.alpha=xM;Dt.blend=d9;Dt.colorChannel=void 0;var ZG=Dt.darken=db;Dt.decomposeColor=li;var JG=Dt.emphasize=bM,e9=Dt.getContrastRatio=o9;Dt.getLuminance=Yp;Dt.hexToRgb=_M;Dt.hslToRgb=vM;var t9=Dt.lighten=hb;Dt.private_safeAlpha=a9;Dt.private_safeColorChannel=void 0;Dt.private_safeDarken=u9;Dt.private_safeEmphasize=c9;Dt.private_safeLighten=l9;Dt.recomposeColor=Rl;Dt.rgbToHex=s9;var oT=gM(KG),r9=gM(QG);function cb(t,e=0,r=1){return(0,r9.default)(t,e,r)}function _M(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function n9(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function li(t){if(t.type)return t;if(t.charAt(0)==="#")return li(_M(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,oT.default)(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,oT.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const yM=t=>{const e=li(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Dt.colorChannel=yM;const i9=(t,e)=>{try{return yM(t)}catch{return t}};Dt.private_safeColorChannel=i9;function Rl(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function s9(t){if(t.indexOf("#")===0)return t;const{values:e}=li(t);return`#${e.map((r,n)=>n9(n===3?Math.round(255*r):r)).join("")}`}function vM(t){t=li(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),o=(l,c=(l+r/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),Rl({type:a,values:u})}function Yp(t){t=li(t);let e=t.type==="hsl"||t.type==="hsla"?li(vM(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function o9(t,e){const r=Yp(t),n=Yp(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function xM(t,e){return t=li(t),e=cb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Rl(t)}function a9(t,e,r){try{return xM(t,e)}catch{return t}}function db(t,e){if(t=li(t),e=cb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Rl(t)}function u9(t,e,r){try{return db(t,e)}catch{return t}}function hb(t,e){if(t=li(t),e=cb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Rl(t)}function l9(t,e,r){try{return hb(t,e)}catch{return t}}function bM(t,e=.15){return Yp(t)>.5?db(t,e):hb(t,e)}function c9(t,e,r){try{return bM(t,e)}catch{return t}}function d9(t,e,r,n=1){const i=(u,l)=>Math.round((u**(1/n)*(1-r)+l**(1/n)*r)**n),s=li(t),o=li(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Rl({type:"rgb",values:a})}const h9=["mode","contrastThreshold","tonalOffset"],aT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ed.white,default:Ed.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},c_={text:{primary:Ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ed.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uT(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=t9(t.main,i):e==="dark"&&(t.dark=ZG(t.main,s)))}function f9(t="light"){return t==="dark"?{main:qa[200],light:qa[50],dark:qa[400]}:{main:qa[700],light:qa[400],dark:qa[800]}}function p9(t="light"){return t==="dark"?{main:Ya[200],light:Ya[50],dark:Ya[400]}:{main:Ya[500],light:Ya[300],dark:Ya[700]}}function m9(t="light"){return t==="dark"?{main:Xa[500],light:Xa[300],dark:Xa[700]}:{main:Xa[700],light:Xa[400],dark:Xa[800]}}function g9(t="light"){return t==="dark"?{main:Ka[400],light:Ka[300],dark:Ka[700]}:{main:Ka[700],light:Ka[500],dark:Ka[900]}}function _9(t="light"){return t==="dark"?{main:Qa[400],light:Qa[300],dark:Qa[700]}:{main:Qa[800],light:Qa[500],dark:Qa[900]}}function y9(t="light"){return t==="dark"?{main:ec[400],light:ec[300],dark:ec[700]}:{main:"#ed6c02",light:ec[500],dark:ec[900]}}function v9(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=he(t,h9),s=t.primary||f9(e),o=t.secondary||p9(e),a=t.error||m9(e),u=t.info||g9(e),l=t.success||_9(e),c=t.warning||y9(e);function d(m){return e9(m,c_.text.primary)>=r?c_.text.primary:aT.text.primary}const h=({color:m,name:g,mainShade:_=500,lightShade:v=300,darkShade:y=700})=>{if(m=D({},m),!m.main&&m[_]&&(m.main=m[_]),!m.hasOwnProperty("main"))throw new Error(Td(11,g?` (${g})`:"",_));if(typeof m.main!="string")throw new Error(Td(12,g?` (${g})`:"",JSON.stringify(m.main)));return uT(m,"light",v,n),uT(m,"dark",y,n),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:c_,light:aT};return si(D({common:D({},Ed),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:u,name:"info"}),success:h({color:l,name:"success"}),grey:j6,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},f[e]),i)}const x9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function b9(t){return Math.round(t*1e5)/1e5}const lT={textTransform:"uppercase"},cT='"Roboto", "Helvetica", "Arial", sans-serif';function S9(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=cT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:l=16,allVariants:c,pxToRem:d}=r,h=he(r,x9),f=i/14,p=d||(_=>`${_/l*f}rem`),m=(_,v,y,x,S)=>D({fontFamily:n,fontWeight:_,fontSize:p(v),lineHeight:y},n===cT?{letterSpacing:`${b9(x/v)}em`}:{},S,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,lT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,lT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return si(D({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},g),h,{clone:!1})}const w9=.2,E9=.14,T9=.12;function Qe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${w9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${E9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${T9})`].join(",")}const C9=["none",Qe(0,2,1,-1,0,1,1,0,0,1,3,0),Qe(0,3,1,-2,0,2,2,0,0,1,5,0),Qe(0,3,3,-2,0,3,4,0,0,1,8,0),Qe(0,2,4,-1,0,4,5,0,0,1,10,0),Qe(0,3,5,-1,0,5,8,0,0,1,14,0),Qe(0,3,5,-1,0,6,10,0,0,1,18,0),Qe(0,4,5,-2,0,7,10,1,0,2,16,1),Qe(0,5,5,-3,0,8,10,1,0,3,14,2),Qe(0,5,6,-3,0,9,12,1,0,3,16,2),Qe(0,6,6,-3,0,10,14,1,0,4,18,3),Qe(0,6,7,-4,0,11,15,1,0,4,20,3),Qe(0,7,8,-4,0,12,17,2,0,5,22,4),Qe(0,7,8,-4,0,13,19,2,0,5,24,4),Qe(0,7,9,-4,0,14,21,2,0,5,26,4),Qe(0,8,9,-5,0,15,22,2,0,6,28,5),Qe(0,8,10,-5,0,16,24,2,0,6,30,5),Qe(0,8,11,-5,0,17,26,2,0,6,32,5),Qe(0,9,11,-5,0,18,28,2,0,7,34,6),Qe(0,9,12,-6,0,19,29,2,0,7,36,6),Qe(0,10,13,-6,0,20,31,3,0,8,38,7),Qe(0,10,13,-6,0,21,33,3,0,8,40,7),Qe(0,10,14,-6,0,22,35,3,0,8,42,7),Qe(0,11,14,-7,0,23,36,3,0,9,44,8),Qe(0,11,15,-7,0,24,38,3,0,9,46,8)],P9=["duration","easing","delay"],A9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dT(t){return`${Math.round(t)}ms`}function M9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function B9(t){const e=D({},A9,t.easing),r=D({},R9,t.duration);return D({getAutoHeightDuration:M9,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=e.easeInOut,delay:u=0}=s;return he(s,P9),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof o=="string"?o:dT(o)} ${a} ${typeof u=="string"?u:dT(u)}`).join(",")}},t,{easing:e,duration:r})}const D9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},k9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tg(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=t,o=he(t,k9);if(t.vars)throw new Error(Td(18));const a=v9(n),u=mh(t);let l=si(u,{mixins:qG(u.breakpoints,r),palette:a,shadows:C9.slice(),typography:S9(a,s),transitions:B9(i),zIndex:D({},D9)});return l=si(l,o),l=e.reduce((c,d)=>si(c,d),l),l.unstable_sxConfig=D({},ph,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(d){return Al({sx:d,theme:this})},l}const fb=Tg();function Cg(){const t=ob(fb);return t[rl]||t}function bt({props:t,name:e}){return aM({props:t,name:e,defaultTheme:fb,themeId:rl})}var _h={},d_={exports:{}},hT;function O9(){return hT||(hT=1,function(t){function e(r,n){if(r==null)return{};var i={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(n.indexOf(s)>=0)continue;i[s]=r[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(d_)),d_.exports}const SM=Ro(tN),I9=Ro(rN),F9=Ro(uN),U9=Ro(uG),L9=Ro(qN),N9=Ro(eG);var Ml=mM;Object.defineProperty(_h,"__esModule",{value:!0});var G9=_h.default=J9;_h.shouldForwardProp=cp;_h.systemDefaultTheme=void 0;var $n=Ml(NR()),hv=Ml(O9()),fT=X9(SM),z9=I9;Ml(F9);Ml(U9);var $9=Ml(L9),H9=Ml(N9);const j9=["ownerState"],W9=["variants"],V9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function wM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(wM=function(n){return n?r:e})(t)}function X9(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=wM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function Y9(t){return Object.keys(t).length===0}function q9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function cp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const K9=_h.systemDefaultTheme=(0,$9.default)(),Q9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function lf({defaultTheme:t,theme:e,themeId:r}){return Y9(e)?t:e[r]||e}function Z9(t){return t?(e,r)=>r[t]:null}function dp(t,e){let{ownerState:r}=e,n=(0,hv.default)(e,j9);const i=typeof t=="function"?t((0,$n.default)({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(s=>dp(s,(0,$n.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,hv.default)(i,W9);return s.forEach(u=>{let l=!0;typeof u.props=="function"?l=u.props((0,$n.default)({ownerState:r},n,r)):Object.keys(u.props).forEach(c=>{(r==null?void 0:r[c])!==u.props[c]&&n[c]!==u.props[c]&&(l=!1)}),l&&(Array.isArray(a)||(a=[a]),a.push(typeof u.style=="function"?u.style((0,$n.default)({ownerState:r},n,r)):u.style))}),a}return i}function J9(t={}){const{themeId:e,defaultTheme:r=K9,rootShouldForwardProp:n=cp,slotShouldForwardProp:i=cp}=t,s=o=>(0,H9.default)((0,$n.default)({},o,{theme:lf((0,$n.default)({},o,{defaultTheme:r,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,fT.internal_processStyles)(o,S=>S.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:u,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:h=Z9(Q9(l))}=a,f=(0,hv.default)(a,V9),p=c!==void 0?c:l&&l!=="Root"&&l!=="root"||!1,m=d||!1;let g,_=cp;l==="Root"||l==="root"?_=n:l?_=i:q9(o)&&(_=void 0);const v=(0,fT.default)(o,(0,$n.default)({shouldForwardProp:_,label:g},f)),y=S=>typeof S=="function"&&S.__emotion_real!==S||(0,z9.isPlainObject)(S)?w=>dp(S,(0,$n.default)({},w,{theme:lf({theme:w.theme,defaultTheme:r,themeId:e})})):S,x=(S,...w)=>{let b=y(S);const T=w?w.map(y):[];u&&h&&T.push(B=>{const L=lf((0,$n.default)({},B,{defaultTheme:r,themeId:e}));if(!L.components||!L.components[u]||!L.components[u].styleOverrides)return null;const O=L.components[u].styleOverrides,k={};return Object.entries(O).forEach(([G,U])=>{k[G]=dp(U,(0,$n.default)({},B,{theme:L}))}),h(B,k)}),u&&!p&&T.push(B=>{var L;const O=lf((0,$n.default)({},B,{defaultTheme:r,themeId:e})),k=O==null||(L=O.components)==null||(L=L[u])==null?void 0:L.variants;return dp({variants:k},(0,$n.default)({},B,{theme:O}))}),m||T.push(s);const E=T.length-w.length;if(Array.isArray(S)&&E>0){const B=new Array(E).fill("");b=[...S,...B],b.raw=[...S.raw,...B]}const P=v(b,...T);return o.muiName&&(P.muiName=o.muiName),P};return v.withConfig&&(x.withConfig=v.withConfig),x}}function ez(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const EM=t=>ez(t)&&t!=="classes",De=G9({themeId:rl,defaultTheme:fb,rootShouldForwardProp:EM}),tz=["theme"];function TM(t){let{theme:e}=t,r=he(t,tz);const n=e[rl];return R.jsx(GG,D({},r,{themeId:n?rl:void 0,theme:n||e}))}const pT=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function rz(t){return Mt("MuiSvgIcon",t)}xt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const nz=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iz=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${ft(e)}`,`fontSize${ft(r)}`]};return Bt(i,rz,n)},sz=De("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${ft(r.color)}`],e[`fontSize${ft(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,s,o,a,u,l,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),fv=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:l,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,f=he(n,nz),p=C.isValidElement(i)&&i.type==="svg",m=D({},n,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),g={};c||(g.viewBox=h);const _=iz(m);return R.jsxs(sz,D({as:a,className:ge(_.root,s),focusable:"false",color:l,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,d?R.jsx("title",{children:d}):null]}))});fv.muiName="SvgIcon";function Na(t,e){function r(n,i){return R.jsx(fv,D({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=fv.muiName,C.memo(C.forwardRef(r))}var $e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=Symbol.for("react.element"),mb=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),oz=Symbol.for("react.server_context"),Dg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Og=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Fg=Symbol.for("react.lazy"),az=Symbol.for("react.offscreen"),CM;CM=Symbol.for("react.module.reference");function gi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pb:switch(t=t.type,t){case Pg:case Rg:case Ag:case kg:case Og:return t;default:switch(t=t&&t.$$typeof,t){case oz:case Bg:case Dg:case Fg:case Ig:case Mg:return t;default:return e}}case mb:return e}}}$e.ContextConsumer=Bg;$e.ContextProvider=Mg;$e.Element=pb;$e.ForwardRef=Dg;$e.Fragment=Pg;$e.Lazy=Fg;$e.Memo=Ig;$e.Portal=mb;$e.Profiler=Rg;$e.StrictMode=Ag;$e.Suspense=kg;$e.SuspenseList=Og;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return gi(t)===Bg};$e.isContextProvider=function(t){return gi(t)===Mg};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pb};$e.isForwardRef=function(t){return gi(t)===Dg};$e.isFragment=function(t){return gi(t)===Pg};$e.isLazy=function(t){return gi(t)===Fg};$e.isMemo=function(t){return gi(t)===Ig};$e.isPortal=function(t){return gi(t)===mb};$e.isProfiler=function(t){return gi(t)===Rg};$e.isStrictMode=function(t){return gi(t)===Ag};$e.isSuspense=function(t){return gi(t)===kg};$e.isSuspenseList=function(t){return gi(t)===Og};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pg||t===Rg||t===Ag||t===kg||t===Og||t===az||typeof t=="object"&&t!==null&&(t.$$typeof===Fg||t.$$typeof===Ig||t.$$typeof===Mg||t.$$typeof===Bg||t.$$typeof===Dg||t.$$typeof===CM||t.getModuleId!==void 0)};$e.typeOf=gi;function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pv(t,e)}function PM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pv(t,e)}const mT={disabled:!1},qp=Wr.createContext(null);var uz=function(e){return e.scrollTop},Cc="unmounted",Yo="exited",qo="entering",uu="entered",mv="exiting",us=function(t){PM(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=i,a=o&&!o.isMounting?n.enter:n.appear,u;return s.appearStatus=null,n.in?a?(u=Yo,s.appearStatus=qo):u=uu:n.unmountOnExit||n.mountOnEnter?u=Cc:u=Yo,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Cc?{status:Yo}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==qo&&o!==uu&&(s=qo):(o===qo||o===uu)&&(s=mv)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===qo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Tc.findDOMNode(this);o&&uz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yo&&this.setState({status:Cc})},r.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[Tc.findDOMNode(this),a],l=u[0],c=u[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||mT.disabled){this.safeSetState({status:uu},function(){s.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:qo},function(){s.props.onEntering(l,c),s.onTransitionEnd(h,function(){s.safeSetState({status:uu},function(){s.props.onEntered(l,c)})})})},r.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Tc.findDOMNode(this);if(!s||mT.disabled){this.safeSetState({status:Yo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:mv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Yo},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Tc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Cc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=he(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Wr.createElement(qp.Provider,{value:null},typeof o=="function"?o(i,a):Wr.cloneElement(Wr.Children.only(o),a))},e}(Wr.Component);us.contextType=qp;us.propTypes={};function Za(){}us.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Za,onEntering:Za,onEntered:Za,onExit:Za,onExiting:Za,onExited:Za};us.UNMOUNTED=Cc;us.EXITED=Yo;us.ENTERING=qo;us.ENTERED=uu;us.EXITING=mv;function lz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gb(t,e){var r=function(s){return e&&C.isValidElement(s)?e(s):s},n=Object.create(null);return t&&C.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function cz(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(n[u])for(o=0;o<n[u].length;o++){var l=n[u][o];a[n[u][o]]=r(l)}a[u]=r(u)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function oa(t,e,r){return r[e]!=null?r[e]:t.props[e]}function dz(t,e){return gb(t.children,function(r){return C.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:oa(r,"appear",t),enter:oa(r,"enter",t),exit:oa(r,"exit",t)})})}function hz(t,e,r){var n=gb(t.children),i=cz(e,n);return Object.keys(i).forEach(function(s){var o=i[s];if(C.isValidElement(o)){var a=s in e,u=s in n,l=e[s],c=C.isValidElement(l)&&!l.props.in;u&&(!a||c)?i[s]=C.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:oa(o,"exit",t),enter:oa(o,"enter",t)}):!u&&a&&!c?i[s]=C.cloneElement(o,{in:!1}):u&&a&&C.isValidElement(l)&&(i[s]=C.cloneElement(o,{onExited:r.bind(null,o),in:l.props.in,exit:oa(o,"exit",t),enter:oa(o,"enter",t)}))}}),i}var fz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},pz={component:"div",childFactory:function(e){return e}},_b=function(t){PM(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var o=s.handleExited.bind(lz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?dz(i,a):hz(i,o,a),firstRender:!1}},r.handleExited=function(i,s){var o=gb(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=D({},a.children);return delete u[i.key],{children:u}}))},r.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=he(i,["component","childFactory"]),u=this.state.contextValue,l=fz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Wr.createElement(qp.Provider,{value:u},l):Wr.createElement(qp.Provider,{value:u},Wr.createElement(s,a,l))},e}(Wr.Component);_b.propTypes={};_b.defaultProps=pz;const AM=t=>t.scrollTop;function Kp(t,e){var r,n;const{timeout:i,easing:s,style:o={}}=t;return{duration:(r=o.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=o.transitionTimingFunction)!=null?n:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function mz(t){return Mt("MuiPaper",t)}xt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gz=["className","component","elevation","square","variant"],_z=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return Bt(s,mz,i)},yz=De("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return D({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&D({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Md("#fff",pT(e.elevation))}, ${Md("#fff",pT(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),yh=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=n,l=he(n,gz),c=D({},n,{component:s,elevation:o,square:a,variant:u}),d=_z(c);return R.jsx(yz,D({as:s,ownerState:c,className:ge(d.root,i),ref:r},l))});function vz(t){return typeof t=="string"}function Pc(t,e,r){return t===void 0||vz(t)?e:D({},e,{ownerState:D({},e.ownerState,r)})}const xz={disableDefaultClasses:!1},bz=C.createContext(xz);function Sz(t){const{disableDefaultClasses:e}=C.useContext(bz);return r=>e?"":t(r)}function wz(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function Ez(t,e,r){return typeof t=="function"?t(e,r):t}function gT(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Tz(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const f=ge(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),p=D({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),m=D({},r,i,n);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=wz(D({},i,n)),a=gT(n),u=gT(i),l=e(o),c=ge(l==null?void 0:l.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),d=D({},l==null?void 0:l.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=D({},l,r,u,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:l.ref}}const Cz=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pz(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=he(t,Cz),a=s?{}:Ez(n,i),{props:u,internalRef:l}=Tz(D({},o,{externalSlotProps:a})),c=Oi(l,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Pc(r,D({},u,{ref:c}),i)}function Az(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:l}=t,[c,d]=C.useState(!1),h=ge(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=ge(r.child,c&&r.childLeaving,n&&r.childPulsate);return!a&&!c&&d(!0),C.useEffect(()=>{if(!a&&u!=null){const m=setTimeout(u,l);return()=>{clearTimeout(m)}}},[u,a,l]),R.jsx("span",{className:h,style:f,children:R.jsx("span",{className:p})})}const Xn=xt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Rz=["center","classes","className"];let Ug=t=>t,_T,yT,vT,xT;const gv=550,Mz=80,Bz=ag(_T||(_T=Ug`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Dz=ag(yT||(yT=Ug`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),kz=ag(vT||(vT=Ug`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Oz=De("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Iz=De(Az,{name:"MuiTouchRipple",slot:"Ripple"})(xT||(xT=Ug`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Xn.rippleVisible,Bz,gv,({theme:t})=>t.transitions.easing.easeInOut,Xn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Xn.child,Xn.childLeaving,Dz,gv,({theme:t})=>t.transitions.easing.easeInOut,Xn.childPulsate,kz,({theme:t})=>t.transitions.easing.easeInOut),Fz=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=n,a=he(n,Rz),[u,l]=C.useState([]),c=C.useRef(0),d=C.useRef(null);C.useEffect(()=>{d.current&&(d.current(),d.current=null)},[u]);const h=C.useRef(!1),f=sa(),p=C.useRef(null),m=C.useRef(null),g=C.useCallback(x=>{const{pulsate:S,rippleX:w,rippleY:b,rippleSize:T,cb:E}=x;l(P=>[...P,R.jsx(Iz,{classes:{ripple:ge(s.ripple,Xn.ripple),rippleVisible:ge(s.rippleVisible,Xn.rippleVisible),ripplePulsate:ge(s.ripplePulsate,Xn.ripplePulsate),child:ge(s.child,Xn.child),childLeaving:ge(s.childLeaving,Xn.childLeaving),childPulsate:ge(s.childPulsate,Xn.childPulsate)},timeout:gv,pulsate:S,rippleX:w,rippleY:b,rippleSize:T},c.current)]),c.current+=1,d.current=E},[s]),_=C.useCallback((x={},S={},w=()=>{})=>{const{pulsate:b=!1,center:T=i||S.pulsate,fakeElement:E=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const P=E?null:m.current,B=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,O,k;if(T||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)L=Math.round(B.width/2),O=Math.round(B.height/2);else{const{clientX:G,clientY:U}=x.touches&&x.touches.length>0?x.touches[0]:x;L=Math.round(G-B.left),O=Math.round(U-B.top)}if(T)k=Math.sqrt((2*B.width**2+B.height**2)/3),k%2===0&&(k+=1);else{const G=Math.max(Math.abs((P?P.clientWidth:0)-L),L)*2+2,U=Math.max(Math.abs((P?P.clientHeight:0)-O),O)*2+2;k=Math.sqrt(G**2+U**2)}x!=null&&x.touches?p.current===null&&(p.current=()=>{g({pulsate:b,rippleX:L,rippleY:O,rippleSize:k,cb:w})},f.start(Mz,()=>{p.current&&(p.current(),p.current=null)})):g({pulsate:b,rippleX:L,rippleY:O,rippleSize:k,cb:w})},[i,g,f]),v=C.useCallback(()=>{_({},{pulsate:!0})},[_]),y=C.useCallback((x,S)=>{if(f.clear(),(x==null?void 0:x.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{y(x,S)});return}p.current=null,l(w=>w.length>0?w.slice(1):w),d.current=S},[f]);return C.useImperativeHandle(r,()=>({pulsate:v,start:_,stop:y}),[v,_,y]),R.jsx(Oz,D({className:ge(Xn.root,s.root,o),ref:m},a,{children:R.jsx(_b,{component:null,exit:!0,children:u})}))});function Uz(t){return Mt("MuiButtonBase",t)}const Lz=xt("MuiButtonBase",["root","disabled","focusVisible"]),Nz=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gz=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=Bt({root:["root",e&&"disabled",r&&"focusVisible"]},Uz,i);return r&&n&&(o.root+=` ${n}`),o},zz=De("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Lz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$z=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:l=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:_,onFocus:v,onFocusVisible:y,onKeyDown:x,onKeyUp:S,onMouseDown:w,onMouseLeave:b,onMouseUp:T,onTouchEnd:E,onTouchMove:P,onTouchStart:B,tabIndex:L=0,TouchRippleProps:O,touchRippleRef:k,type:G}=n,U=he(n,Nz),H=C.useRef(null),F=C.useRef(null),N=Oi(F,k),{isFocusVisibleRef:$,onFocus:oe,onBlur:V,ref:be}=lb(),[re,ae]=C.useState(!1);l&&re&&ae(!1),C.useImperativeHandle(i,()=>({focusVisible:()=>{ae(!0),H.current.focus()}}),[]);const[_e,Ge]=C.useState(!1);C.useEffect(()=>{Ge(!0)},[]);const Q=_e&&!c&&!l;C.useEffect(()=>{re&&h&&!c&&_e&&F.current.pulsate()},[c,h,re,_e]);function fe(se,Lr,Nr=d){return wu(vi=>(Lr&&Lr(vi),!Nr&&F.current&&F.current[se](vi),!0))}const rt=fe("start",w),wt=fe("stop",g),Oe=fe("stop",_),Nt=fe("stop",T),Tr=fe("stop",se=>{re&&se.preventDefault(),b&&b(se)}),pt=fe("start",B),nt=fe("stop",E),hr=fe("stop",P),Gt=fe("stop",se=>{V(se),$.current===!1&&ae(!1),p&&p(se)},!1),Li=wu(se=>{H.current||(H.current=se.currentTarget),oe(se),$.current===!0&&(ae(!0),y&&y(se)),v&&v(se)}),kt=()=>{const se=H.current;return u&&u!=="button"&&!(se.tagName==="A"&&se.href)},Or=C.useRef(!1),fr=wu(se=>{h&&!Or.current&&re&&F.current&&se.key===" "&&(Or.current=!0,F.current.stop(se,()=>{F.current.start(se)})),se.target===se.currentTarget&&kt()&&se.key===" "&&se.preventDefault(),x&&x(se),se.target===se.currentTarget&&kt()&&se.key==="Enter"&&!l&&(se.preventDefault(),m&&m(se))}),Ir=wu(se=>{h&&se.key===" "&&F.current&&re&&!se.defaultPrevented&&(Or.current=!1,F.current.stop(se,()=>{F.current.pulsate(se)})),S&&S(se),m&&se.target===se.currentTarget&&kt()&&se.key===" "&&!se.defaultPrevented&&m(se)});let Fr=u;Fr==="button"&&(U.href||U.to)&&(Fr=f);const pr={};Fr==="button"?(pr.type=G===void 0?"button":G,pr.disabled=l):(!U.href&&!U.to&&(pr.role="button"),l&&(pr["aria-disabled"]=l));const Vt=Oi(r,be,H),Ur=D({},n,{centerRipple:s,component:u,disabled:l,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:L,focusVisible:re}),ls=Gz(Ur);return R.jsxs(zz,D({as:Fr,className:ge(ls.root,a),ownerState:Ur,onBlur:Gt,onClick:m,onContextMenu:wt,onFocus:Li,onKeyDown:fr,onKeyUp:Ir,onMouseDown:rt,onMouseLeave:Tr,onMouseUp:Nt,onDragLeave:Oe,onTouchEnd:nt,onTouchMove:hr,onTouchStart:pt,ref:Vt,tabIndex:l?-1:L,type:G},pr,U,{children:[o,Q?R.jsx(Fz,D({ref:N,center:s},O)):null]}))});function Hz(t){return Mt("MuiTypography",t)}xt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const jz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Wz=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${ft(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Bt(a,Hz,o)},Vz=De("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${ft(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>D({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),bT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Xz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Yz=t=>Xz[t]||t,We=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTypography"}),i=Yz(n.color),s=fg(D({},n,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=bT}=s,p=he(s,jz),m=D({},s,{align:o,color:i,className:a,component:u,gutterBottom:l,noWrap:c,paragraph:d,variant:h,variantMapping:f}),g=u||(d?"p":f[h]||bT[h])||"span",_=Wz(m);return R.jsx(Vz,D({as:g,ref:r,ownerState:m,className:ge(_.root,a)},p))}),RM="base";function qz(t){return`${RM}--${t}`}function Kz(t,e){return`${RM}-${t}-${e}`}function MM(t,e){const r=tM[e];return r?qz(r):Kz(t,e)}function Qz(t,e){const r={};return e.forEach(n=>{r[n]=MM(t,n)}),r}function Zz(t){return typeof t=="function"?t():t}const Jz=C.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[o,a]=C.useState(null),u=Oi(C.isValidElement(n)?n.ref:null,r);if(Rd(()=>{s||a(Zz(i)||document.body)},[i,s]),Rd(()=>{if(o&&!s)return cv(r,o),()=>{cv(r,null)}},[r,o,s]),s){if(C.isValidElement(n)){const l={ref:u};return C.cloneElement(n,l)}return R.jsx(C.Fragment,{children:n})}return R.jsx(C.Fragment,{children:o&&Xm.createPortal(n,o)})});var Kr="top",ci="bottom",di="right",Qr="left",yb="auto",vh=[Kr,ci,di,Qr],sl="start",Bd="end",e$="clippingParents",BM="viewport",rc="popper",t$="reference",ST=vh.reduce(function(t,e){return t.concat([e+"-"+sl,e+"-"+Bd])},[]),DM=[].concat(vh,[yb]).reduce(function(t,e){return t.concat([e,e+"-"+sl,e+"-"+Bd])},[]),r$="beforeRead",n$="read",i$="afterRead",s$="beforeMain",o$="main",a$="afterMain",u$="beforeWrite",l$="write",c$="afterWrite",d$=[r$,n$,i$,s$,o$,a$,u$,l$,c$];function os(t){return t?(t.nodeName||"").toLowerCase():null}function Tn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ta(t){var e=Tn(t).Element;return t instanceof e||t instanceof Element}function oi(t){var e=Tn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vb(t){if(typeof ShadowRoot>"u")return!1;var e=Tn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function h$(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!oi(s)||!os(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function f$(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(u,l){return u[l]="",u},{});!oi(i)||!os(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const p$={name:"applyStyles",enabled:!0,phase:"write",fn:h$,effect:f$,requires:["computeStyles"]};function Zi(t){return t.split("-")[0]}var fa=Math.max,Qp=Math.min,ol=Math.round;function _v(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kM(){return!/^((?!chrome|android).)*safari/i.test(_v())}function al(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&oi(t)&&(i=t.offsetWidth>0&&ol(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ol(n.height)/t.offsetHeight||1);var o=Ta(t)?Tn(t):window,a=o.visualViewport,u=!kM()&&r,l=(n.left+(u&&a?a.offsetLeft:0))/i,c=(n.top+(u&&a?a.offsetTop:0))/s,d=n.width/i,h=n.height/s;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l,x:l,y:c}}function xb(t){var e=al(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function OM(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&vb(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ps(t){return Tn(t).getComputedStyle(t)}function m$(t){return["table","td","th"].indexOf(os(t))>=0}function ko(t){return((Ta(t)?t.ownerDocument:t.document)||window.document).documentElement}function Lg(t){return os(t)==="html"?t:t.assignedSlot||t.parentNode||(vb(t)?t.host:null)||ko(t)}function wT(t){return!oi(t)||Ps(t).position==="fixed"?null:t.offsetParent}function g$(t){var e=/firefox/i.test(_v()),r=/Trident/i.test(_v());if(r&&oi(t)){var n=Ps(t);if(n.position==="fixed")return null}var i=Lg(t);for(vb(i)&&(i=i.host);oi(i)&&["html","body"].indexOf(os(i))<0;){var s=Ps(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xh(t){for(var e=Tn(t),r=wT(t);r&&m$(r)&&Ps(r).position==="static";)r=wT(r);return r&&(os(r)==="html"||os(r)==="body"&&Ps(r).position==="static")?e:r||g$(t)||e}function bb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wc(t,e,r){return fa(t,Qp(e,r))}function _$(t,e,r){var n=Wc(t,e,r);return n>r?r:n}function IM(){return{top:0,right:0,bottom:0,left:0}}function FM(t){return Object.assign({},IM(),t)}function UM(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var y$=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,FM(typeof e!="number"?e:UM(e,vh))};function v$(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Zi(r.placement),u=bb(a),l=[Qr,di].indexOf(a)>=0,c=l?"height":"width";if(!(!s||!o)){var d=y$(i.padding,r),h=xb(s),f=u==="y"?Kr:Qr,p=u==="y"?ci:di,m=r.rects.reference[c]+r.rects.reference[u]-o[u]-r.rects.popper[c],g=o[u]-r.rects.reference[u],_=xh(s),v=_?u==="y"?_.clientHeight||0:_.clientWidth||0:0,y=m/2-g/2,x=d[f],S=v-h[c]-d[p],w=v/2-h[c]/2+y,b=Wc(x,w,S),T=u;r.modifiersData[n]=(e={},e[T]=b,e.centerOffset=b-w,e)}}function x$(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||OM(e.elements.popper,i)&&(e.elements.arrow=i))}const b$={name:"arrow",enabled:!0,phase:"main",fn:v$,effect:x$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ul(t){return t.split("-")[1]}var S$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function w$(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ol(r*i)/i||0,y:ol(n*i)/i||0}}function ET(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,g=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=Qr,x=Kr,S=window;if(l){var w=xh(r),b="clientHeight",T="clientWidth";if(w===Tn(r)&&(w=ko(r),Ps(w).position!=="static"&&a==="absolute"&&(b="scrollHeight",T="scrollWidth")),w=w,i===Kr||(i===Qr||i===di)&&s===Bd){x=ci;var E=d&&w===S&&S.visualViewport?S.visualViewport.height:w[b];m-=E-n.height,m*=u?1:-1}if(i===Qr||(i===Kr||i===ci)&&s===Bd){y=di;var P=d&&w===S&&S.visualViewport?S.visualViewport.width:w[T];f-=P-n.width,f*=u?1:-1}}var B=Object.assign({position:a},l&&S$),L=c===!0?w$({x:f,y:m},Tn(r)):{x:f,y:m};if(f=L.x,m=L.y,u){var O;return Object.assign({},B,(O={},O[x]=v?"0":"",O[y]=_?"0":"",O.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",O))}return Object.assign({},B,(e={},e[x]=v?m+"px":"",e[y]=_?f+"px":"",e.transform="",e))}function E$(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,u=a===void 0?!0:a,l={placement:Zi(e.placement),variation:ul(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ET(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ET(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const T$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:E$,data:{}};var cf={passive:!0};function C$(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,u=Tn(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(c){c.addEventListener("scroll",r.update,cf)}),a&&u.addEventListener("resize",r.update,cf),function(){s&&l.forEach(function(c){c.removeEventListener("scroll",r.update,cf)}),a&&u.removeEventListener("resize",r.update,cf)}}const P$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:C$,data:{}};var A$={left:"right",right:"left",bottom:"top",top:"bottom"};function hp(t){return t.replace(/left|right|bottom|top/g,function(e){return A$[e]})}var R$={start:"end",end:"start"};function TT(t){return t.replace(/start|end/g,function(e){return R$[e]})}function Sb(t){var e=Tn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function wb(t){return al(ko(t)).left+Sb(t).scrollLeft}function M$(t,e){var r=Tn(t),n=ko(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;var l=kM();(l||!l&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a+wb(t),y:u}}function B$(t){var e,r=ko(t),n=Sb(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=fa(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=fa(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+wb(t),u=-n.scrollTop;return Ps(i||r).direction==="rtl"&&(a+=fa(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function Eb(t){var e=Ps(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function LM(t){return["html","body","#document"].indexOf(os(t))>=0?t.ownerDocument.body:oi(t)&&Eb(t)?t:LM(Lg(t))}function Vc(t,e){var r;e===void 0&&(e=[]);var n=LM(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Tn(n),o=i?[s].concat(s.visualViewport||[],Eb(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(Vc(Lg(o)))}function yv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function D$(t,e){var r=al(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function CT(t,e,r){return e===BM?yv(M$(t,r)):Ta(e)?D$(e,r):yv(B$(ko(t)))}function k$(t){var e=Vc(Lg(t)),r=["absolute","fixed"].indexOf(Ps(t).position)>=0,n=r&&oi(t)?xh(t):t;return Ta(n)?e.filter(function(i){return Ta(i)&&OM(i,n)&&os(i)!=="body"}):[]}function O$(t,e,r,n){var i=e==="clippingParents"?k$(t):[].concat(e),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(u,l){var c=CT(t,l,n);return u.top=fa(c.top,u.top),u.right=Qp(c.right,u.right),u.bottom=Qp(c.bottom,u.bottom),u.left=fa(c.left,u.left),u},CT(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function NM(t){var e=t.reference,r=t.element,n=t.placement,i=n?Zi(n):null,s=n?ul(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,u;switch(i){case Kr:u={x:o,y:e.y-r.height};break;case ci:u={x:o,y:e.y+e.height};break;case di:u={x:e.x+e.width,y:a};break;case Qr:u={x:e.x-r.width,y:a};break;default:u={x:e.x,y:e.y}}var l=i?bb(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(s){case sl:u[l]=u[l]-(e[c]/2-r[c]/2);break;case Bd:u[l]=u[l]+(e[c]/2-r[c]/2);break}}return u}function Dd(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,u=a===void 0?e$:a,l=r.rootBoundary,c=l===void 0?BM:l,d=r.elementContext,h=d===void 0?rc:d,f=r.altBoundary,p=f===void 0?!1:f,m=r.padding,g=m===void 0?0:m,_=FM(typeof g!="number"?g:UM(g,vh)),v=h===rc?t$:rc,y=t.rects.popper,x=t.elements[p?v:h],S=O$(Ta(x)?x:x.contextElement||ko(t.elements.popper),u,c,o),w=al(t.elements.reference),b=NM({reference:w,element:y,strategy:"absolute",placement:i}),T=yv(Object.assign({},y,b)),E=h===rc?T:w,P={top:S.top-E.top+_.top,bottom:E.bottom-S.bottom+_.bottom,left:S.left-E.left+_.left,right:E.right-S.right+_.right},B=t.modifiersData.offset;if(h===rc&&B){var L=B[i];Object.keys(P).forEach(function(O){var k=[di,ci].indexOf(O)>=0?1:-1,G=[Kr,ci].indexOf(O)>=0?"y":"x";P[O]+=L[G]*k})}return P}function I$(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?DM:u,c=ul(n),d=c?a?ST:ST.filter(function(p){return ul(p)===c}):vh,h=d.filter(function(p){return l.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=Dd(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[Zi(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function F$(t){if(Zi(t)===yb)return[];var e=hp(t);return[TT(t),e,TT(e)]}function U$(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,d=r.rootBoundary,h=r.altBoundary,f=r.flipVariations,p=f===void 0?!0:f,m=r.allowedAutoPlacements,g=e.options.placement,_=Zi(g),v=_===g,y=u||(v||!p?[hp(g)]:F$(g)),x=[g].concat(y).reduce(function(re,ae){return re.concat(Zi(ae)===yb?I$(e,{placement:ae,boundary:c,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):ae)},[]),S=e.rects.reference,w=e.rects.popper,b=new Map,T=!0,E=x[0],P=0;P<x.length;P++){var B=x[P],L=Zi(B),O=ul(B)===sl,k=[Kr,ci].indexOf(L)>=0,G=k?"width":"height",U=Dd(e,{placement:B,boundary:c,rootBoundary:d,altBoundary:h,padding:l}),H=k?O?di:Qr:O?ci:Kr;S[G]>w[G]&&(H=hp(H));var F=hp(H),N=[];if(s&&N.push(U[L]<=0),a&&N.push(U[H]<=0,U[F]<=0),N.every(function(re){return re})){E=B,T=!1;break}b.set(B,N)}if(T)for(var $=p?3:1,oe=function(ae){var _e=x.find(function(Ge){var Q=b.get(Ge);if(Q)return Q.slice(0,ae).every(function(fe){return fe})});if(_e)return E=_e,"break"},V=$;V>0;V--){var be=oe(V);if(be==="break")break}e.placement!==E&&(e.modifiersData[n]._skip=!0,e.placement=E,e.reset=!0)}}const L$={name:"flip",enabled:!0,phase:"main",fn:U$,requiresIfExists:["offset"],data:{_skip:!1}};function PT(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function AT(t){return[Kr,di,ci,Qr].some(function(e){return t[e]>=0})}function N$(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Dd(e,{elementContext:"reference"}),a=Dd(e,{altBoundary:!0}),u=PT(o,n),l=PT(a,i,s),c=AT(u),d=AT(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const G$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:N$};function z$(t,e,r){var n=Zi(t),i=[Qr,Kr].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Qr,di].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function $$(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=DM.reduce(function(c,d){return c[d]=z$(d,e.rects,s),c},{}),a=o[e.placement],u=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}const H$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$$};function j$(t){var e=t.state,r=t.name;e.modifiersData[r]=NM({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const W$={name:"popperOffsets",enabled:!0,phase:"read",fn:j$,data:{}};function V$(t){return t==="x"?"y":"x"}function X$(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,c=r.altBoundary,d=r.padding,h=r.tether,f=h===void 0?!0:h,p=r.tetherOffset,m=p===void 0?0:p,g=Dd(e,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),_=Zi(e.placement),v=ul(e.placement),y=!v,x=bb(_),S=V$(x),w=e.modifiersData.popperOffsets,b=e.rects.reference,T=e.rects.popper,E=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,P=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(w){if(s){var O,k=x==="y"?Kr:Qr,G=x==="y"?ci:di,U=x==="y"?"height":"width",H=w[x],F=H+g[k],N=H-g[G],$=f?-T[U]/2:0,oe=v===sl?b[U]:T[U],V=v===sl?-T[U]:-b[U],be=e.elements.arrow,re=f&&be?xb(be):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IM(),_e=ae[k],Ge=ae[G],Q=Wc(0,b[U],re[U]),fe=y?b[U]/2-$-Q-_e-P.mainAxis:oe-Q-_e-P.mainAxis,rt=y?-b[U]/2+$+Q+Ge+P.mainAxis:V+Q+Ge+P.mainAxis,wt=e.elements.arrow&&xh(e.elements.arrow),Oe=wt?x==="y"?wt.clientTop||0:wt.clientLeft||0:0,Nt=(O=B==null?void 0:B[x])!=null?O:0,Tr=H+fe-Nt-Oe,pt=H+rt-Nt,nt=Wc(f?Qp(F,Tr):F,H,f?fa(N,pt):N);w[x]=nt,L[x]=nt-H}if(a){var hr,Gt=x==="x"?Kr:Qr,Li=x==="x"?ci:di,kt=w[S],Or=S==="y"?"height":"width",fr=kt+g[Gt],Ir=kt-g[Li],Fr=[Kr,Qr].indexOf(_)!==-1,pr=(hr=B==null?void 0:B[S])!=null?hr:0,Vt=Fr?fr:kt-b[Or]-T[Or]-pr+P.altAxis,Ur=Fr?kt+b[Or]+T[Or]-pr-P.altAxis:Ir,ls=f&&Fr?_$(Vt,kt,Ur):Wc(f?Vt:fr,kt,f?Ur:Ir);w[S]=ls,L[S]=ls-kt}e.modifiersData[n]=L}}const Y$={name:"preventOverflow",enabled:!0,phase:"main",fn:X$,requiresIfExists:["offset"]};function q$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function K$(t){return t===Tn(t)||!oi(t)?Sb(t):q$(t)}function Q$(t){var e=t.getBoundingClientRect(),r=ol(e.width)/t.offsetWidth||1,n=ol(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Z$(t,e,r){r===void 0&&(r=!1);var n=oi(e),i=oi(e)&&Q$(e),s=ko(e),o=al(t,i,r),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((os(e)!=="body"||Eb(s))&&(a=K$(e)),oi(e)?(u=al(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=wb(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function J$(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var u=e.get(a);u&&i(u)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function e7(t){var e=J$(t);return d$.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function t7(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function r7(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var RT={placement:"bottom",modifiers:[],strategy:"absolute"};function MT(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function n7(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?RT:i;return function(a,u,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},RT,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(_){var v=typeof _=="function"?_(c.options):_;m(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:Ta(a)?Vc(a):a.contextElement?Vc(a.contextElement):[],popper:Vc(u)};var y=e7(r7([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(x){return x.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var _=c.elements,v=_.reference,y=_.popper;if(MT(v,y)){c.rects={reference:Z$(v,xh(y),c.options.strategy==="fixed"),popper:xb(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var S=c.orderedModifiers[x],w=S.fn,b=S.options,T=b===void 0?{}:b,E=S.name;typeof w=="function"&&(c=w({state:c,options:T,name:E,instance:f})||c)}}}},update:t7(function(){return new Promise(function(g){f.forceUpdate(),g(c)})}),destroy:function(){m(),h=!0}};if(!MT(a,u))return f;f.setOptions(l).then(function(g){!h&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var _=g.name,v=g.options,y=v===void 0?{}:v,x=g.effect;if(typeof x=="function"){var S=x({state:c,name:_,instance:f,options:y}),w=function(){};d.push(S||w)}})}function m(){d.forEach(function(g){return g()}),d=[]}return f}}var i7=[P$,W$,T$,p$,H$,L$,Y$,b$,G$],s7=n7({defaultModifiers:i7});const GM="Popper";function o7(t){return MM(GM,t)}Qz(GM,["root"]);const a7=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],u7=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function l7(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function vv(t){return typeof t=="function"?t():t}function c7(t){return t.nodeType!==void 0}const d7=()=>Bt({root:["root"]},Sz(o7)),h7={},f7=C.forwardRef(function(e,r){var n;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:u,open:l,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,g=he(e,a7),_=C.useRef(null),v=Oi(_,r),y=C.useRef(null),x=Oi(y,h),S=C.useRef(x);Rd(()=>{S.current=x},[x]),C.useImperativeHandle(h,()=>y.current,[]);const w=l7(c,o),[b,T]=C.useState(w),[E,P]=C.useState(vv(i));C.useEffect(()=>{y.current&&y.current.forceUpdate()}),C.useEffect(()=>{i&&P(vv(i))},[i]),Rd(()=>{if(!E||!l)return;const G=F=>{T(F.placement)};let U=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:F})=>{G(F)}}];u!=null&&(U=U.concat(u)),d&&d.modifiers!=null&&(U=U.concat(d.modifiers));const H=s7(E,_.current,D({placement:w},d,{modifiers:U}));return S.current(H),()=>{H.destroy(),S.current(null)}},[E,a,u,l,d,w]);const B={placement:b};m!==null&&(B.TransitionProps=m);const L=d7(),O=(n=p.root)!=null?n:"div",k=Pz({elementType:O,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:L.root});return R.jsx(O,D({},k,{children:typeof s=="function"?s(B):s}))}),p7=C.forwardRef(function(e,r){const{anchorEl:n,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:u=!1,modifiers:l,open:c,placement:d="bottom",popperOptions:h=h7,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:_={}}=e,v=he(e,u7),[y,x]=C.useState(!0),S=()=>{x(!1)},w=()=>{x(!0)};if(!u&&!c&&(!m||y))return null;let b;if(s)b=s;else if(n){const P=vv(n);b=P&&c7(P)?eT(P).body:eT(null).body}const T=!c&&u&&(!m||y)?"none":void 0,E=m?{in:c,onEnter:S,onExited:w}:void 0;return R.jsx(Jz,{disablePortal:a,container:b,children:R.jsx(f7,D({anchorEl:n,direction:o,disablePortal:a,modifiers:l,ref:r,open:m?!y:c,placement:d,popperOptions:h,popperRef:f,slotProps:g,slots:_},v,{style:D({position:"fixed",top:0,left:0,display:T},p),TransitionProps:E,children:i}))})});var Tb={};Object.defineProperty(Tb,"__esModule",{value:!0});var zM=Tb.default=void 0,m7=_7(C),g7=SM;function $M(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return($M=function(n){return n?r:e})(t)}function _7(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=$M(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}function y7(t){return Object.keys(t).length===0}function v7(t=null){const e=m7.useContext(g7.ThemeContext);return!e||y7(e)?t:e}zM=Tb.default=v7;const x7=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],b7=De(p7,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),HM=C.forwardRef(function(e,r){var n;const i=zM(),s=bt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:u,componentsProps:l,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:_,transition:v,slots:y,slotProps:x}=s,S=he(s,x7),w=(n=y==null?void 0:y.root)!=null?n:u==null?void 0:u.Root,b=D({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:m,popperOptions:g,popperRef:_,transition:v},S);return R.jsx(b7,D({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:x??l},b,{ref:r}))}),S7=xt("MuiBox",["root"]),w7=Tg(),on=nG({themeId:rl,defaultTheme:w7,defaultClassName:S7.root,generateClassName:JR.generate});function E7(t){return Mt("MuiCard",t)}xt("MuiCard",["root"]);const T7=["className","raised"],C7=t=>{const{classes:e}=t;return Bt({root:["root"]},E7,e)},P7=De(yh,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Ng=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,o=he(n,T7),a=D({},n,{raised:s}),u=C7(a);return R.jsx(P7,D({className:ge(u.root,i),elevation:s?8:void 0,ref:r,ownerState:a},o))});function A7(t){return Mt("MuiCardContent",t)}xt("MuiCardContent",["root"]);const R7=["className","component"],M7=t=>{const{classes:e}=t;return Bt({root:["root"]},A7,e)},B7=De("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Gg=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,o=he(n,R7),a=D({},n,{component:s}),u=M7(a);return R.jsx(B7,D({as:s,className:ge(u.root,i),ownerState:a,ref:r},o))});function D7(t){return Mt("MuiCardMedia",t)}xt("MuiCardMedia",["root","media","img"]);const k7=["children","className","component","image","src","style"],O7=t=>{const{classes:e,isMediaComponent:r,isImageComponent:n}=t;return Bt({root:["root",r&&"media",n&&"img"]},D7,e)},I7=De("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{isMediaComponent:n,isImageComponent:i}=r;return[e.root,n&&e.media,i&&e.img]}})(({ownerState:t})=>D({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),F7=["video","audio","picture","iframe","img"],U7=["picture","img"],zg=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:l}=n,c=he(n,k7),d=F7.indexOf(o)!==-1,h=!d&&a?D({backgroundImage:`url("${a}")`},l):l,f=D({},n,{component:o,isMediaComponent:d,isImageComponent:U7.indexOf(o)!==-1}),p=O7(f);return R.jsx(I7,D({className:ge(p.root,s),as:o,role:!d&&a?"img":void 0,ref:r,style:h,ownerState:f,src:d?a||u:void 0},c,{children:i}))});function L7(t){return Mt("MuiFab",t)}const BT=xt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),N7=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],G7=t=>{const{color:e,variant:r,classes:n,size:i}=t,s={root:["root",r,`size${ft(i)}`,e==="inherit"?"colorInherit":e]},o=Bt(s,L7,n);return D({},n,o)},z7=De($z,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>EM(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${ft(r.size)}`],r.color==="inherit"&&e.colorInherit,e[ft(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return D({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${BT.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>D({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${BT.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),jM=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:u=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:d="large",variant:h="circular"}=n,f=he(n,N7),p=D({},n,{color:o,component:a,disabled:u,disableFocusRipple:l,size:d,variant:h}),m=G7(p);return R.jsx(z7,D({className:ge(m.root,s),component:a,disabled:u,focusRipple:!l,focusVisibleClassName:ge(m.focusVisible,c),ownerState:p,ref:r},f,{classes:m,children:i}))}),Bl=YG({createStyledComponent:De("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>bt({props:t,name:"MuiStack"})}),$7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function xv(t){return`scale(${t}, ${t**2})`}const H7={entering:{opacity:1,transform:xv(1)},entered:{opacity:1,transform:"none"}},h_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bv=C.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:l,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=us}=e,_=he(e,$7),v=sa(),y=C.useRef(),x=Cg(),S=C.useRef(null),w=Oi(S,s.ref,r),b=G=>U=>{if(G){const H=S.current;U===void 0?G(H):G(H,U)}},T=b(c),E=b((G,U)=>{AM(G);const{duration:H,delay:F,easing:N}=Kp({style:p,timeout:m,easing:o},{mode:"enter"});let $;m==="auto"?($=x.transitions.getAutoHeightDuration(G.clientHeight),y.current=$):$=H,G.style.transition=[x.transitions.create("opacity",{duration:$,delay:F}),x.transitions.create("transform",{duration:h_?$:$*.666,delay:F,easing:N})].join(","),u&&u(G,U)}),P=b(l),B=b(f),L=b(G=>{const{duration:U,delay:H,easing:F}=Kp({style:p,timeout:m,easing:o},{mode:"exit"});let N;m==="auto"?(N=x.transitions.getAutoHeightDuration(G.clientHeight),y.current=N):N=U,G.style.transition=[x.transitions.create("opacity",{duration:N,delay:H}),x.transitions.create("transform",{duration:h_?N:N*.666,delay:h_?H:H||N*.333,easing:F})].join(","),G.style.opacity=0,G.style.transform=xv(.75),d&&d(G)}),O=b(h),k=G=>{m==="auto"&&v.start(y.current||0,G),n&&n(S.current,G)};return R.jsx(g,D({appear:i,in:a,nodeRef:S,onEnter:E,onEntered:P,onEntering:T,onExit:L,onExited:O,onExiting:B,addEndListener:k,timeout:m==="auto"?null:m},_,{children:(G,U)=>C.cloneElement(s,D({style:D({opacity:0,transform:xv(.75),visibility:G==="exited"&&!a?"hidden":void 0},H7[G],p,s.props.style),ref:w},U))}))});bv.muiSupportAuto=!0;function j7(t){return Mt("MuiLink",t)}const W7=xt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),WM={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},V7=t=>WM[t]||t,X7=({theme:t,ownerState:e})=>{const r=V7(e.color),n=il(t,`palette.${r}`,!1)||e.color,i=il(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Md(n,.4)},Y7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],q7=t=>{const{classes:e,component:r,focusVisible:n,underline:i}=t,s={root:["root",`underline${ft(i)}`,r==="button"&&"button",n&&"focusVisible"]};return Bt(s,j7,e)},K7=De(We,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`underline${ft(r.underline)}`],r.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>D({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&D({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:X7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${W7.focusVisible}`]:{outline:"auto"}})),Sv=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:l,underline:c="always",variant:d="inherit",sx:h}=n,f=he(n,Y7),{isFocusVisibleRef:p,onBlur:m,onFocus:g,ref:_}=lb(),[v,y]=C.useState(!1),x=Oi(r,_),S=E=>{m(E),p.current===!1&&y(!1),a&&a(E)},w=E=>{g(E),p.current===!0&&y(!0),u&&u(E)},b=D({},n,{color:s,component:o,focusVisible:v,underline:c,variant:d}),T=q7(b);return R.jsx(K7,D({color:s,className:ge(T.root,i),classes:l,component:o,onBlur:S,onFocus:w,ref:x,ownerState:b,variant:d,sx:[...Object.keys(WM).includes(s)?[]:[{color:s}],...Array.isArray(h)?h:[h]]},f))}),Q7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Z7={entering:{transform:"none"},entered:{transform:"none"}},J7=C.forwardRef(function(e,r){const n=Cg(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:l,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:_=i,TransitionComponent:v=us}=e,y=he(e,Q7),x=C.useRef(null),S=Oi(x,a.ref,r),w=k=>G=>{if(k){const U=x.current;G===void 0?k(U):k(U,G)}},b=w(h),T=w((k,G)=>{AM(k);const U=Kp({style:g,timeout:_,easing:u},{mode:"enter"});k.style.webkitTransition=n.transitions.create("transform",U),k.style.transition=n.transitions.create("transform",U),c&&c(k,G)}),E=w(d),P=w(m),B=w(k=>{const G=Kp({style:g,timeout:_,easing:u},{mode:"exit"});k.style.webkitTransition=n.transitions.create("transform",G),k.style.transition=n.transitions.create("transform",G),f&&f(k)}),L=w(p),O=k=>{s&&s(x.current,k)};return R.jsx(v,D({appear:o,in:l,nodeRef:x,onEnter:T,onEntered:E,onEntering:b,onExit:B,onExited:L,onExiting:P,addEndListener:O,timeout:_},y,{children:(k,G)=>C.cloneElement(a,D({style:D({transform:"scale(0)",visibility:k==="exited"&&!l?"hidden":void 0},Z7[k],g,a.props.style),ref:S},G))}))});function eH(t){return Mt("MuiSpeedDial",t)}const df=xt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),tH=["ref"],rH=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],nH=["ref"],iH=t=>{const{classes:e,open:r,direction:n}=t,i={root:["root",`direction${ft(n)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Bt(i,eH,e)};function nc(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const Ws=32,hf=16,sH=De("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`direction${ft(r.direction)}`]]}})(({theme:t,ownerState:e})=>D({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",[`& .${df.actions}`]:{flexDirection:"column-reverse",marginBottom:-Ws,paddingBottom:hf+Ws}},e.direction==="down"&&{flexDirection:"column",[`& .${df.actions}`]:{flexDirection:"column",marginTop:-Ws,paddingTop:hf+Ws}},e.direction==="left"&&{flexDirection:"row-reverse",[`& .${df.actions}`]:{flexDirection:"row-reverse",marginRight:-Ws,paddingRight:hf+Ws}},e.direction==="right"&&{flexDirection:"row",[`& .${df.actions}`]:{flexDirection:"row",marginLeft:-Ws,paddingLeft:hf+Ws}})),oH=De(jM,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),aH=De("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})(({ownerState:t})=>D({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),uH=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiSpeedDial"}),i=Cg(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:a}={},children:u,className:l,direction:c="up",hidden:d=!1,icon:h,onBlur:f,onClose:p,onFocus:m,onKeyDown:g,onMouseEnter:_,onMouseLeave:v,onOpen:y,open:x,TransitionComponent:S=J7,transitionDuration:w=s,TransitionProps:b}=n,T=he(n.FabProps,tH),E=he(n,rH),[P,B]=cM({controlled:x,default:!1,name:"SpeedDial",state:"open"}),L=D({},n,{open:P,direction:c}),O=iH(L),k=sa(),G=C.useRef(0),U=C.useRef(),H=C.useRef([]);H.current=[H.current[0]];const F=C.useCallback(Q=>{H.current[0]=Q},[]),N=Oi(a,F),$=(Q,fe)=>rt=>{H.current[Q+1]=rt,fe&&fe(rt)},oe=Q=>{g&&g(Q);const fe=Q.key.replace("Arrow","").toLowerCase(),{current:rt=fe}=U;if(Q.key==="Escape"){B(!1),H.current[0].focus(),p&&p(Q,"escapeKeyDown");return}if(nc(fe)===nc(rt)&&nc(fe)!==void 0){Q.preventDefault();const wt=fe===rt?1:-1,Oe=uM(G.current+wt,0,H.current.length-1);H.current[Oe].focus(),G.current=Oe,U.current=rt}};C.useEffect(()=>{P||(G.current=0,U.current=void 0)},[P]);const V=Q=>{Q.type==="mouseleave"&&v&&v(Q),Q.type==="blur"&&f&&f(Q),k.clear(),Q.type==="blur"?k.start(0,()=>{B(!1),p&&p(Q,"blur")}):(B(!1),p&&p(Q,"mouseLeave"))},be=Q=>{T.onClick&&T.onClick(Q),k.clear(),P?(B(!1),p&&p(Q,"toggle")):(B(!0),y&&y(Q,"toggle"))},re=Q=>{Q.type==="mouseenter"&&_&&_(Q),Q.type==="focus"&&m&&m(Q),k.clear(),P||k.start(0,()=>{B(!0),y&&y(Q,{focus:"focus",mouseenter:"mouseEnter"}[Q.type])})},ae=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),_e=C.Children.toArray(u).filter(Q=>C.isValidElement(Q)),Ge=_e.map((Q,fe)=>{const rt=Q.props,{FabProps:{ref:wt}={},tooltipPlacement:Oe}=rt,Nt=he(rt.FabProps,nH),Tr=Oe||(nc(c)==="vertical"?"left":"top");return C.cloneElement(Q,{FabProps:D({},Nt,{ref:$(fe,wt)}),delay:30*(P?fe:_e.length-fe),open:P,tooltipPlacement:Tr,id:`${ae}-action-${fe}`})});return R.jsxs(sH,D({className:ge(O.root,l),ref:r,role:"presentation",onKeyDown:oe,onBlur:V,onFocus:re,onMouseEnter:re,onMouseLeave:V,ownerState:L},E,{children:[R.jsx(S,D({in:!d,timeout:w,unmountOnExit:!0},b,{children:R.jsx(oH,D({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":P,"aria-controls":`${ae}-actions`},T,{onClick:be,className:ge(O.fab,T.className),ref:N,ownerState:L,children:C.isValidElement(h)&&lM(h,["SpeedDialIcon"])?C.cloneElement(h,{open:P}):h}))})),R.jsx(aH,{id:`${ae}-actions`,role:"menu","aria-orientation":nc(c),className:ge(O.actions,!P&&O.actionsClosed),ownerState:L,children:Ge})]}))});function lH(t){return Mt("MuiTooltip",t)}const ro=xt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),cH=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function dH(t){return Math.round(t*1e5)/1e5}const hH=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:i,placement:s}=t,o={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${ft(s.split("-")[0])}`],arrow:["arrow"]};return Bt(o,lH,e)},fH=De(HM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(({theme:t,ownerState:e,open:r})=>D({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${ro.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ro.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ro.arrow}`]:D({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ro.arrow}`]:D({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),pH=De("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${ft(r.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>D({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Md(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${dH(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${ro.popper}[data-popper-placement*="left"] &`]:D({transformOrigin:"right center"},e.isRtl?D({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):D({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${ro.popper}[data-popper-placement*="right"] &`]:D({transformOrigin:"left center"},e.isRtl?D({marginRight:"14px"},e.touch&&{marginRight:"24px"}):D({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${ro.popper}[data-popper-placement*="top"] &`]:D({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${ro.popper}[data-popper-placement*="bottom"] &`]:D({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),mH=De("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Md(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ff=!1;const DT=new gh;let ic={x:0,y:0};function pf(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const gH=C.forwardRef(function(e,r){var n,i,s,o,a,u,l,c,d,h,f,p,m,g,_,v,y,x,S;const w=bt({props:e,name:"MuiTooltip"}),{arrow:b=!1,children:T,components:E={},componentsProps:P={},describeChild:B=!1,disableFocusListener:L=!1,disableHoverListener:O=!1,disableInteractive:k=!1,disableTouchListener:G=!1,enterDelay:U=100,enterNextDelay:H=0,enterTouchDelay:F=700,followCursor:N=!1,id:$,leaveDelay:oe=0,leaveTouchDelay:V=1500,onClose:be,onOpen:re,open:ae,placement:_e="bottom",PopperComponent:Ge,PopperProps:Q={},slotProps:fe={},slots:rt={},title:wt,TransitionComponent:Oe=bv,TransitionProps:Nt}=w,Tr=he(w,cH),pt=C.isValidElement(T)?T:R.jsx("span",{children:T}),nt=Cg(),hr=NG(),[Gt,Li]=C.useState(),[kt,Or]=C.useState(null),fr=C.useRef(!1),Ir=k||N,Fr=sa(),pr=sa(),Vt=sa(),Ur=sa(),[ls,se]=cM({controlled:ae,default:!1,name:"Tooltip",state:"open"});let Lr=ls;const Nr=SG($),vi=C.useRef(),Ls=wu(()=>{vi.current!==void 0&&(document.body.style.WebkitUserSelect=vi.current,vi.current=void 0),Ur.clear()});C.useEffect(()=>Ls,[Ls]);const zl=me=>{DT.clear(),ff=!0,se(!0),re&&!Lr&&re(me)},Wa=wu(me=>{DT.start(800+oe,()=>{ff=!1}),se(!1),be&&Lr&&be(me),Fr.start(nt.transitions.duration.shortest,()=>{fr.current=!1})}),zo=me=>{fr.current&&me.type!=="touchstart"||(Gt&&Gt.removeAttribute("title"),pr.clear(),Vt.clear(),U||ff&&H?pr.start(ff?H:U,()=>{zl(me)}):zl(me))},Ns=me=>{pr.clear(),Vt.start(oe,()=>{Wa(me)})},{isFocusVisibleRef:$l,onBlur:Hl,onFocus:D0,ref:Nh}=lb(),[,Gh]=C.useState(!1),jl=me=>{Hl(me),$l.current===!1&&(Gh(!1),Ns(me))},zh=me=>{Gt||Li(me.currentTarget),D0(me),$l.current===!0&&(Gh(!0),zo(me))},M=me=>{fr.current=!0;const Xt=pt.props;Xt.onTouchStart&&Xt.onTouchStart(me)},I=me=>{M(me),Vt.clear(),Fr.clear(),Ls(),vi.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ur.start(F,()=>{document.body.style.WebkitUserSelect=vi.current,zo(me)})},z=me=>{pt.props.onTouchEnd&&pt.props.onTouchEnd(me),Ls(),Vt.start(V,()=>{Wa(me)})};C.useEffect(()=>{if(!Lr)return;function me(Xt){(Xt.key==="Escape"||Xt.key==="Esc")&&Wa(Xt)}return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[Wa,Lr]);const W=Oi(pt.ref,Nh,Li,r);!wt&&wt!==0&&(Lr=!1);const Y=C.useRef(),ce=me=>{const Xt=pt.props;Xt.onMouseMove&&Xt.onMouseMove(me),ic={x:me.clientX,y:me.clientY},Y.current&&Y.current.update()},Z={},q=typeof wt=="string";B?(Z.title=!Lr&&q&&!O?wt:null,Z["aria-describedby"]=Lr?Nr:null):(Z["aria-label"]=q?wt:null,Z["aria-labelledby"]=Lr&&!q?Nr:null);const ee=D({},Z,Tr,pt.props,{className:ge(Tr.className,pt.props.className),onTouchStart:M,ref:W},N?{onMouseMove:ce}:{}),ne={};G||(ee.onTouchStart=I,ee.onTouchEnd=z),O||(ee.onMouseOver=pf(zo,ee.onMouseOver),ee.onMouseLeave=pf(Ns,ee.onMouseLeave),Ir||(ne.onMouseOver=zo,ne.onMouseLeave=Ns)),L||(ee.onFocus=pf(zh,ee.onFocus),ee.onBlur=pf(jl,ee.onBlur),Ir||(ne.onFocus=zh,ne.onBlur=jl));const zt=C.useMemo(()=>{var me;let Xt=[{name:"arrow",enabled:!!kt,options:{element:kt,padding:4}}];return(me=Q.popperOptions)!=null&&me.modifiers&&(Xt=Xt.concat(Q.popperOptions.modifiers)),D({},Q.popperOptions,{modifiers:Xt})},[kt,Q]),it=D({},w,{isRtl:hr,arrow:b,disableInteractive:Ir,placement:_e,PopperComponentProp:Ge,touch:fr.current}),ie=hH(it),He=(n=(i=rt.popper)!=null?i:E.Popper)!=null?n:fH,Et=(s=(o=(a=rt.transition)!=null?a:E.Transition)!=null?o:Oe)!=null?s:bv,Gs=(u=(l=rt.tooltip)!=null?l:E.Tooltip)!=null?u:pH,xi=(c=(d=rt.arrow)!=null?d:E.Arrow)!=null?c:mH,zs=Pc(He,D({},Q,(h=fe.popper)!=null?h:P.popper,{className:ge(ie.popper,Q==null?void 0:Q.className,(f=(p=fe.popper)!=null?p:P.popper)==null?void 0:f.className)}),it),$s=Pc(Et,D({},Nt,(m=fe.transition)!=null?m:P.transition),it),Hs=Pc(Gs,D({},(g=fe.tooltip)!=null?g:P.tooltip,{className:ge(ie.tooltip,(_=(v=fe.tooltip)!=null?v:P.tooltip)==null?void 0:_.className)}),it),Ln=Pc(xi,D({},(y=fe.arrow)!=null?y:P.arrow,{className:ge(ie.arrow,(x=(S=fe.arrow)!=null?S:P.arrow)==null?void 0:x.className)}),it);return R.jsxs(C.Fragment,{children:[C.cloneElement(pt,ee),R.jsx(He,D({as:Ge??HM,placement:_e,anchorEl:N?{getBoundingClientRect:()=>({top:ic.y,left:ic.x,right:ic.x,bottom:ic.y,width:0,height:0})}:Gt,popperRef:Y,open:Gt?Lr:!1,id:Nr,transition:!0},ne,zs,{popperOptions:zt,children:({TransitionProps:me})=>R.jsx(Et,D({timeout:nt.transitions.duration.shorter},me,$s,{children:R.jsxs(Gs,D({},Hs,{children:[wt,b?R.jsx(xi,D({},Ln,{ref:Or})):null]}))}))}))]})});function _H(t){return Mt("MuiSpeedDialAction",t)}const yH=xt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),vH=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],xH=t=>{const{open:e,tooltipPlacement:r,classes:n}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${ft(r)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Bt(i,_H,n)},bH=De(jM,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>D({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:JG(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),SH=De("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e[`tooltipPlacement${ft(r.tooltipPlacement)}`]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${yH.staticTooltipLabel}`]:D({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),wH=De("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>D({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),EH=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:s=0,FabProps:o={},icon:a,id:u,open:l,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:h="left",tooltipTitle:f}=n,p=he(n,vH),m=D({},n,{tooltipPlacement:h}),g=xH(m),[_,v]=C.useState(d),y=()=>{v(!1)},x=()=>{v(!0)},S={transitionDelay:`${s}ms`},w=R.jsx(bH,D({size:"small",className:ge(g.fab,i),tabIndex:-1,role:"menuitem",ownerState:m},o,{style:D({},S,o.style),children:a}));return d?R.jsxs(SH,D({id:u,ref:r,className:g.staticTooltip,ownerState:m},p,{children:[R.jsx(wH,{style:S,id:`${u}-label`,className:g.staticTooltipLabel,ownerState:m,children:f}),C.cloneElement(w,{"aria-labelledby":`${u}-label`})]})):(!l&&_&&v(!1),R.jsx(gH,D({id:u,ref:r,title:f,placement:h,onClose:y,onOpen:x,open:l&&_,classes:c},p,{children:w})))}),TH=Na(R.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function CH(t){return Mt("MuiSpeedDialIcon",t)}const $o=xt("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),PH=["className","icon","open","openIcon"],AH=t=>{const{classes:e,open:r,openIcon:n}=t;return Bt({root:["root"],icon:["icon",r&&"iconOpen",n&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},CH,e)},RH=De("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${$o.icon}`]:e.icon},{[`& .${$o.icon}`]:r.open&&e.iconOpen},{[`& .${$o.icon}`]:r.open&&r.openIcon&&e.iconWithOpenIconOpen},{[`& .${$o.openIcon}`]:e.openIcon},{[`& .${$o.openIcon}`]:r.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,[`& .${$o.icon}`]:D({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&D({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),[`& .${$o.openIcon}`]:D({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),VM=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:s,openIcon:o}=n,a=he(n,PH),u=n,l=AH(u);function c(d,h){return C.isValidElement(d)?C.cloneElement(d,{className:h}):d}return R.jsxs(RH,D({className:ge(l.root,i),ref:r,ownerState:u},a,{children:[o?c(o,l.openIcon):null,s?c(s,l.icon):R.jsx(TH,{className:l.icon})]}))});VM.muiName="SpeedDialIcon";const MH=De(on)(({theme:t})=>`
  .pixi-container {
    position:absolute;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    overflow:hidden;
  }
`),BH=De(on)(({theme:t})=>`
  height: 320px;
  flex-grow: 1;
  position: absolute;
  top: 6px;
  right: 6px;

  .MuiButtonBase-root {
    transition: none !important;
`);var XM={exports:{}},YM={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=C;function DH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kH=typeof Object.is=="function"?Object.is:DH,OH=bh.useSyncExternalStore,IH=bh.useRef,FH=bh.useEffect,UH=bh.useMemo,LH=bh.useDebugValue;YM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=IH(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UH(function(){function u(f){if(!l){if(l=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,kH(c,f))return p;var m=n(f);return i!==void 0&&i(p,m)?p:(c=f,d=m)}var l=!1,c,d,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,n,i]);var a=OH(t,s[0],s[1]);return FH(function(){o.hasValue=!0,o.value=a},[a]),LH(a),a};XM.exports=YM;var NH=XM.exports,yn="default"in Yu?Wr:Yu,kT=Symbol.for("react-redux-context"),OT=typeof globalThis<"u"?globalThis:{};function GH(){if(!yn.createContext)return{};const t=OT[kT]??(OT[kT]=new Map);let e=t.get(yn.createContext);return e||(e=yn.createContext(null),t.set(yn.createContext,e)),e}var wo=GH(),zH=()=>{throw new Error("uSES not initialized!")};function Cb(t=wo){return function(){return yn.useContext(t)}}var qM=Cb(),KM=zH,$H=t=>{KM=t},HH=(t,e)=>t===e;function jH(t=wo){const e=t===wo?qM:Cb(t),r=(n,i={})=>{const{equalityFn:s=HH,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:l,stabilityCheck:c,identityFunctionCheck:d}=e();yn.useRef(!0);const h=yn.useCallback({[n.name](p){return n(p)}}[n.name],[n,c,o.stabilityCheck]),f=KM(u.addNestedSub,a.getState,l||a.getState,h,s);return yn.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var Pb=jH();function WH(t){t()}function VH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){WH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var IT={notify(){},get:()=>[]};function XH(t,e){let r,n=IT,i=0,s=!1;function o(m){c();const g=n.subscribe(m);let _=!1;return()=>{_||(_=!0,g(),d())}}function a(){n.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,r||(r=t.subscribe(u),n=VH())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=IT)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return p}var YH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qH=typeof navigator<"u"&&navigator.product==="ReactNative",KH=YH||qH?yn.useLayoutEffect:yn.useEffect;function QH({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=yn.useMemo(()=>{const l=XH(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),a=yn.useMemo(()=>t.getState(),[t]);KH(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=e||wo;return yn.createElement(u.Provider,{value:o},r)}var ZH=QH;function QM(t=wo){const e=t===wo?qM:Cb(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var JH=QM();function ej(t=wo){const e=t===wo?JH:QM(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var tj=ej();$H(NH.useSyncExternalStoreWithSelector);function sr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rj=typeof Symbol=="function"&&Symbol.observable||"@@observable",FT=rj,f_=()=>Math.random().toString(36).substring(7).split("").join("."),nj={INIT:`@@redux/INIT${f_()}`,REPLACE:`@@redux/REPLACE${f_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f_()}`},Zp=nj;function Ab(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ZM(t,e,r){if(typeof t!="function")throw new Error(sr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(sr(1));return r(ZM)(t,e)}let n=t,i=e,s=new Map,o=s,a=0,u=!1;function l(){o===s&&(o=new Map,s.forEach((g,_)=>{o.set(_,g)}))}function c(){if(u)throw new Error(sr(3));return i}function d(g){if(typeof g!="function")throw new Error(sr(4));if(u)throw new Error(sr(5));let _=!0;l();const v=a++;return o.set(v,g),function(){if(_){if(u)throw new Error(sr(6));_=!1,l(),o.delete(v),s=null}}}function h(g){if(!Ab(g))throw new Error(sr(7));if(typeof g.type>"u")throw new Error(sr(8));if(typeof g.type!="string")throw new Error(sr(17));if(u)throw new Error(sr(9));try{u=!0,i=n(i,g)}finally{u=!1}return(s=o).forEach(v=>{v()}),g}function f(g){if(typeof g!="function")throw new Error(sr(10));n=g,h({type:Zp.REPLACE})}function p(){const g=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(sr(11));function v(){const x=_;x.next&&x.next(c())}return v(),{unsubscribe:g(v)}},[FT](){return this}}}return h({type:Zp.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[FT]:p}}function ij(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Zp.INIT})>"u")throw new Error(sr(12));if(typeof r(void 0,{type:Zp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function sj(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{ij(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const l={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],f=o[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(sr(14));l[d]=p,u=u||p!==f}return u=u||n.length!==Object.keys(o).length,u?l:o}}function Jp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function oj(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(sr(15))};const o={getState:i.getState,dispatch:(u,...l)=>s(u,...l)},a=t.map(u=>u(o));return s=Jp(...a)(i.dispatch),{...i,dispatch:s}}}function aj(t){return Ab(t)&&"type"in t&&typeof t.type=="string"}var JM=Symbol.for("immer-nothing"),UT=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function Ai(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function Eo(t){return!!t&&!!t[Cn]}function As(t){var e;return t?eB(t)||Array.isArray(t)||!!t[UT]||!!((e=t.constructor)!=null&&e[UT])||Hg(t)||jg(t):!1}var uj=Object.prototype.constructor.toString();function eB(t){if(!t||typeof t!="object")return!1;const e=ll(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===uj}function em(t,e){$g(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function $g(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:Hg(t)?2:jg(t)?3:0}function wv(t,e){return $g(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tB(t,e,r){const n=$g(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function lj(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hg(t){return t instanceof Map}function jg(t){return t instanceof Set}function Ko(t){return t.copy_||t.base_}function Ev(t,e){if(Hg(t))return new Map(t);if(jg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=eB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Cn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(ll(t),n)}else{const n=ll(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Rb(t,e=!1){return Wg(t)||Eo(t)||!As(t)||($g(t)>1&&(t.set=t.add=t.clear=t.delete=cj),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Rb(n,!0))),t}function cj(){Ai(2)}function Wg(t){return Object.isFrozen(t)}var dj={};function Ca(t){const e=dj[t];return e||Ai(0,t),e}var kd;function rB(){return kd}function hj(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LT(t,e){e&&(Ca("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Tv(t){Cv(t),t.drafts_.forEach(fj),t.drafts_=null}function Cv(t){t===kd&&(kd=t.parent_)}function NT(t){return kd=hj(kd,t)}function fj(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cn].modified_&&(Tv(e),Ai(4)),As(t)&&(t=tm(e,t),e.parent_||rm(e,t)),e.patches_&&Ca("Patches").generateReplacementPatches_(r[Cn].base_,t,e.patches_,e.inversePatches_)):t=tm(e,r,[]),Tv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JM?t:void 0}function tm(t,e,r){if(Wg(e))return e;const n=e[Cn];if(!n)return em(e,(i,s)=>zT(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return rm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),em(s,(a,u)=>zT(t,n,i,a,u,r,o)),rm(t,i,!1),r&&t.patches_&&Ca("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function zT(t,e,r,n,i,s,o){if(Eo(i)){const a=s&&e&&e.type_!==3&&!wv(e.assigned_,n)?s.concat(n):void 0,u=tm(t,i,a);if(tB(r,n,u),Eo(u))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(As(i)&&!Wg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;tm(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&rm(t,i)}}function rm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Rb(e,r)}function pj(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:rB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Mb;r&&(i=[n],s=Od);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var Mb={get(t,e){if(e===Cn)return t;const r=Ko(t);if(!wv(r,e))return mj(t,r,e);const n=r[e];return t.finalized_||!As(n)?n:n===p_(t.base_,e)?(m_(t),t.copy_[e]=Av(n,t)):n},has(t,e){return e in Ko(t)},ownKeys(t){return Reflect.ownKeys(Ko(t))},set(t,e,r){const n=nB(Ko(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=p_(Ko(t),e),s=i==null?void 0:i[Cn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(lj(r,i)&&(r!==void 0||wv(t.base_,e)))return!0;m_(t),Pv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return p_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,m_(t),Pv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ko(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ai(11)},getPrototypeOf(t){return ll(t.base_)},setPrototypeOf(){Ai(12)}},Od={};em(Mb,(t,e)=>{Od[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Od.deleteProperty=function(t,e){return Od.set.call(this,t,e,void 0)};Od.set=function(t,e,r){return Mb.set.call(this,t[0],e,r,t[0])};function p_(t,e){const r=t[Cn];return(r?Ko(r):t)[e]}function mj(t,e,r){var i;const n=nB(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function nB(t,e){if(!(e in t))return;let r=ll(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=ll(r)}}function Pv(t){t.modified_||(t.modified_=!0,t.parent_&&Pv(t.parent_))}function m_(t){t.copy_||(t.copy_=Ev(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gj=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(u=s,...l){return o.produce(u,c=>r.call(this,c,...l))}}typeof r!="function"&&Ai(6),n!==void 0&&typeof n!="function"&&Ai(7);let i;if(As(e)){const s=NT(this),o=Av(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?Tv(s):Cv(s)}return LT(s,n),GT(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===JM&&(i=void 0),this.autoFreeze_&&Rb(i,!0),n){const s=[],o=[];Ca("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else Ai(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){As(t)||Ai(8),Eo(t)&&(t=iB(t));const e=NT(this),r=Av(t,void 0);return r[Cn].isManual_=!0,Cv(e),r}finishDraft(t,e){const r=t&&t[Cn];(!r||!r.isManual_)&&Ai(9);const{scope_:n}=r;return LT(n,e),GT(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Ca("Patches").applyPatches_;return Eo(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Av(t,e){const r=Hg(t)?Ca("MapSet").proxyMap_(t,e):jg(t)?Ca("MapSet").proxySet_(t,e):pj(t,e);return(e?e.scope_:rB()).drafts_.push(r),r}function iB(t){return Eo(t)||Ai(10,t),sB(t)}function sB(t){if(!As(t)||Wg(t))return t;const e=t[Cn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Ev(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Ev(t,!0);return em(r,(n,i)=>{tB(r,n,sB(i))}),e&&(e.finalized_=!1),r}var Pn=new gj,oB=Pn.produce;Pn.produceWithPatches.bind(Pn);Pn.setAutoFreeze.bind(Pn);Pn.setUseStrictShallowCopy.bind(Pn);Pn.applyPatches.bind(Pn);Pn.createDraft.bind(Pn);Pn.finishDraft.bind(Pn);function _j(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yj(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vj(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var $T=t=>Array.isArray(t)?t:[t];function xj(t){const e=Array.isArray(t[0])?t[0]:t;return vj(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function bj(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Sj=class{constructor(t){this.value=t}deref(){return this.value}},wj=typeof WeakRef<"u"?WeakRef:Sj,Ej=0,HT=1;function mf(){return{s:Ej,v:void 0,o:null,p:null}}function Bb(t,e={}){let r=mf();const{resultEqualityCheck:n}=e;let i,s=0;function o(){var d;let a=r;const{length:u}=arguments;for(let h=0,f=u;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=mf(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=mf(),m.set(p,a)):a=g}}const l=a;let c;if(a.s===HT)c=a.v;else if(c=t.apply(null,arguments),s++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new wj(c):c}return l.s=HT,l.v=c,c}return o.clearCache=()=>{r=mf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function aB(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,o=0,a,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),_j(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:f=Bb,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=$T(h),_=$T(p),v=xj(i),y=d(function(){return s++,l.apply(null,arguments)},...g),x=f(function(){o++;const w=bj(v,arguments);return a=y.apply(null,w),a},..._);return Object.assign(x,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Tj=aB(Bb),Cj=Object.assign((t,e=Tj)=>{yj(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((o,a,u)=>(o[r[u]]=a,o),{}))},{withTypes:()=>Cj});function uB(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var Pj=uB(),Aj=uB,Rj=(...t)=>{const e=aB(...t),r=Object.assign((...n)=>{const i=e(...n),s=(o,...a)=>i(Eo(o)?iB(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>r});return r};Rj(Bb);var Mj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jp:Jp.apply(null,arguments)};function cl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Zr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>aj(n)&&n.type===t,r}var lB=class Ac extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ac.prototype)}static get[Symbol.species](){return Ac}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ac(...e[0].concat(this)):new Ac(...e.concat(this))}};function jT(t){return As(t)?oB(t,()=>{}):t}function WT(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(Zr(10));const n=r.insert(e,t);return t.set(e,n),n}function Bj(t){return typeof t=="boolean"}var Dj=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new lB;return r&&(Bj(r)?o.push(Pj):o.push(Aj(r.extraArgument))),o},kj="RTK_autoBatch",cB=t=>e=>{setTimeout(e,t)},Oj=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cB(10),Ij=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?Oj:t.type==="callback"?t.queueNotification:cB(t.timeout),l=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[kj]),s=!i,s&&(o||(o=!0,u(l))),n.dispatch(c)}finally{i=!0}}})},Fj=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new lB(t);return n&&i.push(Ij(typeof n=="object"?n:void 0)),i},Uj=!0;function Lj(t){const e=Dj(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(Ab(r))a=sj(r);else throw new Error(Zr(1));let u;typeof n=="function"?u=n(e):u=e();let l=Jp;i&&(l=Mj({trace:!Uj,...typeof i=="object"&&i}));const c=oj(...u),d=Fj(c);let h=typeof o=="function"?o(d):d();const f=l(...h);return ZM(a,s,f)}function dB(t){const e={},r=[];let n;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Zr(28));if(a in e)throw new Error(Zr(29));return e[a]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Nj(t){return typeof t=="function"}function Gj(t,e){let[r,n,i]=dB(e),s;if(Nj(t))s=()=>jT(t());else{const a=jT(t);s=()=>a}function o(a=s(),u){let l=[r[u.type],...n.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,d)=>{if(d)if(Eo(c)){const f=d(c,u);return f===void 0?c:f}else{if(As(c))return oB(c,h=>d(h,u));{const h=d(c,u);if(h===void 0){if(c===null)return c;throw new Error(Zr(9))}return h}}return c},a)}return o.getInitialState=s,o}var zj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$j=(t=21)=>{let e="",r=t;for(;r--;)e+=zj[Math.random()*64|0];return e},Hj=Symbol.for("rtk-slice-createasyncthunk");function jj(t,e){return`${t}/${e}`}function Wj({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Hj];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Zr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Yj()):i.reducers)||{},u=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,x){const S=typeof y=="string"?y:y.type;if(!S)throw new Error(Zr(12));if(S in l.sliceCaseReducersByType)throw new Error(Zr(13));return l.sliceCaseReducersByType[S]=x,c},addMatcher(y,x){return l.sliceMatchers.push({matcher:y,reducer:x}),c},exposeAction(y,x){return l.actionCreators[y]=x,c},exposeCaseReducer(y,x){return l.sliceCaseReducersByName[y]=x,c}};u.forEach(y=>{const x=a[y],S={reducerName:y,type:jj(s,y),createNotation:typeof i.reducers=="function"};Kj(x)?Zj(S,x,c,e):qj(S,x,c)});function d(){const[y={},x=[],S=void 0]=typeof i.extraReducers=="function"?dB(i.extraReducers):[i.extraReducers],w={...y,...l.sliceCaseReducersByType};return Gj(i.initialState,b=>{for(let T in w)b.addCase(T,w[T]);for(let T of l.sliceMatchers)b.addMatcher(T.matcher,T.reducer);for(let T of x)b.addMatcher(T.matcher,T.reducer);S&&b.addDefaultCase(S)})}const h=y=>y,f=new Map;let p;function m(y,x){return p||(p=d()),p(y,x)}function g(){return p||(p=d()),p.getInitialState()}function _(y,x=!1){function S(b){let T=b[y];return typeof T>"u"&&x&&(T=g()),T}function w(b=h){const T=WT(f,x,{insert:()=>new WeakMap});return WT(T,b,{insert:()=>{const E={};for(const[P,B]of Object.entries(i.selectors??{}))E[P]=Vj(B,b,g,x);return E}})}return{reducerPath:y,getSelectors:w,get selectors(){return w(S)},selectSlice:S}}const v={name:s,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,..._(o),injectInto(y,{reducerPath:x,...S}={}){const w=x??o;return y.inject({reducerPath:w,reducer:m},S),{...v,..._(w,!0)}}};return v}}function Vj(t,e,r,n){function i(s,...o){let a=e(s);return typeof a>"u"&&n&&(a=r()),t(a,...o)}return i.unwrapped=t,i}var Xj=Wj();function Yj(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function qj({type:t,reducerName:e,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!Qj(n))throw new Error(Zr(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?cl(t,o):cl(t))}function Kj(t){return t._reducerDefinitionType==="asyncThunk"}function Qj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zj({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Zr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:l,options:c}=r,d=i(t,s,c);n.exposeAction(e,d),o&&n.addCase(d.fulfilled,o),a&&n.addCase(d.pending,a),u&&n.addCase(d.rejected,u),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:o||gf,pending:a||gf,rejected:u||gf,settled:l||gf})}function gf(){}var Jj=(t,e)=>{if(typeof t!="function")throw new Error(Zr(32))},Db="listenerMiddleware",eW=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=cl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Zr(21));return Jj(s),{predicate:i,type:e,effect:s}},tW=Object.assign(t=>{const{type:e,predicate:r,effect:n}=eW(t);return{id:$j(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>tW}),rW=Object.assign(cl(`${Db}/add`),{withTypes:()=>rW});cl(`${Db}/removeAll`);var nW=Object.assign(cl(`${Db}/remove`),{withTypes:()=>nW});function Zr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const hB=Xj({name:"nav",initialState:{selectedItem:null,location:null},reducers:{selectItem:(t,e)=>{t.selectedItem=e.payload},setLocation:(t,e)=>{t.location=e.payload}}}),{selectItem:iW,setLocation:sW}=hB.actions,oW=hB.reducer,aW=Na(R.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),uW=Na(R.jsx("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m13.1-8.16c.01-.11.02-.22.02-.34 0-.12-.01-.23-.03-.34l.74-.58c.07-.05.08-.15.04-.22l-.7-1.21c-.04-.08-.14-.1-.21-.08l-.86.35c-.18-.14-.38-.25-.59-.34l-.13-.93c-.02-.09-.09-.15-.18-.15h-1.4c-.09 0-.16.06-.17.15l-.13.93c-.21.09-.41.21-.59.34l-.87-.35c-.08-.03-.17 0-.21.08l-.7 1.21c-.04.08-.03.17.04.22l.74.58c-.02.11-.03.23-.03.34 0 .11.01.23.03.34l-.74.58c-.07.05-.08.15-.04.22l.7 1.21c.04.08.14.1.21.08l.87-.35c.18.14.38.25.59.34l.13.93c.01.09.08.15.17.15h1.4c.09 0 .16-.06.17-.15l.13-.93c.21-.09.41-.21.59-.34l.87.35c.08.03.17 0 .21-.08l.7-1.21c.04-.08.03-.17-.04-.22zm-2.6.91c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m.42 3.93-.5-.87c-.03-.06-.1-.08-.15-.06l-.62.25c-.13-.1-.27-.18-.42-.24l-.09-.66c-.02-.06-.08-.1-.14-.1h-1c-.06 0-.11.04-.12.11l-.09.66c-.15.06-.29.15-.42.24l-.62-.25c-.06-.02-.12 0-.15.06l-.5.87c-.03.06-.02.12.03.16l.53.41c-.01.08-.02.16-.02.24 0 .08.01.17.02.24l-.53.41c-.05.04-.06.11-.03.16l.5.87c.03.06.1.08.15.06l.62-.25c.13.1.27.18.42.24l.09.66c.01.07.06.11.12.11h1c.06 0 .12-.04.12-.11l.09-.66c.15-.06.29-.15.42-.24l.62.25c.06.02.12 0 .15-.06l.5-.87c.03-.06.02-.12-.03-.16l-.52-.41c.01-.08.02-.16.02-.24 0-.08-.01-.17-.02-.24l.53-.41c.05-.04.06-.11.04-.17m-2.42 1.65c-.46 0-.83-.38-.83-.83 0-.46.38-.83.83-.83s.83.38.83.83c0 .46-.37.83-.83.83M4.74 9h8.53c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M9 13c1.86 0 3.41-1.28 3.86-3H5.14c.45 1.72 2 3 3.86 3"}),"Engineering"),lW=Na(R.jsx("path",{d:"M12 2c-4.97 0-9 4.03-9 9 0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11c0-4.97-4.03-9-9-9m0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m0 14.3c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22"}),"PersonPin"),cW=Na([R.jsx("circle",{cx:"4.5",cy:"9.5",r:"2.5"},"0"),R.jsx("circle",{cx:"9",cy:"5.5",r:"2.5"},"1"),R.jsx("circle",{cx:"15",cy:"5.5",r:"2.5"},"2"),R.jsx("circle",{cx:"19.5",cy:"9.5",r:"2.5"},"3"),R.jsx("path",{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8"},"4")],"Pets"),dW=Na(R.jsx("path",{d:"M12 2.5s4.5 2.04 4.5 10.5c0 2.49-1.04 5.57-1.6 7H9.1c-.56-1.43-1.6-4.51-1.6-7C7.5 4.54 12 2.5 12 2.5m2 8.5c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2m-6.31 9.52c-.48-1.23-1.52-4.17-1.67-6.87l-1.13.75c-.56.38-.89 1-.89 1.67V22zM20 22v-5.93c0-.67-.33-1.29-.89-1.66l-1.13-.75c-.15 2.69-1.2 5.64-1.67 6.87z"}),"Rocket"),hW=Na(R.jsx("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"}),"RocketLaunch");/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},st.apply(this,arguments)}var Ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ot||(Ot={}));const VT="popstate";function fW(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Is(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Id("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");a=l===-1?u:u.slice(0,l)}return a+"#"+(typeof s=="string"?s:Aa(s))}function n(i,s){Pa(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return mW(e,r,n,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pW(){return Math.random().toString(36).substr(2,8)}function XT(t,e){return{usr:t.state,key:t.key,idx:e}}function Id(t,e,r,n){return r===void 0&&(r=null),st({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Is(e):e,{state:r,key:e&&e.key||n||pW()})}function Aa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Is(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function mW(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Ot.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(st({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ot.Pop;let g=c(),_=g==null?null:g-l;l=g,u&&u({action:a,location:m.location,delta:_})}function h(g,_){a=Ot.Push;let v=Id(m.location,g,_);r&&r(v,g),l=c()+1;let y=XT(v,l),x=m.createHref(v);try{o.pushState(y,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(x)}s&&u&&u({action:a,location:m.location,delta:1})}function f(g,_){a=Ot.Replace;let v=Id(m.location,g,_);r&&r(v,g),l=c();let y=XT(v,l),x=m.createHref(v);o.replaceState(y,"",x),s&&u&&u({action:a,location:m.location,delta:0})}function p(g){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:Aa(g);return v=v.replace(/ $/,"%20"),ve(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let m={get action(){return a},get location(){return t(i,o)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(VT,d),u=g,()=>{i.removeEventListener(VT,d),u=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let _=p(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:f,go(g){return o.go(g)}};return m}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const gW=new Set(["lazy","caseSensitive","path","id","index","children"]);function _W(t){return t.index===!0}function Rv(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),ve(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),_W(i)){let u=st({},i,e(i),{id:a});return n[a]=u,u}else{let u=st({},i,e(i),{id:a,children:void 0});return n[a]=u,i.children&&(u.children=Rv(i.children,e,o,n)),u}})}function Eu(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Is(e):e,i=Dl(n.pathname||"/",r);if(i==null)return null;let s=fB(t);vW(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=BW(i);o=AW(s[a],u)}return o}function yW(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function fB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ve(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let l=bs([n,u.relativePath]),c=r.concat(u);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),fB(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:CW(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of pB(s.path))i(s,o,u)}),e}function pB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=pB(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function vW(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:PW(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xW=/^:[\w-]+$/,bW=3,SW=2,wW=1,EW=10,TW=-2,YT=t=>t==="*";function CW(t,e){let r=t.split("/"),n=r.length;return r.some(YT)&&(n+=TW),e&&(n+=SW),r.filter(i=>!YT(i)).reduce((i,s)=>i+(xW.test(s)?bW:s===""?wW:EW),n)}function PW(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function AW(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],u=o===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=RW({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(n,c.params);let d=a.route;s.push({params:n,pathname:bs([i,c.pathname]),pathnameBase:OW(bs([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bs([i,c.pathnameBase]))}return s}function RW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=MW(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function MW(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function BW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function DW(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Is(t):t;return{pathname:r?r.startsWith("/")?r:kW(r,e):e,search:IW(n),hash:FW(i)}}function kW(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function g_(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kb(t,e){let r=mB(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ob(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Is(t):(i=st({},t),ve(!i.pathname||!i.pathname.includes("?"),g_("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),g_("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),g_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let u=DW(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const bs=t=>t.join("/").replace(/\/\/+/g,"/"),OW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ib{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Fb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gB=["post","put","patch","delete"],UW=new Set(gB),LW=["get",...gB],NW=new Set(LW),GW=new Set([301,302,303,307,308]),zW=new Set([307,308]),__={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$W={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HW=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_B="remix-router-transitions";function jW(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=I=>({hasErrorBoundary:M(I)})}else i=HW;let s={},o=Rv(t.routes,i,void 0,s),a,u=t.basename||"/",l=t.unstable_dataStrategy||YW,c=st({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),d=null,h=new Set,f=null,p=null,m=null,g=t.hydrationData!=null,_=Eu(o,t.history.location,u),v=null;if(_==null){let M=Hn(404,{pathname:t.history.location.pathname}),{matches:I,route:z}=iC(o);_=I,v={[z.id]:M}}let y,x=_.some(M=>M.route.lazy),S=_.some(M=>M.route.loader);if(x)y=!1;else if(!S)y=!0;else if(c.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null,z=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:M&&M[W.route.id]!==void 0||I&&I[W.route.id]!==void 0:!0;if(I){let W=_.findIndex(Y=>I[Y.route.id]!==void 0);y=_.slice(0,W+1).every(z)}else y=_.every(z)}else y=t.hydrationData!=null;let w,b={historyAction:t.history.action,location:t.history.location,matches:_,initialized:y,navigation:__,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},T=Ot.Pop,E=!1,P,B=!1,L=new Map,O=null,k=!1,G=!1,U=[],H=[],F=new Map,N=0,$=-1,oe=new Map,V=new Set,be=new Map,re=new Map,ae=new Set,_e=new Map,Ge=new Map,Q=!1;function fe(){if(d=t.history.listen(M=>{let{action:I,location:z,delta:W}=M;if(Q){Q=!1;return}Pa(Ge.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=$l({currentLocation:b.location,nextLocation:z,historyAction:I});if(Y&&W!=null){Q=!0,t.history.go(W*-1),Ns(Y,{state:"blocked",location:z,proceed(){Ns(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),t.history.go(W)},reset(){let ce=new Map(b.blockers);ce.set(Y,sc),Oe({blockers:ce})}});return}return nt(I,z)}),r){oV(e,L);let M=()=>aV(e,L);e.addEventListener("pagehide",M),O=()=>e.removeEventListener("pagehide",M)}return b.initialized||nt(Ot.Pop,b.location,{initialHydration:!0}),w}function rt(){d&&d(),O&&O(),h.clear(),P&&P.abort(),b.fetchers.forEach((M,I)=>se(I)),b.blockers.forEach((M,I)=>zo(I))}function wt(M){return h.add(M),()=>h.delete(M)}function Oe(M,I){I===void 0&&(I={}),b=st({},b,M);let z=[],W=[];c.v7_fetcherPersist&&b.fetchers.forEach((Y,ce)=>{Y.state==="idle"&&(ae.has(ce)?W.push(ce):z.push(ce))}),[...h].forEach(Y=>Y(b,{deletedFetchers:W,unstable_viewTransitionOpts:I.viewTransitionOpts,unstable_flushSync:I.flushSync===!0})),c.v7_fetcherPersist&&(z.forEach(Y=>b.fetchers.delete(Y)),W.forEach(Y=>se(Y)))}function Nt(M,I,z){var W,Y;let{flushSync:ce}=z===void 0?{}:z,Z=b.actionData!=null&&b.navigation.formMethod!=null&&Ti(b.navigation.formMethod)&&b.navigation.state==="loading"&&((W=M.state)==null?void 0:W._isRedirect)!==!0,q;I.actionData?Object.keys(I.actionData).length>0?q=I.actionData:q=null:Z?q=b.actionData:q=null;let ee=I.loaderData?rC(b.loaderData,I.loaderData,I.matches||[],I.errors):b.loaderData,ne=b.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((ie,He)=>ne.set(He,sc)));let zt=E===!0||b.navigation.formMethod!=null&&Ti(b.navigation.formMethod)&&((Y=M.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),k||T===Ot.Pop||(T===Ot.Push?t.history.push(M,M.state):T===Ot.Replace&&t.history.replace(M,M.state));let it;if(T===Ot.Pop){let ie=L.get(b.location.pathname);ie&&ie.has(M.pathname)?it={currentLocation:b.location,nextLocation:M}:L.has(M.pathname)&&(it={currentLocation:M,nextLocation:b.location})}else if(B){let ie=L.get(b.location.pathname);ie?ie.add(M.pathname):(ie=new Set([M.pathname]),L.set(b.location.pathname,ie)),it={currentLocation:b.location,nextLocation:M}}Oe(st({},I,{actionData:q,loaderData:ee,historyAction:T,location:M,initialized:!0,navigation:__,revalidation:"idle",restoreScrollPosition:jl(M,I.matches||b.matches),preventScrollReset:zt,blockers:ne}),{viewTransitionOpts:it,flushSync:ce===!0}),T=Ot.Pop,E=!1,B=!1,k=!1,G=!1,U=[],H=[]}async function Tr(M,I){if(typeof M=="number"){t.history.go(M);return}let z=Mv(b.location,b.matches,u,c.v7_prependBasename,M,c.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:W,submission:Y,error:ce}=qT(c.v7_normalizeFormMethod,!1,z,I),Z=b.location,q=Id(b.location,W,I&&I.state);q=st({},q,t.history.encodeLocation(q));let ee=I&&I.replace!=null?I.replace:void 0,ne=Ot.Push;ee===!0?ne=Ot.Replace:ee===!1||Y!=null&&Ti(Y.formMethod)&&Y.formAction===b.location.pathname+b.location.search&&(ne=Ot.Replace);let zt=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,it=(I&&I.unstable_flushSync)===!0,ie=$l({currentLocation:Z,nextLocation:q,historyAction:ne});if(ie){Ns(ie,{state:"blocked",location:q,proceed(){Ns(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),Tr(M,I)},reset(){let He=new Map(b.blockers);He.set(ie,sc),Oe({blockers:He})}});return}return await nt(ne,q,{submission:Y,pendingError:ce,preventScrollReset:zt,replace:I&&I.replace,enableViewTransition:I&&I.unstable_viewTransition,flushSync:it})}function pt(){if(pr(),Oe({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){nt(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}nt(T||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function nt(M,I,z){P&&P.abort(),P=null,T=M,k=(z&&z.startUninterruptedRevalidation)===!0,Gh(b.location,b.matches),E=(z&&z.preventScrollReset)===!0,B=(z&&z.enableViewTransition)===!0;let W=a||o,Y=z&&z.overrideNavigation,ce=Eu(W,I,u),Z=(z&&z.flushSync)===!0;if(!ce){let ie=Hn(404,{pathname:I.pathname}),{matches:He,route:Et}=iC(W);Hl(),Nt(I,{matches:He,loaderData:{},errors:{[Et.id]:ie}},{flushSync:Z});return}if(b.initialized&&!G&&eV(b.location,I)&&!(z&&z.submission&&Ti(z.submission.formMethod))){Nt(I,{matches:ce},{flushSync:Z});return}P=new AbortController;let q=Ja(t.history,I,P.signal,z&&z.submission),ee;if(z&&z.pendingError)ee=[Xc(ce).route.id,{type:Ze.error,error:z.pendingError}];else if(z&&z.submission&&Ti(z.submission.formMethod)){let ie=await hr(q,I,z.submission,ce,{replace:z.replace,flushSync:Z});if(ie.shortCircuited)return;ee=ie.pendingActionResult,Y=y_(I,z.submission),Z=!1,q=Ja(t.history,q.url,q.signal)}let{shortCircuited:ne,loaderData:zt,errors:it}=await Gt(q,I,ce,Y,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Z,ee);ne||(P=null,Nt(I,st({matches:ce},nC(ee),{loaderData:zt,errors:it})))}async function hr(M,I,z,W,Y){Y===void 0&&(Y={}),pr();let ce=iV(I,z);Oe({navigation:ce},{flushSync:Y.flushSync===!0});let Z,q=Dv(W,I);if(!q.route.action&&!q.route.lazy)Z={type:Ze.error,error:Hn(405,{method:M.method,pathname:I.pathname,routeId:q.route.id})};else if(Z=(await Ir("action",M,[q],W))[0],M.signal.aborted)return{shortCircuited:!0};if(ua(Z)){let ee;return Y&&Y.replace!=null?ee=Y.replace:ee=JT(Z.response.headers.get("Location"),new URL(M.url),u)===b.location.pathname+b.location.search,await fr(M,Z,{submission:z,replace:ee}),{shortCircuited:!0}}if(aa(Z))throw Hn(400,{type:"defer-action"});if(Qn(Z)){let ee=Xc(W,q.route.id);return(Y&&Y.replace)!==!0&&(T=Ot.Push),{pendingActionResult:[ee.route.id,Z]}}return{pendingActionResult:[q.route.id,Z]}}async function Gt(M,I,z,W,Y,ce,Z,q,ee,ne){let zt=W||y_(I,Y),it=Y||ce||aC(zt),ie=a||o,[He,Et]=KT(t.history,b,z,it,I,c.v7_partialHydration&&q===!0,c.unstable_skipActionErrorRevalidation,G,U,H,ae,be,V,ie,u,ne);if(Hl(we=>!(z&&z.some(Cr=>Cr.route.id===we))||He&&He.some(Cr=>Cr.route.id===we)),$=++N,He.length===0&&Et.length===0){let we=Ls();return Nt(I,st({matches:z,loaderData:{},errors:ne&&Qn(ne[1])?{[ne[0]]:ne[1].error}:null},nC(ne),we?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(!k&&(!c.v7_partialHydration||!q)){Et.forEach(Cr=>{let Nn=b.fetchers.get(Cr.key),ir=oc(void 0,Nn?Nn.data:void 0);b.fetchers.set(Cr.key,ir)});let we;ne&&!Qn(ne[1])?we={[ne[0]]:ne[1].data}:b.actionData&&(Object.keys(b.actionData).length===0?we=null:we=b.actionData),Oe(st({navigation:zt},we!==void 0?{actionData:we}:{},Et.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ee})}Et.forEach(we=>{F.has(we.key)&&Nr(we.key),we.controller&&F.set(we.key,we.controller)});let Gs=()=>Et.forEach(we=>Nr(we.key));P&&P.signal.addEventListener("abort",Gs);let{loaderResults:xi,fetcherResults:zs}=await Fr(b.matches,z,He,Et,M);if(M.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Gs),Et.forEach(we=>F.delete(we.key));let $s=sC([...xi,...zs]);if($s){if($s.idx>=He.length){let we=Et[$s.idx-He.length].key;V.add(we)}return await fr(M,$s.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:Hs,errors:Ln}=tC(b,z,He,xi,ne,Et,zs,_e);_e.forEach((we,Cr)=>{we.subscribe(Nn=>{(Nn||we.done)&&_e.delete(Cr)})}),c.v7_partialHydration&&q&&b.errors&&Object.entries(b.errors).filter(we=>{let[Cr]=we;return!He.some(Nn=>Nn.route.id===Cr)}).forEach(we=>{let[Cr,Nn]=we;Ln=Object.assign(Ln||{},{[Cr]:Nn})});let me=Ls(),Xt=zl($),$h=me||Xt||Et.length>0;return st({loaderData:Hs,errors:Ln},$h?{fetchers:new Map(b.fetchers)}:{})}function Li(M,I,z,W){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(M)&&Nr(M);let Y=(W&&W.unstable_flushSync)===!0,ce=a||o,Z=Mv(b.location,b.matches,u,c.v7_prependBasename,z,c.v7_relativeSplatPath,I,W==null?void 0:W.relative),q=Eu(ce,Z,u);if(!q){Ur(M,I,Hn(404,{pathname:Z}),{flushSync:Y});return}let{path:ee,submission:ne,error:zt}=qT(c.v7_normalizeFormMethod,!0,Z,W);if(zt){Ur(M,I,zt,{flushSync:Y});return}let it=Dv(q,ee);if(E=(W&&W.preventScrollReset)===!0,ne&&Ti(ne.formMethod)){kt(M,I,ee,it,q,Y,ne);return}be.set(M,{routeId:I,path:ee}),Or(M,I,ee,it,q,Y,ne)}async function kt(M,I,z,W,Y,ce,Z){if(pr(),be.delete(M),!W.route.action&&!W.route.lazy){let ir=Hn(405,{method:Z.formMethod,pathname:z,routeId:I});Ur(M,I,ir,{flushSync:ce});return}let q=b.fetchers.get(M);Vt(M,sV(Z,q),{flushSync:ce});let ee=new AbortController,ne=Ja(t.history,z,ee.signal,Z);F.set(M,ee);let zt=N,ie=(await Ir("action",ne,[W],Y))[0];if(ne.signal.aborted){F.get(M)===ee&&F.delete(M);return}if(c.v7_fetcherPersist&&ae.has(M)){if(ua(ie)||Qn(ie)){Vt(M,Ys(void 0));return}}else{if(ua(ie))if(F.delete(M),$>zt){Vt(M,Ys(void 0));return}else return V.add(M),Vt(M,oc(Z)),fr(ne,ie,{fetcherSubmission:Z});if(Qn(ie)){Ur(M,I,ie.error);return}}if(aa(ie))throw Hn(400,{type:"defer-action"});let He=b.navigation.location||b.location,Et=Ja(t.history,He,ee.signal),Gs=a||o,xi=b.navigation.state!=="idle"?Eu(Gs,b.navigation.location,u):b.matches;ve(xi,"Didn't find any matches after fetcher action");let zs=++N;oe.set(M,zs);let $s=oc(Z,ie.data);b.fetchers.set(M,$s);let[Hs,Ln]=KT(t.history,b,xi,Z,He,!1,c.unstable_skipActionErrorRevalidation,G,U,H,ae,be,V,Gs,u,[W.route.id,ie]);Ln.filter(ir=>ir.key!==M).forEach(ir=>{let Wl=ir.key,Rw=b.fetchers.get(Wl),_F=oc(void 0,Rw?Rw.data:void 0);b.fetchers.set(Wl,_F),F.has(Wl)&&Nr(Wl),ir.controller&&F.set(Wl,ir.controller)}),Oe({fetchers:new Map(b.fetchers)});let me=()=>Ln.forEach(ir=>Nr(ir.key));ee.signal.addEventListener("abort",me);let{loaderResults:Xt,fetcherResults:$h}=await Fr(b.matches,xi,Hs,Ln,Et);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",me),oe.delete(M),F.delete(M),Ln.forEach(ir=>F.delete(ir.key));let we=sC([...Xt,...$h]);if(we){if(we.idx>=Hs.length){let ir=Ln[we.idx-Hs.length].key;V.add(ir)}return fr(Et,we.result)}let{loaderData:Cr,errors:Nn}=tC(b,b.matches,Hs,Xt,void 0,Ln,$h,_e);if(b.fetchers.has(M)){let ir=Ys(ie.data);b.fetchers.set(M,ir)}zl(zs),b.navigation.state==="loading"&&zs>$?(ve(T,"Expected pending action"),P&&P.abort(),Nt(b.navigation.location,{matches:xi,loaderData:Cr,errors:Nn,fetchers:new Map(b.fetchers)})):(Oe({errors:Nn,loaderData:rC(b.loaderData,Cr,xi,Nn),fetchers:new Map(b.fetchers)}),G=!1)}async function Or(M,I,z,W,Y,ce,Z){let q=b.fetchers.get(M);Vt(M,oc(Z,q?q.data:void 0),{flushSync:ce});let ee=new AbortController,ne=Ja(t.history,z,ee.signal);F.set(M,ee);let zt=N,ie=(await Ir("loader",ne,[W],Y))[0];if(aa(ie)&&(ie=await bB(ie,ne.signal,!0)||ie),F.get(M)===ee&&F.delete(M),!ne.signal.aborted){if(ae.has(M)){Vt(M,Ys(void 0));return}if(ua(ie))if($>zt){Vt(M,Ys(void 0));return}else{V.add(M),await fr(ne,ie);return}if(Qn(ie)){Ur(M,I,ie.error);return}ve(!aa(ie),"Unhandled fetcher deferred data"),Vt(M,Ys(ie.data))}}async function fr(M,I,z){let{submission:W,fetcherSubmission:Y,replace:ce}=z===void 0?{}:z;I.response.headers.has("X-Remix-Revalidate")&&(G=!0);let Z=I.response.headers.get("Location");ve(Z,"Expected a Location header on the redirect Response"),Z=JT(Z,new URL(M.url),u);let q=Id(b.location,Z,{_isRedirect:!0});if(r){let He=!1;if(I.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(Ub.test(Z)){const Et=t.history.createURL(Z);He=Et.origin!==e.location.origin||Dl(Et.pathname,u)==null}if(He){ce?e.location.replace(Z):e.location.assign(Z);return}}P=null;let ee=ce===!0?Ot.Replace:Ot.Push,{formMethod:ne,formAction:zt,formEncType:it}=b.navigation;!W&&!Y&&ne&&zt&&it&&(W=aC(b.navigation));let ie=W||Y;if(zW.has(I.response.status)&&ie&&Ti(ie.formMethod))await nt(ee,q,{submission:st({},ie,{formAction:Z}),preventScrollReset:E});else{let He=y_(q,W);await nt(ee,q,{overrideNavigation:He,fetcherSubmission:Y,preventScrollReset:E})}}async function Ir(M,I,z,W){try{let Y=await qW(l,M,I,z,W,s,i);return await Promise.all(Y.map((ce,Z)=>{if(tV(ce)){let q=ce.result;return{type:Ze.redirect,response:ZW(q,I,z[Z].route.id,W,u,c.v7_relativeSplatPath)}}return QW(ce)}))}catch(Y){return z.map(()=>({type:Ze.error,error:Y}))}}async function Fr(M,I,z,W,Y){let[ce,...Z]=await Promise.all([z.length?Ir("loader",Y,z,I):[],...W.map(q=>{if(q.matches&&q.match&&q.controller){let ee=Ja(t.history,q.path,q.controller.signal);return Ir("loader",ee,[q.match],q.matches).then(ne=>ne[0])}else return Promise.resolve({type:Ze.error,error:Hn(404,{pathname:q.path})})})]);return await Promise.all([oC(M,z,ce,ce.map(()=>Y.signal),!1,b.loaderData),oC(M,W.map(q=>q.match),Z,W.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:Z}}function pr(){G=!0,U.push(...Hl()),be.forEach((M,I)=>{F.has(I)&&(H.push(I),Nr(I))})}function Vt(M,I,z){z===void 0&&(z={}),b.fetchers.set(M,I),Oe({fetchers:new Map(b.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Ur(M,I,z,W){W===void 0&&(W={});let Y=Xc(b.matches,I);se(M),Oe({errors:{[Y.route.id]:z},fetchers:new Map(b.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function ls(M){return c.v7_fetcherPersist&&(re.set(M,(re.get(M)||0)+1),ae.has(M)&&ae.delete(M)),b.fetchers.get(M)||$W}function se(M){let I=b.fetchers.get(M);F.has(M)&&!(I&&I.state==="loading"&&oe.has(M))&&Nr(M),be.delete(M),oe.delete(M),V.delete(M),ae.delete(M),b.fetchers.delete(M)}function Lr(M){if(c.v7_fetcherPersist){let I=(re.get(M)||0)-1;I<=0?(re.delete(M),ae.add(M)):re.set(M,I)}else se(M);Oe({fetchers:new Map(b.fetchers)})}function Nr(M){let I=F.get(M);ve(I,"Expected fetch controller: "+M),I.abort(),F.delete(M)}function vi(M){for(let I of M){let z=ls(I),W=Ys(z.data);b.fetchers.set(I,W)}}function Ls(){let M=[],I=!1;for(let z of V){let W=b.fetchers.get(z);ve(W,"Expected fetcher: "+z),W.state==="loading"&&(V.delete(z),M.push(z),I=!0)}return vi(M),I}function zl(M){let I=[];for(let[z,W]of oe)if(W<M){let Y=b.fetchers.get(z);ve(Y,"Expected fetcher: "+z),Y.state==="loading"&&(Nr(z),oe.delete(z),I.push(z))}return vi(I),I.length>0}function Wa(M,I){let z=b.blockers.get(M)||sc;return Ge.get(M)!==I&&Ge.set(M,I),z}function zo(M){b.blockers.delete(M),Ge.delete(M)}function Ns(M,I){let z=b.blockers.get(M)||sc;ve(z.state==="unblocked"&&I.state==="blocked"||z.state==="blocked"&&I.state==="blocked"||z.state==="blocked"&&I.state==="proceeding"||z.state==="blocked"&&I.state==="unblocked"||z.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+I.state);let W=new Map(b.blockers);W.set(M,I),Oe({blockers:W})}function $l(M){let{currentLocation:I,nextLocation:z,historyAction:W}=M;if(Ge.size===0)return;Ge.size>1&&Pa(!1,"A router only supports one blocker at a time");let Y=Array.from(Ge.entries()),[ce,Z]=Y[Y.length-1],q=b.blockers.get(ce);if(!(q&&q.state==="proceeding")&&Z({currentLocation:I,nextLocation:z,historyAction:W}))return ce}function Hl(M){let I=[];return _e.forEach((z,W)=>{(!M||M(W))&&(z.cancel(),I.push(W),_e.delete(W))}),I}function D0(M,I,z){if(f=M,m=I,p=z||null,!g&&b.navigation===__){g=!0;let W=jl(b.location,b.matches);W!=null&&Oe({restoreScrollPosition:W})}return()=>{f=null,m=null,p=null}}function Nh(M,I){return p&&p(M,I.map(W=>yW(W,b.loaderData)))||M.key}function Gh(M,I){if(f&&m){let z=Nh(M,I);f[z]=m()}}function jl(M,I){if(f){let z=Nh(M,I),W=f[z];if(typeof W=="number")return W}return null}function zh(M){s={},a=Rv(M,i,void 0,s)}return w={get basename(){return u},get future(){return c},get state(){return b},get routes(){return o},get window(){return e},initialize:fe,subscribe:wt,enableScrollRestoration:D0,navigate:Tr,fetch:Li,revalidate:pt,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:ls,deleteFetcher:Lr,dispose:rt,getBlocker:Wa,deleteBlocker:zo,_internalFetchControllers:F,_internalActiveDeferreds:_e,_internalSetRoutes:zh},w}function WW(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Mv(t,e,r,n,i,s,o,a){let u,l;if(o){u=[];for(let d of e)if(u.push(d),d.route.id===o){l=d;break}}else u=e,l=e[e.length-1];let c=Ob(i||".",kb(u,s),Dl(t.pathname,r)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Lb(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:bs([r,c.pathname])),Aa(c)}function qT(t,e,r,n){if(!n||!WW(n))return{path:r};if(n.formMethod&&!nV(n.formMethod))return{path:r,error:Hn(405,{method:n.formMethod})};let i=()=>({path:r,error:Hn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=vB(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ti(o))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,p)=>{let[m,g]=p;return""+f+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Ti(o))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ve(typeof FormData=="function","FormData is not available in this environment");let u,l;if(n.formData)u=Bv(n.formData),l=n.formData;else if(n.body instanceof FormData)u=Bv(n.body),l=n.body;else if(n.body instanceof URLSearchParams)u=n.body,l=eC(u);else if(n.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(n.body),l=eC(u)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ti(c.formMethod))return{path:r,submission:c};let d=Is(r);return e&&d.search&&Lb(d.search)&&u.append("index",""),d.search="?"+u,{path:Aa(d),submission:c}}function VW(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function KT(t,e,r,n,i,s,o,a,u,l,c,d,h,f,p,m){let g=m?Qn(m[1])?m[1].error:m[1].data:void 0,_=t.createURL(e.location),v=t.createURL(i),y=m&&Qn(m[1])?m[0]:void 0,x=y?VW(r,y):r,S=m?m[1].statusCode:void 0,w=o&&S&&S>=400,b=x.filter((E,P)=>{let{route:B}=E;if(B.lazy)return!0;if(B.loader==null)return!1;if(s)return typeof B.loader!="function"||B.loader.hydrate?!0:e.loaderData[B.id]===void 0&&(!e.errors||e.errors[B.id]===void 0);if(XW(e.loaderData,e.matches[P],E)||u.some(k=>k===E.route.id))return!0;let L=e.matches[P],O=E;return QT(E,st({currentUrl:_,currentParams:L.params,nextUrl:v,nextParams:O.params},n,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:w?!1:a||_.pathname+_.search===v.pathname+v.search||_.search!==v.search||yB(L,O)}))}),T=[];return d.forEach((E,P)=>{if(s||!r.some(G=>G.route.id===E.routeId)||c.has(P))return;let B=Eu(f,E.path,p);if(!B){T.push({key:P,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),O=Dv(B,E.path),k=!1;h.has(P)?k=!1:l.includes(P)?k=!0:L&&L.state!=="idle"&&L.data===void 0?k=a:k=QT(O,st({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:g,unstable_actionStatus:S,defaultShouldRevalidate:w?!1:a})),k&&T.push({key:P,routeId:E.routeId,path:E.path,matches:B,match:O,controller:new AbortController})}),[b,T]}function XW(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function yB(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function QT(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function ZT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];ve(i,"No route found in manifest");let s={};for(let o in n){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Pa(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!gW.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,st({},e(i),{lazy:void 0}))}function YW(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function qW(t,e,r,n,i,s,o,a){let u=n.reduce((d,h)=>d.add(h.route.id),new Set),l=new Set,c=await t({matches:i.map(d=>{let h=u.has(d.route.id);return st({},d,{shouldLoad:h,resolve:p=>(l.add(d.route.id),h?KW(e,r,d,s,o,p,a):Promise.resolve({type:Ze.data,result:void 0}))})}),request:r,params:i[0].params,context:a});return i.forEach(d=>ve(l.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((d,h)=>u.has(i[h].route.id))}async function KW(t,e,r,n,i,s,o){let a,u,l=c=>{let d,h=new Promise((m,g)=>d=g);u=()=>d(),e.signal.addEventListener("abort",u);let f=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:o},...m!==void 0?[m]:[]),p;return s?p=s(m=>f(m)):p=(async()=>{try{return{type:"data",result:await f()}}catch(m){return{type:"error",result:m}}})(),Promise.race([p,h])};try{let c=r.route[t];if(r.route.lazy)if(c){let d,[h]=await Promise.all([l(c).catch(f=>{d=f}),ZT(r.route,i,n)]);if(d!==void 0)throw d;a=h}else if(await ZT(r.route,i,n),c=r.route[t],c)a=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Hn(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:Ze.data,result:void 0};else if(c)a=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw Hn(404,{pathname:h})}ve(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ze.error,result:c}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function QW(t){let{result:e,type:r,status:n}=t;if(xB(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Ze.error,error:a}}return r===Ze.error?{type:Ze.error,error:new Ib(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Ze.data,data:o,statusCode:e.status,headers:e.headers}}if(r===Ze.error)return{type:Ze.error,error:e,statusCode:Fb(e)?e.status:n};if(rV(e)){var i,s;return{type:Ze.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Ze.data,data:e,statusCode:n}}function ZW(t,e,r,n,i,s){let o=t.headers.get("Location");if(ve(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ub.test(o)){let a=n.slice(0,n.findIndex(u=>u.route.id===r)+1);o=Mv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function JT(t,e,r){if(Ub.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Dl(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ja(t,e,r,n){let i=t.createURL(vB(e)).toString(),s={signal:r};if(n&&Ti(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=Bv(n.formData):s.body=n.formData}return new Request(i,s)}function Bv(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function eC(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function JW(t,e,r,n,i,s){let o={},a=null,u,l=!1,c={},d=n&&Qn(n[1])?n[1].error:void 0;return r.forEach((h,f)=>{let p=e[f].route.id;if(ve(!ua(h),"Cannot handle redirect results in processLoaderData"),Qn(h)){let m=h.error;d!==void 0&&(m=d,d=void 0),a=a||{};{let g=Xc(t,p);a[g.route.id]==null&&(a[g.route.id]=m)}o[p]=void 0,l||(l=!0,u=Fb(h.error)?h.error.status:500),h.headers&&(c[p]=h.headers)}else aa(h)?(i.set(p,h.deferredData),o[p]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(u=h.statusCode),h.headers&&(c[p]=h.headers)):(o[p]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(u=h.statusCode),h.headers&&(c[p]=h.headers))}),d!==void 0&&n&&(a={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:c}}function tC(t,e,r,n,i,s,o,a){let{loaderData:u,errors:l}=JW(e,r,n,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];ve(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(!(f&&f.signal.aborted))if(Qn(p)){let m=Xc(t.matches,h==null?void 0:h.route.id);l&&l[m.route.id]||(l=st({},l,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(ua(p))ve(!1,"Unhandled fetcher revalidation redirect");else if(aa(p))ve(!1,"Unhandled fetcher deferred data");else{let m=Ys(p.data);t.fetchers.set(d,m)}}return{loaderData:u,errors:l}}function rC(t,e,r,n){let i=st({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function nC(t){return t?Qn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function iC(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hn(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Ib(t||500,o,new Error(a),!0)}function sC(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(ua(r))return{result:r,idx:e}}}function vB(t){let e=typeof t=="string"?Is(t):t;return Aa(st({},e,{hash:""}))}function eV(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tV(t){return xB(t.result)&&GW.has(t.result.status)}function aa(t){return t.type===Ze.deferred}function Qn(t){return t.type===Ze.error}function ua(t){return(t&&t.type)===Ze.redirect}function rV(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function xB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nV(t){return NW.has(t.toLowerCase())}function Ti(t){return UW.has(t.toLowerCase())}async function oC(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],u=e[o];if(!u)continue;let l=t.find(d=>d.route.id===u.route.id),c=l!=null&&!yB(l,u)&&(s&&s[u.route.id])!==void 0;if(aa(a)&&(i||c)){let d=n[o];ve(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await bB(a,d,i).then(h=>{h&&(r[o]=h||r[o])})}}}async function bB(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:t.deferredData.data}}}function Lb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Dv(t,e){let r=typeof e=="string"?Is(e).search:e.search;if(t[t.length-1].route.index&&Lb(r||""))return t[t.length-1];let n=mB(t);return n[n.length-1]}function aC(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function y_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ys(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oV(t,e){try{let r=t.sessionStorage.getItem(_B);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function aV(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(_B,JSON.stringify(r))}catch(n){Pa(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(this,arguments)}const Vg=C.createContext(null),SB=C.createContext(null),Ga=C.createContext(null),Nb=C.createContext(null),Oo=C.createContext({outlet:null,matches:[],isDataRoute:!1}),wB=C.createContext(null);function uV(t,e){let{relative:r}=e===void 0?{}:e;Sh()||ve(!1);let{basename:n,navigator:i}=C.useContext(Ga),{hash:s,pathname:o,search:a}=TB(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:bs([n,o])),i.createHref({pathname:u,search:a,hash:s})}function Sh(){return C.useContext(Nb)!=null}function kl(){return Sh()||ve(!1),C.useContext(Nb).location}function EB(t){C.useContext(Ga).static||C.useLayoutEffect(t)}function lV(){let{isDataRoute:t}=C.useContext(Oo);return t?wV():cV()}function cV(){Sh()||ve(!1);let t=C.useContext(Vg),{basename:e,future:r,navigator:n}=C.useContext(Ga),{matches:i}=C.useContext(Oo),{pathname:s}=kl(),o=JSON.stringify(kb(i,r.v7_relativeSplatPath)),a=C.useRef(!1);return EB(()=>{a.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=Ob(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}const dV=C.createContext(null);function hV(t){let e=C.useContext(Oo).outlet;return e&&C.createElement(dV.Provider,{value:t},e)}function TB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(Ga),{matches:i}=C.useContext(Oo),{pathname:s}=kl(),o=JSON.stringify(kb(i,n.v7_relativeSplatPath));return C.useMemo(()=>Ob(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function fV(t,e,r,n){Sh()||ve(!1);let{navigator:i}=C.useContext(Ga),{matches:s}=C.useContext(Oo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=kl(),c;c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let m=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=Eu(t,{pathname:h});return yV(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:bs([u,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:bs([u,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n)}function pV(){let t=SV(),e=Fb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const mV=C.createElement(pV,null);class gV extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(Oo.Provider,{value:this.props.routeContext},C.createElement(wB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _V(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(Vg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Oo.Provider,{value:e},n)}function yV(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||ve(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,m=null,g=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||mV,u&&(l<0&&h===0?(p=!0,g=null):l===h&&(p=!0,g=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let y;return f?y=m:p?y=g:d.route.Component?y=C.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,C.createElement(_V,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(gV,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var CB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CB||{}),im=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(im||{});function vV(t){let e=C.useContext(Vg);return e||ve(!1),e}function xV(t){let e=C.useContext(SB);return e||ve(!1),e}function bV(t){let e=C.useContext(Oo);return e||ve(!1),e}function PB(t){let e=bV(),r=e.matches[e.matches.length-1];return r.route.id||ve(!1),r.route.id}function SV(){var t;let e=C.useContext(wB),r=xV(im.UseRouteError),n=PB(im.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function wV(){let{router:t}=vV(CB.UseNavigateStable),e=PB(im.UseNavigateStable),r=C.useRef(!1);return EB(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nm({fromRouteId:e},s)))},[t,e])}function EV(t){return hV(t.context)}function TV(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ot.Pop,navigator:s,static:o=!1,future:a}=t;Sh()&&ve(!1);let u=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:u,navigator:s,static:o,future:nm({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof n=="string"&&(n=Is(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,m=C.useMemo(()=>{let g=Dl(c,u);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:p},navigationType:i}},[u,c,d,h,f,p,i]);return m==null?null:C.createElement(Ga.Provider,{value:l},C.createElement(Nb.Provider,{children:r,value:m}))}new Promise(()=>{});function CV(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}function PV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function AV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RV(t,e){return t.button===0&&(!e||e==="_self")&&!AV(t)}const MV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],BV="6";try{window.__reactRouterVersion=BV}catch{}function DV(t,e){return jW({basename:void 0,future:Fd({},void 0,{v7_prependBasename:!0}),history:fW({window:void 0}),hydrationData:kV(),routes:t,mapRouteProperties:CV,unstable_dataStrategy:void 0,window:void 0}).initialize()}function kV(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fd({},e,{errors:OV(e.errors)})),e}function OV(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Ib(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const IV=C.createContext({isTransitioning:!1}),FV=C.createContext(new Map),UV="startTransition",uC=Yu[UV],LV="flushSync",lC=H6[LV];function NV(t){uC?uC(t):t()}function ac(t){lC?lC(t):t()}class GV{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function zV(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=C.useState(r.state),[o,a]=C.useState(),[u,l]=C.useState({isTransitioning:!1}),[c,d]=C.useState(),[h,f]=C.useState(),[p,m]=C.useState(),g=C.useRef(new Map),{v7_startTransition:_}=n||{},v=C.useCallback(b=>{_?NV(b):b()},[_]),y=C.useCallback((b,T)=>{let{deletedFetchers:E,unstable_flushSync:P,unstable_viewTransitionOpts:B}=T;E.forEach(O=>g.current.delete(O)),b.fetchers.forEach((O,k)=>{O.data!==void 0&&g.current.set(k,O.data)});let L=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!B||L){P?ac(()=>s(b)):v(()=>s(b));return}if(P){ac(()=>{h&&(c&&c.resolve(),h.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let O=r.window.document.startViewTransition(()=>{ac(()=>s(b))});O.finished.finally(()=>{ac(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})})}),ac(()=>f(O));return}h?(c&&c.resolve(),h.skipTransition(),m({state:b,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(a(b),l({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,h,c,g,v]);C.useLayoutEffect(()=>r.subscribe(y),[r,y]),C.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new GV)},[u]),C.useEffect(()=>{if(c&&o&&r.window){let b=o,T=c.promise,E=r.window.document.startViewTransition(async()=>{v(()=>s(b)),await T});E.finished.finally(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})}),f(E)}},[v,o,c,r.window]),C.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),C.useEffect(()=>{!u.isTransitioning&&p&&(a(p.state),l({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[u.isTransitioning,p]),C.useEffect(()=>{},[]);let x=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:b=>r.navigate(b),push:(b,T,E)=>r.navigate(b,{state:T,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(b,T,E)=>r.navigate(b,{replace:!0,state:T,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[r]),S=r.basename||"/",w=C.useMemo(()=>({router:r,navigator:x,static:!1,basename:S}),[r,x,S]);return C.createElement(C.Fragment,null,C.createElement(Vg.Provider,{value:w},C.createElement(SB.Provider,{value:i},C.createElement(FV.Provider,{value:g.current},C.createElement(IV.Provider,{value:u},C.createElement(TV,{basename:S,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?C.createElement($V,{routes:r.routes,future:r.future,state:i}):e))))),null)}function $V(t){let{routes:e,future:r,state:n}=t;return fV(e,void 0,n,r)}const HV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WV=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:d}=e,h=PV(e,MV),{basename:f}=C.useContext(Ga),p,m=!1;if(typeof l=="string"&&jV.test(l)&&(p=l,HV))try{let y=new URL(window.location.href),x=l.startsWith("//")?new URL(y.protocol+l):new URL(l),S=Dl(x.pathname,f);x.origin===y.origin&&S!=null?l=S+x.search+x.hash:m=!0}catch{}let g=uV(l,{relative:i}),_=VV(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(y){n&&n(y),y.defaultPrevented||_(y)}return C.createElement("a",Fd({},h,{href:p||g,onClick:m||s?n:v,ref:r,target:u}))});var cC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cC||(cC={}));var dC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dC||(dC={}));function VV(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=lV(),l=kl(),c=TB(t,{relative:o});return C.useCallback(d=>{if(RV(d,r)){d.preventDefault();let h=n!==void 0?n:Aa(l)===Aa(c);u(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,n,i,r,t,s,o,a])}const Gb=t=>t.nav;function fs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Sn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},dl={duration:.5,overwrite:!1,delay:0},zb,br,et,ti=1e8,Xe=1/ti,kv=Math.PI*2,XV=kv/4,YV=0,RB=Math.sqrt,qV=Math.cos,KV=Math.sin,tr=function(e){return typeof e=="string"},vt=function(e){return typeof e=="function"},Rs=function(e){return typeof e=="number"},$b=function(e){return typeof e>"u"},as=function(e){return typeof e=="object"},Jr=function(e){return e!==!1},Hb=function(){return typeof window<"u"},_f=function(e){return vt(e)||tr(e)},MB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Sr=Array.isArray,Ov=/(?:-?\.?\d|\.)+/gi,BB=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,v_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,DB=/[+-]=-?[.\d]+/,kB=/[^,'"\[\]\s]+/gi,QV=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,at,Hi,Iv,jb,An={},sm={},OB,IB=function(e){return(sm=Ra(e,An))&&an},Wb=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Ud=function(e,r){return!r&&console.warn(e)},FB=function(e,r){return e&&(An[e]=r)&&sm&&(sm[e]=r)||An},Ld=function(){return 0},ZV={suppressEvents:!0,isStart:!0,kill:!1},fp={suppressEvents:!0,kill:!1},JV={suppressEvents:!0},Vb={},vo=[],Fv={},UB,pn={},x_={},hC=30,pp=[],Xb="",Yb=function(e){var r=e[0],n,i;if(as(r)||vt(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=pp.length;i--&&!pp[i].targetTest(r););n=pp[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new aD(e[i],n)))||e.splice(i,1);return e},pa=function(e){return e._gsap||Yb(ri(e))[0]._gsap},LB=function(e,r,n){return(n=e[r])&&vt(n)?e[r]():$b(n)&&e.getAttribute&&e.getAttribute(r)||n},en=function(e,r){return(e=e.split(",")).forEach(r)||e},Tt=function(e){return Math.round(e*1e5)/1e5||0},Jt=function(e){return Math.round(e*1e7)/1e7||0},Lu=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},eX=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},om=function(){var e=vo.length,r=vo.slice(0),n,i;for(Fv={},vo.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},NB=function(e,r,n,i){vo.length&&!br&&om(),e.render(r,n,br&&r<0&&(e._initted||e._startAt)),vo.length&&!br&&om()},GB=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(kB).length<2?r:tr(e)?e.trim():e},zB=function(e){return e},hi=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},tX=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},Ra=function(e,r){for(var n in r)e[n]=r[n];return e},fC=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=as(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},am=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},Yc=function(e){var r=e.parent||at,n=e.keyframes?tX(Sr(e.keyframes)):hi;if(Jr(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},rX=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},$B=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},Xg=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},To=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ma=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},nX=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Uv=function(e,r,n,i){return e._startAt&&(br?e._startAt.revert(fp):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},iX=function t(e){return!e||e._ts&&t(e.parent)},pC=function(e){return e._repeat?hl(e._tTime,e=e.duration()+e._rDelay)*e:0},hl=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},um=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Yg=function(e){return e._end=Jt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Xe)||0))},qg=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Jt(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Yg(e),n._dirty||ma(n,e)),e},HB=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=um(e.rawTime(),r),(!r._dur||wh(0,r.totalDuration(),n)-r._tTime>Xe)&&r.render(n,!0)),ma(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Xe}},Xi=function(e,r,n,i){return r.parent&&To(r),r._start=Jt((Rs(n)?n:n||e!==at?Gn(e,n,r):e._time)+r._delay),r._end=Jt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),$B(e,r,"_first","_last",e._sort?"_start":0),Lv(r)||(e._recent=r),i||HB(e,r),e._ts<0&&qg(e,e._tTime),e},jB=function(e,r){return(An.ScrollTrigger||Wb("scrollTrigger",r))&&An.ScrollTrigger.create(r,e)},WB=function(e,r,n,i,s){if(Kb(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!br&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&UB!==gn.frame)return vo.push(e),e._lazy=[s,i],1},sX=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Lv=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},oX=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&sX(e)&&!(!e._initted&&Lv(e))||(e._ts<0||e._dp._ts<0)&&!Lv(e))?0:1,a=e._rDelay,u=0,l,c,d;if(a&&e._repeat&&(u=wh(0,e._tDur,r),c=hl(u,a),e._yoyo&&c&1&&(o=1-o),c!==hl(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||br||i||e._zTime===Xe||!r&&e._zTime){if(!e._initted&&WB(e,r,i,n,u))return;for(d=e._zTime,e._zTime=r||(n?Xe:0),n||(n=r&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,l=e._pt;l;)l.r(o,l.d),l=l._next;r<0&&Uv(e,r,n,!0),e._onUpdate&&!n&&vn(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&vn(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&To(e,1),!n&&!br&&(vn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},aX=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},fl=function(e,r,n,i){var s=e._repeat,o=Jt(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Jt(o*(s+1)+e._rDelay*s):o,a>0&&!i&&qg(e,e._tTime=e._tDur*a),e.parent&&Yg(e),n||ma(e.parent,e),e},mC=function(e){return e instanceof Rr?ma(e):fl(e,e._dur)},uX={_start:0,endTime:Ld,totalDuration:Ld},Gn=function t(e,r,n){var i=e.labels,s=e._recent||uX,o=e.duration()>=ti?s.endTime(!1):e._dur,a,u,l;return tr(r)&&(isNaN(r)||r in i)?(u=r.charAt(0),l=r.substr(-1)==="%",a=r.indexOf("="),u==="<"||u===">"?(a>=0&&(r=r.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(l?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(u=parseFloat(r.charAt(a-1)+r.substr(a+1)),l&&n&&(u=u/100*(Sr(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+u:o+u)):r==null?o:+r},qc=function(e,r,n){var i=Rs(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,u;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,u=n;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=Jr(u.vars.inherit)&&u.parent;o.immediateRender=Jr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new It(r[0],o,r[s+1])},Io=function(e,r){return e||e===0?r(e):r},wh=function(e,r,n){return n<e?e:n>r?r:n},xr=function(e,r){return!tr(e)||!(r=QV.exec(e))?"":r[1]},lX=function(e,r,n){return Io(n,function(i){return wh(e,r,i)})},Nv=[].slice,VB=function(e,r){return e&&as(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&as(e[0]))&&!e.nodeType&&e!==Hi},cX=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return tr(i)&&!r||VB(i,1)?(s=n).push.apply(s,ri(i)):n.push(i)})||n},ri=function(e,r,n){return et&&!r&&et.selector?et.selector(e):tr(e)&&!n&&(Iv||!pl())?Nv.call((r||jb).querySelectorAll(e),0):Sr(e)?cX(e,n):VB(e)?Nv.call(e,0):e?[e]:[]},Gv=function(e){return e=ri(e)[0]||Ud("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return ri(r,n.querySelectorAll?n:n===e?Ud("Invalid scope")||jb.createElement("div"):e)}},XB=function(e){return e.sort(function(){return .5-Math.random()})},YB=function(e){if(vt(e))return e;var r=as(e)?e:{each:e},n=ga(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,u=isNaN(i)||a,l=r.axis,c=i,d=i;return tr(i)?c=d={center:.5,edges:.5,end:1}[i]||0:!a&&u&&(c=i[0],d=i[1]),function(h,f,p){var m=(p||r).length,g=o[m],_,v,y,x,S,w,b,T,E;if(!g){if(E=r.grid==="auto"?0:(r.grid||[1,ti])[1],!E){for(b=-ti;b<(b=p[E++].getBoundingClientRect().left)&&E<m;);E<m&&E--}for(g=o[m]=[],_=u?Math.min(E,m)*c-.5:i%E,v=E===ti?0:u?m*d/E-.5:i/E|0,b=0,T=ti,w=0;w<m;w++)y=w%E-_,x=v-(w/E|0),g[w]=S=l?Math.abs(l==="y"?x:y):RB(y*y+x*x),S>b&&(b=S),S<T&&(T=S);i==="random"&&XB(g),g.max=b-T,g.min=T,g.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(E>m?m-1:l?l==="y"?m/E:E:Math.max(E,m/E))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=xr(r.amount||r.each)||0,n=n&&m<0?iD(n):n}return m=(g[h]-g.min)/g.max||0,Jt(g.b+(n?n(m):m)*g.v)+g.u}},zv=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Jt(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Rs(n)?0:xr(n))}},qB=function(e,r){var n=Sr(e),i,s;return!n&&as(e)&&(i=n=e.radius||ti,e.values?(e=ri(e.values),(s=!Rs(e[0]))&&(i*=i)):e=zv(e.increment)),Io(r,n?vt(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),l=ti,c=0,d=e.length,h,f;d--;)s?(h=e[d].x-a,f=e[d].y-u,h=h*h+f*f):h=Math.abs(e[d]-a),h<l&&(l=h,c=d);return c=!i||l<=i?e[c]:o,s||c===o||Rs(o)?c:c+xr(o)}:zv(e))},KB=function(e,r,n,i){return Io(Sr(e)?!r:n===!0?!!(n=0):!i,function(){return Sr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},dX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},hX=function(e,r){return function(n){return e(parseFloat(n))+(r||xr(n))}},fX=function(e,r,n){return ZB(e,r,0,1,n)},QB=function(e,r,n){return Io(n,function(i){return e[~~r(i)]})},pX=function t(e,r,n){var i=r-e;return Sr(e)?QB(e,t(0,e.length),r):Io(n,function(s){return(i+(s-e)%i)%i+e})},mX=function t(e,r,n){var i=r-e,s=i*2;return Sr(e)?QB(e,t(0,e.length-1),r):Io(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Nd=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?kB:Ov),n+=e.substr(r,i-r)+KB(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},ZB=function(e,r,n,i,s){var o=r-e,a=i-n;return Io(s,function(u){return n+((u-e)/o*a||0)})},gX=function t(e,r,n,i){var s=isNaN(e+r)?0:function(f){return(1-f)*e+f*r};if(!s){var o=tr(e),a={},u,l,c,d,h;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(Sr(e)&&!Sr(r)){for(c=[],d=e.length,h=d-2,l=1;l<d;l++)c.push(t(e[l-1],e[l]));d--,s=function(p){p*=d;var m=Math.min(h,~~p);return c[m](p-m)},n=r}else i||(e=Ra(Sr(e)?[]:{},e));if(!c){for(u in r)qb.call(a,e,u,"get",r[u]);s=function(p){return Jb(p,a)||(o?e.p:e)}}}return Io(n,s)},gC=function(e,r,n){var i=e.labels,s=ti,o,a,u;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},vn=function(e,r,n){var i=e.vars,s=i[r],o=et,a=e._ctx,u,l,c;if(s)return u=i[r+"Params"],l=i.callbackScope||e,n&&vo.length&&om(),a&&(et=a),c=u?s.apply(l,u):s.call(l),et=o,c},Rc=function(e){return To(e),e.scrollTrigger&&e.scrollTrigger.kill(!!br),e.progress()<1&&vn(e,"onInterrupt"),e},Cu,JB=[],eD=function(e){if(e)if(e=!e.name&&e.default||e,Hb()||e.headless){var r=e.name,n=vt(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Ld,render:Jb,add:qb,kill:DX,modifier:BX,rawVars:0},o={targetTest:0,get:0,getSetter:Zb,aliases:{},register:0};if(pl(),e!==i){if(pn[r])return;hi(i,hi(am(e,s),o)),Ra(i.prototype,Ra(s,am(e,o))),pn[i.prop=r]=i,e.targetTest&&(pp.push(i),Vb[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}FB(r,i),e.register&&e.register(an,i,tn)}else JB.push(e)},je=255,Mc={aqua:[0,je,je],lime:[0,je,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,je],navy:[0,0,128],white:[je,je,je],olive:[128,128,0],yellow:[je,je,0],orange:[je,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[je,0,0],pink:[je,192,203],cyan:[0,je,je],transparent:[je,je,je,0]},b_=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*je+.5|0},tD=function(e,r,n){var i=e?Rs(e)?[e>>16,e>>8&je,e&je]:0:Mc.black,s,o,a,u,l,c,d,h,f,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Mc[e])i=Mc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&je,i&je,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&je,e&je]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(Ov),!r)u=+i[0]%360/360,l=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(l+1):c+l-c*l,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=b_(u+1/3,s,o),i[1]=b_(u,s,o),i[2]=b_(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(BB),n&&i.length<4&&(i[3]=1),i}else i=e.match(Ov)||Mc.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/je,o=i[1]/je,a=i[2]/je,d=Math.max(s,o,a),h=Math.min(s,o,a),c=(d+h)/2,d===h?u=l=0:(f=d-h,l=c>.5?f/(2-d-h):f/(d+h),u=d===s?(o-a)/f+(o<a?6:0):d===o?(a-s)/f+2:(s-o)/f+4,u*=60),i[0]=~~(u+.5),i[1]=~~(l*100+.5),i[2]=~~(c*100+.5)),n&&i.length<4&&(i[3]=1),i},rD=function(e){var r=[],n=[],i=-1;return e.split(xo).forEach(function(s){var o=s.match(Tu)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},_C=function(e,r,n){var i="",s=(e+i).match(xo),o=r?"hsla(":"rgba(",a=0,u,l,c,d;if(!s)return e;if(s=s.map(function(h){return(h=tD(h,r,1))&&o+(r?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),n&&(c=rD(e),u=n.c,u.join(i)!==c.c.join(i)))for(l=e.replace(xo,"1").split(Tu),d=l.length-1;a<d;a++)i+=l[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:n).shift());if(!l)for(l=e.split(xo),d=l.length-1;a<d;a++)i+=l[a]+s[a];return i+l[d]},xo=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Mc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_X=/hsl[a]?\(/,nD=function(e){var r=e.join(" "),n;if(xo.lastIndex=0,xo.test(r))return n=_X.test(r),e[1]=_C(e[1],n),e[0]=_C(e[0],n,rD(e[1])),!0},Gd,gn=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],u,l,c,d,h,f,p=function m(g){var _=t()-i,v=g===!0,y,x,S,w;if((_>e||_<0)&&(n+=_-r),i+=_,S=i-n,y=S-o,(y>0||v)&&(w=++d.frame,h=S-d.time*1e3,d.time=S=S/1e3,o+=y+(y>=s?4:s-y),x=1),v||(u=l(m)),x)for(f=0;f<a.length;f++)a[f](S,h,w,g)};return d={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){OB&&(!Iv&&Hb()&&(Hi=Iv=window,jb=Hi.document||{},An.gsap=an,(Hi.gsapVersions||(Hi.gsapVersions=[])).push(an.version),IB(sm||Hi.GreenSockGlobals||!Hi.gsap&&Hi||{}),JB.forEach(eD)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&d.sleep(),l=c||function(g){return setTimeout(g,o-d.time*1e3+1|0)},Gd=1,p(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(u),Gd=0,l=Ld},lagSmoothing:function(g,_){e=g||1/0,r=Math.min(_||33,e)},fps:function(g){s=1e3/(g||240),o=d.time*1e3+s},add:function(g,_,v){var y=_?function(x,S,w,b){g(x,S,w,b),d.remove(y)}:g;return d.remove(g),a[v?"unshift":"push"](y),pl(),y},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&f>=_&&f--},_listeners:a},d}(),pl=function(){return!Gd&&gn.wake()},Se={},yX=/^[\d.\-M][\d.\-,\s]/,vX=/["']/g,xX=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,u,l;s<o;s++)u=n[s],a=s!==o-1?u.lastIndexOf(","):u.length,l=u.substr(0,a),r[i]=isNaN(l)?l.replace(vX,"").trim():+l,i=u.substr(a+1).trim();return r},bX=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},SX=function(e){var r=(e+"").split("("),n=Se[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[xX(r[1])]:bX(e).split(",").map(GB)):Se._CE&&yX.test(e)?Se._CE("",e):n},iD=function(e){return function(r){return 1-e(1-r)}},sD=function t(e,r){for(var n=e._first,i;n;)n instanceof Rr?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},ga=function(e,r){return e&&(vt(e)?e:Se[e]||SX(e))||r},za=function(e,r,n,i){n===void 0&&(n=function(u){return 1-r(1-u)}),i===void 0&&(i=function(u){return u<.5?r(u*2)/2:1-r((1-u)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return en(e,function(a){Se[a]=An[a]=s,Se[o=a.toLowerCase()]=n;for(var u in s)Se[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Se[a+"."+u]=s[u]}),s},oD=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},S_=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/kv*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*KV((c-o)*s)+1},u=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:oD(a);return s=kv/s,u.config=function(l,c){return t(e,l,c)},u},w_=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:oD(n);return i.config=function(s){return t(e,s)},i};en("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;za(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Se.Linear.easeNone=Se.none=Se.Linear.easeIn;za("Elastic",S_("in"),S_("out"),S_());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};za("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);za("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});za("Circ",function(t){return-(RB(1-t*t)-1)});za("Sine",function(t){return t===1?1:-qV(t*XV)+1});za("Back",w_("in"),w_("out"),w_());Se.SteppedEase=Se.steps=An.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-Xe;return function(a){return((i*wh(0,o,a)|0)+s)*n}}};dl.ease=Se["quad.out"];en("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Xb+=t+","+t+"Params,"});var aD=function(e,r){this.id=YV++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:LB,this.set=r?r.getSetter:Zb},zd=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,fl(this,+r.duration,1,1),this.data=r.data,et&&(this._ctx=et,et.data.push(this)),Gd||gn.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,fl(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(pl(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(qg(this,n),!s._dp||s.parent||HB(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Xi(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Xe||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),NB(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+pC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+pC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?hl(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Xe?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?um(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Xe?0:this._rts,this.totalTime(wh(-Math.abs(this._delay),this._tDur,s),i!==!1),Yg(this),nX(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(pl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Xe&&(this._tTime-=Xe)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Xi(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Jr(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?um(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=JV);var i=br;return br=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),br=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,mC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,mC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Gn(this,n),Jr(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Jr(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Xe:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Xe,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Xe)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=vt(n)?n:zB,a=function(){var l=i.then;i.then=null,vt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),s(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Rc(this)},t}();hi(zd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Xe,_prom:0,_ps:!1,_rts:1});var Rr=function(t){AB(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Jr(n.sortChildren),at&&Xi(n.parent||at,fs(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&jB(fs(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return qc(0,arguments,this),this},r.from=function(i,s,o){return qc(1,arguments,this),this},r.fromTo=function(i,s,o,a){return qc(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,Yc(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new It(i,s,Gn(this,o),1),this},r.call=function(i,s,o){return Xi(this,It.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,u,l,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=c,o.parent=this,new It(i,o,Gn(this,u)),this},r.staggerFrom=function(i,s,o,a,u,l,c){return o.runBackwards=1,Yc(o).immediateRender=Jr(o.immediateRender),this.staggerTo(i,s,o,a,u,l,c)},r.staggerFromTo=function(i,s,o,a,u,l,c,d){return a.startAt=o,Yc(a).immediateRender=Jr(a.immediateRender),this.staggerTo(i,s,a,u,l,c,d)},r.render=function(i,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=i<=0?0:Jt(i),d=this._zTime<0!=i<0&&(this._initted||!l),h,f,p,m,g,_,v,y,x,S,w,b;if(this!==at&&c>u&&i>=0&&(c=u),c!==this._tTime||o||d){if(a!==this._time&&l&&(c+=this._time-a,i+=this._time-a),h=c,x=this._start,y=this._ts,_=!y,d&&(l||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,g=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(h=Jt(c%g),c===u?(m=this._repeat,h=l):(m=~~(c/g),m&&m===c/g&&(h=l,m--),h>l&&(h=l)),S=hl(this._tTime,g),!a&&this._tTime&&S!==m&&this._tTime-S*g-this._dur<=0&&(S=m),w&&m&1&&(h=l-h,b=1),m!==S&&!this._lock){var T=w&&S&1,E=T===(w&&m&1);if(m<S&&(T=!T),a=T?0:c%l?l:c,this._lock=1,this.render(a||(b?0:Jt(m*g)),s,!l)._lock=0,this._tTime=c,!s&&this.parent&&vn(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,u=this._tDur,E&&(this._lock=2,a=T?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;sD(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=aX(this,Jt(a),Jt(h)),v&&(c-=h-(h=v._start))),this._tTime=c,this._time=h,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!m&&(vn(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(f=this._first;f;){if(p=f._next,(f._act||h>=f._start)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,s,o),h!==this._time||!this._ts&&!_){v=0,p&&(c+=this._zTime=-Xe);break}}f=p}else{f=this._last;for(var P=i<0?i:h;f;){if(p=f._prev,(f._act||P<=f._end)&&f._ts&&v!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(P-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(P-f._start)*f._ts,s,o||br&&(f._initted||f._startAt)),h!==this._time||!this._ts&&!_){v=0,p&&(c+=this._zTime=P?-Xe:Xe);break}}f=p}}if(v&&!s&&(this.pause(),v.render(h>=a?0:-Xe)._zTime=h>=a?1:-1,this._ts))return this._start=x,Yg(this),this.render(i,s,o);this._onUpdate&&!s&&vn(this,"onUpdate",!0),(c===u&&this._tTime>=this.totalDuration()||!c&&a)&&(x===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(c===u&&this._ts>0||!c&&this._ts<0)&&To(this,1),!s&&!(i<0&&!a)&&(c||a||!u)&&(vn(this,c===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<u&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Rs(s)||(s=Gn(this,s,i)),!(i instanceof zd)){if(Sr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(tr(i))return this.addLabel(i,s);if(vt(i))i=It.delayedCall(0,i);else return this}return this!==i?Xi(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ti);for(var u=[],l=this._first;l;)l._start>=a&&(l instanceof It?s&&u.push(l):(o&&u.push(l),i&&u.push.apply(u,l.getChildren(!0,s,o)))),l=l._next;return u},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return tr(i)?this.removeLabel(i):vt(i)?this.killTweensOf(i):(Xg(this,i),i===this._recent&&(this._recent=this._last),ma(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Jt(gn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=Gn(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=It.delayedCall(0,s||Ld,o);return a.data="isPause",this._hasPause=1,Xi(this,a,Gn(this,i))},r.removePause=function(i){var s=this._first;for(i=Gn(this,i);s;)s._start===i&&s.data==="isPause"&&To(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),u=a.length;u--;)no!==a[u]&&a[u].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=ri(i),u=this._first,l=Rs(s),c;u;)u instanceof It?eX(u._targets,a)&&(l?(!no||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(c=u.getTweensOf(a,s)).length&&o.push.apply(o,c),u=u._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=Gn(o,i),u=s,l=u.startAt,c=u.onStart,d=u.onStartParams,h=u.immediateRender,f,p=It.to(o,hi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||Xe,onStart:function(){if(o.pause(),!f){var g=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());p._dur!==g&&fl(p,g,0,1).render(p._time,!0,!0),f=1}c&&c.apply(p,d||[])}},s));return h?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,hi({startAt:{time:Gn(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),gC(this,Gn(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),gC(this,Gn(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Xe)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(l in u)u[l]>=o&&(u[l]+=i);return ma(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),ma(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,u=ti,l,c,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,Xi(o,a,c-a._delay,1)._lock=0):u=c,c<0&&a._ts&&(s-=c,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=l;fl(o,o===at&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(at._ts&&(NB(at,um(i,at)),UB=gn.frame),gn.frame>=hC){hC+=Sn.autoSleep||120;var s=at._first;if((!s||!s._ts)&&Sn.autoSleep&&gn._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||gn.sleep()}}},e}(zd);hi(Rr.prototype,{_lock:0,_hasPause:0,_forcing:0});var wX=function(e,r,n,i,s,o,a){var u=new tn(this._pt,e,r,0,1,fD,null,s),l=0,c=0,d,h,f,p,m,g,_,v;for(u.b=n,u.e=i,n+="",i+="",(_=~i.indexOf("random("))&&(i=Nd(i)),o&&(v=[n,i],o(v,e,r),n=v[0],i=v[1]),h=n.match(v_)||[];d=v_.exec(i);)p=d[0],m=i.substring(l,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),p!==h[c++]&&(g=parseFloat(h[c-1])||0,u._pt={_next:u._pt,p:m||c===1?m:",",s:g,c:p.charAt(1)==="="?Lu(g,p)-g:parseFloat(p)-g,m:f&&f<4?Math.round:0},l=v_.lastIndex);return u.c=l<i.length?i.substring(l,i.length):"",u.fp=a,(DB.test(i)||_)&&(u.e=0),this._pt=u,u},qb=function(e,r,n,i,s,o,a,u,l,c){vt(i)&&(i=i(s||0,e,o));var d=e[r],h=n!=="get"?n:vt(d)?l?e[r.indexOf("set")||!vt(e["get"+r.substr(3)])?r:"get"+r.substr(3)](l):e[r]():d,f=vt(d)?l?AX:dD:Qb,p;if(tr(i)&&(~i.indexOf("random(")&&(i=Nd(i)),i.charAt(1)==="="&&(p=Lu(h,i)+(xr(h)||0),(p||p===0)&&(i=p))),!c||h!==i||$v)return!isNaN(h*i)&&i!==""?(p=new tn(this._pt,e,r,+h||0,i-(h||0),typeof d=="boolean"?MX:hD,0,f),l&&(p.fp=l),a&&p.modifier(a,this,e),this._pt=p):(!d&&!(r in e)&&Wb(r,i),wX.call(this,e,r,h,i,f,u||Sn.stringFilter,l))},EX=function(e,r,n,i,s){if(vt(e)&&(e=Kc(e,s,r,n,i)),!as(e)||e.style&&e.nodeType||Sr(e)||MB(e))return tr(e)?Kc(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=Kc(e[a],s,r,n,i);return o},uD=function(e,r,n,i,s,o){var a,u,l,c;if(pn[e]&&(a=new pn[e]).init(s,a.rawVars?r[e]:EX(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new tn(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Cu))for(l=n._ptLookup[n._targets.indexOf(s)],c=a._props.length;c--;)l[a._props[c]]=u;return a},no,$v,Kb=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,u=i.lazy,l=i.onUpdate,c=i.runBackwards,d=i.yoyoEase,h=i.keyframes,f=i.autoRevert,p=e._dur,m=e._startAt,g=e._targets,_=e.parent,v=_&&_.data==="nested"?_.vars.targets:g,y=e._overwrite==="auto"&&!zb,x=e.timeline,S,w,b,T,E,P,B,L,O,k,G,U,H;if(x&&(!h||!s)&&(s="none"),e._ease=ga(s,dl.ease),e._yEase=d?iD(ga(d===!0?s:d,dl.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!x&&!!i.runBackwards,!x||h&&!i.stagger){if(L=g[0]?pa(g[0]).harness:0,U=L&&i[L.prop],S=am(i,Vb),m&&(m._zTime<0&&m.progress(1),r<0&&c&&a&&!f?m.render(-1,!0):m.revert(c&&p?fp:ZV),m._lazy=0),o){if(To(e._startAt=It.set(g,hi({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!m&&Jr(u),startAt:null,delay:0,onUpdate:l&&function(){return vn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(br||!a&&!f)&&e._startAt.revert(fp),a&&p&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(c&&p&&!m){if(r&&(a=!1),b=hi({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Jr(u),immediateRender:a,stagger:0,parent:_},S),U&&(b[L.prop]=U),To(e._startAt=It.set(g,b)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(br?e._startAt.revert(fp):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,Xe,Xe);else if(!r)return}for(e._pt=e._ptCache=0,u=p&&Jr(u)||u&&!p,w=0;w<g.length;w++){if(E=g[w],B=E._gsap||Yb(g)[w]._gsap,e._ptLookup[w]=k={},Fv[B.id]&&vo.length&&om(),G=v===g?w:v.indexOf(E),L&&(O=new L).init(E,U||S,e,G,v)!==!1&&(e._pt=T=new tn(e._pt,E,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(F){k[F]=T}),O.priority&&(P=1)),!L||U)for(b in S)pn[b]&&(O=uD(b,S,e,G,E,v))?O.priority&&(P=1):k[b]=T=qb.call(e,E,b,"get",S[b],G,v,0,i.stringFilter);e._op&&e._op[w]&&e.kill(E,e._op[w]),y&&e._pt&&(no=e,at.killTweensOf(E,k,e.globalTime(r)),H=!e.parent,no=0),e._pt&&u&&(Fv[B.id]=1)}P&&pD(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!H,h&&r<=0&&x.render(ti,!0,!0)},TX=function(e,r,n,i,s,o,a,u){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],c,d,h,f;if(!l)for(l=e._ptCache[r]=[],h=e._ptLookup,f=e._targets.length;f--;){if(c=h[f][r],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==r&&c.fp!==r;)c=c._next;if(!c)return $v=1,e.vars[r]="+=0",Kb(e,a),$v=0,u?Ud(r+" not eligible for reset"):1;l.push(c)}for(f=l.length;f--;)d=l[f],c=d._pt||d,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=n-c.s,d.e&&(d.e=Tt(n)+xr(d.e)),d.b&&(d.b=c.s+xr(d.b))},CX=function(e,r){var n=e[0]?pa(e[0]).harness:0,i=n&&n.aliases,s,o,a,u;if(!i)return r;s=Ra({},r);for(o in i)if(o in s)for(u=i[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},PX=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(Sr(r))a=n[e]||(n[e]=[]),r.forEach(function(u,l){return a.push({t:l/(r.length-1)*100,v:u,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Kc=function(e,r,n,i,s){return vt(e)?e.call(r,n,i,s):tr(e)&&~e.indexOf("random(")?Nd(e):e},lD=Xb+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",cD={};en(lD+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return cD[t]=1});var It=function(t){AB(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Yc(i))||this;var u=a.vars,l=u.duration,c=u.delay,d=u.immediateRender,h=u.stagger,f=u.overwrite,p=u.keyframes,m=u.defaults,g=u.scrollTrigger,_=u.yoyoEase,v=i.parent||at,y=(Sr(n)||MB(n)?Rs(n[0]):"length"in i)?[n]:ri(n),x,S,w,b,T,E,P,B;if(a._targets=y.length?Yb(y):Ud("GSAP target "+n+" not found. https://gsap.com",!Sn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,p||h||_f(l)||_f(c)){if(i=a.vars,x=a.timeline=new Rr({data:"nested",defaults:m||{},targets:v&&v.data==="nested"?v.vars.targets:y}),x.kill(),x.parent=x._dp=fs(a),x._start=0,h||_f(l)||_f(c)){if(b=y.length,P=h&&YB(h),as(h))for(T in h)~lD.indexOf(T)&&(B||(B={}),B[T]=h[T]);for(S=0;S<b;S++)w=am(i,cD),w.stagger=0,_&&(w.yoyoEase=_),B&&Ra(w,B),E=y[S],w.duration=+Kc(l,fs(a),S,E,y),w.delay=(+Kc(c,fs(a),S,E,y)||0)-a._delay,!h&&b===1&&w.delay&&(a._delay=c=w.delay,a._start+=c,w.delay=0),x.to(E,w,P?P(S,E,y):0),x._ease=Se.none;x.duration()?l=c=0:a.timeline=0}else if(p){Yc(hi(x.vars.defaults,{ease:"none"})),x._ease=ga(p.ease||i.ease||"none");var L=0,O,k,G;if(Sr(p))p.forEach(function(U){return x.to(y,U,">")}),x.duration();else{w={};for(T in p)T==="ease"||T==="easeEach"||PX(T,p[T],w,p.easeEach);for(T in w)for(O=w[T].sort(function(U,H){return U.t-H.t}),L=0,S=0;S<O.length;S++)k=O[S],G={ease:k.e,duration:(k.t-(S?O[S-1].t:0))/100*l},G[T]=k.v,x.to(y,G,L),L+=G.duration;x.duration()<l&&x.to({},{duration:l-x.duration()})}}l||a.duration(l=x.duration())}else a.timeline=0;return f===!0&&!zb&&(no=fs(a),at.killTweensOf(y),no=0),Xi(v,fs(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!l&&!p&&a._start===Jt(v._time)&&Jr(d)&&iX(fs(a))&&v.data!=="nested")&&(a._tTime=-Xe,a.render(Math.max(0,-c)||0)),g&&jB(fs(a),g),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,u=this._tDur,l=this._dur,c=i<0,d=i>u-Xe&&!c?u:i<Xe?0:i,h,f,p,m,g,_,v,y,x;if(!l)oX(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(h=d,y=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+i,s,o);if(h=Jt(d%m),d===u?(p=this._repeat,h=l):(p=~~(d/m),p&&p===Jt(d/m)&&(h=l,p--),h>l&&(h=l)),_=this._yoyo&&p&1,_&&(x=this._yEase,h=l-h),g=hl(this._tTime,m),h===a&&!o&&this._initted&&p===g)return this._tTime=d,this;p!==g&&(y&&this._yEase&&sD(y,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==m&&this._initted&&(this._lock=o=1,this.render(Jt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(WB(this,c?i:h,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==g))return this;if(l!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(h/l),this._from&&(this.ratio=v=1-v),h&&!a&&!s&&!p&&(vn(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;y&&y.render(i<0?i:y._dur*y._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&Uv(this,i,s,o),vn(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&vn(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(c&&!this._onUpdate&&Uv(this,i,!0,!0),(i||!l)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&To(this,1),!s&&!(c&&!a)&&(d||a||_)&&(vn(this,d===u?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a,u){Gd||gn.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Kb(this,l),c=this._ease(l/this._dur),TX(this,i,s,o,a,c,l,u)?this.resetTo(i,s,o,a,1):(qg(this,0),this.parent||$B(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Rc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,no&&no.vars.overwrite!==!0)._first||Rc(this),this.parent&&o!==this.timeline.totalDuration()&&fl(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=i?ri(i):a,l=this._ptLookup,c=this._pt,d,h,f,p,m,g,_;if((!s||s==="all")&&rX(a,u))return s==="all"&&(this._pt=0),Rc(this);for(d=this._op=this._op||[],s!=="all"&&(tr(s)&&(m={},en(s,function(v){return m[v]=1}),s=m),s=CX(a,s)),_=a.length;_--;)if(~u.indexOf(a[_])){h=l[_],s==="all"?(d[_]=s,p=h,f={}):(f=d[_]=d[_]||{},p=s);for(m in p)g=h&&h[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&Xg(this,g,"_pt"),delete h[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&c&&Rc(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return qc(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return qc(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return at.killTweensOf(i,s,o)},e}(zd);hi(It.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});en("staggerTo,staggerFrom,staggerFromTo",function(t){It[t]=function(){var e=new Rr,r=Nv.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Qb=function(e,r,n){return e[r]=n},dD=function(e,r,n){return e[r](n)},AX=function(e,r,n,i){return e[r](i.fp,n)},RX=function(e,r,n){return e.setAttribute(r,n)},Zb=function(e,r){return vt(e[r])?dD:$b(e[r])&&e.setAttribute?RX:Qb},hD=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},MX=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},fD=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},Jb=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},BX=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},DX=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?Xg(this,r,"_pt"):r.dep||(n=1),r=i;return!n},kX=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},pD=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},tn=function(){function t(r,n,i,s,o,a,u,l,c){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||hD,this.d=u||this,this.set=l||Qb,this.pr=c||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=kX,this.m=n,this.mt=s,this.tween=i},t}();en(Xb+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Vb[t]=1});An.TweenMax=An.TweenLite=It;An.TimelineLite=An.TimelineMax=Rr;at=new Rr({sortChildren:!1,defaults:dl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Sn.stringFilter=nD;var _a=[],mp={},OX=[],yC=0,IX=0,E_=function(e){return(mp[e]||OX).map(function(r){return r()})},Hv=function(){var e=Date.now(),r=[];e-yC>2&&(E_("matchMediaInit"),_a.forEach(function(n){var i=n.queries,s=n.conditions,o,a,u,l;for(a in i)o=Hi.matchMedia(i[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,l=1);l&&(n.revert(),u&&r.push(n))}),E_("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),yC=e,E_("matchMedia"))},mD=function(){function t(r,n){this.selector=n&&Gv(n),this.data=[],this._r=[],this.isReverted=!1,this.id=IX++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){vt(n)&&(s=i,i=n,n=vt);var o=this,a=function(){var l=et,c=o.selector,d;return l&&l!==o&&l.data.push(o),s&&(o.selector=Gv(s)),et=o,d=i.apply(o,arguments),vt(d)&&o._r.push(d),et=l,o.selector=c,o.isReverted=!1,d};return o.last=a,n===vt?a(o,function(u){return o.add(null,u)}):n?o[n]=a:a},e.ignore=function(n){var i=et;et=null,n(this),et=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof It&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),u=s.data.length,l;u--;)l=s.data[u],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),u=s.data.length;u--;)l=s.data[u],l instanceof Rr?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof It)&&l.revert&&l.revert(n);s._r.forEach(function(c){return c(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=_a.length;o--;)_a[o].id===this.id&&_a.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),FX=function(){function t(r){this.contexts=[],this.scope=r,et&&et.data.push(this)}var e=t.prototype;return e.add=function(n,i,s){as(n)||(n={matches:n});var o=new mD(0,s||this.scope),a=o.conditions={},u,l,c;et&&!o.selector&&(o.selector=et.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(l in n)l==="all"?c=1:(u=Hi.matchMedia(n[l]),u&&(_a.indexOf(o)<0&&_a.push(o),(a[l]=u.matches)&&(c=1),u.addListener?u.addListener(Hv):u.addEventListener("change",Hv)));return c&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),lm={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return eD(i)})},timeline:function(e){return new Rr(e)},getTweensOf:function(e,r){return at.getTweensOf(e,r)},getProperty:function(e,r,n,i){tr(e)&&(e=ri(e)[0]);var s=pa(e||{}).get,o=n?zB:GB;return n==="native"&&(n=""),e&&(r?o((pn[r]&&pn[r].get||s)(e,r,n,i)):function(a,u,l){return o((pn[a]&&pn[a].get||s)(e,a,u,l))})},quickSetter:function(e,r,n){if(e=ri(e),e.length>1){var i=e.map(function(c){return an.quickSetter(c,r,n)}),s=i.length;return function(c){for(var d=s;d--;)i[d](c)}}e=e[0]||{};var o=pn[r],a=pa(e),u=a.harness&&(a.harness.aliases||{})[r]||r,l=o?function(c){var d=new o;Cu._pt=0,d.init(e,n?c+n:c,Cu,0,[e]),d.render(1,d),Cu._pt&&Jb(1,Cu)}:a.set(e,u);return o?l:function(c){return l(e,u,n?c+n:c,a,1)}},quickTo:function(e,r,n){var i,s=an.to(e,Ra((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(u,l,c){return s.resetTo(r,u,l,c)};return o.tween=s,o},isTweening:function(e){return at.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ga(e.ease,dl.ease)),fC(dl,e||{})},config:function(e){return fC(Sn,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!pn[a]&&!An[a]&&Ud(r+" effect requires "+a+" plugin.")}),x_[r]=function(a,u,l){return n(ri(a),hi(u||{},s),l)},o&&(Rr.prototype[r]=function(a,u,l){return this.add(x_[r](a,as(u)?u:(l=u)&&{},this),l)})},registerEase:function(e,r){Se[e]=ga(r)},parseEase:function(e,r){return arguments.length?ga(e,r):Se},getById:function(e){return at.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Rr(e),i,s;for(n.smoothChildTiming=Jr(e.smoothChildTiming),at.remove(n),n._dp=0,n._time=n._tTime=at._time,i=at._first;i;)s=i._next,(r||!(!i._dur&&i instanceof It&&i.vars.onComplete===i._targets[0]))&&Xi(n,i,i._start-i._delay),i=s;return Xi(at,n,0),n},context:function(e,r){return e?new mD(e,r):et},matchMedia:function(e){return new FX(e)},matchMediaRefresh:function(){return _a.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||Hv()},addEventListener:function(e,r){var n=mp[e]||(mp[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=mp[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:pX,wrapYoyo:mX,distribute:YB,random:KB,snap:qB,normalize:fX,getUnit:xr,clamp:lX,splitColor:tD,toArray:ri,selector:Gv,mapRange:ZB,pipe:dX,unitize:hX,interpolate:gX,shuffle:XB},install:IB,effects:x_,ticker:gn,updateRoot:Rr.updateRoot,plugins:pn,globalTimeline:at,core:{PropTween:tn,globals:FB,Tween:It,Timeline:Rr,Animation:zd,getCache:pa,_removeLinkedListItem:Xg,reverting:function(){return br},context:function(e){return e&&et&&(et.data.push(e),e._ctx=et),et},suppressOverwrites:function(e){return zb=e}}};en("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return lm[t]=It[t]});gn.add(Rr.updateRoot);Cu=lm.to({},{duration:0});var UX=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},LX=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=UX(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},T_=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var u,l;if(tr(s)&&(u={},en(s,function(c){return u[c]=1}),s=u),r){u={};for(l in s)u[l]=r(s[l]);s=u}LX(a,s)}}}},an=lm.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,u;this.tween=n;for(o in r)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)br?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},T_("roundProps",zv),T_("modifiers"),T_("snap",qB))||lm;It.version=Rr.version=an.version="3.12.5";OB=1;Hb()&&pl();Se.Power0;Se.Power1;Se.Power2;Se.Power3;Se.Power4;Se.Linear;Se.Quad;Se.Cubic;Se.Quart;Se.Quint;Se.Strong;Se.Elastic;Se.Back;Se.SteppedEase;Se.Bounce;Se.Sine;Se.Expo;Se.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var vC,io,Nu,e2,la,xC,t2,NX=function(){return typeof window<"u"},Ms={},Qo=180/Math.PI,Gu=Math.PI/180,eu=Math.atan2,bC=1e8,r2=/([A-Z])/g,GX=/(left|right|width|margin|padding|x)/i,zX=/[\s,\(]\S/,Yi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},jv=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},$X=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},HX=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},jX=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},gD=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},_D=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},WX=function(e,r,n){return e.style[r]=n},VX=function(e,r,n){return e.style.setProperty(r,n)},XX=function(e,r,n){return e._gsap[r]=n},YX=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},qX=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},KX=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},ut="transform",rn=ut+"Origin",QX=function t(e,r){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Ms&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Yi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=ms(i,a)}):this.tfm[e]=o.x?o[e]:ms(i,e),e===rn&&(this.tfm.zOrigin=o.zOrigin);else return Yi.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(ut)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(rn,r,"")),e=ut}(s||r)&&this.props.push(e,r,s[e])},yD=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ZX=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(r2,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=t2(),(!s||!s.isStart)&&!n[ut]&&(yD(n),i.zOrigin&&n[rn]&&(n[rn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},vD=function(e,r){var n={target:e,props:[],revert:ZX,save:QX};return e._gsap||an.core.getCache(e),r&&r.split(",").forEach(function(i){return n.save(i)}),n},xD,Wv=function(e,r){var n=io.createElementNS?io.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):io.createElement(e);return n&&n.style?n:io.createElement(e)},Ji=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(r2,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ml(r)||r,1)||""},SC="O,Moz,ms,Ms,Webkit".split(","),ml=function(e,r,n){var i=r||la,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(SC[o]+e in s););return o<0?null:(o===3?"ms":o>=0?SC[o]:"")+e},Vv=function(){NX()&&window.document&&(vC=window,io=vC.document,Nu=io.documentElement,la=Wv("div")||{style:{}},Wv("div"),ut=ml(ut),rn=ut+"Origin",la.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",xD=!!ml("perspective"),t2=an.core.reverting,e2=1)},C_=function t(e){var r=Wv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Nu.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),Nu.removeChild(r),this.style.cssText=s,o},wC=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},bD=function(e){var r;try{r=e.getBBox()}catch{r=C_.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===C_||(r=C_.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+wC(e,["x","cx","x1"])||0,y:+wC(e,["y","cy","y1"])||0,width:0,height:0}:r},SD=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&bD(e))},Ma=function(e,r){if(r){var n=e.style,i;r in Ms&&r!==rn&&(r=ut),n.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(i==="--"?r:r.replace(r2,"-$1").toLowerCase())):n.removeAttribute(r)}},so=function(e,r,n,i,s,o){var a=new tn(e._pt,r,n,0,1,o?_D:gD);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},EC={deg:1,rad:1,turn:1},JX={grid:1,flex:1},Co=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=la.style,u=GX.test(r),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(u?"Width":"Height"),d=100,h=i==="px",f=i==="%",p,m,g,_;if(i===o||!s||EC[i]||EC[o])return s;if(o!=="px"&&!h&&(s=t(e,r,n,"px")),_=e.getCTM&&SD(e),(f||o==="%")&&(Ms[r]||~r.indexOf("adius")))return p=_?e.getBBox()[u?"width":"height"]:e[c],Tt(f?s/p*d:s/100*p);if(a[u?"width":"height"]=d+(h?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===io||!m.appendChild)&&(m=io.body),g=m._gsap,g&&f&&g.width&&u&&g.time===gn.time&&!g.uncache)return Tt(s/g.width*d);if(f&&(r==="height"||r==="width")){var v=e.style[r];e.style[r]=d+i,p=e[c],v?e.style[r]=v:Ma(e,r)}else(f||o==="%")&&!JX[Ji(m,"display")]&&(a.position=Ji(e,"position")),m===e&&(a.position="static"),m.appendChild(la),p=la[c],m.removeChild(la),a.position="absolute";return u&&f&&(g=pa(m),g.time=gn.time,g.width=m[c]),Tt(h?p*s/d:p&&s?d/p*s:0)},ms=function(e,r,n,i){var s;return e2||Vv(),r in Yi&&r!=="transform"&&(r=Yi[r],~r.indexOf(",")&&(r=r.split(",")[0])),Ms[r]&&r!=="transform"?(s=Hd(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:dm(Ji(e,rn))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=cm[r]&&cm[r](e,r,n)||Ji(e,r)||LB(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Co(e,r,s,n)+n:s},eY=function(e,r,n,i){if(!n||n==="none"){var s=ml(r,e,1),o=s&&Ji(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=Ji(e,"borderTopColor"))}var a=new tn(this._pt,e.style,r,0,1,fD),u=0,l=0,c,d,h,f,p,m,g,_,v,y,x,S;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(m=e.style[r],e.style[r]=i,i=Ji(e,r)||i,m?e.style[r]=m:Ma(e,r)),c=[n,i],nD(c),n=c[0],i=c[1],h=n.match(Tu)||[],S=i.match(Tu)||[],S.length){for(;d=Tu.exec(i);)g=d[0],v=i.substring(u,d.index),p?p=(p+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(p=1),g!==(m=h[l++]||"")&&(f=parseFloat(m)||0,x=m.substr((f+"").length),g.charAt(1)==="="&&(g=Lu(f,g)+x),_=parseFloat(g),y=g.substr((_+"").length),u=Tu.lastIndex-y.length,y||(y=y||Sn.units[r]||x,u===i.length&&(i+=y,a.e+=y)),x!==y&&(f=Co(e,r,m,y)||0),a._pt={_next:a._pt,p:v||l===1?v:",",s:f,c:_-f,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=u<i.length?i.substring(u,i.length):""}else a.r=r==="display"&&i==="none"?_D:gD;return DB.test(i)&&(a.e=0),this._pt=a,a},TC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},tY=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=TC[n]||n,r[1]=TC[i]||i,r.join(" ")},rY=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,u,l;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],Ms[a]&&(u=1,a=a==="transformOrigin"?rn:ut),Ma(n,a);u&&(Ma(n,ut),o&&(o.svg&&n.removeAttribute("transform"),Hd(n,1),o.uncache=1,yD(i)))}},cm={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new tn(e._pt,r,n,0,0,rY);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},$d=[1,0,0,1,0,0],wD={},ED=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},CC=function(e){var r=Ji(e,ut);return ED(r)?$d:r.substr(7).match(BB).map(Tt)},n2=function(e,r){var n=e._gsap||pa(e),i=e.style,s=CC(e),o,a,u,l;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?$d:s):(s===$d&&!e.offsetParent&&e!==Nu&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,Nu.appendChild(e)),s=CC(e),u?i.display=u:Ma(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):Nu.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Xv=function(e,r,n,i,s,o){var a=e._gsap,u=s||n2(e,!0),l=a.xOrigin||0,c=a.yOrigin||0,d=a.xOffset||0,h=a.yOffset||0,f=u[0],p=u[1],m=u[2],g=u[3],_=u[4],v=u[5],y=r.split(" "),x=parseFloat(y[0])||0,S=parseFloat(y[1])||0,w,b,T,E;n?u!==$d&&(b=f*g-p*m)&&(T=x*(g/b)+S*(-m/b)+(m*v-g*_)/b,E=x*(-p/b)+S*(f/b)-(f*v-p*_)/b,x=T,S=E):(w=bD(e),x=w.x+(~y[0].indexOf("%")?x/100*w.width:x),S=w.y+(~(y[1]||y[0]).indexOf("%")?S/100*w.height:S)),i||i!==!1&&a.smooth?(_=x-l,v=S-c,a.xOffset=d+(_*f+v*m)-_,a.yOffset=h+(_*p+v*g)-v):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=S,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[rn]="0px 0px",o&&(so(o,a,"xOrigin",l,x),so(o,a,"yOrigin",c,S),so(o,a,"xOffset",d,a.xOffset),so(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+S)},Hd=function(e,r){var n=e._gsap||new aD(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",u=getComputedStyle(e),l=Ji(e,rn)||"0",c,d,h,f,p,m,g,_,v,y,x,S,w,b,T,E,P,B,L,O,k,G,U,H,F,N,$,oe,V,be,re,ae;return c=d=h=m=g=_=v=y=x=0,f=p=1,n.svg=!!(e.getCTM&&SD(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[ut]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[ut]!=="none"?u[ut]:"")),i.scale=i.rotate=i.translate="none"),b=n2(e,n.svg),n.svg&&(n.uncache?(F=e.getBBox(),l=n.xOrigin-F.x+"px "+(n.yOrigin-F.y)+"px",H=""):H=!r&&e.getAttribute("data-svg-origin"),Xv(e,H||l,!!H||n.originIsAbsolute,n.smooth!==!1,b)),S=n.xOrigin||0,w=n.yOrigin||0,b!==$d&&(B=b[0],L=b[1],O=b[2],k=b[3],c=G=b[4],d=U=b[5],b.length===6?(f=Math.sqrt(B*B+L*L),p=Math.sqrt(k*k+O*O),m=B||L?eu(L,B)*Qo:0,v=O||k?eu(O,k)*Qo+m:0,v&&(p*=Math.abs(Math.cos(v*Gu))),n.svg&&(c-=S-(S*B+w*O),d-=w-(S*L+w*k))):(ae=b[6],be=b[7],$=b[8],oe=b[9],V=b[10],re=b[11],c=b[12],d=b[13],h=b[14],T=eu(ae,V),g=T*Qo,T&&(E=Math.cos(-T),P=Math.sin(-T),H=G*E+$*P,F=U*E+oe*P,N=ae*E+V*P,$=G*-P+$*E,oe=U*-P+oe*E,V=ae*-P+V*E,re=be*-P+re*E,G=H,U=F,ae=N),T=eu(-O,V),_=T*Qo,T&&(E=Math.cos(-T),P=Math.sin(-T),H=B*E-$*P,F=L*E-oe*P,N=O*E-V*P,re=k*P+re*E,B=H,L=F,O=N),T=eu(L,B),m=T*Qo,T&&(E=Math.cos(T),P=Math.sin(T),H=B*E+L*P,F=G*E+U*P,L=L*E-B*P,U=U*E-G*P,B=H,G=F),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,_=180-_),f=Tt(Math.sqrt(B*B+L*L+O*O)),p=Tt(Math.sqrt(U*U+ae*ae)),T=eu(G,U),v=Math.abs(T)>2e-4?T*Qo:0,x=re?1/(re<0?-re:re):0),n.svg&&(H=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!ED(Ji(e,ut)),H&&e.setAttribute("transform",H))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(f*=-1,v+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=c-((n.xPercent=c&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=d-((n.yPercent=d&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=h+o,n.scaleX=Tt(f),n.scaleY=Tt(p),n.rotation=Tt(m)+a,n.rotationX=Tt(g)+a,n.rotationY=Tt(_)+a,n.skewX=v+a,n.skewY=y+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(l.split(" ")[2])||!r&&n.zOrigin||0)&&(i[rn]=dm(l)),n.xOffset=n.yOffset=0,n.force3D=Sn.force3D,n.renderTransform=n.svg?iY:xD?TD:nY,n.uncache=0,n},dm=function(e){return(e=e.split(" "))[0]+" "+e[1]},P_=function(e,r,n){var i=xr(r);return Tt(parseFloat(r)+parseFloat(Co(e,"x",n+"px",i)))+i},nY=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,TD(e,r)},Ho="0deg",uc="0px",jo=") ",TD=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.z,l=n.rotation,c=n.rotationY,d=n.rotationX,h=n.skewX,f=n.skewY,p=n.scaleX,m=n.scaleY,g=n.transformPerspective,_=n.force3D,v=n.target,y=n.zOrigin,x="",S=_==="auto"&&e&&e!==1||_===!0;if(y&&(d!==Ho||c!==Ho)){var w=parseFloat(c)*Gu,b=Math.sin(w),T=Math.cos(w),E;w=parseFloat(d)*Gu,E=Math.cos(w),o=P_(v,o,b*E*-y),a=P_(v,a,-Math.sin(w)*-y),u=P_(v,u,T*E*-y+y)}g!==uc&&(x+="perspective("+g+jo),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(S||o!==uc||a!==uc||u!==uc)&&(x+=u!==uc||S?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+jo),l!==Ho&&(x+="rotate("+l+jo),c!==Ho&&(x+="rotateY("+c+jo),d!==Ho&&(x+="rotateX("+d+jo),(h!==Ho||f!==Ho)&&(x+="skew("+h+", "+f+jo),(p!==1||m!==1)&&(x+="scale("+p+", "+m+jo),v.style[ut]=x||"translate(0, 0)"},iY=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.rotation,l=n.skewX,c=n.skewY,d=n.scaleX,h=n.scaleY,f=n.target,p=n.xOrigin,m=n.yOrigin,g=n.xOffset,_=n.yOffset,v=n.forceCSS,y=parseFloat(o),x=parseFloat(a),S,w,b,T,E;u=parseFloat(u),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,u+=c),u||l?(u*=Gu,l*=Gu,S=Math.cos(u)*d,w=Math.sin(u)*d,b=Math.sin(u-l)*-h,T=Math.cos(u-l)*h,l&&(c*=Gu,E=Math.tan(l-c),E=Math.sqrt(1+E*E),b*=E,T*=E,c&&(E=Math.tan(c),E=Math.sqrt(1+E*E),S*=E,w*=E)),S=Tt(S),w=Tt(w),b=Tt(b),T=Tt(T)):(S=d,T=h,w=b=0),(y&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(y=Co(f,"x",o,"px"),x=Co(f,"y",a,"px")),(p||m||g||_)&&(y=Tt(y+p-(p*S+m*b)+g),x=Tt(x+m-(p*w+m*T)+_)),(i||s)&&(E=f.getBBox(),y=Tt(y+i/100*E.width),x=Tt(x+s/100*E.height)),E="matrix("+S+","+w+","+b+","+T+","+y+","+x+")",f.setAttribute("transform",E),v&&(f.style[ut]=E)},sY=function(e,r,n,i,s){var o=360,a=tr(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Qo:1),l=u-i,c=i+l+"deg",d,h;return a&&(d=s.split("_")[1],d==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),d==="cw"&&l<0?l=(l+o*bC)%o-~~(l/o)*o:d==="ccw"&&l>0&&(l=(l-o*bC)%o-~~(l/o)*o)),e._pt=h=new tn(e._pt,r,n,i,l,$X),h.e=c,h.u="deg",e._props.push(n),h},PC=function(e,r){for(var n in r)e[n]=r[n];return e},oY=function(e,r,n){var i=PC({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,u,l,c,d,h,f,p;i.svg?(l=n.getAttribute("transform"),n.setAttribute("transform",""),o[ut]=r,a=Hd(n,1),Ma(n,ut),n.setAttribute("transform",l)):(l=getComputedStyle(n)[ut],o[ut]=r,a=Hd(n,1),o[ut]=l);for(u in Ms)l=i[u],c=a[u],l!==c&&s.indexOf(u)<0&&(f=xr(l),p=xr(c),d=f!==p?Co(n,u,l,p):parseFloat(l),h=parseFloat(c),e._pt=new tn(e._pt,a,u,d,h-d,jv),e._pt.u=p||0,e._props.push(u));PC(a,i)};en("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});cm[e>1?"border"+t:t]=function(a,u,l,c,d){var h,f;if(arguments.length<4)return h=o.map(function(p){return ms(a,p,l)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(c+"").split(" "),f={},o.forEach(function(p,m){return f[p]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(u,f,d)}});var CD={name:"css",register:Vv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,u=n.vars.startAt,l,c,d,h,f,p,m,g,_,v,y,x,S,w,b,T;e2||Vv(),this.styles=this.styles||vD(e),T=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(c=r[m],!(pn[m]&&uD(m,r,n,i,e,s)))){if(f=typeof c,p=cm[m],f==="function"&&(c=c.call(n,i,e,s),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=Nd(c)),p)p(this,e,m,c,n)&&(b=1);else if(m.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),c+="",xo.lastIndex=0,xo.test(l)||(g=xr(l),_=xr(c)),_?g!==_&&(l=Co(e,m,l,_)+_):g&&(c+=g),this.add(a,"setProperty",l,c,i,s,0,0,m),o.push(m),T.push(m,0,a[m]);else if(f!=="undefined"){if(u&&m in u?(l=typeof u[m]=="function"?u[m].call(n,i,e,s):u[m],tr(l)&&~l.indexOf("random(")&&(l=Nd(l)),xr(l+"")||l==="auto"||(l+=Sn.units[m]||xr(ms(e,m))||""),(l+"").charAt(1)==="="&&(l=ms(e,m))):l=ms(e,m),h=parseFloat(l),v=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),v&&(c=c.substr(2)),d=parseFloat(c),m in Yi&&(m==="autoAlpha"&&(h===1&&ms(e,"visibility")==="hidden"&&d&&(h=0),T.push("visibility",0,a.visibility),so(this,a,"visibility",h?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Yi[m],~m.indexOf(",")&&(m=m.split(",")[0]))),y=m in Ms,y){if(this.styles.save(m),x||(S=e._gsap,S.renderTransform&&!r.parseTransform||Hd(e,r.parseTransform),w=r.smoothOrigin!==!1&&S.smooth,x=this._pt=new tn(this._pt,a,ut,0,1,S.renderTransform,S,0,-1),x.dep=1),m==="scale")this._pt=new tn(this._pt,S,"scaleY",S.scaleY,(v?Lu(S.scaleY,v+d):d)-S.scaleY||0,jv),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){T.push(rn,0,a[rn]),c=tY(c),S.svg?Xv(e,c,0,w,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==S.zOrigin&&so(this,S,"zOrigin",S.zOrigin,_),so(this,a,m,dm(l),dm(c)));continue}else if(m==="svgOrigin"){Xv(e,c,1,w,0,this);continue}else if(m in wD){sY(this,S,m,h,v?Lu(h,v+c):c);continue}else if(m==="smoothOrigin"){so(this,S,"smooth",S.smooth,c);continue}else if(m==="force3D"){S[m]=c;continue}else if(m==="transform"){oY(this,c,e);continue}}else m in a||(m=ml(m)||m);if(y||(d||d===0)&&(h||h===0)&&!zX.test(c)&&m in a)g=(l+"").substr((h+"").length),d||(d=0),_=xr(c)||(m in Sn.units?Sn.units[m]:g),g!==_&&(h=Co(e,m,l,_)),this._pt=new tn(this._pt,y?S:a,m,h,(v?Lu(h,v+d):d)-h,!y&&(_==="px"||m==="zIndex")&&r.autoRound!==!1?jX:jv),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=l,this._pt.r=HX);else if(m in a)eY.call(this,e,m,l,v?v+c:c);else if(m in e)this.add(e,m,l||e[m],v?v+c:c,i,s);else if(m!=="parseTransform"){Wb(m,c);continue}y||(m in a?T.push(m,0,a[m]):T.push(m,1,l||e[m])),o.push(m)}}b&&pD(this)},render:function(e,r){if(r.tween._time||!t2())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:ms,aliases:Yi,getSetter:function(e,r,n){var i=Yi[r];return i&&i.indexOf(",")<0&&(r=i),r in Ms&&r!==rn&&(e._gsap.x||ms(e,"x"))?n&&xC===n?r==="scale"?YX:XX:(xC=n||{})&&(r==="scale"?qX:KX):e.style&&!$b(e.style[r])?WX:~r.indexOf("-")?VX:Zb(e,r)},core:{_removeProperty:Ma,_getMatrix:n2}};an.utils.checkPrefix=ml;an.core.getStyleSaver=vD;(function(t,e,r,n){var i=en(t+","+e+","+r,function(s){Ms[s]=1});en(e,function(s){Sn.units[s]="deg",wD[s]=1}),Yi[i[13]]=t+","+e,en(n,function(s){var o=s.split(":");Yi[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");en("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Sn.units[t]="px"});an.registerPlugin(CD);var yr=an.registerPlugin(CD)||an;yr.core.Tween;/*!
 * @gsap/react 2.1.1
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let AC=typeof window<"u"?C.useLayoutEffect:C.useEffect,RC=t=>t&&!Array.isArray(t)&&typeof t=="object",yf=[],aY={},PD=yr;const $a=(t,e=yf)=>{let r=aY;RC(t)?(r=t,t=null,e="dependencies"in r?r.dependencies:yf):RC(e)&&(r=e,e="dependencies"in r?r.dependencies:yf),t&&typeof t!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=r,s=C.useRef(!1),o=C.useRef(PD.context(()=>{},n)),a=C.useRef(l=>o.current.add(null,l)),u=e&&e.length&&!i;return AC(()=>{if(t&&o.current.add(t,n),!u||!s.current)return()=>o.current.revert()},e),u&&AC(()=>(s.current=!0,()=>o.current.revert()),yf),{context:o.current,contextSafe:a.current}};$a.register=t=>{PD=t};$a.headless=!0;const uY=[{icon:R.jsx(uW,{}),name:"Experience",color:"#15ff00"},{icon:R.jsx(lW,{}),name:"About",color:"#ff7700"},{icon:R.jsx(cW,{}),name:"Interns",color:"#0384fc"},{icon:R.jsx(aW,{}),name:"Contact",color:"#fce303"}];function lY(){const t=kl(),e=tj(),[r,n]=Wr.useState(!1),i=C.useRef(null);C.useEffect(()=>{e(sW(t))},[e,t]),$a(()=>{yr.fromTo("button.MuiButtonBase-root",{scale:.8},{duration:2,scale:1,repeat:-1,ease:"elastic.out(1.2,0.2)",repeatDelay:3})},{scope:i});const s=c=>{n(!r);const d=c.currentTarget.getAttribute("aria-label");d&&e(iW(d.toLowerCase()))},o=()=>{n(!1)},{location:a}=Pb(Gb),u=c=>a?a.pathname.split("/")[1]===c:!1,l=Tg({components:{MuiFab:{styleOverrides:{primary:{backgroundColor:"#7e00ff !important"}}}}});return R.jsx(TM,{theme:l,children:R.jsx(BH,{children:R.jsx(uH,{ref:i,ariaLabel:"SpeedDial",icon:R.jsx(VM,{id:"icon",icon:R.jsx(hW,{}),openIcon:R.jsx(dW,{})}),onClose:o,onClick:s,open:r,direction:"down",children:uY.map((c,d)=>R.jsx(EH,{component:WV,to:c.name.toLowerCase(),icon:c.icon,tooltipTitle:c.name,onClick:s,"data-index":d,sx:{bgcolor:c.color,filter:u(c.name.toLowerCase())?"brightness(120%)":"brightness(60%)","&:hover":{filter:"brightness(120%)",bgcolor:c.color}}},c.name))})})})}const cY=Lj({reducer:{nav:oW}}),dY="modulepreload",hY=function(t){return"/"+t},MC={},hm=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=hY(a),a in MC)return;MC[a]=!0;const u=a.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":dY,u||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var A=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t))(A||{});const Yv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Bc=(t,e)=>Yv(t).priority??e,dt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Yv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Yv).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(o=n[r])==null||o.call(n,e):(i[r]=i[r]||[],(s=i[r])==null||s.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(s=>s.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((s,o)=>Bc(o.value,r)-Bc(s.value,r)))},n=>{const i=e.findIndex(s=>s.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Bc(s,r)-Bc(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},AD={extension:{type:A.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await hm(()=>import("./browserAll-CZyuCHYw.js"),__vite__mapDeps([0,1]))}},RD={extension:{type:A.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await hm(()=>import("./webworkerAll-1ueNb-RX.js"),[])}};class Ft{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Ft(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var MD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function s(u,l,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||u,h),p=r?r+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],f]:u._events[p].push(f):(u._events[p]=f,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)e.call(c,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=r?r+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var c=r?r+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,h,f,p){var m=r?r+l:l;if(!this._events[m])return!1;var g=this._events[m],_=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,d),!0;case 4:return g.fn.call(g.context,c,d,h),!0;case 5:return g.fn.call(g.context,c,d,h,f),!0;case 6:return g.fn.call(g.context,c,d,h,f,p),!0}for(y=1,v=new Array(_-1);y<_;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var x=g.length,S;for(y=0;y<x;y++)switch(g[y].once&&this.removeListener(l,g[y].fn,void 0,!0),_){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,d);break;case 4:g[y].fn.call(g[y].context,c,d,h);break;default:if(!v)for(S=1,v=new Array(_-1);S<_;S++)v[S-1]=arguments[S];g[y].fn.apply(g[y].context,v)}}return!0},a.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,h){var f=r?r+l:l;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,g=[],_=p.length;m<_;m++)(p[m].fn!==c||h&&!p[m].once||d&&p[m].context!==d)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(MD);var fY=MD.exports;const un=wl(fY),BD=Math.PI*2,DD=180/Math.PI,kD=Math.PI/180;class Ie{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ie(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return A_.x=0,A_.y=0,A_}}const A_=new Ie;class te{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ie;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ie;const n=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,u=this.ty,l=1/(n*o+s*-i),c=e.x,d=e.y;return r.x=o*l*c+-s*l*d+(u*s-a*o)*l,r.y=n*l*d+-i*l*c+(-u*n+a*i)*l,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}appendFrom(e,r){const n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,u=e.ty,l=r.a,c=r.b,d=r.c,h=r.d;return this.a=n*l+i*d,this.b=n*c+i*h,this.c=s*l+o*d,this.d=s*c+o*h,this.tx=a*l+u*d+r.tx,this.ty=a*c+u*h+r.ty,this}setTransform(e,r,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(BD-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new te;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return mY.identity()}static get shared(){return pY.identity()}}const pY=new te,mY=new te,Zo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Jo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ea=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ta=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],qv=[],OD=[],vf=Math.sign;function gY(){for(let t=0;t<16;t++){const e=[];qv.push(e);for(let r=0;r<16;r++){const n=vf(Zo[t]*Zo[r]+ea[t]*Jo[r]),i=vf(Jo[t]*Zo[r]+ta[t]*Jo[r]),s=vf(Zo[t]*ea[r]+ea[t]*ta[r]),o=vf(Jo[t]*ea[r]+ta[t]*ta[r]);for(let a=0;a<16;a++)if(Zo[a]===n&&Jo[a]===i&&ea[a]===s&&ta[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new te;e.set(Zo[t],Jo[t],ea[t],ta[t],0,0),OD.push(e)}}gY();const ye={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Zo[t],uY:t=>Jo[t],vX:t=>ea[t],vY:t=>ta[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>qv[t][e],sub:(t,e)=>qv[t][ye.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ye.S:ye.N:Math.abs(e)*2<=Math.abs(t)?t>0?ye.E:ye.W:e>0?t>0?ye.SE:ye.SW:t>0?ye.NE:ye.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=OD[ye.inv(e)];i.tx=r,i.ty=n,t.append(i)}},xf=[new Ie,new Ie,new Ie,new Ie];class ke{constructor(e=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ke(0,0,0,0)}clone(){return new ke(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n){const{width:i,height:s}=this;if(i<=0||s<=0)return!1;const o=this.x,a=this.y,u=o-n/2,l=o+i+n/2,c=a-n/2,d=a+s+n/2,h=o+n/2,f=o+i-n/2,p=a+n/2,m=a+s-n/2;return e>=u&&e<=l&&r>=c&&r<=d&&!(e>h&&e<f&&r>p&&r<m)}intersects(e,r){if(!r){const T=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=T)return!1;const P=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>P}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=xf[0].set(e.left,e.top),u=xf[1].set(e.left,e.bottom),l=xf[2].set(e.right,e.top),c=xf[3].set(e.right,e.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(a,a),r.apply(u,u),r.apply(l,l),r.apply(c,c),Math.max(a.x,u.x,l.x,c.x)<=n||Math.min(a.x,u.x,l.x,c.x)>=i||Math.max(a.y,u.y,l.y,c.y)<=s||Math.min(a.y,u.y,l.y,c.y)>=o))return!1;const h=d*(u.y-a.y),f=d*(a.x-u.x),p=h*n+f*s,m=h*i+f*s,g=h*n+f*o,_=h*i+f*o;if(Math.max(p,m,g,_)<=h*a.x+f*a.y||Math.min(p,m,g,_)>=h*c.x+f*c.y)return!1;const v=d*(a.y-l.y),y=d*(l.x-a.x),x=v*n+y*s,S=v*i+y*s,w=v*n+y*o,b=v*i+y*o;return!(Math.max(x,S,w,b)<=v*a.x+y*a.y||Math.min(x,S,w,b)>=v*c.x+y*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}getBounds(e){return e=e||new ke,e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Qc={default:-1};function tt(t="default"){return Qc[t]===void 0&&(Qc[t]=-1),++Qc[t]}function _Y(){for(const t in Qc)delete Qc[t]}const BC={},de="8.0.0";function le(t,e,r=3){if(BC[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),BC[e]=!0}const i2=()=>{};function Ba(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Kv(t){return!(t&t-1)&&!!t}function yY(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Po(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const DC=Object.create(null);function vY(t){const e=DC[t];return e===void 0&&(DC[t]=tt("resource")),e}const ID=class FD extends un{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...FD.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){le(de,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=vY(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};ID.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let UD=ID;const LD=class ND extends un{constructor(e={}){super(),this.options=e,this.uid=tt("textureSource"),this._resourceType="textureSource",this._resourceId=tt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...ND.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new UD(Po(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=tt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n=n||this._resolution,e=e||this.width,r=r||this.height;const i=Math.round(e*n),s=Math.round(r*n);return this.width=i/n,this.height=s/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=tt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Kv(this.pixelWidth)&&Kv(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};LD.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let At=LD;class Kg extends At{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Kg.extension=A.TextureSource;const kC=new te;class s2{constructor(e,r){this.mapCoord=new te,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&(kC.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(kC));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,u=this.clampOffset;return o[0]=(e.frame.x+a+u)/s.width,o[1]=(e.frame.y+a+u)/s.height,o[2]=(e.frame.x+e.frame.width-a+u)/s.width,o[3]=(e.frame.y+e.frame.height-a+u)/s.height,this.uClampOffset[0]=u/s.pixelWidth,this.uClampOffset[1]=u/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class X extends un{constructor({source:e,label:r,frame:n,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:u,dynamic:l}={}){if(super(),this.uid=tt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ke,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new At,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:c,height:d}=this._source;this.frame.width=c,this.frame.height=d}this.orig=i||this.frame,this.trim=s,this.rotate=u??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=l||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new s2(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:i}=this._source,s=r.x/n,o=r.y/i,a=r.width/n,u=r.height/i;let l=this.rotate;if(l){const c=a/2,d=u/2,h=s+c,f=o+d;l=ye.add(l,ye.NW),e.x0=h+c*ye.uX(l),e.y0=f+d*ye.uY(l),l=ye.add(l,2),e.x1=h+c*ye.uX(l),e.y1=f+d*ye.uY(l),l=ye.add(l,2),e.x2=h+c*ye.uX(l),e.y2=f+d*ye.uY(l),l=ye.add(l,2),e.x3=h+c*ye.uX(l),e.y3=f+d*ye.uY(l)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+u,e.x3=s,e.y3=o+u}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return le(de,"Texture.baseTexture is now Texture.source"),this._source}}X.EMPTY=new X({label:"EMPTY",source:new At({label:"EMPTY"})});X.EMPTY.destroy=i2;X.WHITE=new X({source:new Kg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});X.WHITE.destroy=i2;function jd(t,e,r,n){const{width:i,height:s}=r.orig,o=r.trim;if(o){const a=o.width,u=o.height;t.minX=o.x-e._x*i-n,t.maxX=t.minX+a,t.minY=o.y-e._y*s-n,t.maxY=t.minY+u}else t.minX=-e._x*i-n,t.maxX=t.minX+i,t.minY=-e._y*s-n,t.maxY=t.minY+s}var xY={grad:.9,turn:360,rad:360/(2*Math.PI)},cs=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Zt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},ni=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},GD=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},OC=function(t){return{r:ni(t.r,0,255),g:ni(t.g,0,255),b:ni(t.b,0,255),a:ni(t.a)}},R_=function(t){return{r:Zt(t.r),g:Zt(t.g),b:Zt(t.b),a:Zt(t.a,3)}},bY=/^#([0-9a-f]{3,8})$/i,bf=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},zD=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},$D=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},IC=function(t){return{h:GD(t.h),s:ni(t.s,0,100),l:ni(t.l,0,100),a:ni(t.a)}},FC=function(t){return{h:Zt(t.h),s:Zt(t.s),l:Zt(t.l),a:Zt(t.a,3)}},UC=function(t){return $D((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Zc=function(t){return{h:(e=zD(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},SY=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wY=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,EY=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TY=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Qv={string:[[function(t){var e=bY.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Zt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Zt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=EY.exec(t)||TY.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:OC({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=SY.exec(t)||wY.exec(t);if(!e)return null;var r,n,i=IC({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(xY[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return UC(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return cs(e)&&cs(r)&&cs(n)?OC({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!cs(e)||!cs(r)||!cs(n))return null;var o=IC({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return UC(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!cs(e)||!cs(r)||!cs(n))return null;var o=function(a){return{h:GD(a.h),s:ni(a.s,0,100),v:ni(a.v,0,100),a:ni(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return $D(o)},"hsv"]]},LC=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},CY=function(t){return typeof t=="string"?LC(t.trim(),Qv.string):typeof t=="object"&&t!==null?LC(t,Qv.object):[null,void 0]},M_=function(t,e){var r=Zc(t);return{h:r.h,s:ni(r.s+100*e,0,100),l:r.l,a:r.a}},B_=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},NC=function(t,e){var r=Zc(t);return{h:r.h,s:r.s,l:ni(r.l+100*e,0,100),a:r.a}},Zv=function(){function t(e){this.parsed=CY(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Zt(B_(this.rgba),2)},t.prototype.isDark=function(){return B_(this.rgba)<.5},t.prototype.isLight=function(){return B_(this.rgba)>=.5},t.prototype.toHex=function(){return e=R_(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?bf(Zt(255*s)):"","#"+bf(r)+bf(n)+bf(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return R_(this.rgba)},t.prototype.toRgbString=function(){return e=R_(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return FC(Zc(this.rgba))},t.prototype.toHslString=function(){return e=FC(Zc(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=zD(this.rgba),{h:Zt(e.h),s:Zt(e.s),v:Zt(e.v),a:Zt(e.a,3)};var e},t.prototype.invert=function(){return Gi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Gi(M_(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Gi(M_(this.rgba,-e))},t.prototype.grayscale=function(){return Gi(M_(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Gi(NC(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Gi(NC(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Gi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Zt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Zc(this.rgba);return typeof e=="number"?Gi({h:e,s:r.s,l:r.l,a:r.a}):Zt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Gi(e).toHex()},t}(),Gi=function(t){return t instanceof Zv?t:new Zv(t)},GC=[],PY=function(t){t.forEach(function(e){GC.indexOf(e)<0&&(e(Zv,Qv),GC.push(e))})};function AY(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var c=this.toRgb(),d=1/0,h="black";if(!s.length)for(var f in r)s[f]=new t(r[f]).toRgb();for(var p in r){var m=(a=c,u=s[p],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));m<d&&(d=m,h=p)}return h}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}PY([AY]);const gl=class Dc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Dc)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._normalize(e),this._value=this._cloneSource(e))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb,e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e=e||this._arrayRgba;const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb;const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Dc._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Dc.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Gi(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Dc||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};gl.shared=new gl;gl._temp=new gl;gl.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Me=gl;const HD={cullArea:null,cullable:!1,cullableChildren:!0};function o2(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}const jD={allowChildren:!0,removeChildren(t=0,e){const r=e??this.children.length,n=r-t,i=[];if(n>0&&n<=r){for(let o=r-1;o>=t;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}o2(this.children,t,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o)this.emit("childRemoved",i[o],this,o),i[o].emit("removed",this);return i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||le(de,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t.didViewUpdate=!1,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}};class Wd{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Qg{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class WD{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Qg(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}}const Re=new WD;class VD{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return Re.get(n.maskClass,e)}return e}returnMaskEffect(e){Re.return(e)}}const fm=new VD;dt.handleByList(A.MaskEffect,fm._effectClasses);const XD={_maskEffect:null,_filterEffect:null,effects:[],addEffect(t){if(this.effects.indexOf(t)!==-1)return;this.effects.push(t),this.effects.sort((n,i)=>n.priority-i.priority);const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._updateIsSimple()},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),fm.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=fm.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},set filters(t){var s;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new Wd);t=t;const r=(t==null?void 0:t.length)>0,n=((s=e.filters)==null?void 0:s.length)>0,i=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new Wd),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},YD={label:null,get name(){return le(de,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){le(de,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<r.length;n++){const s=r[n].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const s=n[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&r.push(s)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,r);return r}},zC=new te;class dr{constructor(e=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=zC,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ke);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=zC,this}set(e,r,n,i){this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,r,n,i,s){s||(s=this.matrix);const o=s.a,a=s.b,u=s.c,l=s.d,c=s.tx,d=s.ty;let h=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*e+u*r+c,_=a*e+l*r+d;g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*n+u*r+c,_=a*n+l*r+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*e+u*i+c,_=a*e+l*i+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),g=o*n+u*i+c,_=a*n+l*i+d,g<h&&(h=g),_<f&&(f=_),g>p&&(p=g),_>m&&(m=_),this.minX=h,this.minY=f,this.maxX=p,this.maxY=m}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:u,d:l,tx:c,ty:d}=e;let h=o*r+u*n+c,f=a*r+l*n+d;this.minX=h,this.minY=f,this.maxX=h,this.maxY=f,h=o*i+u*n+c,f=a*i+l*n+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=o*r+u*s+c,f=a*r+l*s+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY,h=o*i+u*s+c,f=a*i+l*s+d,this.minX=h<this.minX?h:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=f>this.maxY?f:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,i){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new dr(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,i){let s=this.minX,o=this.minY,a=this.maxX,u=this.maxY;i||(i=this.matrix);const l=i.a,c=i.b,d=i.c,h=i.d,f=i.tx,p=i.ty;for(let m=r;m<n;m+=2){const g=e[m],_=e[m+1],v=l*g+d*_+f,y=c*g+h*_+p;s=v<s?v:s,o=y<o?y:o,a=v>a?v:a,u=y>u?y:u}this.minX=s,this.minY=o,this.maxX=a,this.maxY=u}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const es=new Qg(te),ts=new Qg(dr);function Eh(t,e,r){r.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=es.get().identity(),n=Vd(t,i)):n=te.IDENTITY,a2(t,r,n,e),i&&es.return(i),r.isValid||r.set(0,0,0,0),r}function a2(t,e,r,n){var a,u;if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=es.get(),i.appendFrom(t.localTransform,r));const s=e,o=!!t.effects.length;if(o&&(e=ts.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.addBounds&&(e.matrix=i,t.addBounds(e));for(let l=0;l<t.children.length;l++)a2(t.children[l],e,i,n)}if(o){for(let l=0;l<t.effects.length;l++)(u=(a=t.effects[l]).addBounds)==null||u.call(a,e);s.addBounds(e,te.IDENTITY),ts.return(e)}n||es.return(i)}function Vd(t,e){const r=t.parent;return r&&(Vd(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}let D_=0;const $C=500;function pe(...t){D_!==$C&&(D_++,D_===$C?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function Zg(t,e,r){return e.clear(),r||(r=te.IDENTITY),qD(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function qD(t,e,r,n,i){var u,l;let s;if(i)s=es.get(),s=r.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const c=t.localTransform;s=es.get(),s.appendFrom(c,r)}const o=e,a=!!t.effects.length;if(a&&(e=ts.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,t.addBounds(e));const c=t.children;for(let d=0;d<c.length;d++)qD(c[d],e,s,n,!1)}if(a){for(let c=0;c<t.effects.length;c++)(l=(u=t.effects[c]).addLocalBounds)==null||l.call(u,e,n);o.addBounds(e,te.IDENTITY),ts.return(e)}es.return(s)}function KD(t,e,r){const n=t.parent;if(!n){pe("Item is not inside the root container");return}n!==e&&(KD(n,e,r),n.updateLocalTransform(),r.append(n.localTransform))}function u2(t,e){const r=t.children;for(let n=0;n<r.length;n++){const i=r[n],s=(i.uid&255)<<24|i._didChangeId&16777215;e.data[e.index]!==s&&(e.data[e.index]=s,e.didChange=!0),e.index++,i.children.length&&u2(i,e)}return e.didChange}const RY=new te,QD={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new dr});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didChangeId>>12&&(t.didChange=!0,t.data[0]=this._didChangeId>>12),u2(this,t),t.didChange&&Zg(this,t.localBounds,RY),t.localBounds},getBounds(t,e){return Eh(this,t,e||new dr)}},ZD={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},JD={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(MY))}};function MY(t,e){return t._zIndex-e._zIndex}const ek={getGlobalPosition(t=new Ie,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){if(!r){this.updateLocalTransform();const n=Vd(this,new te);return n.append(this.localTransform),n.apply(t,e)}return this.worldTransform.apply(t,e)},toLocal(t,e,r,n){if(e&&(t=e.toGlobal(t,r,n)),!n){this.updateLocalTransform();const i=Vd(this,new te);return i.append(this.localTransform),i.applyInverse(t,r)}return this.worldTransform.applyInverse(t,r)}};class l2{constructor(){this.uid=tt("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class tk{constructor(e){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new te,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new l2,this._onRenderContainers=[],this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(e.didViewUpdate=!1,this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e))}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}}function rk(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const k_=new Ft(null),O_=new Ft(null),I_=new Ft(null,1,1),pm=1,c2=2,Jc=4,BY=8;class Ve extends un{constructor(e={}){var r,n;super(),this.uid=tt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new te,this.relativeGroupTransform=new te,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ft(this,0,0),this._scale=I_,this._pivot=O_,this._skew=k_,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,rk(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(i=>this.addChild(i)),this.effects=[],(n=e.parent)==null||n.addChild(this)}static mixin(e){Object.defineProperties(Ve.prototype,Object.getOwnPropertyDescriptors(e))}addChild(...e){if(this.allowChildren||le(de,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const r=e[0];if(r.parent===this)return this.children.splice(this.children.indexOf(r),1),this.children.push(r),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),r;r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r.didViewUpdate=!1,r._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didChangeId+=4096,r._zIndex!==0&&r.depthOfChildModified(),r}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didChangeId+=4096,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){if(this.renderGroup&&e===!1)throw new Error("[Pixi] cannot undo a render group just yet");e&&this.enableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e&&e.removeChild(this),this.renderGroup=new tk(this),e&&e.addChild(this),this._updateIsSimple(),this.groupTransform=te.IDENTITY}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new te),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*DD}set angle(e){this.rotation=e*kD}get pivot(){return this._pivot===O_&&(this._pivot=new Ft(this,0,0)),this._pivot}set pivot(e){this._pivot===O_&&(this._pivot=new Ft(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===k_&&(this._skew=new Ft(this,0,0)),this._skew}set skew(e){this._skew===k_&&(this._skew=new Ft(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===I_&&(this._scale=new Ft(this,1,1)),this._scale}set scale(e){this._scale===I_&&(this._scale=new Ft(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();let i,s;typeof e!="object"?(i=e,s=r??e):(i=e.width,s=e.height??e.width),i!==void 0&&this._setWidth(i,n.width),s!==void 0&&this._setHeight(s,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const e=this.localTransform,r=this._scale,n=this._pivot,i=this._position,s=r._x,o=r._y,a=n._x,u=n._y;e.a=this._cx*s,e.b=this._sx*s,e.c=this._cy*o,e.d=this._sy*o,e.tx=i._x-(a*e.a+u*e.c),e.ty=i._y-(a*e.b+u*e.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=pm,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=Me.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=pm,this._onUpdate())}get tint(){const e=this.localColor;return((e&255)<<16)+(e&65280)+(e>>16&255)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=c2,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?1:0;(this.localDisplayStatus&2)>>1!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Jc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?1:0;(this.localDisplayStatus&4)>>2!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Jc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=Jc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;const r=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.children)for(let s=0;s<r.length;++s)r[s].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}Ve.mixin(jD);Ve.mixin(ek);Ve.mixin(ZD);Ve.mixin(QD);Ve.mixin(XD);Ve.mixin(YD);Ve.mixin(JD);Ve.mixin(HD);class Rn extends Ve{constructor(e=X.EMPTY){e instanceof X&&(e={texture:e});const{texture:r=X.EMPTY,anchor:n,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new Ft({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,s&&(this.width=s),o&&(this.height=o)}static from(e,r=!1){return e instanceof X?new Rn(e):new Rn(X.from(e,r))}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(e){const r=this.sourceBounds;return e.x>=r.maxX&&e.x<=r.minX&&e.y>=r.maxY&&e.y<=r.minY}addBounds(e){const r=this._texture.trim?this.sourceBounds:this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_updateBounds(){jd(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const e=this._anchor,r=this._texture,n=this._sourceBounds,{width:i,height:s}=r.orig;n.maxX=-e._x*i,n.minX=n.maxX+i,n.maxY=-e._y*s,n.minY=n.maxY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){let n,i;typeof e!="object"?(n=e,i=r??e):(n=e.width,i=e.height??e.width),n!==void 0&&this._setWidth(n,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const DY=new dr;function Jg(t,e,r){const n=DY;t.measurable=!0,Eh(t,r,n),e.addBoundsMask(n),t.measurable=!1}function e0(t,e,r){const n=ts.get();t.measurable=!0;const i=es.get().identity(),s=d2(t,r,i);Zg(t,n,s),t.measurable=!1,e.addBoundsMask(n),es.return(i),ts.return(n)}function d2(t,e,r){return t?(t!==e&&(d2(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(pe("Mask bounds, renderable is not inside the root container"),r)}class h2{constructor(e){this.priority=0,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Rn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,r){Jg(this.mask,e,r)}addLocalBounds(e,r){e0(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof Rn}}h2.extension=A.MaskEffect;class f2{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}f2.extension=A.MaskEffect;class p2{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,r){Jg(this.mask,e,r)}addLocalBounds(e,r){e0(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof Ve}}p2.extension=A.MaskEffect;const nk={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let HC=nk;const Be={get(){return HC},set(t){HC=t}};class Da extends At{constructor(e){e.resource||(e.resource=Be.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity;const r=e.resource;(this.pixelWidth!==r.width||this.pixelWidth!==r.height)&&this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const i=super.resize(e,r,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}}Da.extension=A.TextureSource;class Ha extends At{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const r=Be.get().createCanvas(e.resource.width,e.resource.height);r.getContext("2d").drawImage(e.resource,0,0),e.resource=r,pe("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap}}Ha.extension=A.TextureSource;var Bs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bs||{});class gp{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=i}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const ik=class hn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new gp(null,null,1/0),this.deltaMS=1/hn.targetFPMS,this.elapsedMS=1/hn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Bs.NORMAL){return this._addListener(new gp(e,r,n))}addOnce(e,r,n=Bs.NORMAL){return this._addListener(new gp(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*hn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,hn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!hn._shared){const e=hn._shared=new hn;e.autoStart=!0,e._protected=!0}return hn._shared}static get system(){if(!hn._system){const e=hn._system=new hn;e.autoStart=!0,e._protected=!0}return hn._system}};ik.targetFPMS=.06;let Mr=ik,F_;async function m2(){return F_??(F_=(async()=>{var o;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(n),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),F_}const t0=class sk extends At{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...sk.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Mr.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await m2(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Mr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Mr.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Mr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||globalThis.VideoFrame&&e instanceof VideoFrame}};t0.extension=A.TextureSource;t0.defaultOptions={...At.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};t0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ed=t0;const Zn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class kY{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||pe(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Zn(e);let i;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}const s=new Map(Object.entries(i||{}));i||n.forEach(u=>{s.set(u,r)});const o=[...s.keys()],a={cacheKeys:o,keys:n};n.forEach(u=>{this._cacheMap.set(u,a)}),o.forEach(u=>{const l=i?i[u]:r;this._cache.has(u)&&this._cache.get(u)!==l&&pe("[Cache] already has key:",u),this._cache.set(u,s.get(u))})}remove(e){if(!this._cacheMap.has(e)){pe(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ze=new kY,Jv=[];dt.handleByList(A.TextureSource,Jv);function ok(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<Jv.length;i++){const s=Jv[i];if(s.test(r))return new s(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function ak(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,i=r?t:{resource:t};if(!e&&ze.has(n))return ze.get(n);const s=new X({source:ok(i)});return s.on("destroy",()=>{ze.has(n)&&ze.remove(n)}),e||ze.set(n,s),s}function uk(t,e=!1){return typeof t=="string"?ze.get(t):t instanceof At?new X({source:t}):ak(t,e)}X.from=uk;dt.add(h2,f2,p2,ed,Ha,Da,Kg);var In=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(In||{});function Si(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function lc(t){return t.split("?")[0].split("#")[0]}function OY(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IY(t,e,r){return t.replace(new RegExp(OY(e),"g"),r)}function FY(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const nn={toPosix(t){return IY(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Si(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Si(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=lc(this.toPosix(e??Be.get().getBaseUrl())),i=lc(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?nn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Si(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=FY(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Si(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Si(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Si(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Si(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Si(t),e&&Si(e),t=lc(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Si(t),t=lc(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Si(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=lc(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=t.length-1,c=0;for(;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),r===46?s===-1?s=l:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function lk(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?lk(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function ck(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),lk(t,i,0,r,n)}else n.push(t);return n}const Xd=t=>!Array.isArray(t);class Fo{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return Zn(r||n,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??o):s!=null&&s.src?s.src:s,!0)}addManifest(e){this._manifest&&pe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let u;if(typeof a=="string"){const l=this._createBundleAssetId(e,a);n.push(l),u=[a,l]}else{const l=a.map(c=>this._createBundleAssetId(e,c));n.push(...l),u=[...a,...l]}this.add({...s,alias:u,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=s=>{this.hasKey(s)&&pe(`[Resolver] already has key: ${s} overwriting`)},Zn(r).forEach(s=>{const{src:o}=s;let{data:a,format:u,loadParser:l}=s;const c=Zn(o).map(f=>typeof f=="string"?ck(f):Array.isArray(f)?f:[f]),d=this.getAlias(s);Array.isArray(d)?d.forEach(n):n(d);const h=[];c.forEach(f=>{f.forEach(p=>{let m={};if(typeof p!="object"){m.src=p;for(let g=0;g<this._parsers.length;g++){const _=this._parsers[g];if(_.test(p)){m=_.parse(p);break}}}else a=p.data??a,u=p.format??u,l=p.loadParser??l,m={...m,...p};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${m.src}`);m=this._buildResolvedAsset(m,{aliases:d,data:a,format:u,loadParser:l}),h.push(m)})}),d.forEach(f=>{this._assetMap[f]=h})})}resolveBundle(e){const r=Xd(e);e=Zn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Xd(e);e=Zn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o==null||o.priority.forEach(a=>{o.params[a].forEach(u=>{const l=s.filter(c=>c[a]?c[a]===u:!1);l.length&&(s=l)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=nn.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??dk(e.src),e}}Fo.RETINA_PREFIX=/@([0-9\.]+)x/;function dk(t){return t.split(".").pop().split("?").shift().split("#").shift()}const mm=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},hk=class kc{constructor(e,r){this.linkedSheets=[],this._texture=e instanceof X?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=r;const n=parseFloat(r.meta.scale);n?(this.resolution=n,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=kc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=kc.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new ke(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new ke(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new X({source:this.textureSource,frame:a,orig:c,trim:u,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*kc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*kc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};hk.BATCH_SIZE=1e3;let ex=hk;const UY=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function fk(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=nn.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=fk([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const pk={extension:A.Asset,cache:{test:t=>t instanceof ex,getCacheableAssets:(t,e)=>fk(t,e,!1)},resolver:{extension:{type:A.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&UY.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Fo.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:A.LoadParser,priority:In.Normal,name:"spritesheetLoader"},async testParse(t,e){return nn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var l,c;const{texture:n,imageFilename:i}=(e==null?void 0:e.data)??{};let s=nn.dirname(e.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");let o;if(n instanceof X)o=n;else{const d=mm(s+(i??t.meta.image),e.src);o=(await r.load([d]))[d]}const a=new ex(o.source,t);await a.parse();const u=(l=t==null?void 0:t.meta)==null?void 0:l.related_multi_packs;if(Array.isArray(u)){const d=[];for(const f of u){if(typeof f!="string")continue;let p=s+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=mm(p,e.src),d.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(d);a.linkedSheets=h,h.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};dt.add(pk);class Ol{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ol.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ie,this.page=new Ie,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var U_=/iPhone/i,jC=/iPod/i,WC=/iPad/i,VC=/\biOS-universal(?:.+)Mac\b/i,L_=/\bAndroid(?:.+)Mobile\b/i,XC=/Android/i,tu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sf=/Silk/i,ds=/Windows Phone/i,YC=/\bWindows(?:.+)ARM\b/i,qC=/BlackBerry/i,KC=/BB10/i,QC=/Opera Mini/i,ZC=/\b(CriOS|Chrome)(?:.+)Mobile/i,JC=/Mobile(?:.+)Firefox\b/i,e3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function LY(t){return function(e){return e.test(t)}}function t3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=LY(r),s={apple:{phone:i(U_)&&!i(ds),ipod:i(jC),tablet:!i(U_)&&(i(WC)||e3(e))&&!i(ds),universal:i(VC),device:(i(U_)||i(jC)||i(WC)||i(VC)||e3(e))&&!i(ds)},amazon:{phone:i(tu),tablet:!i(tu)&&i(Sf),device:i(tu)||i(Sf)},android:{phone:!i(ds)&&i(tu)||!i(ds)&&i(L_),tablet:!i(ds)&&!i(tu)&&!i(L_)&&(i(Sf)||i(XC)),device:!i(ds)&&(i(tu)||i(Sf)||i(L_)||i(XC))||i(/\bokhttp\b/i)},windows:{phone:i(ds),tablet:i(YC),device:i(ds)||i(YC)},other:{blackberry:i(qC),blackberry10:i(KC),opera:i(QC),firefox:i(JC),chrome:i(ZC),device:i(qC)||i(KC)||i(QC)||i(JC)||i(ZC)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const NY=t3.default??t3,mk=NY(globalThis.navigator),GY=9,wf=100,zY=0,$Y=0,r3=2,n3=1,HY=-1e3,jY=-1e3,WY=2;class gk{constructor(e,r=mk){this._mobileInfo=r,this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(r.tablet||r.phone)&&this._createTouchHook();const n=document.createElement("div");n.style.width=`${wf}px`,n.style.height=`${wf}px`,n.style.position="absolute",n.style.top=`${zY}px`,n.style.left=`${$Y}px`,n.style.zIndex=r3.toString(),this._div=n,this._renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${n3}px`,e.style.height=`${n3}px`,e.style.position="absolute",e.style.top=`${HY}px`,e.style.left=`${jY}px`,e.style.zIndex=WY.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.add(this),(e=this._renderer.view.canvas.parentNode)==null||e.appendChild(this._div))}_deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this),(e=this._div.parentNode)==null||e.removeChild(this._div))}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this._updateAccessibleObjects(r[n])}init(e){this.debug=(e==null?void 0:e.debug)??this.debug,this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this._renderer.view.canvas.getBoundingClientRect(),{width:o,height:a,resolution:u}=this._renderer,l=i/o*u,c=s/a*u;let d=this._div;d.style.left=`${r}px`,d.style.top=`${n}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let h=0;h<this._children.length;h++){const f=this._children[h];if(f._renderId!==this._renderId)f._accessibleActive=!1,o2(this._children,h,1),this._div.removeChild(f._accessibleDiv),this._pool.push(f._accessibleDiv),f._accessibleDiv=null,h--;else{d=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(d.style.left=`${(m.tx+p.x*m.a)*l}px`,d.style.top=`${(m.ty+p.y*m.d)*c}px`,d.style.width=`${p.width*m.a*l}px`,d.style.height=`${p.height*m.d*c}px`):(p=f.getBounds().rectangle,this._capHitArea(p),d.style.left=`${p.x*l}px`,d.style.top=`${p.y*c}px`,d.style.width=`${p.width*l}px`,d.style.height=`${p.height*c}px`,d.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(d.title=f.accessibleTitle||""),d.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&d.setAttribute("aria-label",f.accessibleHint||"")),(f.accessibleTitle!==d.title||f.tabIndex!==d.tabIndex)&&(d.title=f.accessibleTitle||"",d.tabIndex=f.tabIndex,this.debug&&this._updateDebugHTML(d))}}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this._renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}_addChild(e){let r=this._pool.pop();r||(r=document.createElement("button"),r.style.width=`${wf}px`,r.style.height=`${wf}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=r3.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{container:n}=e.target,i=this._renderer.events.rootBoundary,s=Object.assign(new Ol(i),{target:n});i.rootTarget=this._renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===GY&&this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){this._destroyTouchHook(),this._div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this._pool=null,this._children=null,this._renderer=null}}gk.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"accessibility"};const VY={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1},N_=Object.create(null),i3=Object.create(null);function Th(t,e){let r=i3[t];return r===void 0&&(N_[e]===void 0&&(N_[e]=1),i3[t]=r=N_[e]++),r}let ru;function g2(){return(!ru||ru!=null&&ru.isContextLost())&&(ru=Be.get().createCanvas().getContext("webgl",{})),ru}let Ef;function _k(){if(!Ef){Ef="mediump";const t=g2();t&&t.getShaderPrecisionFormat&&(Ef=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return Ef}function yk(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function vk(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&n!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function xk(t,e){return e?`#version 300 es
${t}`:t}const XY={},YY={};function bk(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?XY:YY;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function Sk(t,e){return e?t.replace("#version 300 es",""):t}const G_={stripVersion:Sk,ensurePrecision:vk,addProgramDefines:yk,setProgramName:bk,insertVersion:xk},z_=Object.create(null),wk=class tx{constructor(e){e={...tx.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:_k()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let i=e.fragment,s=e.vertex;Object.keys(G_).forEach(o=>{const a=n[o];i=G_[o](i,a,!0),s=G_[o](s,a,!1)}),this.fragment=i,this.vertex=s,this._key=Th(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return z_[r]||(z_[r]=new tx(e)),z_[r]}};wk.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let _i=wk;const s3={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function _l(t){return s3[t]??s3.float32}const qY={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Ek({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const i=t.indexOf("->",n);if(i!==-1){const s=t.substring(n,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const u=qY[a[3]]??"float32";r[a[2]]={location:parseInt(a[1],10),format:u,stride:_l(u).stride,offset:0,instance:!1,start:0}}}}return r}function _p(t){var d,h;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,u=/struct\s+(\w+)/,l=(d=t.match(e))==null?void 0:d.map(f=>({group:parseInt(f.match(r)[1],10),binding:parseInt(f.match(n)[1],10),name:f.match(i)[2],isUniform:f.match(i)[1]==="<uniform>",type:f.match(s)[1]}));if(!l)return{groups:[],structs:[]};const c=((h=t.match(o))==null?void 0:h.map(f=>{const p=f.match(u)[1],m=f.match(a).reduce((g,_)=>{const[v,y]=_.split(":");return g[v.trim()]=y.trim(),g},{});return m?{name:p,members:m}:null}).filter(({name:f})=>l.some(p=>p.type===f)))??[];return{groups:l,structs:c}}var Pu=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Pu||{});function Tk({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:Pu.VERTEX|Pu.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:Pu.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:Pu.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function Ck({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function Pk(t,e){const r=new Set,n=new Set,i=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return n.has(a)?!1:(n.add(a),!0)});return{structs:i,groups:s}}const $_=Object.create(null);class Fn{constructor(e){var a,u;this._layoutKey=0;const{fragment:r,vertex:n,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const l=_p(r.source);this.structsAndGroups=l}else{const l=_p(n.source),c=_p(r.source);this.structsAndGroups=Pk(l,c)}this.layout=i??Ck(this.structsAndGroups),this.gpuLayout=s??Tk(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((u=this.layout[1])==null?void 0:u.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=Th(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=Ek(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return $_[r]||($_[r]=new Fn(e)),$_[r]}}const _2=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],Ak=_2.reduce((t,e)=>(t[e]=!0,t),{});function Rk(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Mk=class Bk{constructor(e,r){this._touched=0,this.uid=tt("uniform"),this._resourceType="uniformGroup",this._resourceId=tt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...Bk.defaultOptions,...r},this.uniformStructures=e;const n={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!Ak[s.type])throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${_2.join(", ")}`);s.value??(s.value=Rk(s.type,s.size)),n[i]=s.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=Th(Object.keys(n).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Mk.defaultOptions={ubo:!1,isStatic:!1};let Wt=Mk;class rs{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const i=e[n];this.setResource(i,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var i,s;const n=this.resources[r];e!==n&&(n&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(s=e.on)==null||s.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const n in r)r[n]._touched=e}destroy(){var r;const e=this.resources;for(const n in e){const i=e[n];(r=i.off)==null||r.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var Mn=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Mn||{});class Un extends un{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:r,glProgram:n,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=Mn.WEBGPU),n&&(o|=Mn.WEBGL)),this.compatibleRenderers=o;const u={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&i&&a)for(const l in a)for(const c in a[l]){const d=a[l][c];u[d]={group:l,binding:c,name:d}}else if(r&&i&&!a){const l=r.structsAndGroups.groups;a={},l.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,u[c.name]=c})}else if(s){if(r){const l=r.structsAndGroups.groups;a={},l.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,u[c.name]=c})}else{a={},i={99:new rs},this._ownedBindGroups.push(i[99]);let l=0;for(const c in s)u[c]={group:99,binding:l,name:c},a[99]=a[99]||{},a[99][l]=c,l++}i={};for(const l in s){const c=l;let d=s[l];!d.source&&!d._resourceType&&(d=new Wt(d));const h=u[c];h&&(i[h.group]||(i[h.group]=new rs,this._ownedBindGroups.push(i[h.group])),i[h.group].setResource(d,h.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,u)}addResource(e,r,n){var i,s;(i=this._uniformBindMap)[r]||(i[r]={}),(s=this._uniformBindMap[r])[n]||(s[n]=e),this.groups[r]||(this.groups[r]=new rs,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const i in r){const s=r[i];Object.defineProperty(n,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return n}destroy(e=!1){var r,n;this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:r,gl:n,...i}=e;let s,o;return r&&(s=Fn.from(r)),n&&(o=_i.from(n)),new Un({gpuProgram:s,glProgram:o,...i})}}const KY={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},H_=0,j_=1,W_=2,V_=3,X_=4,Y_=5,rx=class Dk{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<H_)}set blend(e){!!(this.data&1<<H_)!==e&&(this.data^=1<<H_)}get offsets(){return!!(this.data&1<<j_)}set offsets(e){!!(this.data&1<<j_)!==e&&(this.data^=1<<j_)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<W_)}set culling(e){!!(this.data&1<<W_)!==e&&(this.data^=1<<W_)}get depthTest(){return!!(this.data&1<<V_)}set depthTest(e){!!(this.data&1<<V_)!==e&&(this.data^=1<<V_)}get depthMask(){return!!(this.data&1<<Y_)}set depthMask(e){!!(this.data&1<<Y_)!==e&&(this.data^=1<<Y_)}get clockwiseFrontFace(){return!!(this.data&1<<X_)}set clockwiseFrontFace(e){!!(this.data&1<<X_)!==e&&(this.data^=1<<X_)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=KY[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Dk;return e.depthTest=!1,e.blend=!0,e}};rx.default2d=rx.for2d();let Fi=rx;const kk=class nx extends Un{constructor(e){e={...nx.defaultOptions,...e},super(e),this.enabled=!0,this._state=Fi.for2d(),this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.addResource("uTexture",0,1)}apply(e,r,n,i){e.applyFilter(this,r,n,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:r,gl:n,...i}=e;let s,o;return r&&(s=Fn.from(r)),n&&(o=_i.from(n)),new nx({gpuProgram:s,glProgram:o,...i})}};kk.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1};let Fs=kk;var Ok=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uBlend;

uniform sampler2D uTexture;
uniform sampler2D uBackTexture;

{FUNCTIONS}

void main()
{ 
    vec4 back = texture(uBackTexture, vTextureCoord);
    vec4 front = texture(uTexture, vTextureCoord);

    {MAIN}
}
`,Ik=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 backgroundUv;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Fk=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlendUniforms {
  uBlend:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(0) @binding(3) var uBackTexture: texture_2d<f32>;

@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

{FUNCTIONS}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>
) -> @location(0) vec4<f32> {


   var back =  textureSample(uBackTexture, uSampler, uv);
   var front = textureSample(uTexture, uSampler, uv);
   
   var out = vec4<f32>(0.0,0.0,0.0,0.0);

   {MAIN}

   return out;
}`;class St extends Fs{constructor(e){const r=e.gpu,n=o3({source:Fk,...r}),i=Fn.from({vertex:{source:n,entryPoint:"mainVertex"},fragment:{source:n,entryPoint:"mainFragment"}}),s=e.gl,o=o3({source:Ok,...s}),a=_i.from({vertex:Ik,fragment:o}),u=new Wt({uBlend:{value:1,type:"f32"}});super({gpuProgram:i,glProgram:a,blendRequired:!0,resources:{blendUniforms:u,uBackTexture:X.EMPTY}})}}function o3(t){const{source:e,functions:r,main:n}=t;return e.replace("{FUNCTIONS}",r).replace("{MAIN}",n)}const r0=`
	float getLuminosity(vec3 c) {
		return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
	}

	vec3 setLuminosity(vec3 c, float lum) {
		float modLum = lum - getLuminosity(c);
		vec3 color = c.rgb + vec3(modLum);

		// clip back into legal range
		modLum = getLuminosity(color);
		vec3 modLumVec = vec3(modLum);

		float cMin = min(color.r, min(color.g, color.b));
		float cMax = max(color.r, max(color.g, color.b));

		if(cMin < 0.0) {
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0) {
			color = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));
		}

		return color;
	}

	float getSaturation(vec3 c) {
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	vec3 setSaturationMinMidMax(vec3 cSorted, float s) {
		vec3 colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x) {
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else {
			colorSorted.y = 0.0;
			colorSorted.z = 0.0;
		}

		colorSorted.x = 0.0;

		return colorSorted;
	}

	vec3 setSaturation(vec3 c, float s) {
		vec3 color = c;

		if(color.r <= color.g && color.r <= color.b) {
			if(color.g <= color.b) {
				color = setSaturationMinMidMax(color.rgb, s).rgb;
			}
			else {
				color = setSaturationMinMidMax(color.rbg, s).rbg;
			}
		}
		else if(color.g <= color.r && color.g <= color.b) {
			if(color.r <= color.b) {
				color = setSaturationMinMidMax(color.grb, s).grb;
			}
			else {
				color = setSaturationMinMidMax(color.gbr, s).gbr;
			}
		}
		else {
			// Using bgr for both fixes part of hue
			if(color.r <= color.g) {
				color = setSaturationMinMidMax(color.brg, s).brg;
			}
			else {
				color = setSaturationMinMidMax(color.bgr, s).bgr;
			}
		}

		return color;
	}
    `,n0=`
	fn getLuminosity(c: vec3<f32>) -> f32
	{
		return 0.3*c.r + 0.59*c.g + 0.11*c.b;
	}

	fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>
	{
		var modLum: f32 = lum - getLuminosity(c);
		var color: vec3<f32> = c.rgb + modLum;

		// clip back into legal range
		modLum = getLuminosity(color);
		let modLumVec = vec3<f32>(modLum);

		let cMin: f32 = min(color.r, min(color.g, color.b));
		let cMax: f32 = max(color.r, max(color.g, color.b));

		if(cMin < 0.0)
		{
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0)
		{
			color = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));
		}

		return color;
	}

	fn getSaturation(c: vec3<f32>) -> f32
	{
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>
	{
		var colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x)
		{
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else
		{
			colorSorted.y = 0;
			colorSorted.z = 0;
		}

		colorSorted.x = 0;

		return colorSorted;
	}

	fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>
	{
		var color = c;

		if (color.r <= color.g && color.r <= color.b)
		{
			if (color.g <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;
			}
		}
		else if (color.g <= color.r && color.g <= color.b)
		{
			if (color.r <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;
			}
		}
		else
		{
			// Using bgr for both fixes part of hue
			if (color.r <= color.g)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;
			}
			else
			{
				color  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;
			}
		}

		return color;
	}
	`;class Uk extends St{constructor(){super({gl:{functions:`
                ${r0}

                vec3 blendColor(vec3 base, vec3 blend,  float opacity)
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColor(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                ${n0}

                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Uk.extension={name:"color",type:A.BlendMode};class Lk extends St{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0 - ((1.0 - base) / blend)), 0.0);
                }

                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendColorBurn(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Lk.extension={name:"color-burn",type:A.BlendMode};class Nk extends St{constructor(){super({gl:{functions:`
                float colorDodge(float base, float blend)
                {
                    return base / (1.0 - blend);
                }

                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColorDodge(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return base / (1.0 - blend);
                }

                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Nk.extension={name:"color-dodge",type:A.BlendMode};class Gk extends St{constructor(){super({gl:{functions:`
                vec3 blendDarken(vec3 base, vec3 blend, float opacity)
                {
                    return (min(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDarken(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (min(blend,base) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Gk.extension={name:"darken",type:A.BlendMode};class zk extends St{constructor(){super({gl:{functions:`
                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendDifference(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}zk.extension={name:"difference",type:A.BlendMode};class $k extends St{constructor(){super({gl:{functions:`
                float divide(float base, float blend)
                {
                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;
                }

                vec3 blendDivide(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDivide(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn divide(base: f32, blend: f32) -> f32
                {
                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);
                }

                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}$k.extension={name:"divide",type:A.BlendMode};class Hk extends St{constructor(){super({gl:{functions:`
                vec3 exclusion(vec3 base, vec3 blend)
                {
                    return base + blend - 2.0 * base * blend;
                }

                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendExclusion(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return base+blend-2.0*base*blend;
                }

                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Hk.extension={name:"exclusion",type:A.BlendMode};class jk extends St{constructor(){super({gl:{functions:`
                float hardLight(float base, float blend)
                {
                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);
                }

                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardLight(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn hardLight(base: f32, blend: f32) -> f32
                {
                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);
                }

                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}jk.extension={name:"hard-light",type:A.BlendMode};class Wk extends St{constructor(){super({gl:{functions:`
                float hardMix(float base, float blend)
                {
                    return (base + blend >= 1.0) ? 1.0 : 0.0;
                }

                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blended = vec3(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardMix(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn hardMix(base: f32, blend: f32) -> f32
                {
                    return select(0.0, 1.0, base + blend >= 1.0);
                }

                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Wk.extension={name:"hard-mix",type:A.BlendMode};class Vk extends St{constructor(){super({gl:{functions:`
                vec3 blendLighten(vec3 base, vec3 blend, float opacity)
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLighten(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Vk.extension={name:"lighten",type:A.BlendMode};class Xk extends St{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend)
                {
                    return max(0.0, base + blend - 1.0);
                }

                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Xk.extension={name:"linear-burn",type:A.BlendMode};class Yk extends St{constructor(){super({gl:{functions:`
                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1, base + blend);
                }

                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Yk.extension={name:"linear-dodge",type:A.BlendMode};class qk extends St{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend) {
                    return max(0.0, base + blend - 1.0);
                }

                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                float linearLight(float base, float blend) {
                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));
                }

                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendLinearLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base + blend);
                }

                fn linearLight(base: f32, blend: f32) -> f32
                {
                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);
                }

                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}qk.extension={name:"linear-light",type:A.BlendMode};class Kk extends St{constructor(){super({gl:{functions:`
                ${r0}

                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLuminosity(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                ${n0}

                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Kk.extension={name:"luminosity",type:A.BlendMode};class Qk extends St{constructor(){super({gl:{functions:`
                vec3 negation(vec3 base, vec3 blend)
                {
                    return 1.0-abs(1.0-base-blend);
                }

                vec3 blendNegation(vec3 base, vec3 blend, float opacity)
                {
                    return (negation(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return 1.0-abs(1.0-base-blend);
                }

                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}Qk.extension={name:"negation",type:A.BlendMode};class Zk extends St{constructor(){super({gl:{functions:`
                float overlay(float base, float blend)
                {
                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));
                }

                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendOverlay(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn overlay(base: f32, blend: f32) -> f32
                {
                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);
                }

                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Zk.extension={name:"overlay",type:A.BlendMode};class Jk extends St{constructor(){super({gl:{functions:`
                float pinLight(float base, float blend)
                {
                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));
                }

                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn pinLight(base: f32, blend: f32) -> f32
                {
                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);
                }

                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}Jk.extension={name:"pin-light",type:A.BlendMode};class e4 extends St{constructor(){super({gl:{functions:`
                ${r0}

                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                ${n0}

                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
            `}})}}e4.extension={name:"saturation",type:A.BlendMode};class t4 extends St{constructor(){super({gl:{functions:`
                float softLight(float base, float blend)
                {
                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));
                }

                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn softLight(base: f32, blend: f32) -> f32
                {
                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);
                }

                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}t4.extension={name:"soft-light",type:A.BlendMode};class r4 extends St{constructor(){super({gl:{functions:`
                float subtract(float base, float blend)
                {
                    return max(0.0, base - blend);
                }

                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), uBlend);
                `},gpu:{functions:`
                fn subtract(base: f32, blend: f32) -> f32
                {
                    return max(0, base - blend);
                }

                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}r4.extension={name:"subtract",type:A.BlendMode};class n4 extends St{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                float colorDodge(float base, float blend)
                {
                    return min(1.0, base / (1.0-blend));
                }

                float vividLight(float base, float blend)
                {
                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));
                }

                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendVividLight(back.rgb, front.rgb, front.a), uBlend);
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base / (1.0-blend));
                }

                fn vividLight(base: f32, blend: f32) -> f32
                {
                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);
                }

                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendUniforms.uBlend);
                `}})}}n4.extension={name:"vivid-light",type:A.BlendMode};const ix=[];dt.handleByNamedList(A.Environment,ix);async function y2(t){if(!t)for(let e=0;e<ix.length;e++){const r=ix[e];if(r.value.test()){await r.value.load();return}}}async function QY(t){return y2(!t)}let cc;function v2(){if(typeof cc=="boolean")return cc;try{cc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{cc=!1}return cc}var x2={exports:{}};x2.exports=i0;x2.exports.default=i0;function i0(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=i4(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,c,d,h,f;if(n&&(s=rq(t,e,s,r)),t.length>80*r){a=l=t[0],u=c=t[1];for(var p=r;p<i;p+=r)d=t[p],h=t[p+1],d<a&&(a=d),h<u&&(u=h),d>l&&(l=d),h>c&&(c=h);f=Math.max(l-a,c-u),f=f!==0?32767/f:0}return Yd(s,o,r,a,u,f,0),o}function i4(t,e,r,n,i){var s,o;if(i===ax(t,e,r,n)>0)for(s=e;s<r;s+=n)o=a3(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=a3(s,t[s],t[s+1],o);return o&&s0(o,o.next)&&(Kd(o),o=o.next),o}function ka(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(s0(r,r.next)||lt(r.prev,r,r.next)===0)){if(Kd(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Yd(t,e,r,n,i,s,o){if(t){!o&&s&&aq(t,n,i,s);for(var a=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,s?JY(t,n,i,s):ZY(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Kd(t),t=l.next,a=l.next;continue}if(t=l,t===a){o?o===1?(t=eq(ka(t),e,r),Yd(t,e,r,n,i,s,2)):o===2&&tq(t,e,r,n,i,s):Yd(ka(t),e,r,n,i,s,1);break}}}}function ZY(t){var e=t.prev,r=t,n=t.next;if(lt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,l=n.y,c=i<s?i<o?i:o:s<o?s:o,d=a<u?a<l?a:l:u<l?u:l,h=i>s?i>o?i:o:s>o?s:o,f=a>u?a>l?a:l:u>l?u:l,p=n.next;p!==e;){if(p.x>=c&&p.x<=h&&p.y>=d&&p.y<=f&&Au(i,a,s,u,o,l,p.x,p.y)&&lt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function JY(t,e,r,n){var i=t.prev,s=t,o=t.next;if(lt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,c=i.y,d=s.y,h=o.y,f=a<u?a<l?a:l:u<l?u:l,p=c<d?c<h?c:h:d<h?d:h,m=a>u?a>l?a:l:u>l?u:l,g=c>d?c>h?c:h:d>h?d:h,_=sx(f,p,e,r,n),v=sx(m,g,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=_&&x&&x.z<=v;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&Au(a,c,u,d,l,h,y.x,y.y)&&lt(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Au(a,c,u,d,l,h,x.x,x.y)&&lt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=_;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&Au(a,c,u,d,l,h,y.x,y.y)&&lt(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=v;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Au(a,c,u,d,l,h,x.x,x.y)&&lt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function eq(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!s0(i,s)&&s4(i,n,n.next,s)&&qd(i,s)&&qd(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Kd(n),Kd(n.next),n=t=s),n=n.next}while(n!==t);return ka(n)}function tq(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&cq(o,a)){var u=o4(o,a);o=ka(o,o.next),u=ka(u,u.next),Yd(o,e,r,n,i,s,0),Yd(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function rq(t,e,r,n){var i=[],s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,l=i4(t,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(lq(l));for(i.sort(nq),s=0;s<i.length;s++)r=iq(i[s],r);return r}function nq(t,e){return t.x-e.x}function iq(t,e){var r=sq(t,e);if(!r)return e;var n=o4(r,t);return ka(n,n.next),ka(r,r.next)}function sq(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,l=o.x,c=o.y,d=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Au(i<c?n:s,i,l,c,i<c?s:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),qd(r,t)&&(h<d||h===d&&(r.x>o.x||r.x===o.x&&oq(o,r)))&&(o=r,d=h)),r=r.next;while(r!==u);return o}function oq(t,e){return lt(t.prev,t,e.prev)<0&&lt(e.next,t,t.next)<0}function aq(t,e,r,n){var i=t;do i.z===0&&(i.z=sx(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,uq(i)}function uq(t){var e,r,n,i,s,o,a,u,l=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,l*=2}while(o>1);return t}function sx(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lq(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Au(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function cq(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dq(t,e)&&(qd(t,e)&&qd(e,t)&&hq(t,e)&&(lt(t.prev,t,e.prev)||lt(t,e.prev,e))||s0(t,e)&&lt(t.prev,t,t.next)>0&&lt(e.prev,e,e.next)>0)}function lt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function s0(t,e){return t.x===e.x&&t.y===e.y}function s4(t,e,r,n){var i=Cf(lt(t,e,r)),s=Cf(lt(t,e,n)),o=Cf(lt(r,n,t)),a=Cf(lt(r,n,e));return!!(i!==s&&o!==a||i===0&&Tf(t,r,e)||s===0&&Tf(t,n,e)||o===0&&Tf(r,t,n)||a===0&&Tf(r,e,n))}function Tf(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Cf(t){return t>0?1:t<0?-1:0}function dq(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&s4(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function qd(t,e){return lt(t.prev,t,t.next)<0?lt(t,e,t.next)>=0&&lt(t,t.prev,e)>=0:lt(t,e,t.prev)<0||lt(t,t.next,e)<0}function hq(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function o4(t,e){var r=new ox(t.i,t.x,t.y),n=new ox(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function a3(t,e,r,n){var i=new ox(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Kd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ox(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i0.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(ax(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;o-=Math.abs(ax(t,l,c,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;d+=Math.abs((t[h]-t[p])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[p+1]-t[h+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function ax(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}i0.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var fq=x2.exports;const a4=wl(fq);var jr=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(jr||{});class b2{constructor(e){this.items=[],this._name=e}emit(e,r,n,i,s,o,a,u){const{name:l,items:c}=this;for(let d=0,h=c.length;d<h;d++)c[d][l](e,r,n,i,s,o,a,u);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const pq=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],u4=class l4 extends un{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...pq,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await y2(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...l4.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){let n=e;if(n instanceof Ve&&(n={container:n},r&&(le(de,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor=this.background.colorRgba),n.clearColor){const i=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=i?n.clearColor:Me.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,r,n){this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=jr.ALL);const{clear:n,clearColor:i,target:s}=e;Me.shared.setValue(i??this.background.colorRgba),r.renderTarget.clear(s,n,Me.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new b2(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}_addPipes(e,r){const n=r.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=n[o];this.renderPipes[o]=new s(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!v2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};u4.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Ch=u4,Pf;function Ph(t){return Pf!==void 0||(Pf=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??Ch.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Be.get().getWebGLRenderingContext())return!1;let i=Be.get().createCanvas().getContext("webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}})()),Pf}let Af;async function Ah(t={}){return Af!==void 0||(Af=await(async()=>{if(!Be.get().getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),Af}const u3=["webgl","webgpu","canvas"];async function c4(t){let e=[];t.preference?(e.push(t.preference),u3.forEach(s=>{s!==t.preference&&e.push(s)})):e=u3.slice();let r,n={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await Ah()){const{WebGPURenderer:a}=await hm(()=>Promise.resolve().then(()=>tJ),void 0);r=a,n={...t,...t.webgpu};break}else if(o==="webgl"&&Ph(t.failIfMajorPerformanceCaveat??Ch.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await hm(()=>Promise.resolve().then(()=>VZ),void 0);r=a,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const i=new r;return await i.init(n),i}const d4=class ux{constructor(...e){this.stage=new Ve,e[0]!==void 0&&le(de,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await c4(e),ux._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return le(de,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=ux._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};d4._plugins=[];let S2=d4;dt.handleByList(A.Application,S2._plugins);class h4{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}h4.extension=A.Application;class f4{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Mr.shared:new Mr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}f4.extension=A.Application;class w2 extends un{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return le(de,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return le(de,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return le(de,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return le(de,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return le(de,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)(r=this.chars[n].texture)==null||r.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}const p4=class lx{constructor(e,r,n,i){this.uid=tt("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=r,this.x1=n,this.y1=i}addColorStop(e,r){return this.gradientStops.push({offset:e,color:Me.shared.setValue(r).toHex()}),this._styleKey=null,this}buildLinearGradient(){const e=lx.defaultTextureSize,{gradientStops:r}=this,n=Be.get().createCanvas();n.width=e,n.height=e;const i=n.getContext("2d"),s=i.createLinearGradient(0,0,lx.defaultTextureSize,1);for(let m=0;m<r.length;m++){const g=r[m];s.addColorStop(g.offset,g.color)}i.fillStyle=s,i.fillRect(0,0,e,e),this.texture=new X({source:new Ha({resource:n,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:o,y0:a,x1:u,y1:l}=this,c=new te,d=u-o,h=l-a,f=Math.sqrt(d*d+h*h),p=Math.atan2(h,d);c.translate(-o,-a),c.scale(1/e,1/e),c.rotate(-p),c.scale(256/f,1),this.transform=c,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(i=>`${i.offset}-${i.color}`).join("-"),r=this.texture.uid,n=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${r}-${n}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};p4.defaultTextureSize=256;let yl=p4;const l3={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Rh{constructor(e,r){this.uid=tt("fillPattern"),this.transform=new te,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=l3[r].addressModeU,e.source.style.addressModeV=l3[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var mq=_q,q_={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},gq=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function _q(t){var e=[];return t.replace(gq,function(r,n,i){var s=n.toLowerCase();for(i=vq(i),s=="m"&&i.length>2&&(e.push([n].concat(i.splice(0,2))),s="l",n=n=="m"?"l":"L");;){if(i.length==q_[s])return i.unshift(n),e.push(i);if(i.length<q_[s])throw new Error("malformed path data");e.push([n].concat(i.splice(0,q_[s])))}}),e}var yq=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function vq(t){var e=t.match(yq);return e?e.map(Number):[]}const xq=wl(mq);function m4(t,e){const r=xq(t),n=[];let i=null,s=0,o=0;for(let a=0;a<r.length;a++){const u=r[a],l=u[0],c=u;switch(l){case"M":s=c[1],o=c[2],e.moveTo(s,o);break;case"m":s+=c[1],o+=c[2],e.moveTo(s,o);break;case"H":s=c[1],e.lineTo(s,o);break;case"h":s+=c[1],e.lineTo(s,o);break;case"V":o=c[1],e.lineTo(s,o);break;case"v":o+=c[1],e.lineTo(s,o);break;case"L":s=c[1],o=c[2],e.lineTo(s,o);break;case"l":s+=c[1],o+=c[2],e.lineTo(s,o);break;case"C":s=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],s,o);break;case"c":e.bezierCurveTo(s+c[1],o+c[2],s+c[3],o+c[4],s+c[5],o+c[6]),s+=c[5],o+=c[6];break;case"S":s=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],s,o);break;case"s":e.bezierCurveToShort(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"Q":s=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],s,o);break;case"q":e.quadraticCurveTo(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"T":s=c[1],o=c[2],e.quadraticCurveToShort(s,o);break;case"t":s+=c[1],o+=c[2],e.quadraticCurveToShort(s,o);break;case"A":s=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"a":s+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"Z":case"z":e.closePath(),n.length>0&&(i=n.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:pe(`Unknown SVG path command: ${l}`)}l!=="Z"&&l!=="z"&&i===null&&(i={startX:s,startY:o},n.push(i))}return e}class o0{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new o0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}strokeContains(e,r,n){if(this.radius===0)return!1;const i=this.x-e,s=this.y-r,o=this.radius,a=n/2,u=Math.sqrt(i*i+s*s);return u<o+a&&u>o-a}getBounds(e){return e=e||new ke,e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class a0{constructor(e=0,r=0,n=0,i=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=i}clone(){return new a0(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,i=(r-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(e,r,n){const{halfWidth:i,halfHeight:s}=this;if(i<=0||s<=0)return!1;const o=n/2,a=i-o,u=s-o,l=i+o,c=s+o,d=e-this.x,h=r-this.y,f=d*d/(a*a)+h*h/(u*u),p=d*d/(l*l)+h*h/(c*c);return f>1&&p<=1}getBounds(){return new ke(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function td(t,e,r,n,i,s){const o=t-r,a=e-n,u=i-r,l=s-n,c=o*u+a*l,d=u*u+l*l;let h=-1;d!==0&&(h=c/d);let f,p;h<0?(f=r,p=n):h>1?(f=i,p=s):(f=r+h*u,p=n+h*l);const m=t-f,g=e-p;return m*m+g*g}class zu{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.closePath=!0}clone(){const e=this.points.slice(),r=new zu(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],c=this.points[o*2+1];u>r!=c>r&&e<(l-a)*((r-u)/(c-u))+a&&(n=!n)}return n}strokeContains(e,r,n){const i=n/2,s=i*i,{points:o}=this,a=o.length-(this.closePath?0:2);for(let u=0;u<a;u+=2){const l=o[u],c=o[u+1],d=o[(u+2)%o.length],h=o[(u+3)%o.length];if(td(e,r,l,c,d,h)<=s)return!0}return!1}getBounds(e){e=e||new ke;const r=this.points;let n=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,u=r.length;a<u;a+=2){const l=r[a],c=r[a+1];n=l<n?l:n,i=l>i?l:i,s=c<s?c:s,o=c>o?c:o}return e.x=n,e.width=i-n,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Rf=(t,e,r,n,i,s)=>{const o=t-r,a=e-n,u=Math.sqrt(o*o+a*a);return u>=i-s&&u<=i+s};class u0{constructor(e=0,r=0,n=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s}getBounds(e){return e=e||new ke,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new u0(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}strokeContains(e,r,n){const{x:i,y:s,width:o,height:a,radius:u}=this,l=n/2,c=i+u,d=s+u,h=o-u*2,f=a-u*2,p=i+o,m=s+a;return(e>=i-l&&e<=i+l||e>=p-l&&e<=p+l)&&r>=d&&r<=d+f||(r>=s-l&&r<=s+l||r>=m-l&&r<=m+l)&&e>=c&&e<=c+h?!0:e<c&&r<d&&Rf(e,r,c,d,u,l)||e>p-u&&r<d&&Rf(e,r,p-u,d,u,l)||e>p-u&&r>m-u&&Rf(e,r,p-u,m-u,u,l)||e<c&&r>m-u&&Rf(e,r,c,m-u,u,l)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var Te=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Te||{});class wn extends un{constructor(e){let{data:r,size:n}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=tt("buffer"),this._resourceType="buffer",this._resourceId=tt("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n=n??(r==null?void 0:r.byteLength);const a=!!r;this.descriptor={size:n,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(e){e?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const i=this._data;if(this._data=e,i.length!==e.length){!this.shrinkToFit&&e.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=tt("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function E2(t,e){if(!(t instanceof wn)){let r=e?Te.INDEX:Te.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=Te.INDEX|Te.COPY_DST):(t=new Float32Array(t),r=Te.VERTEX|Te.COPY_DST)),t=new wn({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function g4(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const i=n.buffer.data;let s=1/0,o=1/0,a=-1/0,u=-1/0;const l=i.BYTES_PER_ELEMENT,c=(n.offset||0)/l,d=(n.stride||2*4)/l;for(let h=c;h<i.length;h+=d){const f=i[h],p=i[h+1];f>a&&(a=f),p>u&&(u=p),f<s&&(s=f),p<o&&(o=p)}return r.minX=s,r.minY=o,r.maxX=a,r.maxY=u,r}function bq(t){return(t instanceof wn||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=E2(t.buffer,!1),t}class Il extends un{constructor(e){const{attributes:r,indexBuffer:n,topology:i}=e;super(),this.uid=tt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new dr,this._boundsDirty=!0,this.attributes=r,this.buffers=[],this.instanceCount=e.instanceCount||1;for(const s in r){const o=r[s]=bq(r[s]);this.buffers.indexOf(o.buffer)===-1&&(this.buffers.push(o.buffer),o.buffer.on("update",this.onBufferUpdate,this),o.buffer.on("change",this.onBufferUpdate,this))}n&&(this.indexBuffer=E2(n,!0),this.buffers.push(this.indexBuffer)),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,g4(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Sq=new Float32Array(1),wq=new Uint32Array(1);class T2 extends Il{constructor(){const r=new wn({data:Sq,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),n=new wn({data:wq,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:i,offset:0,location:1},aUV:{buffer:r,format:"float32x2",stride:i,offset:2*4,location:3},aColor:{buffer:r,format:"unorm8x4",stride:i,offset:4*4,location:0},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:i,offset:5*4,location:2}},indexBuffer:n})}}let Mf=null;function Ii(){if(Mf)return Mf;const t=g2();return Mf=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Mf}const _4={};function l0(t,e){let r=0;for(let n=0;n<e;n++)r=r*31+t[n].uid>>>0;return _4[r]||Eq(t,r)}let K_=0;function Eq(t,e){const r={};let n=0;K_||(K_=Ii());for(let s=0;s<K_;s++){const o=s<t.length?t[s]:X.EMPTY.source;r[n++]=o.source,r[n++]=o.style}const i=new rs(r);return _4[e]=i,i}class cx{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function gm(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const s=t.byteLength-r*8;if(s>0){const o=new Uint8Array(t,r*8,s);new Uint8Array(e,r*8,s).set(o)}}const y4={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Ht=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",t[t.NONE=4]="NONE",t))(Ht||{});function dx(t,e){return e.alphaMode==="no-premultiply-alpha"&&y4[t]||t}class hx{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class fx{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let dc=0;const v4=class x4{constructor(e={}){this.uid=tt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,e={...x4.defaultOptions,...e};const{vertexSize:r,indexSize:n}=e;this.attributeBuffer=new cx(r*this._vertexSize*4),this.indexBuffer=new Uint16Array(n),this._maxTextures=Ii()}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e.indexStart=this.indexSize,e.location=this.attributeSize,e.batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.vertexSize*this._vertexSize}checkAndUpdateTexture(e,r){const n=e.batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e.textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0,e.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,e.location,e.textureId)}break(e){const r=this._elements;let n=this._textureBatchPool[this._textureBatchPoolIndex++]||new hx;if(n.clear(),!r[this.elementStart])return;const i=r[this.elementStart];let s=dx(i.blendMode,i.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const o=this.attributeBuffer.float32View,a=this.attributeBuffer.uint32View,u=this.indexBuffer;let l=this._batchIndexSize,c=this._batchIndexStart,d="startBatch",h=this._batchPool[this._batchPoolIndex++]||new fx;const f=this._maxTextures;for(let p=this.elementStart;p<this.elementSize;++p){const m=r[p];r[p]=null;const _=m.texture._source,v=dx(m.blendMode,_),y=s!==v;if(_._batchTick===dc&&!y){m.textureId=_._textureBindLocation,l+=m.indexSize,m.packAttributes(o,a,m.location,m.textureId),m.packIndex(u,m.indexStart,m.location/this._vertexSize),m.batch=h;continue}_._batchTick=dc,(n.count>=f||y)&&(this._finishBatch(h,c,l-c,n,s,e,d),d="renderBatch",c=l,s=v,n=this._textureBatchPool[this._textureBatchPoolIndex++]||new hx,n.clear(),h=this._batchPool[this._batchPoolIndex++]||new fx,++dc),m.textureId=_._textureBindLocation=n.count,n.ids[_.uid]=n.count,n.textures[n.count++]=_,m.batch=h,l+=m.indexSize,m.packAttributes(o,a,m.location,m.textureId),m.packIndex(u,m.indexStart,m.location/this._vertexSize)}n.count>0&&(this._finishBatch(h,c,l-c,n,s,e,d),c=l,++dc),this.elementStart=this.elementSize,this._batchIndexStart=c,this._batchIndexSize=l}_finishBatch(e,r,n,i,s,o,a){e.gpuBindGroup=null,e.action=a,e.batcher=this,e.textures=i,e.blendMode=s,e.start=r,e.size=n,++dc,o.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new cx(r);gm(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let s=0;s<r.length;s++)i[s]=r[s];else gm(r.buffer,i.buffer);this.indexBuffer=i}destroy(){for(let e=0;e<this.batches.length;e++)this.batches[e].destroy();this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};v4.defaultOptions={vertexSize:4,indexSize:6};let C2=v4;function P2(t,e,r,n,i,s,o,a=null){let u=0;r*=e,i*=s;const l=a.a,c=a.b,d=a.c,h=a.d,f=a.tx,p=a.ty;for(;u<o;){const m=t[r],g=t[r+1];n[i]=l*m+d*g+f,n[i+1]=c*m+h*g+p,i+=s,r+=e,u++}}function A2(t,e,r,n){let i=0;for(e*=r;i<n;)t[e]=0,t[e+1]=0,e+=r,i++}function c0(t,e,r,n,i){const s=e.a,o=e.b,a=e.c,u=e.d,l=e.tx,c=e.ty;r=r||0,n=n||2,i=i||t.length/n-r;let d=r*n;for(let h=0;h<i;h++){const f=t[d],p=t[d+1];t[d]=s*f+a*p+l,t[d+1]=o*f+u*p+c,d+=n}}function b4(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,a=e&255,u=r*s/255,l=n*o/255,c=i*a/255;return(u<<16)+(l<<8)+c}class d0{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(e,r,n){const i=this.geometryData.indices;for(let s=0;s<this.indexSize;s++)e[r++]=i[s+this.indexOffset]+n-this.vertexOffset}packAttributes(e,r,n,i){const s=this.geometryData,o=this.renderable,a=s.vertices,u=s.uvs,l=this.vertexOffset*2,c=(this.vertexOffset+this.vertexSize)*2,d=this.color,h=d>>16|d&65280|(d&255)<<16;if(this.applyTransform){const f=b4(h,o.groupColor)+(this.alpha*o.groupAlpha*255<<24),p=o.groupTransform,m=i<<16|this.roundPixels&65535,g=p.a,_=p.b,v=p.c,y=p.d,x=p.tx,S=p.ty;for(let w=l;w<c;w+=2){const b=a[w],T=a[w+1];e[n]=g*b+v*T+x,e[n+1]=_*b+y*T+S,e[n+2]=u[w],e[n+3]=u[w+1],r[n+4]=f,r[n+5]=m,n+=6}}else{const f=h+(this.alpha*255<<24);for(let p=l;p<c;p+=2)e[n]=a[p],e[n+1]=a[p+1],e[n+2]=u[p],e[n+3]=u[p+1],r[n+4]=f,r[n+5]=i<<16,n+=6}}get vertSize(){return this.vertexSize}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.vertexOffset=this.vertexOffset,e.vertexSize=this.vertexSize,e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const ya={build(t,e){let r,n,i,s,o,a;if(t.type==="circle"){const x=t;r=x.x,n=x.y,o=a=x.radius,i=s=0}else if(t.type==="ellipse"){const x=t;r=x.x,n=x.y,o=x.halfWidth,a=x.halfHeight,i=s=0}else{const x=t,S=x.width/2,w=x.height/2;r=x.x+S,n=x.y+w,o=a=Math.max(0,Math.min(x.radius,Math.min(S,w))),i=S-o,s=w-a}if(!(o>=0&&a>=0&&i>=0&&s>=0))return e;const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(l===0)return e;if(u===0)return e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s,e;let c=0,d=u*4+(i?2:0)+2,h=d,f=l,p=i+o,m=s,g=r+p,_=r-p,v=n+m;if(e[c++]=g,e[c++]=v,e[--d]=v,e[--d]=_,s){const x=n-m;e[h++]=_,e[h++]=x,e[--f]=x,e[--f]=g}for(let x=1;x<u;x++){const S=Math.PI/2*(x/u),w=i+Math.cos(S)*o,b=s+Math.sin(S)*a,T=r+w,E=r-w,P=n+b,B=n-b;e[c++]=T,e[c++]=P,e[--d]=P,e[--d]=E,e[h++]=E,e[h++]=B,e[--f]=B,e[--f]=T}p=i,m=s+a,g=r+p,_=r-p,v=n+m;const y=n-m;return e[c++]=g,e[c++]=v,e[--f]=y,e[--f]=g,i&&(e[c++]=_,e[c++]=v,e[--f]=y,e[--f]=_),e},triangulate(t,e,r,n,i,s){if(t.length===0)return;let o=0,a=0;for(let c=0;c<t.length;c+=2)o+=t[c],a+=t[c+1];o/=t.length/2,a/=t.length/2;let u=n;e[u*r]=o,e[u*r+1]=a;const l=u++;for(let c=0;c<t.length;c+=2)e[u*r]=t[c],e[u*r+1]=t[c+1],c>0&&(i[s++]=u,i[s++]=l,i[s++]=u-1),u++;i[s++]=l+1,i[s++]=l,i[s++]=u-1}},S4=1e-4,px=1e-4;function w4(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,i=t[e-2],s=t[e-1];n<e;n+=2){const o=t[n],a=t[n+1];r+=(o-i)*(a+s),i=o,s=a}return r<0?-1:1}function c3(t,e,r,n,i,s,o,a){const u=t-r*i,l=e-n*i,c=t+r*s,d=e+n*s;let h,f;o?(h=n,f=-r):(h=-n,f=r);const p=u+h,m=l+f,g=c+h,_=d+f;return a.push(p,m),a.push(g,_),2}function Wo(t,e,r,n,i,s,o,a){const u=r-t,l=n-e;let c=Math.atan2(u,l),d=Math.atan2(i-t,s-e);a&&c<d?c+=Math.PI*2:!a&&c>d&&(d+=Math.PI*2);let h=c;const f=d-c,p=Math.abs(f),m=Math.sqrt(u*u+l*l),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,_=f/g;if(h+=_,a){o.push(t,e),o.push(r,n);for(let v=1,y=h;v<g;v++,y+=_)o.push(t,e),o.push(t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(let v=1,y=h;v<g;v++,y+=_)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m),o.push(t,e);o.push(i,s),o.push(t,e)}return g*2}function E4(t,e,r,n,i,s,o,a,u){const l=S4;if(t.length===0)return;const c=e;let d=c.alignment;if(e.alignment!==.5){let V=w4(t);r&&(V*=-1),d=(d-.5)*V+.5}const h=new Ie(t[0],t[1]),f=new Ie(t[t.length-2],t[t.length-1]),p=n,m=Math.abs(h.x-f.x)<l&&Math.abs(h.y-f.y)<l;if(p){t=t.slice(),m&&(t.pop(),t.pop(),f.set(t[t.length-2],t[t.length-1]));const V=(h.x+f.x)*.5,be=(f.y+h.y)*.5;t.unshift(V,be),t.push(V,be)}const g=i,_=t.length/2;let v=t.length;const y=g.length/2,x=c.width/2,S=x*x,w=c.miterLimit*c.miterLimit;let b=t[0],T=t[1],E=t[2],P=t[3],B=0,L=0,O=-(T-P),k=b-E,G=0,U=0,H=Math.sqrt(O*O+k*k);O/=H,k/=H,O*=x,k*=x;const F=d,N=(1-F)*2,$=F*2;p||(c.cap==="round"?v+=Wo(b-O*(N-$)*.5,T-k*(N-$)*.5,b-O*N,T-k*N,b+O*$,T+k*$,g,!0)+2:c.cap==="square"&&(v+=c3(b,T,O,k,N,$,!0,g))),g.push(b-O*N,T-k*N),g.push(b+O*$,T+k*$);for(let V=1;V<_-1;++V){b=t[(V-1)*2],T=t[(V-1)*2+1],E=t[V*2],P=t[V*2+1],B=t[(V+1)*2],L=t[(V+1)*2+1],O=-(T-P),k=b-E,H=Math.sqrt(O*O+k*k),O/=H,k/=H,O*=x,k*=x,G=-(P-L),U=E-B,H=Math.sqrt(G*G+U*U),G/=H,U/=H,G*=x,U*=x;const be=E-b,re=T-P,ae=E-B,_e=L-P,Ge=be*ae+re*_e,Q=re*ae-_e*be,fe=Q<0;if(Math.abs(Q)<.001*Math.abs(Ge)){g.push(E-O*N,P-k*N),g.push(E+O*$,P+k*$),Ge>=0&&(c.join==="round"?v+=Wo(E,P,E-O*N,P-k*N,E-G*N,P-U*N,g,!1)+4:v+=2,g.push(E-G*$,P-U*$),g.push(E+G*N,P+U*N));continue}const rt=(-O+b)*(-k+P)-(-O+E)*(-k+T),wt=(-G+B)*(-U+P)-(-G+E)*(-U+L),Oe=(be*wt-ae*rt)/Q,Nt=(_e*rt-re*wt)/Q,Tr=(Oe-E)*(Oe-E)+(Nt-P)*(Nt-P),pt=E+(Oe-E)*N,nt=P+(Nt-P)*N,hr=E-(Oe-E)*$,Gt=P-(Nt-P)*$,Li=Math.min(be*be+re*re,ae*ae+_e*_e),kt=fe?N:$,Or=Li+kt*kt*S;Tr<=Or?c.join==="bevel"||Tr/S>w?(fe?(g.push(pt,nt),g.push(E+O*$,P+k*$),g.push(pt,nt),g.push(E+G*$,P+U*$)):(g.push(E-O*N,P-k*N),g.push(hr,Gt),g.push(E-G*N,P-U*N),g.push(hr,Gt)),v+=2):c.join==="round"?fe?(g.push(pt,nt),g.push(E+O*$,P+k*$),v+=Wo(E,P,E+O*$,P+k*$,E+G*$,P+U*$,g,!0)+4,g.push(pt,nt),g.push(E+G*$,P+U*$)):(g.push(E-O*N,P-k*N),g.push(hr,Gt),v+=Wo(E,P,E-O*N,P-k*N,E-G*N,P-U*N,g,!1)+4,g.push(E-G*N,P-U*N),g.push(hr,Gt)):(g.push(pt,nt),g.push(hr,Gt)):(g.push(E-O*N,P-k*N),g.push(E+O*$,P+k*$),c.join==="round"?fe?v+=Wo(E,P,E+O*$,P+k*$,E+G*$,P+U*$,g,!0)+2:v+=Wo(E,P,E-O*N,P-k*N,E-G*N,P-U*N,g,!1)+2:c.join==="miter"&&Tr/S<=w&&(fe?(g.push(hr,Gt),g.push(hr,Gt)):(g.push(pt,nt),g.push(pt,nt)),v+=2),g.push(E-G*N,P-U*N),g.push(E+G*$,P+U*$),v+=2)}b=t[(_-2)*2],T=t[(_-2)*2+1],E=t[(_-1)*2],P=t[(_-1)*2+1],O=-(T-P),k=b-E,H=Math.sqrt(O*O+k*k),O/=H,k/=H,O*=x,k*=x,g.push(E-O*N,P-k*N),g.push(E+O*$,P+k*$),p||(c.cap==="round"?v+=Wo(E-O*(N-$)*.5,P-k*(N-$)*.5,E-O*N,P-k*N,E+O*$,P+k*$,g,!1)+2:c.cap==="square"&&(v+=c3(E,P,O,k,N,$,!1,g)));const oe=px*px;for(let V=y;V<v+y-2;++V)b=g[V*2],T=g[V*2+1],E=g[(V+1)*2],P=g[(V+1)*2+1],B=g[(V+2)*2],L=g[(V+2)*2+1],!(Math.abs(b*(P-L)+E*(L-T)+B*(T-P))<oe)&&a.push(V,V+1,V+2)}function R2(t,e,r,n,i,s,o){const a=a4(t,e,2);if(!a)return;for(let l=0;l<a.length;l+=3)s[o++]=a[l]+i,s[o++]=a[l+1]+i,s[o++]=a[l+2]+i;let u=i*n;for(let l=0;l<t.length;l+=2)r[u]=t[l],r[u+1]=t[l+1],u+=n}const Tq=[],M2={build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return e},triangulate(t,e,r,n,i,s){R2(t,Tq,e,r,n,i,s)}},B2={build(t,e){const r=t,n=r.x,i=r.y,s=r.width,o=r.height;return s>=0&&o>=0&&(e[0]=n,e[1]=i,e[2]=n+s,e[3]=i,e[4]=n+s,e[5]=i+o,e[6]=n,e[7]=i+o),e},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},D2={build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},k2={rectangle:B2,polygon:M2,triangle:D2,circle:ya,ellipse:ya,roundedRectangle:ya},Cq=new ke;function T4(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")Pq(s.data,n,r);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,u=s.data.style,l=s.data.hole;o&&l&&d3(l.shapePath,u,null,!0,n,r),d3(a,u,l,o,n,r)}}}function Pq(t,e,r){const{vertices:n,uvs:i,indices:s}=r,o=s.length,a=n.length/2,u=[],l=k2.rectangle,c=Cq,d=t.image;c.x=t.dx,c.y=t.dy,c.width=t.dw,c.height=t.dh;const h=t.transform;l.build(c,u),h&&c0(u,h),l.triangulate(u,n,2,a,s,o);const f=d.uvs;i.push(f.x0,f.y0,f.x1,f.y1,f.x3,f.y3,f.x2,f.y2);const p=Re.get(d0);p.indexOffset=o,p.indexSize=s.length-o,p.vertexOffset=a,p.vertexSize=n.length/2-a,p.color=t.style,p.alpha=t.alpha,p.texture=d,p.geometryData=r,e.push(p)}function d3(t,e,r,n,i,s){const{vertices:o,uvs:a,indices:u}=s,l=t.shapePrimitives.length-1;t.shapePrimitives.forEach(({shape:c,transform:d},h)=>{const f=u.length,p=o.length/2,m=[],g=k2[c.type];if(g.build(c,m),d&&c0(m,d),n){const x=c.closePath??!0;E4(m,e,!1,x,o,2,p,u)}else if(r&&l===h){l!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const x=[],S=m.slice();Aq(r.shapePath).forEach(b=>{x.push(S.length/2),S.push(...b)}),R2(S,x,o,2,p,u,f)}else g.triangulate(m,o,2,p,u,f);const _=a.length/2,v=e.texture;if(v!==X.WHITE){const x=e.matrix;d&&x&&x.append(d.clone().invert()),P2(o,2,p,a,_,2,o.length/2-p,x)}else A2(a,_,2,o.length/2-p);const y=Re.get(d0);y.indexOffset=f,y.indexSize=u.length-f,y.vertexOffset=p,y.vertexSize=o.length/2-p,y.color=e.color,y.alpha=e.alpha,y.texture=v,y.geometryData=s,i.push(y)})}function Aq(t){if(!t)return[];const e=t.shapePrimitives,r=[];for(let n=0;n<e.length;n++){const i=e[n].shape,s=[];k2[i.type].build(i,s),r.push(s)}return r}class C4{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class P4{constructor(){this.geometry=new T2,this.instructions=new l2}init(){this.instructions.reset()}}const O2=class mx{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null)}init(e){mx.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??mx.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),T4(e,r);const n=e.batchMode;e.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"&&(r.isBatchable=r.geometryData.vertices.length<400),e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_returnActiveBatchers(){for(let e=0;e<this._activeBatchers.length;e++)Re.return(this._activeBatchers[e]);this._activeBatchers.length=0}_initContextRenderData(e){const r=Re.get(P4),{batches:n,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let c=0;c<n.length;c++)n[c].applyTransform=!1;const a=Re.get(C2);this._activeBatchers.push(a),a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let c=0;c<n.length;c++){const d=n[c];a.add(d)}a.finish(r.instructions);const u=r.geometry;u.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),u.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const l=a.batches;for(let c=0;c<l.length;c++){const d=l[c];d.bindGroup=l0(d.textures.textures,d.textures.count)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new C4;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(Re.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(n=>{Re.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};O2.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"graphicsContext"};O2.defaultOptions={bezierSmoothness:.5};let I2=O2;const Rq=8,Bf=11920929e-14,Mq=1;function F2(t,e,r,n,i,s,o,a,u,l){const d=Math.min(.99,Math.max(0,l??I2.defaultOptions.bezierSmoothness));let h=(Mq-d)/1;return h*=h,Bq(e,r,n,i,s,o,a,u,t,h),t}function Bq(t,e,r,n,i,s,o,a,u,l){gx(t,e,r,n,i,s,o,a,u,l,0),u.push(o,a)}function gx(t,e,r,n,i,s,o,a,u,l,c){if(c>Rq)return;const d=(t+r)/2,h=(e+n)/2,f=(r+i)/2,p=(n+s)/2,m=(i+o)/2,g=(s+a)/2,_=(d+f)/2,v=(h+p)/2,y=(f+m)/2,x=(p+g)/2,S=(_+y)/2,w=(v+x)/2;if(c>0){let b=o-t,T=a-e;const E=Math.abs((r-o)*T-(n-a)*b),P=Math.abs((i-o)*T-(s-a)*b);if(E>Bf&&P>Bf){if((E+P)*(E+P)<=l*(b*b+T*T)){u.push(S,w);return}}else if(E>Bf){if(E*E<=l*(b*b+T*T)){u.push(S,w);return}}else if(P>Bf){if(P*P<=l*(b*b+T*T)){u.push(S,w);return}}else if(b=S-(t+o)/2,T=w-(e+a)/2,b*b+T*T<=l){u.push(S,w);return}}gx(t,e,d,h,_,v,S,w,u,l,c+1),gx(S,w,y,x,m,g,o,a,u,l,c+1)}const Dq=8,kq=11920929e-14,Oq=1;function A4(t,e,r,n,i,s,o,a){const l=Math.min(.99,Math.max(0,a??I2.defaultOptions.bezierSmoothness));let c=(Oq-l)/1;return c*=c,Iq(e,r,n,i,s,o,t,c),t}function Iq(t,e,r,n,i,s,o,a){_x(o,t,e,r,n,i,s,a,0),o.push(i,s)}function _x(t,e,r,n,i,s,o,a,u){if(u>Dq)return;const l=(e+n)/2,c=(r+i)/2,d=(n+s)/2,h=(i+o)/2,f=(l+d)/2,p=(c+h)/2;let m=s-e,g=o-r;const _=Math.abs((n-s)*g-(i-o)*m);if(_>kq){if(_*_<=a*(m*m+g*g)){t.push(f,p);return}}else if(m=f-(e+s)/2,g=p-(r+o)/2,m*m+g*g<=a){t.push(f,p);return}_x(t,e,r,l,c,f,p,a,u+1),_x(t,f,p,d,h,s,o,a,u+1)}function U2(t,e,r,n,i,s,o,a){let u=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(u=2*Math.PI-u),a=a||Math.max(6,Math.floor(6*Math.pow(n,1/3)*(u/Math.PI))),a=Math.max(a,3);let l=u/a,c=i;l*=o?-1:1;for(let d=0;d<a+1;d++){const h=Math.cos(c),f=Math.sin(c),p=e+h*n,m=r+f*n;t.push(p,m),c+=l}}function R4(t,e,r,n,i,s){const o=t[t.length-2],u=t[t.length-1]-r,l=o-e,c=i-r,d=n-e,h=Math.abs(u*d-l*c);if(h<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const f=u*u+l*l,p=c*c+d*d,m=u*c+l*d,g=s*Math.sqrt(f)/h,_=s*Math.sqrt(p)/h,v=g*m/f,y=_*m/p,x=g*d+_*l,S=g*c+_*u,w=l*(_+v),b=u*(_+v),T=d*(g+y),E=c*(g+y),P=Math.atan2(b-S,w-x),B=Math.atan2(E-S,T-x);U2(t,x+e,S+r,s,P,B,l*c>d*u)}const rd=Math.PI*2,Q_={centerX:0,centerY:0,ang1:0,ang2:0},Z_=({x:t,y:e},r,n,i,s,o,a,u)=>{t*=r,e*=n;const l=i*t-s*e,c=s*t+i*e;return u.x=l+o,u.y=c+a,u};function Fq(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-s*n,y:s+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}const h3=(t,e,r,n)=>{const i=t*n-e*r<0?-1:1;let s=t*r+e*n;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},Uq=(t,e,r,n,i,s,o,a,u,l,c,d,h)=>{const f=Math.pow(i,2),p=Math.pow(s,2),m=Math.pow(c,2),g=Math.pow(d,2);let _=f*p-f*g-p*m;_<0&&(_=0),_/=f*g+p*m,_=Math.sqrt(_)*(o===a?-1:1);const v=_*i/s*d,y=_*-s/i*c,x=l*v-u*y+(t+r)/2,S=u*v+l*y+(e+n)/2,w=(c-v)/i,b=(d-y)/s,T=(-c-v)/i,E=(-d-y)/s,P=h3(1,0,w,b);let B=h3(w,b,T,E);a===0&&B>0&&(B-=rd),a===1&&B<0&&(B+=rd),h.centerX=x,h.centerY=S,h.ang1=P,h.ang2=B};function M4(t,e,r,n,i,s,o,a=0,u=0,l=0){if(s===0||o===0)return;const c=Math.sin(a*rd/360),d=Math.cos(a*rd/360),h=d*(e-n)/2+c*(r-i)/2,f=-c*(e-n)/2+d*(r-i)/2;if(h===0&&f===0)return;s=Math.abs(s),o=Math.abs(o);const p=Math.pow(h,2)/Math.pow(s,2)+Math.pow(f,2)/Math.pow(o,2);p>1&&(s*=Math.sqrt(p),o*=Math.sqrt(p)),Uq(e,r,n,i,s,o,u,l,c,d,h,f,Q_);let{ang1:m,ang2:g}=Q_;const{centerX:_,centerY:v}=Q_;let y=Math.abs(g)/(rd/4);Math.abs(1-y)<1e-7&&(y=1);const x=Math.max(Math.ceil(y),1);g/=x;let S=t[t.length-2],w=t[t.length-1];const b={x:0,y:0};for(let T=0;T<x;T++){const E=Fq(m,g),{x:P,y:B}=Z_(E[0],s,o,d,c,_,v,b),{x:L,y:O}=Z_(E[1],s,o,d,c,_,v,b),{x:k,y:G}=Z_(E[2],s,o,d,c,_,v,b);F2(t,S,w,P,B,L,O,k,G),S=k,w=G,m+=g}}function B4(t,e,r){const n=(o,a)=>{const u=a.x-o.x,l=a.y-o.y,c=Math.sqrt(u*u+l*l),d=u/c,h=l/c;return{len:c,nx:d,ny:h}},i=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],u=a.radius??r;if(u<=0){i(o,a),s=a;continue}const l=e[(o+1)%e.length],c=n(a,s),d=n(a,l);if(c.len<1e-4||d.len<1e-4){i(o,a),s=a;continue}let h=Math.asin(c.nx*d.ny-c.ny*d.nx),f=1,p=!1;c.nx*d.nx-c.ny*-d.ny<0?h<0?h=Math.PI+h:(h=Math.PI-h,f=-1,p=!0):h>0&&(f=-1,p=!0);const m=h/2;let g,_=Math.abs(Math.cos(m)*u/Math.sin(m));_>Math.min(c.len/2,d.len/2)?(_=Math.min(c.len/2,d.len/2),g=Math.abs(_*Math.sin(m)/Math.cos(m))):g=u;const v=a.x+d.nx*_+-d.ny*g*f,y=a.y+d.ny*_+d.nx*g*f,x=Math.atan2(c.ny,c.nx)+Math.PI/2*f,S=Math.atan2(d.ny,d.nx)-Math.PI/2*f;o===0&&t.moveTo(v+Math.cos(x)*g,y+Math.sin(x)*g),t.arc(v,y,g,x,S,p),s=a}}function D4(t,e,r,n){const i=(a,u)=>Math.sqrt((a.x-u.x)**2+(a.y-u.y)**2),s=(a,u,l)=>({x:a.x+(u.x-a.x)*l,y:a.y+(u.y-a.y)*l}),o=e.length;for(let a=0;a<o;a++){const u=e[(a+1)%o],l=u.radius??r;if(l<=0){a===0?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y);continue}const c=e[a],d=e[(a+2)%o],h=i(c,u);let f;if(h<1e-4)f=u;else{const g=Math.min(h/2,l);f=s(u,c,g/h)}const p=i(d,u);let m;if(p<1e-4)m=u;else{const g=Math.min(p/2,l);m=s(u,d,g/p)}a===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y),t.quadraticCurveTo(u.x,u.y,m.x,m.y,n)}}const Lq=new ke;class k4{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new dr,this._graphicsPath2D=e}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}arc(e,r,n,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return U2(a,e,r,n,i,s,o),this}arcTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly.points;return R4(o,e,r,n,i,s),this}arcToSvg(e,r,n,i,s,o,a){const u=this._currentPoly.points;return M4(u,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o,a){this._ensurePoly();const u=this._currentPoly;return F2(this._currentPoly.points,u.lastX,u.lastY,e,r,n,i,s,o,a),this}quadraticCurveTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly;return A4(this._currentPoly.points,o.lastX,o.lastY,e,r,n,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));for(let n=0;n<e.instructions.length;n++){const i=e.instructions[n];this[i.action](...i.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,i,s){return this.drawShape(new ke(e,r,n,i),s),this}circle(e,r,n,i){return this.drawShape(new o0(e,r,n),i),this}poly(e,r,n){const i=new zu(e);return i.closePath=r,this.drawShape(i,n),this}regularPoly(e,r,n,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,u=Math.PI*2/i,l=[];for(let c=0;c<i;c++){const d=c*u+a;l.push(e+n*Math.cos(d),r+n*Math.sin(d))}return this.poly(l,!0,o),this}roundPoly(e,r,n,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,r,n,i,o);const u=n*Math.sin(Math.PI/i)-.001;s=Math.min(s,u);const l=-1*Math.PI/2+o,c=Math.PI*2/i,d=(i-2)*Math.PI/i/2;for(let h=0;h<i;h++){const f=h*c+l,p=e+n*Math.cos(f),m=r+n*Math.sin(f),g=f+Math.PI+d,_=f-Math.PI-d,v=p+s*Math.cos(g),y=m+s*Math.sin(g),x=p+s*Math.cos(_),S=m+s*Math.sin(_);h===0?this.moveTo(v,y):this.lineTo(v,y),this.quadraticCurveTo(p,m,x,S,a)}return this.closePath()}roundShape(e,r,n=!1,i){return e.length<3?this:(n?D4(this,e,r,i):B4(this,e,r),this.closePath())}filletRect(e,r,n,i,s){if(s===0)return this.rect(e,r,n,i);const o=Math.min(n,i)/2,a=Math.min(o,Math.max(-o,s)),u=e+n,l=r+i,c=a<0?-a:0,d=Math.abs(a);return this.moveTo(e,r+d).arcTo(e+c,r+c,e+d,r,d).lineTo(u-d,r).arcTo(u-c,r+c,u,r+d,d).lineTo(u,l-d).arcTo(u-c,l-c,e+n-d,l,d).lineTo(e+d,l).arcTo(e+c,l-c,e,l-d,d).closePath()}chamferRect(e,r,n,i,s,o){if(s<=0)return this.rect(e,r,n,i);const a=Math.min(s,Math.min(n,i)/2),u=e+n,l=r+i,c=[e+a,r,u-a,r,u,r+a,u,l-a,u-a,l,e+a,l,e,l-a,e,r+a];for(let d=c.length-1;d>=2;d-=2)c[d]===c[d-2]&&c[d-1]===c[d-3]&&c.splice(d-1,2);return this.poly(c,!0,o)}ellipse(e,r,n,i,s){return this.drawShape(new a0(e,r,n,i),s),this}roundRect(e,r,n,i,s,o){return this.drawShape(new u0(e,r,n,i,s),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new zu,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new zu,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,i=r.shape.y;if(!r.transform.isIdentity()){const s=r.transform,o=n;n=s.a*n+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const i=r[n],s=i.shape.getBounds(Lq);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class Ao{constructor(e){this.instructions=[],this.uid=tt("graphicsPath"),this._dirty=!0,typeof e=="string"?m4(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new k4(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(Ie.shared);let u=0,l=0;if(!o||o.action!=="bezierCurveTo")u=a.x,l=a.y;else{u=o.data[2],l=o.data[3];const c=a.x,d=a.y;u=c+(c-u),l=d+(d-l)}return this.instructions.push({action:"bezierCurveTo",data:[u,l,e,r,n,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(Ie.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const u=s.x,l=s.y;o=u+(u-o),a=l+(l-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,r,n]}),this._dirty=!0,this}rect(e,r,n,i,s){return this.instructions.push({action:"rect",data:[e,r,n,i,s]}),this._dirty=!0,this}circle(e,r,n,i){return this.instructions.push({action:"circle",data:[e,r,n,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,i,s,o,a){s=s||i/2;const u=-1*Math.PI/2+o,l=n*2,c=Math.PI*2/l,d=[];for(let h=0;h<l;h++){const f=h%2?s:i,p=h*c+u;d.push(e+f*Math.cos(p),r+f*Math.sin(p))}return this.poly(d,!0,a),this}clone(e=!1){const r=new Ao;if(!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];r.instructions.push({action:i.action,data:i.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let u=0,l=0,c=0,d=0,h=0,f=0,p=0,m=0;for(let g=0;g<this.instructions.length;g++){const _=this.instructions[g],v=_.data;switch(_.action){case"moveTo":case"lineTo":u=v[0],l=v[1],v[0]=r*u+i*l+o,v[1]=n*u+s*l+a;break;case"bezierCurveTo":c=v[0],d=v[1],h=v[2],f=v[3],u=v[4],l=v[5],v[0]=r*c+i*d+o,v[1]=n*c+s*d+a,v[2]=r*h+i*f+o,v[3]=n*h+s*f+a,v[4]=r*u+i*l+o,v[5]=n*u+s*l+a;break;case"quadraticCurveTo":c=v[0],d=v[1],u=v[2],l=v[3],v[0]=r*c+i*d+o,v[1]=n*c+s*d+a,v[2]=r*u+i*l+o,v[3]=n*u+s*l+a;break;case"arcToSvg":u=v[5],l=v[6],p=v[0],m=v[1],v[0]=r*p+i*m,v[1]=n*p+s*m,v[5]=r*u+i*l+o,v[6]=n*u+s*l+a;break;case"circle":v[4]=hc(v[3],e);break;case"rect":v[4]=hc(v[4],e);break;case"ellipse":v[8]=hc(v[8],e);break;case"roundRect":v[5]=hc(v[5],e);break;case"addPath":v[0].transform(e);break;case"poly":v[2]=hc(v[2],e);break;default:pe("unknown transform action",_.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function hc(t,e){return t?t.prepend(e):e.clone()}function O4(t,e){if(typeof t=="string"){const n=document.createElement("div");n.innerHTML=t.trim(),t=n.querySelector("svg")}const r={context:e,path:new Ao};return I4(t,r,null,null),e}function I4(t,e,r,n){const i=t.children,{fillStyle:s,strokeStyle:o}=Nq(t);s&&r?r={...r,...s}:s&&(r=s),o&&n?n={...n,...o}:o&&(n=o),e.context.fillStyle=r,e.context.strokeStyle=n;let a,u,l,c,d,h,f,p,m,g,_,v,y,x,S,w,b;switch(t.nodeName.toLowerCase()){case"path":x=t.getAttribute("d"),S=new Ao(x),e.context.path(S),r&&e.context.fill(),n&&e.context.stroke();break;case"circle":f=Kt(t,"cx",0),p=Kt(t,"cy",0),m=Kt(t,"r",0),e.context.ellipse(f,p,m,m),r&&e.context.fill(),n&&e.context.stroke();break;case"rect":a=Kt(t,"x",0),u=Kt(t,"y",0),w=Kt(t,"width",0),b=Kt(t,"height",0),g=Kt(t,"rx",0),_=Kt(t,"ry",0),g||_?e.context.roundRect(a,u,w,b,g||_):e.context.rect(a,u,w,b),r&&e.context.fill(),n&&e.context.stroke();break;case"ellipse":f=Kt(t,"cx",0),p=Kt(t,"cy",0),g=Kt(t,"rx",0),_=Kt(t,"ry",0),e.context.beginPath(),e.context.ellipse(f,p,g,_),r&&e.context.fill(),n&&e.context.stroke();break;case"line":l=Kt(t,"x1",0),c=Kt(t,"y1",0),d=Kt(t,"x2",0),h=Kt(t,"y2",0),e.context.beginPath(),e.context.moveTo(l,c),e.context.lineTo(d,h),n&&e.context.stroke();break;case"polygon":y=t.getAttribute("points"),v=y.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(v,!0),r&&e.context.fill(),n&&e.context.stroke();break;case"polyline":y=t.getAttribute("points"),v=y.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(v,!1),n&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}for(let T=0;T<i.length;T++)I4(i[T],e,r,n)}function Kt(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function Nq(t){const e=t.getAttribute("style"),r={},n={};let i=!1,s=!1;if(e){const o=e.split(";");for(let a=0;a<o.length;a++){const u=o[a],[l,c]=u.split(":");switch(l){case"stroke":c!=="none"&&(r.color=Me.shared.setValue(c).toNumber(),s=!0);break;case"stroke-width":r.width=Number(c);break;case"fill":c!=="none"&&(i=!0,n.color=Me.shared.setValue(c).toNumber());break;case"fill-opacity":n.alpha=Number(c);break;case"stroke-opacity":r.alpha=Number(c);break;case"opacity":n.alpha=Number(c),r.alpha=Number(c);break}}}else{const o=t.getAttribute("stroke");o&&o!=="none"&&(s=!0,r.color=Me.shared.setValue(o).toNumber(),r.width=Kt(t,"stroke-width",1));const a=t.getAttribute("fill");a&&a!=="none"&&(i=!0,n.color=Me.shared.setValue(a).toNumber())}return{strokeStyle:s?r:null,fillStyle:i?n:null}}function Gq(t){return Me.isColorLike(t)}function f3(t){return t instanceof Rh}function p3(t){return t instanceof yl}function zq(t,e,r){const n=Me.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=X.WHITE,{...r,...t}}function m3(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function g3(t,e,r){return e.buildLinearGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function $q(t,e){var i;const r={...e,...t};if(r.texture){if(r.texture!==X.WHITE){const o=((i=r.matrix)==null?void 0:i.invert())||new te;o.scale(1/r.texture.frame.width,1/r.texture.frame.height),r.matrix=o}const s=r.texture.source.style;s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat")}const n=Me.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r.matrix=r.matrix?r.matrix.clone():null,r}function oo(t,e){if(t==null)return null;const r={},n=t;return Gq(t)?zq(r,t,e):f3(t)?m3(r,t,e):p3(t)?g3(r,t,e):n.fill&&f3(n.fill)?m3(n,n.fill,e):n.fill&&p3(n.fill)?g3(n,n.fill,e):$q(n,e)}function Qd(t,e){const{width:r,alignment:n,miterLimit:i,cap:s,join:o,...a}=e,u=oo(t,a);return u?{width:r,alignment:n,miterLimit:i,cap:s,join:o,...u}:null}const Hq=new Ie,_3=new te,L2=class zi extends un{constructor(){super(...arguments),this.uid=tt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Ao,this._transform=new te,this._fillStyle={...zi.defaultFillStyle},this._strokeStyle={...zi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new dr,this._boundsDirty=!0}clone(){const e=new zi;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=oo(e,zi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Qd(e,zi.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=oo(e,zi.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=oo(e,zi.defaultStrokeStyle),this}texture(e,r,n,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Me.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Ao,this}fill(e,r){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(le(de,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=oo(e,zi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(Ie.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=Qd(e,zi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,n,i,s,o),this}arcTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}arcToSvg(e,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.arcToSvg(e,r,n,i,s,u.a*o+u.c*a+u.tx,u.b*o+u.d*a+u.ty),this}bezierCurveTo(e,r,n,i,s,o,a){this._tick++;const u=this._transform;return this._activePath.bezierCurveTo(u.a*e+u.c*r+u.tx,u.b*e+u.d*r+u.ty,u.a*n+u.c*i+u.tx,u.b*n+u.d*i+u.ty,u.a*s+u.c*o+u.tx,u.b*s+u.d*o+u.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,i){return this._tick++,this._activePath.ellipse(e,r,n,i,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,i=this._activePath.instructions,s=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}rect(e,r,n,i){return this._tick++,this._activePath.rect(e,r,n,i,this._transform.clone()),this}roundRect(e,r,n,i,s){return this._tick++,this._activePath.roundRect(e,r,n,i,s,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,i,s,o),this}roundPoly(e,r,n,i,s,o){return this._tick++,this._activePath.roundPoly(e,r,n,i,s,o),this}roundShape(e,r,n,i){return this._tick++,this._activePath.roundShape(e,r,n,i),this}filletRect(e,r,n,i,s){return this._tick++,this._activePath.filletRect(e,r,n,i,s),this}chamferRect(e,r,n,i,s,o){return this._tick++,this._activePath.chamferRect(e,r,n,i,s,o),this}star(e,r,n,i,s=0,o=0){return this._tick++,this._activePath.star(e,r,n,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,O4(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,i,s,o){return e instanceof te?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,i,s,o),this)}transform(e,r,n,i,s,o){return e instanceof te?(this._transform.append(e),this):(_3.set(e,r,n,i,s,o),this._transform.append(_3),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],i=n.action;if(i==="fill"){const s=n.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=n.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=n.data,o=s.style.width/2,a=s.path.bounds;e.addFrame(a.minX-o,a.minY-o,a.maxX+o,a.maxY+o)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let s=0;s<r.length;s++){const o=r[s],a=o.data,u=a.path;if(!o.action||!u)continue;const l=a.style,c=u.shapePath.shapePrimitives;for(let d=0;d<c.length;d++){const h=c[d].shape;if(!l||!h)continue;const f=c[d].transform,p=f?f.applyInverse(e,Hq):e;o.action==="fill"?n=h.contains(p.x,p.y):n=h.strokeContains(p.x,p.y,l.width);const m=a.hole;if(m){const g=(i=m.shapePath)==null?void 0:i.shapePrimitives;if(g)for(let _=0;_<g.length;_++)g[_].shape.contains(p.x,p.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};L2.defaultFillStyle={color:16777215,alpha:1,texture:X.WHITE,matrix:null,fill:null};L2.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:X.WHITE,matrix:null,fill:null};let Ar=L2;const y3=["align","breakWords","cssOverrides","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth"];function N2(t){const e=[];let r=0;for(let n=0;n<y3.length;n++){const i=`_${y3[n]}`;e[r++]=t[i]}return r=F4(t._fill,e,r),r=jq(t._stroke,e,r),r=Wq(t.dropShadow,e,r),e.join("-")}function F4(t,e,r){var n;return t&&(e[r++]=t.color,e[r++]=t.alpha,e[r++]=(n=t.fill)==null?void 0:n.styleKey),r}function jq(t,e,r){return t&&(r=F4(t,e,r),e[r++]=t.width,e[r++]=t.alignment,e[r++]=t.cap,e[r++]=t.join,e[r++]=t.miterLimit),r}function Wq(t,e,r){return t&&(e[r++]=t.alpha,e[r++]=t.angle,e[r++]=t.blur,e[r++]=t.distance,e[r++]=Me.shared.setValue(t.color).toNumber()),r}const G2=class lu extends un{constructor(e={}){super(),Vq(e);const r={...lu.defaultTextStyle,...e};for(const n in r){const i=n;this[i]=r[n]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...lu.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...lu.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...Ar.defaultFillStyle,...e},()=>{this._fill=oo({...this._originalFill},Ar.defaultFillStyle)})),this._fill=oo(e===0?"black":e,Ar.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...Ar.defaultStrokeStyle,...e},()=>{this._stroke=Qd({...this._originalStroke},Ar.defaultStrokeStyle)})),this._stroke=Qd(e,Ar.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=N2(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=lu.defaultTextStyle;for(const r in e)this[r]=e[r]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new lu({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){var n,i,s,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(n=this._fill)!=null&&n.texture&&this._fill.texture.destroy(a),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(a),(s=this._stroke)!=null&&s.texture&&this._stroke.texture.destroy(a),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,r){return new Proxy(e,{set:(n,i,s)=>(n[i]=s,r==null||r(i,s),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Me.isColorLike(e)||e instanceof yl||e instanceof Rh)}};G2.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};G2.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let fi=G2;function Vq(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const r=fi.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??r.alpha,angle:e.dropShadowAngle??r.angle,blur:e.dropShadowBlur??r.blur,color:e.dropShadowColor??r.color,distance:e.dropShadowDistance??r.distance}}if(e.strokeThickness!==void 0){le(de,"strokeThickness is now a part of stroke");const r=e.stroke;let n={};if(Me.isColorLike(r))n.color=r;else if(r instanceof yl||r instanceof Rh)n.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))n=r;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){le(de,"gradient fill is now a fill pattern: `new FillGradient(...)`");let r;t.fontSize==null?t.fontSize=fi.defaultTextStyle.fontSize:typeof t.fontSize=="string"?r=parseInt(t.fontSize,10):r=t.fontSize;const n=new yl(0,0,0,r*1.7),i=e.fillGradientStops.map(s=>Me.shared.setValue(s).toNumber());i.forEach((s,o)=>{const a=o/(i.length-1);n.addColorStop(a,s)}),t.fill={fill:n}}}class U4{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,r){const n=Be.get().createCanvas();n.width=e,n.height=r;const i=n.getContext("2d");return{canvas:n,context:i}}getOptimalCanvasAndContext(e,r,n=1){e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),e=Ba(e),r=Ba(r);const i=(e<<17)+(r<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,r)),s}returnCanvasAndContext(e){const{width:r,height:n}=e.canvas,i=(r<<17)+(n<<1);this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const ns=new U4,Xq=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Zd(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!Xq.includes(i)&&(i=`"${i}"`),r[n]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${r.join(",")}`}const J_={willReadFrequently:!0},Ui=class J{static get experimentalLetterSpacingSupported(){let e=J._experimentalLetterSpacingSupported;if(e!==void 0){const r=Be.get().getCanvasRenderingContext2D().prototype;e=J._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,u,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(e=" ",r,n=J._canvas,i=r.wordWrap){var v;const s=`${e}:${r.styleKey}`;if(J._measurementCache[s])return J._measurementCache[s];const o=Zd(r),a=J.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const u=J.__context;u.font=o;const c=(i?J._wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let h=0;for(let y=0;y<c.length;y++){const x=J._measureText(c[y],r.letterSpacing,u);d[y]=x,h=Math.max(h,x)}const f=((v=r._stroke)==null?void 0:v.width)||0;let p=h+f;r.dropShadow&&(p+=r.dropShadow.distance);const m=r.lineHeight||a.fontSize+f;let g=Math.max(m,a.fontSize+f*2)+(c.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadow.distance),new J(e,r,p,g,c,d,m+r.leading,h,a)}static _measureText(e,r,n){let i=!1;J.experimentalLetterSpacingSupported&&(J.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(J.graphemeSegmenter(e).length-1)*r),s}static _wordWrap(e,r,n=J._canvas){const i=n.getContext("2d",J_);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:c}=r,d=J._collapseSpaces(c),h=J._collapseNewlines(c);let f=!d;const p=r.wordWrapWidth+l,m=J._tokenize(e);for(let g=0;g<m.length;g++){let _=m[g];if(J._isNewline(_)){if(!h){a+=J._addLine(o),f=!d,o="",s=0;continue}_=" "}if(d){const y=J.isBreakingSpace(_),x=J.isBreakingSpace(o[o.length-1]);if(y&&x)continue}const v=J._getFromCache(_,l,u,i);if(v>p)if(o!==""&&(a+=J._addLine(o),o="",s=0),J.canBreakWords(_,r.breakWords)){const y=J.wordWrapSplit(_);for(let x=0;x<y.length;x++){let S=y[x],w=S,b=1;for(;y[x+b];){const E=y[x+b];if(!J.canBreakChars(w,E,_,x,r.breakWords))S+=E;else break;w=E,b++}x+=b-1;const T=J._getFromCache(S,l,u,i);T+s>p&&(a+=J._addLine(o),f=!1,o="",s=0),o+=S,s+=T}}else{o.length>0&&(a+=J._addLine(o),o="",s=0);const y=g===m.length-1;a+=J._addLine(_,!y),f=!1,o="",s=0}else v+s>p&&(f=!1,a+=J._addLine(o),o="",s=0),(o.length>0||!J.isBreakingSpace(_)||f)&&(o+=_,s+=v)}return a+=J._addLine(o,!1),a}static _addLine(e,r=!0){return e=J._trimRight(e),e=r?`${e}
`:e,e}static _getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=J._measureText(e,r,i)+r,n[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!J.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:J._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:J._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(J.isBreakingSpace(s,o)||J._isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return J.graphemeSegmenter(e)}static measureFont(e){if(J._fonts[e])return J._fonts[e];const r=J._context;r.font=e;const n=r.measureText(J.METRICS_STRING+J.BASELINE_SYMBOL),i={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return J._fonts[e]=i,i}static clearMetrics(e=""){e?delete J._fonts[e]:J._fonts={}}static get _canvas(){if(!J.__canvas){let e;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",J_);if(n!=null&&n.measureText)return J.__canvas=r,r;e=Be.get().createCanvas()}catch{e=Be.get().createCanvas()}e.width=e.height=10,J.__canvas=e}return J.__canvas}static get _context(){return J.__context||(J.__context=J._canvas.getContext("2d",J_)),J.__context}};Ui.METRICS_STRING="|ÉqÅ";Ui.BASELINE_SYMBOL="M";Ui.BASELINE_MULTIPLIER=1.4;Ui.HEIGHT_MULTIPLIER=2;Ui.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Ui.experimentalLetterSpacing=!1;Ui._fonts={};Ui._newlines=[10,13];Ui._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Ui._measurementCache={};let Pi=Ui;function Jd(t,e){if(t.texture===X.WHITE&&!t.fill)return Me.shared.setValue(t.color).toHex();if(t.fill){if(t.fill instanceof Rh){const r=t.fill,n=e.createPattern(r.texture.source.resource,"repeat"),i=r.transform.copyTo(te.shared);return i.scale(r.texture.frame.width,r.texture.frame.height),n.setTransform(i),n}else if(t.fill instanceof yl){const r=t.fill;if(r.type==="linear"){const n=e.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach(i=>{n.addColorStop(i.offset,Me.shared.setValue(i.color).toHex())}),n}}}else{const r=e.createPattern(t.texture.source.resource,"repeat"),n=t.matrix.copyTo(te.shared);return n.scale(t.texture.frame.width,t.texture.frame.height),r.setTransform(n),r}return pe("FillStyle not recognised",t),"red"}function z2(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}class yx extends w2{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=4,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const r=e,n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=X.WHITE,n._fill.fill=null);const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const s=Zd(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,this.fontMetrics=Pi.measureFont(s),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){var m,g;const r=z2(e).filter(_=>!this._currentChars.includes(_)).filter((_,v,y)=>y.indexOf(_)===v);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:i,context:s}=n.canvasAndContext,o=n.texture.source;const a=this._style;let u=this._currentX,l=this._currentY;const c=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*c,h=a.fontStyle==="italic"?2:1;let f=0,p=!1;for(let _=0;_<r.length;_++){const v=r[_],y=Pi.measureText(v,a,i,!1);y.lineHeight=y.height;const x=h*y.width*c,S=y.height*c,w=x+d*2,b=S+d*2;if(p=!1,v!==`
`&&v!=="\r"&&v!=="	"&&v!==" "&&(p=!0,f=Math.ceil(Math.max(b,f))),u+w>512&&(l+=f,f=b,u=0,l+f>512)){o.update();const E=this._nextPage();i=E.canvasAndContext.canvas,s=E.canvasAndContext.context,o=E.texture.source,l=0}const T=x/c-(((m=a.dropShadow)==null?void 0:m.distance)??0)-(((g=a._stroke)==null?void 0:g.width)??0);if(this.chars[v]={id:v.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:T,kerning:{}},p){this._drawGlyph(s,y,u+d,l+d,c,a);const E=o.width*c,P=o.height*c,B=new ke(u/E*o.width,l/P*o.height,w/E*o.width,b/P*o.height);this.chars[v].texture=new X({source:o,frame:B}),u+=Math.ceil(w)}}o.update(),this._currentX=u,this._currentY=l,this._skipKerning&&this._applyKerning(r,s)}get pageTextures(){return le(de,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,r){const n=this._measureCache;for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let u=n[s];u||(u=n[s]=r.measureText(s).width);let l=n[a];l||(l=n[a]=r.measureText(a).width);let c=r.measureText(s+a).width,d=c-(u+l);d&&(this.chars[s].kerning[a]=d),c=r.measureText(s+a).width,d=c-(u+l),d&&(this.chars[a].kerning[s]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,r=ns.getOptimalCanvasAndContext(512,512,e);this._setupContext(r.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new X({source:new Ha({resource:r.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload"})}),s={canvasAndContext:r,texture:i};return this.pages[this._currentPageIndex]=s,s}_setupContext(e,r,n){r.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=Zd(r),r.fontSize=this.baseMeasurementFontSize,e.textBaseline=r.textBaseline;const i=r._stroke,s=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=s,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=Jd(i,e)),r._fill&&(e.fillStyle=Jd(r._fill,e)),r.dropShadow){const o=r.dropShadow,a=Me.shared.setValue(o.color).toArray(),u=o.blur*n,l=o.distance*n;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,e.shadowBlur=u,e.shadowOffsetX=Math.cos(o.angle)*l,e.shadowOffsetY=Math.sin(o.angle)*l}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,r,n,i,s,o){const a=r.text,u=r.fontProperties,l=o._stroke,c=((l==null?void 0:l.width)??0)*s,d=n+c/2,h=i-c/2,f=u.descent*s,p=r.lineHeight*s;o.stroke&&c&&e.strokeText(a,d,h+p-f),o._fill&&e.fillText(a,d,h+p-f)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:r,texture:n}=this.pages[e];ns.returnCanvasAndContext(r),n.destroy(!0)}this.pages=null}}function $2(t,e,r){const n={width:0,height:0,offsetY:0,scale:e.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};n.offsetY=r.baseLineOffset;let i=n.lines[0],s=null,o=!0;const a={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=f=>{const p=i.width;for(let m=0;m<a.index;m++){const g=f.positions[m];i.chars.push(f.chars[m]),i.charPositions.push(g+p)}i.width+=f.width,o=!1,a.width=0,a.index=0,a.chars.length=0},l=()=>{let f=i.chars.length-1,p=i.chars[f];for(;p===" ";)i.width-=r.chars[p].xAdvance,p=i.chars[--f];n.width=Math.max(n.width,i.width),i={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,n.lines.push(i),n.height+=r.lineHeight},c=r.baseMeasurementFontSize/e.fontSize,d=e.letterSpacing*c,h=e.wordWrapWidth*c;for(let f=0;f<t.length+1;f++){let p;const m=f===t.length;m||(p=t[f]);const g=r.chars[p]||r.chars[" "];if(/(?:\s)/.test(p)||p==="\r"||p===`
`||m){if(!o&&e.wordWrap&&i.width+a.width-d>h?(l(),u(a),m||i.charPositions.push(0)):(a.start=i.width,u(a),m||i.charPositions.push(0)),p==="\r"||p===`
`)i.width!==0&&l();else if(!m){const x=g.xAdvance+(g.kerning[s]||0)+d;i.width+=x,i.spaceWidth=x,i.spacesIndex.push(i.charPositions.length),i.chars.push(p)}}else{const y=g.kerning[s]||0,x=g.xAdvance+y+d;a.positions[a.index++]=a.width+y,a.chars.push(p),a.width+=x}s=p}return l(),e.align==="center"?Yq(n):e.align==="right"?qq(n):e.align==="justify"&&Kq(n),n}function Yq(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width/2-r.width/2;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function qq(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width-r.width;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function Kq(t){const e=t.width;for(let r=0;r<t.lines.length;r++){const n=t.lines[r];let i=0,s=n.spacesIndex[i++],o=0;const a=n.spacesIndex.length,l=(e-n.width)/a;for(let c=0;c<n.charPositions.length;c++)c===s&&(s=n.spacesIndex[i++],o+=l),n.charPositions[c]+=o}}class Qq{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,r){var o;let n=`${r.fontFamily}-bitmap`,i=!0;if(r._fill.fill&&(n+=r._fill.fill.uid,i=!1),!ze.has(n)){const a=new yx({style:r,overrideFill:i,overrideSize:!0,...this.defaultOptions});a.once("destroy",()=>ze.remove(n)),ze.set(n,a)}const s=ze.get(n);return(o=s.ensureCharacters)==null||o.call(s,e),s}getLayout(e,r){const n=this.getFont(e,r);return $2([...e],r,n)}measureText(e,r){return this.getLayout(e,r)}install(...e){var l,c,d,h;let r=e[0];typeof r=="string"&&(r={name:r,style:e[1],chars:(l=e[2])==null?void 0:l.chars,resolution:(c=e[2])==null?void 0:c.resolution,padding:(d=e[2])==null?void 0:d.padding,skipKerning:(h=e[2])==null?void 0:h.skipKerning},le(de,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=r==null?void 0:r.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const i=r.style,s=i instanceof fi?i:new fi(i),o=s._fill.fill!==null&&s._fill.fill!==void 0,a=new yx({style:s,overrideFill:o,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1}),u=z2(r.chars);return a.ensureCharacters(u.join("")),ze.set(`${n}-bitmap`,a),a.once("destroy",()=>ze.remove(`${n}-bitmap`)),a}uninstall(e){const r=`${e}-bitmap`,n=ze.get(r);n&&(ze.remove(r),n.destroy())}}const eh=new Qq;class H2 extends w2{constructor(e,r){super();const{textures:n,data:i}=e;Object.keys(i.pages).forEach(s=>{const o=i.pages[parseInt(s,10)],a=n[o.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(s=>{const o=i.chars[s],{frame:a,source:u}=n[o.page],l=new ke(o.x+a.x,o.y+a.y,o.width,o.height),c=new X({source:u,frame:l});this.chars[s]={id:s.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:c}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:r}=this.pages[e];r.destroy(!0)}this.pages=null}static install(e){eh.install(e)}static uninstall(e){eh.uninstall(e)}}const yp={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const d in e){const h=e[d].match(/^[a-z]+/gm)[0],f=e[d].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in f){const g=f[m].split("="),_=g[0],v=g[1].replace(/"/gm,""),y=parseFloat(v),x=isNaN(y)?v:y;p[_]=x}r[h].push(p)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=r.info,[s]=r.common,[o]=r.distanceField??[];o&&(n.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),n.fontSize=parseInt(i.size,10),n.fontFamily=i.face,n.lineHeight=parseInt(s.lineHeight,10);const a=r.page;for(let d=0;d<a.length;d++)n.pages.push({id:parseInt(a[d].id,10)||0,file:a[d].file});const u={};n.baseLineOffset=n.lineHeight-parseInt(s.base,10);const l=r.char;for(let d=0;d<l.length;d++){const h=l[d],f=parseInt(h.id,10);let p=h.letter??h.char??String.fromCharCode(f);p==="space"&&(p=" "),u[f]=p,n.chars[p]={id:f,page:parseInt(h.page,10)||0,x:parseInt(h.x,10),y:parseInt(h.y,10),width:parseInt(h.width,10),height:parseInt(h.height,10),xOffset:parseInt(h.xoffset,10),yOffset:parseInt(h.yoffset,10),xAdvance:parseInt(h.xadvance,10),kerning:{}}}const c=r.kerning||[];for(let d=0;d<c.length;d++){const h=parseInt(c[d].first,10),f=parseInt(c[d].second,10),p=parseInt(c[d].amount,10);n.chars[u[f]].kerning[u[h]]=p}return n}},vx={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(r.getAttribute("size"),10),e.fontFamily=r.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let l=0;l<s.length;l++)e.pages.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});const u={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let l=0;l<o.length;l++){const c=o[l],d=parseInt(c.getAttribute("id"),10);let h=c.getAttribute("letter")??c.getAttribute("char")??String.fromCharCode(d);h==="space"&&(h=" "),u[d]=h,e.chars[h]={id:d,page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xOffset:parseInt(c.getAttribute("xoffset"),10),yOffset:parseInt(c.getAttribute("yoffset"),10),xAdvance:parseInt(c.getAttribute("xadvance"),10),kerning:{}}}for(let l=0;l<a.length;l++){const c=parseInt(a[l].getAttribute("first"),10),d=parseInt(a[l].getAttribute("second"),10),h=parseInt(a[l].getAttribute("amount"),10);e.chars[u[d]].kerning[u[c]]=h}return e}},xx={test(t){return typeof t=="string"&&t.includes("<font>")?vx.test(Be.get().parseXML(t)):!1},parse(t){return vx.parse(Be.get().parseXML(t))}},Zq=[".xml",".fnt"],L4={extension:{type:A.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof H2,getCacheableAssets(t,e){const r={};return t.forEach(n=>{r[n]=e,r[`${n}-bitmap`]=e}),r[`${e.fontFamily}-bitmap`]=e,r}},N4={extension:{type:A.LoadParser,priority:In.Normal},name:"loadBitmapFont",test(t){return Zq.includes(nn.extname(t).toLowerCase())},async testParse(t){return yp.test(t)||xx.test(t)},async parse(t,e,r){const n=yp.test(t)?yp.parse(t):xx.parse(t),{src:i}=e,{pages:s}=n,o=[],a=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let d=0;d<s.length;++d){const h=s[d].file;let f=nn.join(nn.dirname(i),h);f=mm(f,i),o.push({src:f,data:a})}const u=await r.load(o),l=o.map(d=>u[d.src]);return new H2({data:n,textures:l},i)},async load(t,e){return await(await Be.get().fetch(t)).text()},async unload(t,e,r){await Promise.all(t.pages.map(n=>r.unload(n.texture.source._sourceOrigin))),t.destroy()}};class G4{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const z4={extension:{type:A.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof X),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};async function j2(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const $4={extension:{type:A.DetectionParser,priority:1},test:async()=>j2("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},v3=["png","jpg","jpeg"],H4={extension:{type:A.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...v3],remove:async t=>t.filter(e=>!v3.includes(e))},Jq="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function h0(t){return Jq?!1:document.createElement("video").canPlayType(t)!==""}const j4={extension:{type:A.DetectionParser,priority:0},test:async()=>h0("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},W4={extension:{type:A.DetectionParser,priority:0},test:async()=>h0("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},V4={extension:{type:A.DetectionParser,priority:0},test:async()=>h0("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},X4={extension:{type:A.DetectionParser,priority:0},test:async()=>j2("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class Y4{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||pe(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,e,r,this))){s=l;break}}if(!s)return pe(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Xd(e),o=Zn(e,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const c=nn.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,l)),i[l.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(d){throw delete this.promiseCache[c],delete i[l.src],new Error(`[Loader.load] Failed to load ${c}.
${d}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const n=Zn(e,i=>({alias:[i],src:i})).map(async i=>{var a,u;const s=nn.toAbsolute(i.src),o=this.promiseCache[s];if(o){const l=await o.promise;delete this.promiseCache[s],await((u=(a=o.parser)==null?void 0:a.unload)==null?void 0:u.call(a,l,i,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(r.name?e[r.name]&&pe(`[Assets] loadParser name conflict "${r.name}"`):pe("[Assets] loadParser should have a name"),{...e,[r.name]:r}),{})}}function ja(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function yi(t,e){const r=t.split("?")[0],n=nn.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const eK=".json",tK="application/json",q4={extension:{type:A.LoadParser,priority:In.Low},name:"loadJson",test(t){return ja(t,tK)||yi(t,eK)},async load(t){return await(await Be.get().fetch(t)).json()}},rK=".txt",nK="text/plain",K4={name:"loadTxt",extension:{type:A.LoadParser,priority:In.Low,name:"loadTxt"},test(t){return ja(t,nK)||yi(t,rK)},async load(t){return await(await Be.get().fetch(t)).text()}},iK=["normal","bold","100","200","300","400","500","600","700","800","900"],sK=[".ttf",".otf",".woff",".woff2"],oK=["font/ttf","font/otf","font/woff","font/woff2"],aK=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Q4(t){const e=nn.extname(t),i=nn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(aK)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const uK=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function lK(t){return uK.test(t)?t:encodeURI(t)}const Z4={extension:{type:A.LoadParser,priority:In.Low},name:"loadWebFont",test(t){return ja(t,oK)||yi(t,sK)},async load(t,e){var n,i,s;const r=Be.get().getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??Q4(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>iK.includes(c)))??["normal"],l=e.data??{};for(let c=0;c<u.length;c++){const d=u[c],h=new FontFace(a,`url(${lK(t)})`,{...l,weight:d});await h.load(),r.add(h),o.push(h)}return ze.set(`${a}-and-url`,{url:t,fontFaces:o}),o.length===1?o[0]:o}return pe("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{ze.remove(e.family),Be.get().getFontFaceSet().delete(e)})}};function f0(t,e=1){var n;const r=(n=Fo.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}function Uo(t,e,r){t.label=r,t._sourceOrigin=r;const n=new X({source:t,label:r}),i=()=>{delete e.promiseCache[r],ze.has(r)&&ze.remove(r)};return n.source.once("destroy",()=>{e.promiseCache[r]&&(pe("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),n.once("destroy",()=>{t.destroyed||(pe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const cK=".svg",dK="image/svg+xml",J4={extension:{type:A.LoadParser,priority:In.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return ja(t,dK)||yi(t,cK)},async load(t,e,r){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?fK(t):hK(t,e,r,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function hK(t,e,r,n){var g,_,v;const s=await(await Be.get().fetch(t)).blob(),o=URL.createObjectURL(s),a=new Image;a.src=o,a.crossOrigin=n,await a.decode(),URL.revokeObjectURL(o);const u=document.createElement("canvas"),l=u.getContext("2d"),c=((g=e.data)==null?void 0:g.resolution)||f0(t),d=((_=e.data)==null?void 0:_.width)??a.width,h=((v=e.data)==null?void 0:v.height)??a.height;u.width=d*c,u.height=h*c,l.drawImage(a,0,0,d*c,h*c);const{parseAsGraphicsContext:f,...p}=e.data,m=new Ha({resource:u,alphaMode:"premultiply-alpha-on-upload",resolution:c,...p});return Uo(m,r,t)}async function fK(t){const r=await(await Be.get().fetch(t)).text(),n=new Ar;return n.svg(r),n}const pK=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let $u=null,bx=class{constructor(){$u||($u=URL.createObjectURL(new Blob([pK],{type:"application/javascript"}))),this.worker=new Worker($u)}};bx.revokeObjectURL=function(){$u&&(URL.revokeObjectURL($u),$u=null)};const mK=`(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Hu=null,eO=class{constructor(){Hu||(Hu=URL.createObjectURL(new Blob([mK],{type:"application/javascript"}))),this.worker=new Worker(Hu)}};eO.revokeObjectURL=function(){Hu&&(URL.revokeObjectURL(Hu),Hu=null)};let x3=0,ey;class gK{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new bx;r.addEventListener("message",n=>{r.terminate(),bx.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){ey===void 0&&(ey=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<ey&&(this._createdWorkers++,e=new eO().worker,e.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this._queue.push({id:e,arguments:r,resolve:i,reject:s})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const r=this._queue.pop(),n=r.id;this._resolveHash[x3]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:x3++,id:n})}}const Sx=new gK,_K=[".jpeg",".jpg",".png",".webp",".avif"],yK=["image/jpeg","image/png","image/webp","image/avif"];async function tO(t){const e=await Be.get().fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const W2={name:"loadTextures",extension:{type:A.LoadParser,priority:In.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ja(t,yK)||yi(t,_K)},async load(t,e,r){var s;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Sx.isImageBitmapSupported()?n=await Sx.loadImageBitmap(t):n=await tO(t):n=await new Promise(o=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?o(n):n.onload=()=>{o(n)}});const i=new Ha({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((s=e.data)==null?void 0:s.resolution)||f0(t),...e.data});return Uo(i,r,t)},unload(t){t.destroy(!0)}},rO=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],vK=rO.map(t=>`video/${t.substring(1)}`);function nO(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=sO(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}function iO(t){return new Promise((e,r)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",i),t.load();function n(){s(),e()}function i(o){s(),r(o)}function s(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",i)}})}function sO(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}const oO={name:"loadVideo",extension:{type:A.LoadParser,name:"loadVideo"},test(t){const e=ja(t,vK),r=yi(t,rO);return e||r},async load(t,e,r){var u,l;const n={...ed.defaultOptions,resolution:((u=e.data)==null?void 0:u.resolution)||f0(t),alphaMode:((l=e.data)==null?void 0:l.alphaMode)||await m2(),...e.data},i=document.createElement("video"),s={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(s).forEach(c=>{const d=s[c];d!==void 0&&i.setAttribute(c,d)}),n.muted===!0&&(i.muted=!0),nO(i,t,n.crossorigin);const o=document.createElement("source");let a;if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const c=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=ed.MIME_TYPES[c]||`video/${c}`}return o.src=t,a&&(o.type=a),new Promise(c=>{const d=async()=>{const h=new ed({...n,resource:i});i.removeEventListener("canplay",d),e.data.preload&&await iO(i),c(Uo(h,r,t))};i.addEventListener("canplay",d),i.appendChild(o)})},unload(t){t.destroy(!0)}},V2={extension:{type:A.ResolveParser,name:"resolveTexture"},test:W2.test,parse:t=>{var e;return{resolution:parseFloat(((e=Fo.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},aO={extension:{type:A.ResolveParser,priority:-2,name:"resolveJson"},test:t=>Fo.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:V2.parse};class uO{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Fo,this.loader=new Y4,this.cache=ze,this._backgroundLoader=new G4(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){pe("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,r){this._initialized||await this.init();const n=Xd(e),i=Zn(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{r==null||r(++a/u)},c=o.map(d=>{const h=i[d];return u+=Object.keys(h).length,this._mapLoadToResolve(h,l).then(f=>{s[d]=f})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ze.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=ze.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(n,r);this._backgroundLoader.active=!0;const s={};return n.forEach(o=>{const a=i[o.src],u=[o.src];o.alias&&u.push(...o.alias),u.forEach(l=>{s[l]=a}),ze.set(u,a)}),s}async unload(e){this._initialized||await this.init();const r=Zn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Zn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{ze.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const ca=new uO;dt.handleByList(A.LoadParser,ca.loader.parsers).handleByList(A.ResolveParser,ca.resolver.parsers).handleByList(A.CacheParser,ca.cache.parsers).handleByList(A.DetectionParser,ca.detections);dt.add(z4,H4,$4,X4,j4,W4,V4,q4,K4,Z4,J4,W2,oO,N4,L4,V2,aO);const b3={loader:A.LoadParser,resolver:A.ResolveParser,cache:A.CacheParser,detection:A.DetectionParser};dt.handle(A.Asset,t=>{const e=t.ref;Object.entries(b3).filter(([r])=>!!e[r]).forEach(([r,n])=>dt.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(b3).filter(r=>!!e[r]).forEach(r=>dt.remove(e[r]))});const xK={extension:{type:A.DetectionParser,priority:3},test:async()=>!!(await Ah()||Ph()),add:async t=>[...t,"basis"],remove:async t=>t.filter(e=>e!=="basis")};class Mh extends At{constructor(e){super(e),this.uploadMethodId="compressed",this.resource=e.resource,this.mipLevelCount=this.resource.length}}let Df;function wx(){if(Df)return Df;const e=document.createElement("canvas").getContext("webgl");return e?(Df=[...e.getExtension("EXT_texture_compression_bptc")?["bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc")?["bc1-rgba-unorm","bc2-rgba-unorm","bc3-rgba-unorm"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc_srgb")?["bc1-rgba-unorm-srgb","bc2-rgba-unorm-srgb","bc3-rgba-unorm-srgb"]:[],...e.getExtension("EXT_texture_compression_rgtc")?["bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm"]:[],...e.getExtension("WEBGL_compressed_texture_etc")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","eac-r11unorm","eac-rg11unorm"]:[],...e.getExtension("WEBGL_compressed_texture_astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],Df):[]}let kf;async function Ex(){if(kf)return kf;const t=await navigator.gpu.requestAdapter();return kf=[...t.features.has("texture-compression-bc")?["bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...t.features.has("texture-compression-etc2")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm"]:[],...t.features.has("texture-compression-astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],kf}let Of;async function X2(){return Of!==void 0||(Of=await(async()=>{const t=await Ah(),e=Ph();if(t&&e){const r=await Ex(),n=wx();return r.filter(i=>n.includes(i))}else{if(t)return await Ex();if(e)return wx()}return[]})()),Of}const lO=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8"];let If;async function Bh(){if(If!==void 0)return If;const t=await X2();return If=[...lO,...t],If}const bK=`(function () {
    'use strict';

    function createLevelBuffers(basisTexture, basisTranscoderFormat) {
      const images = basisTexture.getNumImages();
      const levels = basisTexture.getNumLevels(0);
      const success = basisTexture.startTranscoding();
      if (!success) {
        throw new Error("startTranscoding failed");
      }
      const levelBuffers = [];
      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {
        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {
          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);
          const levelBuffer = new Uint8Array(transcodeSize);
          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);
          if (!success2) {
            throw new Error("transcodeImage failed");
          }
          levelBuffers.push(levelBuffer);
        }
      }
      return levelBuffers;
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": 3,
      // cTFBC3_RGBA
      "bc7-rgba-unorm": 6,
      // cTFBC7_RGBA,
      "etc2-rgba8unorm": 1,
      // cTFETC2_RGBA,
      "astc-4x4-unorm": 10,
      // cTFASTC_4x4_RGBA,
      // Uncompressed
      rgba8unorm: 13,
      // cTFRGBA32,
      rgba4unorm: 16
      // cTFRGBA4444,
    };
    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "basis/basis_transcoder.js",
      wasmUrl: "basis/basis_transcoder.wasm"
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let basisPromise;
    async function getBasis() {
      if (!basisPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        basisPromise = new Promise((resolve) => {
          BASIS({
            locateFile: (_file) => absoluteWasmUrl
          }).then((module) => {
            module.initializeBasis();
            resolve(module.BasisFile);
          });
        });
      }
      return basisPromise;
    }
    async function fetchBasisTexture(url, BasisTexture) {
      const basisResponse = await fetch(url);
      if (basisResponse.ok) {
        const basisArrayBuffer = await basisResponse.arrayBuffer();
        return new BasisTexture(new Uint8Array(basisArrayBuffer));
      }
      throw new Error(\`Failed to load Basis texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const BasisTexture = await getBasis();
      const basisTexture = await fetchBasisTexture(url, BasisTexture);
      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);
      return {
        width: basisTexture.getImageWidth(0, 0),
        height: basisTexture.getImageHeight(0, 0),
        format: basisTranscodedTextureFormat,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getBasis();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type](message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let ju=null,cO=class{constructor(){ju||(ju=URL.createObjectURL(new Blob([bK],{type:"application/javascript"}))),this.worker=new Worker(ju)}};cO.revokeObjectURL=function(){ju&&(URL.revokeObjectURL(ju),ju=null)};const _m={jsUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.js",wasmUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"};function SK(t){Object.assign(_m,t)}let fc;const dO={};function wK(t){return fc||(fc=new cO().worker,fc.onmessage=e=>{const{success:r,url:n,textureOptions:i}=e.data;r||console.warn("Failed to load Basis texture",n),dO[n](i)},fc.postMessage({type:"init",jsUrl:_m.jsUrl,wasmUrl:_m.wasmUrl,supportedTextures:t})),fc}function hO(t,e){const r=wK(e);return new Promise(n=>{dO[t]=n,r.postMessage({type:"load",url:t})})}const EK={extension:{type:A.LoadParser,priority:In.High,name:"loadBasis"},name:"loadBasis",test(t){return yi(t,[".basis"])},async load(t,e,r){const n=await Bh(),i=await hO(t,n),s=new Mh(i);return Uo(s,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};function TK(t,e){const r=t.getNumImages(),n=t.getNumLevels(0);if(!t.startTranscoding())throw new Error("startTranscoding failed");const s=[];for(let o=0;o<n;++o)for(let a=0;a<r;++a){const u=t.getImageTranscodedSizeInBytes(a,o,e),l=new Uint8Array(u);if(!t.transcodeImage(l,a,o,e,1,0))throw new Error("transcodeImage failed");s.push(l)}return s}const CK={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function PK(t){const e=CK[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const AK={MAGIC:0,SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19,PF_FLAGS:20,FOURCC:21,RGB_BITCOUNT:22,R_BIT_MASK:23,G_BIT_MASK:24,B_BIT_MASK:25,A_BIT_MASK:26},RK={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};var Y2=(t=>(t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",t))(Y2||{}),q2=(t=>(t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D",t))(q2||{});function Yt(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var Gr=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.R8G8B8=20]="R8G8B8",t[t.A8R8G8B8=21]="A8R8G8B8",t[t.X8R8G8B8=22]="X8R8G8B8",t[t.R5G6B5=23]="R5G6B5",t[t.X1R5G5B5=24]="X1R5G5B5",t[t.A1R5G5B5=25]="A1R5G5B5",t[t.A4R4G4B4=26]="A4R4G4B4",t[t.R3G3B2=27]="R3G3B2",t[t.A8=28]="A8",t[t.A8R3G3B2=29]="A8R3G3B2",t[t.X4R4G4B4=30]="X4R4G4B4",t[t.A2B10G10R10=31]="A2B10G10R10",t[t.A8B8G8R8=32]="A8B8G8R8",t[t.X8B8G8R8=33]="X8B8G8R8",t[t.G16R16=34]="G16R16",t[t.A2R10G10B10=35]="A2R10G10B10",t[t.A16B16G16R16=36]="A16B16G16R16",t[t.A8P8=40]="A8P8",t[t.P8=41]="P8",t[t.L8=50]="L8",t[t.A8L8=51]="A8L8",t[t.A4L4=52]="A4L4",t[t.V8U8=60]="V8U8",t[t.L6V5U5=61]="L6V5U5",t[t.X8L8V8U8=62]="X8L8V8U8",t[t.Q8W8V8U8=63]="Q8W8V8U8",t[t.V16U16=64]="V16U16",t[t.A2W10V10U10=67]="A2W10V10U10",t[t.Q16W16V16U16=110]="Q16W16V16U16",t[t.R16F=111]="R16F",t[t.G16R16F=112]="G16R16F",t[t.A16B16G16R16F=113]="A16B16G16R16F",t[t.R32F=114]="R32F",t[t.G32R32F=115]="G32R32F",t[t.A32B32G32R32F=116]="A32B32G32R32F",t[t.UYVY=Yt("UYVY")]="UYVY",t[t.R8G8_B8G8=Yt("RGBG")]="R8G8_B8G8",t[t.YUY2=Yt("YUY2")]="YUY2",t[t.D3DFMT_G8R8_G8B8=Yt("GRGB")]="D3DFMT_G8R8_G8B8",t[t.DXT1=Yt("DXT1")]="DXT1",t[t.DXT2=Yt("DXT2")]="DXT2",t[t.DXT3=Yt("DXT3")]="DXT3",t[t.DXT4=Yt("DXT4")]="DXT4",t[t.DXT5=Yt("DXT5")]="DXT5",t[t.ATI1=Yt("ATI1")]="ATI1",t[t.AT1N=Yt("AT1N")]="AT1N",t[t.ATI2=Yt("ATI2")]="ATI2",t[t.AT2N=Yt("AT2N")]="AT2N",t[t.BC4U=Yt("BC4U")]="BC4U",t[t.BC4S=Yt("BC4S")]="BC4S",t[t.BC5U=Yt("BC5U")]="BC5U",t[t.BC5S=Yt("BC5S")]="BC5S",t[t.DX10=Yt("DX10")]="DX10",t))(Gr||{});const Tx={[Gr.DXT1]:"bc1-rgba-unorm",[Gr.DXT2]:"bc2-rgba-unorm",[Gr.DXT3]:"bc2-rgba-unorm",[Gr.DXT4]:"bc3-rgba-unorm",[Gr.DXT5]:"bc3-rgba-unorm",[Gr.ATI1]:"bc4-r-unorm",[Gr.BC4U]:"bc4-r-unorm",[Gr.BC4S]:"bc4-r-snorm",[Gr.ATI2]:"bc5-rg-unorm",[Gr.BC5U]:"bc5-rg-unorm",[Gr.BC5S]:"bc5-rg-snorm",36:"rgba16uint",110:"rgba16sint",111:"r16float",112:"rg16float",113:"rgba16float",114:"r32float",115:"rg32float",116:"rgba32float"},zr={70:"bc1-rgba-unorm",71:"bc1-rgba-unorm",72:"bc1-rgba-unorm-srgb",73:"bc2-rgba-unorm",74:"bc2-rgba-unorm",75:"bc2-rgba-unorm-srgb",76:"bc3-rgba-unorm",77:"bc3-rgba-unorm",78:"bc3-rgba-unorm-srgb",79:"bc4-r-unorm",80:"bc4-r-unorm",81:"bc4-r-snorm",82:"bc5-rg-unorm",83:"bc5-rg-unorm",84:"bc5-rg-snorm",94:"bc6h-rgb-ufloat",95:"bc6h-rgb-ufloat",96:"bc6h-rgb-float",97:"bc7-rgba-unorm",98:"bc7-rgba-unorm",99:"bc7-rgba-unorm-srgb",28:"rgba8unorm",29:"rgba8unorm-srgb",87:"bgra8unorm",91:"bgra8unorm-srgb",41:"r32float",49:"rg8unorm",56:"r16uint",61:"r8unorm",24:"rgb10a2unorm",11:"rgba16uint",13:"rgba16sint",10:"rgba16float",54:"r16float",34:"rg16float",16:"rg32float",2:"rgba32float"},ue={MAGIC_VALUE:542327876,MAGIC_SIZE:4,HEADER_SIZE:124,HEADER_DX10_SIZE:20,PIXEL_FORMAT_FLAGS:{ALPHAPIXELS:1,ALPHA:2,FOURCC:4,RGB:64,RGBA:65,YUV:512,LUMINANCE:131072,LUMINANCEA:131073},RESOURCE_MISC_TEXTURECUBE:4,HEADER_FIELDS:AK,HEADER_DX10_FIELDS:RK,DXGI_FORMAT:Y2,D3D10_RESOURCE_DIMENSION:q2,D3DFMT:Gr},fO={"bc1-rgba-unorm":8,"bc1-rgba-unorm-srgb":8,"bc2-rgba-unorm":16,"bc2-rgba-unorm-srgb":16,"bc3-rgba-unorm":16,"bc3-rgba-unorm-srgb":16,"bc4-r-unorm":8,"bc4-r-snorm":8,"bc5-rg-unorm":16,"bc5-rg-snorm":16,"bc6h-rgb-ufloat":16,"bc6h-rgb-float":16,"bc7-rgba-unorm":16,"bc7-rgba-unorm-srgb":16};function pO(t,e){const{format:r,fourCC:n,width:i,height:s,dataOffset:o,mipmapCount:a}=BK(t);if(!e.includes(r))throw new Error(`Unsupported texture format: ${n} ${r}, supported: ${e}`);if(a<=1)return{format:r,width:i,height:s,resource:[new Uint8Array(t,o)],alphaMode:"no-premultiply-alpha"};const u=MK(r,i,s,o,a,t);return{format:r,width:i,height:s,resource:u,alphaMode:"no-premultiply-alpha"}}function MK(t,e,r,n,i,s){const o=[],a=fO[t];let u=e,l=r,c=n;for(let d=0;d<i;++d){const h=a?Math.max(4,u)/4*Math.max(4,l)/4*a:u*l*4,f=new Uint8Array(s,c,h);o.push(f),c+=h,u=Math.max(u>>1,1),l=Math.max(l>>1,1)}return o}function BK(t){const e=new Uint32Array(t,0,ue.HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(e[ue.HEADER_FIELDS.MAGIC]!==ue.MAGIC_VALUE)throw new Error("Invalid magic number in DDS header");const r=e[ue.HEADER_FIELDS.HEIGHT],n=e[ue.HEADER_FIELDS.WIDTH],i=Math.max(1,e[ue.HEADER_FIELDS.MIPMAP_COUNT]),s=e[ue.HEADER_FIELDS.PF_FLAGS],o=e[ue.HEADER_FIELDS.FOURCC],a=DK(e,s,o,t),u=ue.MAGIC_SIZE+ue.HEADER_SIZE+(o===ue.D3DFMT.DX10?ue.HEADER_DX10_SIZE:0);return{format:a,fourCC:o,width:n,height:r,dataOffset:u,mipmapCount:i}}function DK(t,e,r,n){if(e&ue.PIXEL_FORMAT_FLAGS.FOURCC){if(r===ue.D3DFMT.DX10){const i=new Uint32Array(n,ue.MAGIC_SIZE+ue.HEADER_SIZE,ue.HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(i[ue.HEADER_DX10_FIELDS.MISC_FLAG]===ue.RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(i[ue.HEADER_DX10_FIELDS.RESOURCE_DIMENSION]===ue.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");const a=i[ue.HEADER_DX10_FIELDS.DXGI_FORMAT];if(a in zr)return zr[a];throw new Error(`DDSParser cannot parse texture data with DXGI format ${a}`)}if(r in Tx)return Tx[r];throw new Error(`DDSParser cannot parse texture data with fourCC format ${r}`)}if(e&ue.PIXEL_FORMAT_FLAGS.RGB||e&ue.PIXEL_FORMAT_FLAGS.RGBA)return kK(t);throw e&ue.PIXEL_FORMAT_FLAGS.YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):e&ue.PIXEL_FORMAT_FLAGS.LUMINANCE||e&ue.PIXEL_FORMAT_FLAGS.LUMINANCEA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):e&ue.PIXEL_FORMAT_FLAGS.ALPHA||e&ue.PIXEL_FORMAT_FLAGS.ALPHAPIXELS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}function kK(t){const e=t[ue.HEADER_FIELDS.RGB_BITCOUNT],r=t[ue.HEADER_FIELDS.R_BIT_MASK],n=t[ue.HEADER_FIELDS.G_BIT_MASK],i=t[ue.HEADER_FIELDS.B_BIT_MASK],s=t[ue.HEADER_FIELDS.A_BIT_MASK];switch(e){case 32:if(r===255&&n===65280&&i===16711680&&s===4278190080)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];if(r===16711680&&n===65280&&i===255&&s===4278190080)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];if(r===1072693248&&n===1047552&&i===1023&&s===3221225472)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];if(r===65535&&n===4294901760&&i===0&&s===0)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];if(r===4294967295&&n===0&&i===0&&s===0)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];break;case 24:break;case 16:if(r===31744&&n===992&&i===31&&s===32768)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];if(r===63488&&n===2016&&i===31&&s===0)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];if(r===3840&&n===240&&i===15&&s===61440)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];if(r===255&&n===0&&i===0&&s===65280)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];if(r===65535&&n===0&&i===0&&s===0)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];break;case 8:if(r===255&&n===0&&i===0&&s===0)return zr[ue.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];break}throw new Error(`DDSParser does not support uncompressed texture with configuration:
                bitCount = ${e}, rBitMask = ${r}, gBitMask = ${n}, aBitMask = ${s}`)}const OK={extension:{type:A.LoadParser,priority:In.High,name:"loadDDS"},name:"loadDDS",test(t){return yi(t,[".dds"])},async load(t,e,r){const n=await Bh(),s=await(await fetch(t)).arrayBuffer(),o=pO(s,n),a=new Mh(o);return Uo(a,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};var mO=(t=>(t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGBA=6408]="RGBA",t[t.RGBA8UI=36220]="RGBA8UI",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGBA8I=36238]="RGBA8I",t[t.RGBA8=32856]="RGBA8",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(mO||{});const IK={33776:"bc1-rgba-unorm",33777:"bc1-rgba-unorm",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",35916:"bc1-rgba-unorm-srgb",35917:"bc1-rgba-unorm-srgb",35918:"bc2-rgba-unorm-srgb",35919:"bc3-rgba-unorm-srgb",36283:"bc4-r-unorm",36284:"bc4-r-snorm",36285:"bc5-rg-unorm",36286:"bc5-rg-snorm",37488:"eac-r11unorm",37490:"eac-rg11snorm",37492:"etc2-rgb8unorm",37496:"etc2-rgba8unorm",37493:"etc2-rgb8unorm-srgb",37497:"etc2-rgba8unorm-srgb",37494:"etc2-rgb8a1unorm",37495:"etc2-rgb8a1unorm-srgb",37808:"astc-4x4-unorm",37840:"astc-4x4-unorm-srgb",37809:"astc-5x4-unorm",37841:"astc-5x4-unorm-srgb",37810:"astc-5x5-unorm",37842:"astc-5x5-unorm-srgb",37811:"astc-6x5-unorm",37843:"astc-6x5-unorm-srgb",37812:"astc-6x6-unorm",37844:"astc-6x6-unorm-srgb",37813:"astc-8x5-unorm",37845:"astc-8x5-unorm-srgb",37814:"astc-8x6-unorm",37846:"astc-8x6-unorm-srgb",37815:"astc-8x8-unorm",37847:"astc-8x8-unorm-srgb",37816:"astc-10x5-unorm",37848:"astc-10x5-unorm-srgb",37817:"astc-10x6-unorm",37849:"astc-10x6-unorm-srgb",37818:"astc-10x8-unorm",37850:"astc-10x8-unorm-srgb",37819:"astc-10x10-unorm",37851:"astc-10x10-unorm-srgb",37820:"astc-12x10-unorm",37852:"astc-12x10-unorm-srgb",37821:"astc-12x12-unorm",37853:"astc-12x12-unorm-srgb",36492:"bc7-rgba-unorm",36493:"bc7-rgba-unorm-srgb",36494:"bc6h-rgb-float",36495:"bc6h-rgb-ufloat",35907:"rgba8unorm-srgb",36759:"rgba8snorm",36220:"rgba8uint",36238:"rgba8sint",6408:"rgba8unorm"},FK=[171,75,84,88,32,49,49,187,13,10,26,10],UK={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},LK=64,NK=67305985,GK={5121:1,5123:2,5124:4,5125:4,5126:4,36193:8},zK={6408:4,6407:3,33319:2,6403:1,6409:1,6410:2,6406:1},$K={32819:2,32820:2,33635:2},HK={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,36283:.5,36284:.5,36285:1,36286:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,37808:1,37840:1,37809:.8,37841:.8,37810:.64,37842:.64,37811:.53375,37843:.53375,37812:.445,37844:.445,37813:.4,37845:.4,37814:.33375,37846:.33375,37815:.25,37847:.25,37816:.32,37848:.32,37817:.26625,37849:.26625,37818:.2,37850:.2,37819:.16,37851:.16,37820:.13375,37852:.13375,37821:.11125,37853:.11125,36492:1,36493:1,36494:1,36495:1},_t={FILE_HEADER_SIZE:LK,FILE_IDENTIFIER:FK,FORMATS_TO_COMPONENTS:zK,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:HK,INTERNAL_FORMAT_TO_TEXTURE_FORMATS:IK,FIELDS:UK,TYPES_TO_BYTES_PER_COMPONENT:GK,TYPES_TO_BYTES_PER_PIXEL:$K,ENDIANNESS:NK};function gO(t,e){const r=new DataView(t);if(!XK(r))throw new Error("Invalid KTX identifier in header");const{littleEndian:n,glType:i,glFormat:s,glInternalFormat:o,pixelWidth:a,pixelHeight:u,numberOfMipmapLevels:l,offset:c}=VK(r),d=_t.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];if(!d)throw new Error(`Unknown texture format ${o}`);if(!e.includes(d))throw new Error(`Unsupported texture format: ${d}, supportedFormats: ${e}`);const h=WK(i,s,o),f=jK(r,i,h,a,u,c,l,n);return{format:d,width:a,height:u,resource:f,alphaMode:"no-premultiply-alpha"}}function jK(t,e,r,n,i,s,o,a){const u=n+3&-4,l=i+3&-4;let c=n*i;e===0&&(c=u*l);let d=c*r,h=n,f=i,p=u,m=l,g=s;const _=new Array(o);for(let v=0;v<o;v++){const y=t.getUint32(g,a);let x=g+4;_[v]=new Uint8Array(t.buffer,x,d),x+=d,g+=y+4,g=g%4!==0?g+4-g%4:g,h=h>>1||1,f=f>>1||1,p=h+4-1&-4,m=f+4-1&-4,d=p*m*r}return _}function WK(t,e,r){let n=_t.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[r];if(t!==0&&(_t.TYPES_TO_BYTES_PER_COMPONENT[t]?n=_t.TYPES_TO_BYTES_PER_COMPONENT[t]*_t.FORMATS_TO_COMPONENTS[e]:n=_t.TYPES_TO_BYTES_PER_PIXEL[t]),n===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");return n}function VK(t){const e=t.getUint32(_t.FIELDS.ENDIANNESS,!0)===_t.ENDIANNESS,r=t.getUint32(_t.FIELDS.GL_TYPE,e),n=t.getUint32(_t.FIELDS.GL_FORMAT,e),i=t.getUint32(_t.FIELDS.GL_INTERNAL_FORMAT,e),s=t.getUint32(_t.FIELDS.PIXEL_WIDTH,e),o=t.getUint32(_t.FIELDS.PIXEL_HEIGHT,e)||1,a=t.getUint32(_t.FIELDS.PIXEL_DEPTH,e)||1,u=t.getUint32(_t.FIELDS.NUMBER_OF_ARRAY_ELEMENTS,e)||1,l=t.getUint32(_t.FIELDS.NUMBER_OF_FACES,e),c=t.getUint32(_t.FIELDS.NUMBER_OF_MIPMAP_LEVELS,e),d=t.getUint32(_t.FIELDS.BYTES_OF_KEY_VALUE_DATA,e);if(o===0||a!==1)throw new Error("Only 2D textures are supported");if(l!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(u!==1)throw new Error("WebGL does not support array textures");return{littleEndian:e,glType:r,glFormat:n,glInternalFormat:i,pixelWidth:s,pixelHeight:o,numberOfMipmapLevels:c,offset:_t.FILE_HEADER_SIZE+d}}function XK(t){for(let e=0;e<_t.FILE_IDENTIFIER.length;e++)if(t.getUint8(e)!==_t.FILE_IDENTIFIER[e])return!1;return!0}const YK={extension:{type:A.LoadParser,priority:In.High,name:"loadKTX"},name:"loadKTX",test(t){return yi(t,".ktx")},async load(t,e,r){const n=await Bh(),s=await(await fetch(t)).arrayBuffer(),o=gO(s,n),a=new Mh(o);return Uo(a,r,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},qK=`(function () {
    'use strict';

    const converters = {
      rgb8unorm: {
        convertedFormat: "rgba8unorm",
        convertFunction: convertRGBtoRGBA
      },
      "rgb8unorm-srgb": {
        convertedFormat: "rgba8unorm-srgb",
        convertFunction: convertRGBtoRGBA
      }
    };
    function convertFormatIfRequired(textureOptions) {
      const format = textureOptions.format;
      if (converters[format]) {
        const convertFunction = converters[format].convertFunction;
        const levelBuffers = textureOptions.resource;
        for (let i = 0; i < levelBuffers.length; i++) {
          levelBuffers[i] = convertFunction(levelBuffers[i]);
        }
        textureOptions.format = converters[format].convertedFormat;
      }
    }
    function convertRGBtoRGBA(levelBuffer) {
      const pixelCount = levelBuffer.byteLength / 3;
      const levelBufferWithAlpha = new Uint32Array(pixelCount);
      for (let i = 0; i < pixelCount; ++i) {
        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;
      }
      return new Uint8Array(levelBufferWithAlpha.buffer);
    }

    function createLevelBuffersFromKTX(ktxTexture) {
      const levelBuffers = [];
      for (let i = 0; i < ktxTexture.numLevels; i++) {
        const imageData = ktxTexture.getImageData(i, 0, 0);
        const levelBuffer = new Uint8Array(imageData.byteLength);
        levelBuffer.set(imageData);
        levelBuffers.push(levelBuffer);
      }
      return levelBuffers;
    }

    const glFormatToGPUFormatMap = {
      6408: "rgba8unorm",
      32856: "bgra8unorm",
      //
      32857: "rgb10a2unorm",
      33189: "depth16unorm",
      33190: "depth24plus",
      33321: "r8unorm",
      33323: "rg8unorm",
      33325: "r16float",
      33326: "r32float",
      33327: "rg16float",
      33328: "rg32float",
      33329: "r8sint",
      33330: "r8uint",
      33331: "r16sint",
      33332: "r16uint",
      33333: "r32sint",
      33334: "r32uint",
      33335: "rg8sint",
      33336: "rg8uint",
      33337: "rg16sint",
      33338: "rg16uint",
      33339: "rg32sint",
      33340: "rg32uint",
      33778: "bc2-rgba-unorm",
      33779: "bc3-rgba-unorm",
      34836: "rgba32float",
      34842: "rgba16float",
      35056: "depth24plus-stencil8",
      35898: "rg11b10ufloat",
      35901: "rgb9e5ufloat",
      35907: "rgba8unorm-srgb",
      // bgra8unorm-srgb
      36012: "depth32float",
      36013: "depth32float-stencil8",
      36168: "stencil8",
      36208: "rgba32uint",
      36214: "rgba16uint",
      36220: "rgba8uint",
      36226: "rgba32sint",
      36232: "rgba16sint",
      36238: "rgba8sint",
      36492: "bc7-rgba-unorm",
      36756: "r8snorm",
      36757: "rg8snorm",
      36759: "rgba8snorm",
      37496: "etc2-rgba8unorm",
      37808: "astc-4x4-unorm"
    };
    function glFormatToGPUFormat(glInternalFormat) {
      const format = glFormatToGPUFormatMap[glInternalFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported glInternalFormat: \${glInternalFormat}\`);
    }

    const vkFormatToGPUFormatMap = {
      23: "rgb8unorm",
      // VK_FORMAT_R8G8B8_UNORM
      37: "rgba8unorm",
      // VK_FORMAT_R8G8B8A8_UNORM
      43: "rgba8unorm-srgb"
      // VK_FORMAT_R8G8B8A8_SRGB
      // TODO add more!
    };
    function vkFormatToGPUFormat(vkFormat) {
      const format = vkFormatToGPUFormatMap[vkFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported VkFormat: \${vkFormat}\`);
    }

    function getTextureFormatFromKTXTexture(ktxTexture) {
      if (ktxTexture.classId === 2) {
        return vkFormatToGPUFormat(ktxTexture.vkFormat);
      }
      return glFormatToGPUFormat(ktxTexture.glInternalformat);
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": "BC3_RGBA",
      "bc7-rgba-unorm": "BC7_M5_RGBA",
      "etc2-rgba8unorm": "ETC2_RGBA",
      "astc-4x4-unorm": "ASTC_4x4_RGBA",
      // Uncompressed
      rgba8unorm: "RGBA32",
      rg11b10ufloat: "R11F_G11F_B10F"
    };
    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "",
      wasmUrl: ""
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let ktxPromise;
    async function getKTX() {
      if (!ktxPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        ktxPromise = new Promise((resolve) => {
          LIBKTX({
            locateFile: (_file) => absoluteWasmUrl
          }).then((libktx) => {
            resolve(libktx);
          });
        });
      }
      return ktxPromise;
    }
    async function fetchKTXTexture(url, ktx) {
      const ktx2Response = await fetch(url);
      if (ktx2Response.ok) {
        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();
        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));
      }
      throw new Error(\`Failed to load KTX(2) texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const ktx = await getKTX();
      const ktxTexture = await fetchKTXTexture(url, ktx);
      let format;
      if (ktxTexture.needsTranscoding) {
        format = basisTranscodedTextureFormat;
        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];
        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);
        if (result !== ktx.ErrorCode.SUCCESS) {
          throw new Error("Unable to transcode basis texture.");
        }
      } else {
        format = getTextureFormatFromKTXTexture(ktxTexture);
      }
      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);
      const textureOptions = {
        width: ktxTexture.baseWidth,
        height: ktxTexture.baseHeight,
        format,
        mipLevelCount: ktxTexture.numLevels,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
      convertFormatIfRequired(textureOptions);
      return textureOptions;
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getKTX();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type]?.(message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Wu=null;class _O{constructor(){Wu||(Wu=URL.createObjectURL(new Blob([qK],{type:"application/javascript"}))),this.worker=new Worker(Wu)}}_O.revokeObjectURL=function(){Wu&&(URL.revokeObjectURL(Wu),Wu=null)};const ym={jsUrl:"https://files.pixijs.download/transcoders/ktx/libktx.js",wasmUrl:"https://files.pixijs.download/transcoders/ktx/libktx.wasm"};function KK(t){Object.assign(ym,t)}let pc;const yO={};function QK(t){return pc||(pc=new _O().worker,pc.onmessage=e=>{const{success:r,url:n,textureOptions:i}=e.data;r||console.warn("Failed to load KTX texture",n),yO[n](i)},pc.postMessage({type:"init",jsUrl:ym.jsUrl,wasmUrl:ym.wasmUrl,supportedTextures:t})),pc}function vO(t,e){const r=QK(e);return new Promise(n=>{yO[t]=n,r.postMessage({type:"load",url:t})})}const ZK={extension:{type:A.LoadParser,priority:In.High,name:"loadKTX2"},name:"loadKTX2",test(t){return yi(t,".ktx2")},async load(t,e,r){const n=await Bh(),i=await vO(t,n),s=new Mh(i);return Uo(s,r,t)},async unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},ty={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:S3},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:S3}};function JK(t){const e=t.format;if(ty[e]){const r=ty[e].convertFunction,n=t.resource;for(let i=0;i<n.length;i++)n[i]=r(n[i]);t.format=ty[e].convertedFormat}}function S3(t){const e=t.byteLength/3,r=new Uint32Array(e);for(let n=0;n<e;++n)r[n]=t[n*3]+(t[n*3+1]<<8)+(t[n*3+2]<<16)+4278190080;return new Uint8Array(r.buffer)}function eQ(t){const e=[];for(let r=0;r<t.numLevels;r++){const n=t.getImageData(r,0,0),i=new Uint8Array(n.byteLength);i.set(n),e.push(i)}return e}const tQ={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function xO(t){const e=tQ[t];if(e)return e;throw new Error(`Unsupported glInternalFormat: ${t}`)}const rQ={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function bO(t){const e=rQ[t];if(e)return e;throw new Error(`Unsupported VkFormat: ${t}`)}function nQ(t){return t.classId===2?bO(t.vkFormat):xO(t.glInternalformat)}const iQ={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function sQ(t){const e=iQ[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const vm=["basis","bc7","bc6h","astc","etc2","bc5","bc4","bc3","bc2","bc1","eac"],oQ={extension:A.ResolveParser,test:t=>yi(t,[".ktx",".ktx2",".dds"]),parse:t=>{var n;let e;const r=t.split(".");if(r.length>2){const i=r[r.length-2];vm.includes(i)&&(e=i)}else e=r[r.length-1];return{resolution:parseFloat(((n=Fo.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};let Ff;const aQ={extension:{type:A.DetectionParser,priority:2},test:async()=>!!(await Ah()||Ph()),add:async t=>{const e=await X2();return Ff=uQ(e),[...Ff,...t]},remove:async t=>Ff?t.filter(e=>!(e in Ff)):t};function uQ(t){const e=["basis"],r={};return t.forEach(n=>{const i=n.split("-")[0];i&&!r[i]&&(r[i]=!0,e.push(i))}),e.sort((n,i)=>{const s=vm.indexOf(n),o=vm.indexOf(i);return s===-1?1:o===-1?-1:s-o}),e}const lQ=new dr,Cx=class{cull(e,r,n=!0){this._cullRecursive(e,r,n)}_cullRecursive(e,r,n=!0){if(e.cullable&&e.measurable&&e.includeInBuild){const i=e.cullArea??Eh(e,n,lQ);e.culled=!(i.x>=r.x+r.width||i.y>=r.y+r.height||i.x+i.width<=r.x||i.y+i.height<=r.y)}if(!(!e.cullableChildren||e.culled||!e.renderable||!e.measurable||!e.includeInBuild))for(let i=0;i<e.children.length;i++)this._cullRecursive(e.children[i],r,n)}};Cx.shared=new Cx;let SO=Cx;class wO{static init(){this._renderRef=this.render.bind(this),this.render=()=>{SO.shared.cull(this.stage,this.renderer.screen),this.renderer.render({container:this.stage})}}static destroy(){this.render=this._renderRef}}wO.extension={priority:10,type:A.Application,name:"culler"};var Lo={},Us={};function cQ(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function K2(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function dQ(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var EO=K2({HTML:"text/html",isHTML:function(t){return t===EO.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),TO=K2({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===TO.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Us.assign=dQ;Us.find=cQ;Us.freeze=K2;Us.MIME_TYPE=EO;Us.NAMESPACE=TO;var CO=Us,is=CO.find,th=CO.NAMESPACE;function hQ(t){return t!==""}function fQ(t){return t?t.split(/[\t\n\f\r ]+/).filter(hQ):[]}function pQ(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function w3(t){if(!t)return[];var e=fQ(t);return Object.keys(e.reduce(pQ,{}))}function mQ(t){return function(e){return t&&t.indexOf(e)!==-1}}function Dh(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function ln(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Dh(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var cn={},Bi=cn.ELEMENT_NODE=1,vl=cn.ATTRIBUTE_NODE=2,xm=cn.TEXT_NODE=3,PO=cn.CDATA_SECTION_NODE=4,AO=cn.ENTITY_REFERENCE_NODE=5,gQ=cn.ENTITY_NODE=6,RO=cn.PROCESSING_INSTRUCTION_NODE=7,MO=cn.COMMENT_NODE=8,BO=cn.DOCUMENT_NODE=9,DO=cn.DOCUMENT_TYPE_NODE=10,Ds=cn.DOCUMENT_FRAGMENT_NODE=11,_Q=cn.NOTATION_NODE=12,Er={},rr={};Er.INDEX_SIZE_ERR=(rr[1]="Index size error",1);Er.DOMSTRING_SIZE_ERR=(rr[2]="DOMString size error",2);var Hr=Er.HIERARCHY_REQUEST_ERR=(rr[3]="Hierarchy request error",3);Er.WRONG_DOCUMENT_ERR=(rr[4]="Wrong document",4);Er.INVALID_CHARACTER_ERR=(rr[5]="Invalid character",5);Er.NO_DATA_ALLOWED_ERR=(rr[6]="No data allowed",6);Er.NO_MODIFICATION_ALLOWED_ERR=(rr[7]="No modification allowed",7);var kO=Er.NOT_FOUND_ERR=(rr[8]="Not found",8);Er.NOT_SUPPORTED_ERR=(rr[9]="Not supported",9);var E3=Er.INUSE_ATTRIBUTE_ERR=(rr[10]="Attribute in use",10);Er.INVALID_STATE_ERR=(rr[11]="Invalid state",11);Er.SYNTAX_ERR=(rr[12]="Syntax error",12);Er.INVALID_MODIFICATION_ERR=(rr[13]="Invalid modification",13);Er.NAMESPACE_ERR=(rr[14]="Invalid namespace",14);Er.INVALID_ACCESS_ERR=(rr[15]="Invalid access",15);function Pt(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,rr[t]),this.message=rr[t],Error.captureStackTrace&&Error.captureStackTrace(this,Pt);return r.code=t,e&&(this.message=this.message+": "+e),r}Pt.prototype=Error.prototype;Dh(Er,Pt);function Ss(){}Ss.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Ru(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function xl(t,e){this._node=t,this._refresh=e,Q2(this)}function Q2(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(WO(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Dh(r,t),t._inc=e}}xl.prototype.item=function(t){return Q2(this),this[t]||null};ln(xl,Ss);function bm(){}function OO(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function T3(t,e,r,n){if(n?e[OO(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&UO(i,t,n),yQ(i,t,r))}}function C3(t,e,r){var n=OO(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(UO(s,t,r),r.ownerElement=null)}}else throw new Pt(kO,new Error(t.tagName+"@"+r))}bm.prototype={length:0,item:Ss.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Pt(E3);var r=this.getNamedItem(t.nodeName);return T3(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Pt(E3);return r=this.getNamedItemNS(t.namespaceURI,t.localName),T3(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return C3(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return C3(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function IO(){}IO.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new kh;if(n.implementation=this,n.childNodes=new Ss,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new p0;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Ue(){}Ue.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Sm(this,t,e)},replaceChild:function(t,e){Sm(this,t,e,NO),e&&this.removeChild(e)},removeChild:function(t){return LO(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Px(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==xm&&t.nodeType==xm?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==vl?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==vl?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function FO(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Dh(cn,Ue);Dh(cn,Ue.prototype);function rh(t,e){if(e(t))return!0;if(t=t.firstChild)do if(rh(t,e))return!0;while(t=t.nextSibling)}function kh(){this.ownerDocument=this}function yQ(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===th.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function UO(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===th.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Z2(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function LO(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Z2(t.ownerDocument,t),e}function vQ(t){return t&&(t.nodeType===Ue.DOCUMENT_NODE||t.nodeType===Ue.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ue.ELEMENT_NODE)}function xQ(t){return t&&(ss(t)||J2(t)||ks(t)||t.nodeType===Ue.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ue.COMMENT_NODE||t.nodeType===Ue.PROCESSING_INSTRUCTION_NODE)}function ks(t){return t&&t.nodeType===Ue.DOCUMENT_TYPE_NODE}function ss(t){return t&&t.nodeType===Ue.ELEMENT_NODE}function J2(t){return t&&t.nodeType===Ue.TEXT_NODE}function P3(t,e){var r=t.childNodes||[];if(is(r,ss)||ks(e))return!1;var n=is(r,ks);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function A3(t,e){var r=t.childNodes||[];function n(s){return ss(s)&&s!==e}if(is(r,n))return!1;var i=is(r,ks);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function bQ(t,e,r){if(!vQ(t))throw new Pt(Hr,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new Pt(kO,"child not in parent");if(!xQ(e)||ks(e)&&t.nodeType!==Ue.DOCUMENT_NODE)throw new Pt(Hr,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function SQ(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ue.DOCUMENT_FRAGMENT_NODE){var s=i.filter(ss);if(s.length>1||is(i,J2))throw new Pt(Hr,"More than one element or text in fragment");if(s.length===1&&!P3(t,r))throw new Pt(Hr,"Element in fragment can not be inserted before doctype")}if(ss(e)&&!P3(t,r))throw new Pt(Hr,"Only one element can be added and only after doctype");if(ks(e)){if(is(n,ks))throw new Pt(Hr,"Only one doctype is allowed");var o=is(n,ss);if(r&&n.indexOf(o)<n.indexOf(r))throw new Pt(Hr,"Doctype can only be inserted before an element");if(!r&&o)throw new Pt(Hr,"Doctype can not be appended since element is present")}}function NO(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Ue.DOCUMENT_FRAGMENT_NODE){var s=i.filter(ss);if(s.length>1||is(i,J2))throw new Pt(Hr,"More than one element or text in fragment");if(s.length===1&&!A3(t,r))throw new Pt(Hr,"Element in fragment can not be inserted before doctype")}if(ss(e)&&!A3(t,r))throw new Pt(Hr,"Only one element can be added and only after doctype");if(ks(e)){if(is(n,function(u){return ks(u)&&u!==r}))throw new Pt(Hr,"Only one doctype is allowed");var o=is(n,ss);if(r&&n.indexOf(o)<n.indexOf(r))throw new Pt(Hr,"Doctype can only be inserted before an element")}}function Sm(t,e,r,n){bQ(t,e,r),t.nodeType===Ue.DOCUMENT_NODE&&(n||SQ)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Ds){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=r?r.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=r,a?a.nextSibling=s:t.firstChild=s,r==null?t.lastChild=o:r.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return Z2(t.ownerDocument||t,t),e.nodeType==Ds&&(e.firstChild=e.lastChild=null),e}function wQ(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Z2(t.ownerDocument,t,e),e}kh.prototype={nodeName:"#document",nodeType:BO,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ds){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return Sm(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Bi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),LO(this,t)},replaceChild:function(t,e){Sm(this,t,e,NO),t.ownerDocument=this,e&&this.removeChild(e),ss(t)&&(this.documentElement=t)},importNode:function(t,e){return jO(this,t,e)},getElementById:function(t){var e=null;return rh(this.documentElement,function(r){if(r.nodeType==Bi&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=w3(t);return new xl(this,function(r){var n=[];return e.length>0&&rh(r.documentElement,function(i){if(i!==r&&i.nodeType===Bi){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=w3(s);o=e.every(mQ(a))}o&&n.push(i)}}}),n})},createElement:function(t){var e=new Oa;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Ss;var r=e.attributes=new bm;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new m0;return t.ownerDocument=this,t.childNodes=new Ss,t},createTextNode:function(t){var e=new eS;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new tS;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new rS;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new iS;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new wm;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new nS;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Oa,n=e.split(":"),i=r.attributes=new bm;return r.childNodes=new Ss,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new wm,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};ln(kh,Ue);function Oa(){this._nsMap={}}Oa.prototype={nodeType:Bi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ds?this.insertBefore(t,null):wQ(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new xl(this,function(e){var r=[];return rh(e,function(n){n!==e&&n.nodeType==Bi&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new xl(this,function(r){var n=[];return rh(r,function(i){i!==r&&i.nodeType===Bi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};kh.prototype.getElementsByTagName=Oa.prototype.getElementsByTagName;kh.prototype.getElementsByTagNameNS=Oa.prototype.getElementsByTagNameNS;ln(Oa,Ue);function wm(){}wm.prototype.nodeType=vl;ln(wm,Ue);function Oh(){}Oh.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(rr[Hr])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};ln(Oh,Ue);function eS(){}eS.prototype={nodeName:"#text",nodeType:xm,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};ln(eS,Oh);function tS(){}tS.prototype={nodeName:"#comment",nodeType:MO};ln(tS,Oh);function rS(){}rS.prototype={nodeName:"#cdata-section",nodeType:PO};ln(rS,Oh);function p0(){}p0.prototype.nodeType=DO;ln(p0,Ue);function GO(){}GO.prototype.nodeType=_Q;ln(GO,Ue);function zO(){}zO.prototype.nodeType=gQ;ln(zO,Ue);function nS(){}nS.prototype.nodeType=AO;ln(nS,Ue);function m0(){}m0.prototype.nodeName="#document-fragment";m0.prototype.nodeType=Ds;ln(m0,Ue);function iS(){}iS.prototype.nodeType=RO;ln(iS,Ue);function $O(){}$O.prototype.serializeToString=function(t,e,r){return HO.call(t,e,r)};Ue.prototype.toString=HO;function HO(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return Ru(this,r,t,e,o),r.join("")}function R3(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===th.XML||i===th.XMLNS)return!1;for(var s=r.length;s--;){var o=r[s];if(o.prefix===n)return o.namespace!==i}return!0}function ry(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,FO),'"')}function Ru(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Bi:var s=t.attributes,o=s.length,_=t.firstChild,a=t.tagName;r=th.isHTML(t.namespaceURI)||r;var u=a;if(!r&&!t.prefix&&t.namespaceURI){for(var l,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){l=s.item(c).value;break}if(!l)for(var d=i.length-1;d>=0;d--){var h=i[d];if(h.prefix===""&&h.namespace===t.namespaceURI){l=h.namespace;break}}if(l!==t.namespaceURI)for(var d=i.length-1;d>=0;d--){var h=i[d];if(h.namespace===t.namespaceURI){h.prefix&&(u=h.prefix+":"+a);break}}}e.push("<",u);for(var f=0;f<o;f++){var p=s.item(f);p.prefix=="xmlns"?i.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&i.push({prefix:"",namespace:p.value})}for(var f=0;f<o;f++){var p=s.item(f);if(R3(p,r,i)){var m=p.prefix||"",g=p.namespaceURI;ry(e,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}Ru(p,e,r,n,i)}if(a===u&&R3(t,r,i)){var m=t.prefix||"",g=t.namespaceURI;ry(e,m?"xmlns:"+m:"xmlns",g),i.push({prefix:m,namespace:g})}if(_||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;_;)_.data?e.push(_.data):Ru(_,e,r,n,i.slice()),_=_.nextSibling;else for(;_;)Ru(_,e,r,n,i.slice()),_=_.nextSibling;e.push("</",u,">")}else e.push("/>");return;case BO:case Ds:for(var _=t.firstChild;_;)Ru(_,e,r,n,i.slice()),_=_.nextSibling;return;case vl:return ry(e,t.name,t.value);case xm:return e.push(t.data.replace(/[<&>]/g,FO));case PO:return e.push("<![CDATA[",t.data,"]]>");case MO:return e.push("<!--",t.data,"-->");case DO:var v=t.publicId,y=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),y&&y!="."&&e.push(" ",y),e.push(">");else if(y&&y!=".")e.push(" SYSTEM ",y,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case RO:return e.push("<?",t.target," ",t.data,"?>");case AO:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function jO(t,e,r){var n;switch(e.nodeType){case Bi:n=e.cloneNode(!1),n.ownerDocument=t;case Ds:break;case vl:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(jO(t,i,r)),i=i.nextSibling;return n}function Px(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new Ss),n.ownerDocument=t,n.nodeType){case Bi:var o=e.attributes,a=n.attributes=new bm,u=o.length;a._ownerElement=n;for(var l=0;l<u;l++)n.setAttributeNode(Px(t,o.item(l),!0));break;case vl:r=!0}if(r)for(var c=e.firstChild;c;)n.appendChild(Px(t,c,r)),c=c.nextSibling;return n}function WO(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Bi:case Ds:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(xl.prototype,"length",{get:function(){return Q2(this),this.$$length}}),Object.defineProperty(Ue.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Bi:case Ds:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),WO=function(e,r,n){e["$$"+r]=n}}}catch{}Lo.DocumentType=p0;Lo.DOMException=Pt;Lo.DOMImplementation=IO;Lo.Element=Oa;Lo.Node=Ue;Lo.NodeList=Ss;Lo.XMLSerializer=$O;var g0={},VO={};(function(t){var e=Us.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(VO);var sS={},nh=Us.NAMESPACE,Ax=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M3=new RegExp("[\\-\\.0-9"+Ax.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),B3=new RegExp("^"+Ax.source+M3.source+"*(?::"+Ax.source+M3.source+"*)?$"),mc=0,Vs=1,nu=2,gc=3,iu=4,su=5,_c=6,Uf=7;function bl(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,bl)}bl.prototype=new Error;bl.prototype.name=bl.name;function XO(){}XO.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),YO(e,e={}),EQ(t,e,r,n,this.errorHandler),n.endDocument()}};function EQ(t,e,r,n,i){function s(U){if(U>65535){U-=65536;var H=55296+(U>>10),F=56320+(U&1023);return String.fromCharCode(H,F)}else return String.fromCharCode(U)}function o(U){var H=U.slice(1,-1);return Object.hasOwnProperty.call(r,H)?r[H]:H.charAt(0)==="#"?s(parseInt(H.substr(1).replace("x","0x"))):(i.error("entity not found:"+U),U)}function a(U){if(U>m){var H=t.substring(m,U).replace(/&#?\w+;/g,o);h&&u(m),n.characters(H,0,U-m),m=U}}function u(U,H){for(;U>=c&&(H=d.exec(t));)l=H.index,c=l+H[0].length,h.lineNumber++;h.columnNumber=U-l+1}for(var l=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,f=[{currentNSMap:e}],p={},m=0;;){try{var g=t.indexOf("<",m);if(g<0){if(!t.substr(m).match(/^\s*$/)){var _=n.doc,v=_.createTextNode(t.substr(m));_.appendChild(v),n.currentElement=v}return}switch(g>m&&a(g),t.charAt(g+1)){case"/":var B=t.indexOf(">",g+3),y=t.substring(g+2,B).replace(/[ \t\n\r]+$/g,""),x=f.pop();B<0?(y=t.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+y+" is not complete:"+x.tagName),B=g+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),i.error("end tag name: "+y+" maybe not complete"),B=g+1+y.length);var S=x.localNSMap,w=x.tagName==y,b=w||x.tagName&&x.tagName.toLowerCase()==y.toLowerCase();if(b){if(n.endElement(x.uri,x.localName,y),S)for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&n.endPrefixMapping(T);w||i.fatalError("end tag name: "+y+" is not match the current start tagName:"+x.tagName)}else f.push(x);B++;break;case"?":h&&u(g),B=RQ(t,g,n);break;case"!":h&&u(g),B=AQ(t,g,n,i);break;default:h&&u(g);var E=new qO,P=f[f.length-1].currentNSMap,B=TQ(t,g,E,P,o,i),L=E.length;if(!E.closed&&PQ(t,B,E.tagName,p)&&(E.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&L){for(var O=D3(h,{}),k=0;k<L;k++){var G=E[k];u(G.offset),G.locator=D3(h,{})}n.locator=O,k3(E,n,P)&&f.push(E),n.locator=h}else k3(E,n,P)&&f.push(E);nh.isHTML(E.uri)&&!E.closed?B=CQ(t,B,E.tagName,o,n):B++}}catch(U){if(U instanceof bl)throw U;i.error("element parse error: "+U),B=-1}B>m?m=B:a(Math.max(g,m)+1)}}function D3(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function TQ(t,e,r,n,i,s){function o(h,f,p){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),p)}for(var a,u,l=++e,c=mc;;){var d=t.charAt(l);switch(d){case"=":if(c===Vs)a=t.slice(e,l),c=gc;else if(c===nu)c=gc;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===gc||c===Vs)if(c===Vs&&(s.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,l=t.indexOf(d,e),l>0)u=t.slice(e,l),o(a,u,e-1),c=su;else throw new Error("attribute value no end '"+d+"' match");else if(c==iu)u=t.slice(e,l),o(a,u,e),s.warning('attribute "'+a+'" missed start quot('+d+")!!"),e=l+1,c=su;else throw new Error('attribute value must after "="');break;case"/":switch(c){case mc:r.setTagName(t.slice(e,l));case su:case _c:case Uf:c=Uf,r.closed=!0;case iu:case Vs:break;case nu:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==mc&&r.setTagName(t.slice(e,l)),l;case">":switch(c){case mc:r.setTagName(t.slice(e,l));case su:case _c:case Uf:break;case iu:case Vs:u=t.slice(e,l),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case nu:c===nu&&(u=a),c==iu?(s.warning('attribute "'+u+'" missed quot(")!'),o(a,u,e)):((!nh.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),o(u,u,e));break;case gc:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case mc:r.setTagName(t.slice(e,l)),c=_c;break;case Vs:a=t.slice(e,l),c=nu;break;case iu:var u=t.slice(e,l);s.warning('attribute "'+u+'" missed quot(")!!'),o(a,u,e);case su:c=_c;break}else switch(c){case nu:r.tagName,(!nh.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=l,c=Vs;break;case su:s.warning('attribute space is required"'+a+'"!!');case _c:c=Vs,e=l;break;case gc:c=iu,e=l;break;case Uf:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function k3(t,e,r){for(var n=t.tagName,i=null,d=t.length;d--;){var s=t[d],o=s.qName,a=s.value,h=o.indexOf(":");if(h>0)var u=s.prefix=o.slice(0,h),l=o.slice(h+1),c=u==="xmlns"&&l;else l=o,u=null,c=o==="xmlns"&&"";s.localName=l,c!==!1&&(i==null&&(i={},YO(r,r={})),r[c]=i[c]=a,s.uri=nh.XMLNS,e.startPrefixMapping(c,a))}for(var d=t.length;d--;){s=t[d];var u=s.prefix;u&&(u==="xml"&&(s.uri=nh.XML),u!=="xmlns"&&(s.uri=r[u||""]))}var h=n.indexOf(":");h>0?(u=t.prefix=n.slice(0,h),l=t.localName=n.slice(h+1)):(u=null,l=t.localName=n);var f=t.uri=r[u||""];if(e.startElement(f,l,n,t),t.closed){if(e.endElement(f,l,n),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=r,t.localNSMap=i,!0}function CQ(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function PQ(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function YO(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function AQ(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var o=MQ(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var d=o[a-1];return r.startDTD(u,l,c),r.endDTD(),d.index+d[0].length}}return-1}function RQ(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function qO(){this.attributeNames={}}qO.prototype={setTagName:function(t){if(!B3.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!B3.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function MQ(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}sS.XMLReader=XO;sS.ParseError=bl;var BQ=Us,DQ=Lo,O3=VO,KO=sS,kQ=DQ.DOMImplementation,I3=BQ.NAMESPACE,OQ=KO.ParseError,IQ=KO.XMLReader;function QO(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function ZO(t){this.options=t||{locator:{}}}ZO.prototype.parseFromString=function(t,e){var r=this.options,n=new IQ,i=r.domBuilder||new Ih,s=r.errorHandler,o=r.locator,a=r.xmlns||{},u=/\/x?html?$/.test(e),l=u?O3.HTML_ENTITIES:O3.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=FQ(s,i,o),n.domBuilder=r.domBuilder||i,u&&(a[""]=I3.HTML),a.xml=a.xml||I3.XML;var c=r.normalizeLineEndings||QO;return t&&typeof t=="string"?n.parse(c(t),a,l):n.errorHandler.error("invalid doc source"),i.doc};function FQ(t,e,r){if(!t){if(e instanceof Ih)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(u){t(o,u)}:t),n[o]=a&&function(u){a("[xmldom "+o+"]	"+u+Rx(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Ih(){this.cdata=!1}function ou(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Ih.prototype={startDocument:function(){this.doc=new kQ().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;Lf(this,s),this.currentElement=s,this.locator&&ou(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),u=n.getValue(a),r=n.getQName(a),l=i.createAttributeNS(t,r);this.locator&&ou(n.getLocator(a),l),l.value=l.nodeValue=u,s.setAttributeNode(l)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&ou(this.locator,r),Lf(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=F3.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&ou(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=F3.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&ou(this.locator,n),Lf(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&ou(this.locator,i),Lf(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Rx(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Rx(this.locator))},fatalError:function(t){throw new OQ(t,this.locator)}};function Rx(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function F3(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Ih.prototype[t]=function(){return null}});function Lf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}g0.__DOMHandler=Ih;g0.normalizeLineEndings=QO;g0.DOMParser=ZO;var UQ=g0.DOMParser;const LQ={createCanvas:(t,e)=>new OffscreenCanvas(t??0,e??0),getCanvasRenderingContext2D:()=>OffscreenCanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>globalThis.location.href,getFontFaceSet:()=>globalThis.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new UQ().parseFromString(t,"text/xml")};class NQ{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||(Mr.system.add(this._tickerUpdate,this,Bs.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Mr.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const _s=new NQ;class ih extends Ol{constructor(){super(...arguments),this.client=new Ie,this.movement=new Ie,this.offset=new Ie,this.global=new Ie,this.screen=new Ie}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,l,c,d,h,f,p,m){throw new Error("Method not implemented.")}}class zn extends ih{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ia extends ih{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ia.DOM_DELTA_PIXEL=0;Ia.DOM_DELTA_LINE=1;Ia.DOM_DELTA_PAGE=2;const GQ=2048,zQ=new Ie,yc=new Ie;class JO{constructor(e){this.dispatch=new un,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else pe(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){_s.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,zQ.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<GQ&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_s.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],f=this.hitTestMoveRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s,o||s(e,n));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const u=this._isInteractive(r),l=e.isInteractive();return l&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?l?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_s.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children,l=n;for(let c=u.length-1;c>=0;c--){const d=u[c],h=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,l,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.includeInBuild||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,yc),!e.hitArea.contains(yc.x,yc.y)))return!0;if(e.effects&&e.effects.length)for(let n=0;n<e.effects.length;n++){const i=e.effects[n];if(i.containsPoint&&!i.containsPoint(r,this.hitTestFn))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(r,yc),e.containsPoint(yc)):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this._notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,l;if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,c);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof zn)){pe("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ia)){pe("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(zn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ia);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(zn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof zn&&r instanceof zn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof ih&&r instanceof ih&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}_notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const $Q=1,HQ={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},oS=class Mx{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new JO(null),_s.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new zn(null),this._rootWheelEvent=new Ia(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Mx.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Mx._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this._currentCursor===e)return;this._currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this._bootstrapEvent(this._rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,_s.pointerMoved();const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this._normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this._bootstrapEvent(this._rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this._removeEvents(),this.domElement=e,_s.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;_s.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;_s.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}_normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=$Q),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this._rootWheelEvent;return this._transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}_bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this._transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=HQ[e.type]||e.type),e}_transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};oS.extension={name:"events",type:[A.WebGLSystem,A.CanvasSystem,A.WebGPUSystem],priority:-1};oS.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let e5=oS;const jQ={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??e5.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,u=this;i&&i.addEventListener("abort",()=>{u.off(t,a,o)}),s?u.once(t,a,o):u.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ol))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};var _0=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,t5=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,Bx=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const r5=class n5 extends Fs{constructor(e){e={...n5.defaultOptions,...e};const r=Fn.from({vertex:{source:Bx,entryPoint:"mainVertex"},fragment:{source:Bx,entryPoint:"mainFragment"}}),n=_i.from({vertex:_0,fragment:t5,name:"alpha-filter"}),{alpha:i,...s}=e,o=new Wt({uAlpha:{value:i,type:"f32"}});super({...s,gpuProgram:r,glProgram:n,resources:{alphaUniforms:o}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};r5.defaultOptions={alpha:1};let WQ=r5,VQ=0;class i5{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,r,n){const i=new At({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!0});return new X({source:i,label:`texturePool_${VQ++}`})}getOptimalTexture(e,r,n=1,i){let s=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);s=Ba(s),o=Ba(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let u=this._texturePool[a].pop();return u||(u=this.createTexture(s,o,i)),u.source._resolution=n,u.source.width=s/n,u.source.height=o/n,u.source.pixelWidth=s,u.source.pixelHeight=o,u.frame.x=0,u.frame.y=0,u.frame.width=e,u.frame.height=r,u.updateUvs(),this._poolKeyHash[u.uid]=a,u}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e){const r=this._poolKeyHash[e.uid];this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const ur=new i5,aS={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},XQ=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function s5(t){const e=aS[t],r=e.length;let n=XQ,i="";const s="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const YQ=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function o5(t,e){const r=Math.ceil(t/2);let n=YQ,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n=n.replace("%dimension%",e?"z":"w"),n}function a5(t,e){const r=o5(e,t),n=s5(e);return _i.from({vertex:r,fragment:n,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var u5=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let strength = gfu.uInputSize.w * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function l5(t,e){const r=aS[e],n=r.length,i=[],s=[],o=[];for(let d=0;d<e;d++){i[d]=`@location(${d}) offset${d}: vec2<f32>,`,t?s[d]=`filteredCord + vec2(${d-n+1} * strength, 0.0),`:s[d]=`filteredCord + vec2(0.0, ${d-n+1} * strength),`;const h=d<n?d:e-d-1,f=r[h].toString();o[d]=`finalColor += textureSample(uTexture, uSampler, offset${d}) * ${f};`}const a=i.join(`
`),u=s.join(`
`),l=o.join(`
`),c=u5.replace("%blur-struct%",a).replace("%blur-vertex-out%",u).replace("%blur-fragment-in%",a).replace("%blur-sampling%",l);return Fn.from({vertex:{source:c,entryPoint:"mainVertex"},fragment:{source:c,entryPoint:"mainFragment"}})}const c5=class d5 extends Fs{constructor(e){e={...d5.defaultOptions,...e};const r=a5(e.horizontal,e.kernelSize),n=l5(e.horizontal,e.kernelSize);super({glProgram:r,gpuProgram:n,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,r,n,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=ur.getSameSizeTexture(r);let o=r,a=s;this._state.blend=!1;for(let u=0;u<this.passes-1;u++){e.applyFilter(this,o,a,e.renderer.type===Mn.WEBGPU);const l=a;a=o,o=l}this._state.blend=!0,e.applyFilter(this,o,n,i),ur.returnTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};c5.defaultOptions={strength:8,quality:4,kernelSize:5};let vp=c5;class h5 extends Fs{constructor(...e){let r=e[0]??{};typeof r=="number"&&(le(de,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),r={strength:r},e[1]&&(r.quality=e[1]),e[2]&&(r.resolution=e[2]),e[3]&&(r.kernelSize=e[3])),r={...vp.defaultOptions,...r};const{strength:n,quality:i,...s}=r;super({...s,compatibleRenderers:Mn.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new vp({horizontal:!1,...r}),this.blurYFilter=new vp({horizontal:!0,...r}),this.quality=i,this.blur=n,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=ur.getSameSizeTexture(r);this.blurXFilter.apply(e,r,a,!0),this.blurYFilter.apply(e,a,n,i),ur.returnTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}h5.defaultOptions={strength:8,quality:4,kernelSize:5};var f5=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`,Dx=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class qQ extends Fs{constructor(e={}){const r=new Wt({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),n=Fn.from({vertex:{source:Dx,entryPoint:"mainVertex"},fragment:{source:Dx,entryPoint:"mainFragment"}}),i=_i.from({vertex:_0,fragment:f5,name:"color-matrix-filter"});super({...e,gpuProgram:n,glProgram:i,resources:{colorMatrixUniforms:r}}),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.matrix,e),n=this._colorMatrix(n)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=n,this.resources.colorMatrixUniforms.update()}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Me.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}grayscale(e,r){this.greyscale(e,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,c=o*(1-n)+a*i,d=o*(1-n)+a*i,h=n+o*(1-n),f=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,g=n+o*(1-n),_=[u,l,c,0,0,d,h,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Me.shared,[a,u,l]=o.setValue(n).toArray(),[c,d,h]=o.setValue(i).toArray(),f=[.3,.59,.11,0,0,a,u,l,e,0,c,d,h,r,0,a-c,u-d,l-h,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(e){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=e}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(e){this.resources.colorMatrixUniforms.uniforms.uAlpha=e}}var p5=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,m5=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,kx=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class KQ extends Fs{constructor(...e){let r=e[0];r instanceof Rn&&(e[1]&&le(de,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),r={sprite:r,scale:e[1]});const{sprite:n,scale:i,...s}=r;let o=i??20;typeof o=="number"&&(o=new Ie(o,o));const a=new Wt({uFilterMatrix:{value:new te,type:"mat3x3<f32>"},uScale:{value:o,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),u=_i.from({vertex:m5,fragment:p5,name:"displacement-filter"}),l=Fn.from({vertex:{source:kx,entryPoint:"mainVertex"},fragment:{source:kx,entryPoint:"mainFragment"}}),c=n.texture.source;super({...s,gpuProgram:l,glProgram:u,resources:{filterUniforms:a,uMapTexture:c,uMapSampler:c.style}}),this._sprite=r.sprite,this._sprite.renderable=!1}apply(e,r,n,i){const s=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(s.uFilterMatrix,this._sprite);const o=this._sprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&u!==0&&(s.uRotation[0]=o.a/a,s.uRotation[1]=o.b/a,s.uRotation[2]=o.c/u,s.uRotation[3]=o.d/u),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,r,n,i)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}var g5=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) *  uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    finalColor = color;
}
`,Ox=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
  uNoise:f32,
  uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

fn rand(co:vec2<f32>) -> f32
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);
  
    
    var sample = textureSample(uTexture, uSampler, uv);
    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;
  
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (sample.a > 0.0) {
      sample.r /= sample.a;
      sample.g /= sample.a;
      sample.b /= sample.a;
    }

    sample.r += diff;
    sample.g += diff;
    sample.b += diff;

    // Premultiply alpha again.
    sample.r *= sample.a;
    sample.g *= sample.a;
    sample.b *= sample.a;
    
    return sample;
}`;const _5=class y5 extends Fs{constructor(e={}){e={...y5.defaultOptions,...e};const r=Fn.from({vertex:{source:Ox,entryPoint:"mainVertex"},fragment:{source:Ox,entryPoint:"mainFragment"}}),n=_i.from({vertex:_0,fragment:g5,name:"noise-filter"}),{noise:i,seed:s,...o}=e;super({...o,gpuProgram:r,glProgram:n,resources:{noiseUniforms:new Wt({uNoise:{value:1,type:"f32"},uSeed:{value:1,type:"f32"}})}}),this.noise=i,this.seed=s??Math.random()}get noise(){return this.resources.noiseUniforms.uniforms.uNoise}set noise(e){this.resources.noiseUniforms.uniforms.uNoise=e}get seed(){return this.resources.noiseUniforms.uniforms.uSeed}set seed(e){this.resources.noiseUniforms.uniforms.uSeed=e}};_5.defaultOptions={noise:.5};let QQ=_5;class v5{constructor(e){this._renderer=e}push(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:r,filterEffect:e})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}v5.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"filter"};const ZQ=new te;function x5(t,e){return e.clear(),uS(t,e),e.isValid||e.set(0,0,0,0),t.renderGroup?e.applyMatrix(t.renderGroup.localTransform):e.applyMatrix(t.parentRenderGroup.worldTransform),e}function uS(t,e){if(t.localDisplayStatus!==7||!t.measurable)return;const r=!!t.effects.length;let n=e;if((t.renderGroup||r)&&(n=ts.get().clear()),t.boundsArea)e.addRect(t.boundsArea,t.worldTransform);else{if(t.renderPipeId){const s=t.bounds;n.addFrame(s.minX,s.minY,s.maxX,s.maxY,t.groupTransform)}const i=t.children;for(let s=0;s<i.length;s++)uS(i[s],n)}if(r){let i=!1;for(let s=0;s<t.effects.length;s++)t.effects[s].addBounds&&(i||(i=!0,n.applyMatrix(t.parentRenderGroup.worldTransform)),t.effects[s].addBounds(n,!0));i&&(n.applyMatrix(t.parentRenderGroup.worldTransform.copyTo(ZQ).invert()),e.addBounds(n,t.relativeGroupTransform)),e.addBounds(n),ts.return(n)}else t.renderGroup&&(e.addBounds(n,t.relativeGroupTransform),ts.return(n))}function b5(t,e){e.clear();const r=e.matrix;for(let n=0;n<t.length;n++){const i=t[n];i.globalDisplayStatus<7||(e.matrix=i.worldTransform,i.addBounds(e))}return e.matrix=r,e}const JQ=new Il({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),location:0,format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class S5{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new Wt({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new rs({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){var f;const r=this.renderer,n=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,n.length===0){i.skip=!0;return}const s=i.bounds;e.renderables?b5(e.renderables,s):e.filterEffect.filterArea?(s.clear(),s.addRect(e.filterEffect.filterArea),s.applyMatrix(e.container.worldTransform)):x5(e.container,s);const o=r.renderTarget.rootRenderTarget.colorTexture.source;let a=o._resolution,u=0,l=o.antialias,c=!1,d=!1;for(let p=0;p<n.length;p++){const m=n[p];if(a=Math.min(a,m.resolution),u+=m.padding,m.antialias!=="inherit"&&(m.antialias==="on"?l=!0:l=!1),!!!(m.compatibleRenderers&r.type)){d=!1;break}if(m.blendRequired&&!(((f=r.backBuffer)==null?void 0:f.useBackBuffer)??!0)){pe("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),d=!1;break}d=m.enabled||d,c=c||m.blendRequired}if(!d){i.skip=!0;return}const h=r.renderTarget.rootViewPort;if(s.scale(a).fitBounds(0,h.width,0,h.height).scale(1/a).pad(u).ceil(),!s.isPositive){i.skip=!0;return}i.skip=!1,i.bounds=s,i.blendRequired=c,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=r.renderTarget.renderSurface,i.inputTexture=ur.getOptimalTexture(s.width,s.height,a,l),r.renderTarget.bind(i.inputTexture,!0),r.globalUniforms.push({offset:s})}pop(){const e=this.renderer;this._filterStackIndex--;const r=this._filterStack[this._filterStackIndex];if(r.skip)return;this._activeFilterData=r;const n=r.inputTexture,i=r.bounds;let s=X.EMPTY;if(e.renderTarget.finishRenderPass(),r.blendRequired){const a=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,u=e.renderTarget.getRenderTarget(r.previousRenderSurface);s=this.getBackTexture(u,i,a)}r.backTexture=s;const o=r.filterEffect.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(s.source,3),e.globalUniforms.pop(),o.length===1)o[0].apply(this,n,r.previousRenderSurface,!1),ur.returnTexture(n);else{let a=r.inputTexture,u=ur.getOptimalTexture(i.width,i.height,a.source._resolution,!1),l=0;for(l=0;l<o.length-1;++l){o[l].apply(this,a,u,!0);const d=a;a=u,u=d}o[l].apply(this,a,r.previousRenderSurface,!1),ur.returnTexture(a),ur.returnTexture(u)}r.blendRequired&&ur.returnTexture(s)}getBackTexture(e,r,n){const i=e.colorTexture.source._resolution,s=ur.getOptimalTexture(r.width,r.height,i,!1);let o=r.minX,a=r.minY;n&&(o-=n.minX,a-=n.minY),o=Math.floor(o*i),a=Math.floor(a*i);const u=Math.ceil(r.width*i),l=Math.ceil(r.height*i);return this.renderer.renderTarget.copyToTexture(e,s,{x:o,y:a},{width:u,height:l},{x:0,y:0}),s}applyFilter(e,r,n,i){const s=this.renderer,o=this._filterStack[this._filterStackIndex],a=o.bounds,u=Ie.shared,c=o.previousRenderSurface===n;let d=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,h=this._filterStackIndex-1;for(;h>0&&this._filterStack[h].skip;)--h;h>0&&(d=this._filterStack[h].inputTexture.source._resolution);const f=this._filterGlobalUniforms,p=f.uniforms,m=p.uOutputFrame,g=p.uInputSize,_=p.uInputPixel,v=p.uInputClamp,y=p.uGlobalFrame,x=p.uOutputTexture;if(c){let b=this._filterStackIndex;for(;b>0;){b--;const T=this._filterStack[this._filterStackIndex-1];if(!T.skip){u.x=T.bounds.minX,u.y=T.bounds.minY;break}}m[0]=a.minX-u.x,m[1]=a.minY-u.y}else m[0]=0,m[1]=0;m[2]=r.frame.width,m[3]=r.frame.height,g[0]=r.source.width,g[1]=r.source.height,g[2]=1/g[0],g[3]=1/g[1],_[0]=r.source.pixelWidth,_[1]=r.source.pixelHeight,_[2]=1/_[0],_[3]=1/_[1],v[0]=.5*_[2],v[1]=.5*_[3],v[2]=r.frame.width*g[2]-.5*_[2],v[3]=r.frame.height*g[3]-.5*_[3];const S=this.renderer.renderTarget.rootRenderTarget.colorTexture;y[0]=u.x*d,y[1]=u.y*d,y[2]=S.source.width*d,y[3]=S.source.height*d;const w=this.renderer.renderTarget.getRenderTarget(n);if(s.renderTarget.bind(n,!!i),n instanceof X?(x[0]=n.frame.width,x[1]=n.frame.height):(x[0]=w.width,x[1]=w.height),x[2]=w.isRoot?-1:1,f.update(),s.renderPipes.uniformBatch){const b=s.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(b,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(r.source,1),this._globalFilterBindGroup.setResource(r.source.style,2),e.groups[0]=this._globalFilterBindGroup,s.encoder.draw({geometry:JQ,shader:e,state:e._state,topology:"triangle-list"}),s.type===Mn.WEBGL&&s.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new dr,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,r){const n=this._activeFilterData,i=e.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),s=r.worldTransform.copyTo(te.shared);return s.invert(),i.prepend(s),i.scale(1/r.texture.frame.width,1/r.texture.frame.height),i.translate(r.anchor.x,r.anchor.y),i}}S5.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"filter"};var w5=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha; 
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * uAlpha * clip);

    finalColor = original;
}
`,E5=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,Ix=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,  
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;

     var clip = step(3.5,
        step(maskClamp.x, filterUv.x) +
        step(maskClamp.y, filterUv.y) +
        step(filterUv.x, maskClamp.z) +
        step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    
    var npmAlpha = 0.0;

    var alphaMul = 1.0 - npmAlpha * (1.0 - mask.a);

    var a = (alphaMul * mask.r) * clip;

    return vec4(source.rgb, source.a) * a;
}`;class T5 extends Fs{constructor(e){const{sprite:r,...n}=e,i=new s2(r.texture),s=new Wt({uFilterMatrix:{value:new te,type:"mat3x3<f32>"},uMaskClamp:{value:i.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"}}),o=Fn.from({vertex:{source:Ix,entryPoint:"mainVertex"},fragment:{source:Ix,entryPoint:"mainFragment"}}),a=_i.from({vertex:E5,fragment:w5,name:"mask-filter"});super({...n,gpuProgram:o,glProgram:a,resources:{filterUniforms:s,uMaskTexture:r.texture.source}}),this.sprite=r,this._textureMatrix=i}apply(e,r,n,i){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,r,n,i)}}var eZ=`fn getLuminosity(c: vec3<f32>) -> f32 {
  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
}

fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {
  let d: f32 = lum - getLuminosity(c);
  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);

  // clip back into legal range
  let newLum: f32 = getLuminosity(newColor);
  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));
  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));

  let t1: f32 = newLum / (newLum - cMin);
  let t2: f32 = (1.0 - newLum) / (cMax - newLum);

  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));

  return finalColor;
}

fn getSaturation(c: vec3<f32>) -> f32 {
  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
}

// Set saturation if color components are sorted in ascending order.
fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {
  var result: vec3<f32>;
  if (cSorted.z > cSorted.x) {
    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));
    result = vec3<f32>(0.0, newY, s);
  } else {
    result = vec3<f32>(0.0, 0.0, 0.0);
  }
  return vec3<f32>(result.x, result.y, result.z);
}

fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {
    var result: vec3<f32> = c;

    if (c.r <= c.g && c.r <= c.b) {
        if (c.g <= c.b) {
            result = setSaturationMinMidMax(result, s);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.r, temp.b, temp.g);
        }
    } else if (c.g <= c.r && c.g <= c.b) {
        if (c.r <= c.b) {
            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.r, temp.b);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.b, temp.r);
        }
    } else {
        if (c.r <= c.g) {
            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.r, temp.g);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.g, temp.r);
        }
    }

    return result;
}`;function Fx(t,e,r,n,i,s,o,a){const u=o-r,l=a-n,c=i-r,d=s-n,h=t-r,f=e-n,p=u*u+l*l,m=u*c+l*d,g=u*h+l*f,_=c*c+d*d,v=c*h+d*f,y=1/(p*_-m*m),x=(_*g-m*v)*y,S=(p*v-m*g)*y;return x>=0&&S>=0&&x+S<1}class lS{constructor(e=0,r=0,n=0,i=0,s=0,o=0){this.type="triangle",this.x=e,this.y=r,this.x2=n,this.y2=i,this.x3=s,this.y3=o}contains(e,r){const n=(this.x-this.x3)*(r-this.y3)-(this.y-this.y3)*(e-this.x3),i=(this.x2-this.x)*(r-this.y)-(this.y2-this.y)*(e-this.x);if(n<0!=i<0&&n!==0&&i!==0)return!1;const s=(this.x3-this.x2)*(r-this.y2)-(this.y3-this.y2)*(e-this.x2);return s===0||s<0==n+i<=0}strokeContains(e,r,n){const i=n/2,s=i*i,{x:o,x2:a,x3:u,y:l,y2:c,y3:d}=this;return td(e,r,o,l,a,d)<=s||td(e,r,a,c,u,d)<=s||td(e,r,u,d,o,l)<=s}clone(){return new lS(this.x,this.y,this.x2,this.y2,this.x3,this.y3)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x2=e.x2,this.y2=e.y2,this.x3=e.x3,this.y3=e.y3,this}copyTo(e){return e.copyFrom(this),e}getBounds(e){e=e||new ke;const r=Math.min(this.x,this.x2,this.x3),n=Math.max(this.x,this.x2,this.x3),i=Math.min(this.y,this.y2,this.y3),s=Math.max(this.y,this.y2,this.y3);return e.x=r,e.y=i,e.width=n-r,e.height=s-i,e}}const C5=class P5{constructor(e){this._tick=()=>{this.timeout=setTimeout(this._processQueue,0)},this._processQueue=()=>{const{queue:r}=this;let n=0;for(;r.length&&n<P5.uploadsPerFrame;){const i=r.shift();this.uploadQueueItem(i),n++}r.length?Mr.system.addOnce(this._tick,this,Bs.UTILITY):this._resolve()},this.renderer=e,this.queue=[],this.resolves=[]}getQueue(){return[...this.queue]}add(e){const r=Array.isArray(e)?e:[e];for(const n of r)n instanceof Ve?this._addContainer(n):this.resolveQueueItem(n,this.queue);return this}_addContainer(e){this.resolveQueueItem(e,this.queue);for(const r of e.children)this._addContainer(r)}upload(e){return e&&this.add(e),new Promise(r=>{this.queue.length?(this.resolves.push(r),this.dedupeQueue(),Mr.system.addOnce(this._tick,this,Bs.UTILITY)):r()})}dedupeQueue(){const e=Object.create(null);let r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];e[i.uid]||(e[i.uid]=!0,this.queue[r++]=i)}this.queue.length=r}_resolve(){const{resolves:e}=this,r=e.slice(0);e.length=0;for(const n of r)n()}};C5.uploadsPerFrame=4;let A5=C5;class Sl extends Ve{constructor(e){e instanceof Ar&&(e={context:e});const{context:r,roundPixels:n,...i}=e||{};super({label:"Graphics",...i}),this.canBundle=!0,this.renderPipeId="graphics",this._roundPixels=0,r?this._context=r:this._context=this._ownedContext=new Ar,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(e){e.addBounds(this._context.bounds)}containsPoint(e){return this._context.containsPoint(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}onViewUpdate(){if(this._didChangeId+=4096,this._didGraphicsUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Sl(this._context.clone()):(this._ownedContext=null,new Sl(this._context))}lineStyle(e,r,n){le(de,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),r&&(i.color=r),n&&(i.alpha=n),this.context.strokeStyle=i,this}beginFill(e,r){le(de,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e&&(n.color=e),r&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){le(de,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Ar.defaultStrokeStyle.width||e.color!==Ar.defaultStrokeStyle.color||e.alpha!==Ar.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return le(de,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return le(de,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return le(de,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return le(de,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return le(de,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return le(de,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const R5=class M5 extends Il{constructor(...e){let r=e[0]??{};r instanceof Float32Array&&(le(de,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:e[1],indices:e[2]}),r={...M5.defaultOptions,...r};const n=r.positions||new Float32Array([0,0,1,0,1,1,0,1]),i=r.uvs||new Float32Array([0,0,1,0,1,1,0,1]),s=r.indices||new Uint32Array([0,1,2,0,2,3]),o=r.shrinkBuffersToFit,a=new wn({data:n,label:"attribute-mesh-positions",shrinkToFit:o,usage:Te.VERTEX|Te.COPY_DST}),u=new wn({data:i,label:"attribute-mesh-uvs",shrinkToFit:o,usage:Te.VERTEX|Te.COPY_DST}),l=new wn({data:s,label:"index-mesh-buffer",shrinkToFit:o,usage:Te.INDEX|Te.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:u,format:"float32x2",stride:2*4,offset:0}},indexBuffer:l,topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};R5.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let No=R5;class Fh extends Ve{constructor(...e){let r=e[0];r instanceof Il&&(le(de,"Mesh: use new Mesh({ geometry, shader }) instead"),r={geometry:r,shader:e[1]},e[3]&&(le(de,"Mesh: drawMode argument has been removed, use geometry.topology instead"),r.geometry.topology=e[3]));const{geometry:n,shader:i,texture:s,roundPixels:o,state:a,...u}=r;super({label:"Mesh",...u}),this.renderPipeId="mesh",this.canBundle=!0,this._roundPixels=0,this.allowChildren=!1,this.shader=i,this.texture=s??(i==null?void 0:i.texture)??X.WHITE,this.state=a??Fi.for2d(),this._geometry=n,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=o??!1}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get material(){return le(de,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(e){this._shader!==e&&(this._shader=e,this.onViewUpdate())}get shader(){return this._shader}set geometry(e){var r;this._geometry!==e&&((r=this._geometry)==null||r.off("update",this.onViewUpdate,this),e.on("update",this.onViewUpdate,this),this._geometry=e,this.onViewUpdate())}get geometry(){return this._geometry}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=e),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}get batched(){return this._shader?!1:this._geometry instanceof No?this._geometry.batchMode==="auto"?this._geometry.positions.length/2<=100:this._geometry.batchMode==="batch":!1}get bounds(){return this._geometry.bounds}addBounds(e){e.addBounds(this.geometry.bounds)}containsPoint(e){const{x:r,y:n}=e;if(!this.bounds.containsPoint(r,n))return!1;const i=this.geometry.getBuffer("aPosition").data,s=this.geometry.topology==="triangle-strip"?3:1;if(this.geometry.getIndex()){const o=this.geometry.getIndex().data,a=o.length;for(let u=0;u+2<a;u+=s){const l=o[u]*2,c=o[u+1]*2,d=o[u+2]*2;if(Fx(r,n,i[l],i[l+1],i[c],i[c+1],i[d],i[d+1]))return!0}}else{const o=i.length/2;for(let a=0;a+2<o;a+=s){const u=a*2,l=(a+1)*2,c=(a+2)*2;if(Fx(r,n,i[u],i[u+1],i[l],i[l+1],i[c],i[c+1]))return!0}}return!1}onViewUpdate(){if(this._didChangeId+=4096,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var n;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(i)}(n=this._geometry)==null||n.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null}}class sh extends Rn{constructor(e,r=!0){super(e[0]instanceof X?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Mr.shared.add(this.update,this,Bs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=e.deltaTime,n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(X.from(e[n]));return new sh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(X.from(e[n]));return new sh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof X)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Mr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class B5{constructor({matrix:e,observer:r}={}){this.dirty=!0,this._matrix=e??new te,this.observer=r,this.position=new Ft(this,0,0),this.scale=new Ft(this,1,1),this.pivot=new Ft(this,0,0),this.skew=new Ft(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var r;this.dirty=!0,e===this.skew&&this.updateSkew(),(r=this.observer)==null||r._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const D5=class xp extends Ve{constructor(...e){let r=e[0]||{};r instanceof X&&(r={texture:r}),e.length>1&&(le(de,"use new TilingSprite({ texture, width:100, height:100 }) instead"),r.width=e[1],r.height=e[2]),r={...xp.defaultOptions,...r};const{texture:n,anchor:i,tilePosition:s,tileScale:o,tileRotation:a,width:u,height:l,applyAnchorToTexture:c,roundPixels:d,...h}=r??{};super({label:"TilingSprite",...h}),this.renderPipeId="tilingSprite",this.canBundle=!0,this.batched=!0,this._roundPixels=0,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this.allowChildren=!1,this._anchor=new Ft({_onUpdate:()=>{this.onViewUpdate()}}),this._applyAnchorToTexture=c,this.texture=n,this._width=u??n.width,this._height=l??n.height,this._tileTransform=new B5({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=s,this.tileScale=o,this.tileRotation=a,this.roundPixels=d??!1}static from(e,r={}){return typeof e=="string"?new xp({texture:ze.get(e),...r}):new xp({texture:e,...r})}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}_updateBounds(){const e=this._bounds,r=this._anchor,n=this._width,i=this._height;e.maxX=-r._x*n,e.minX=e.maxX+n,e.maxY=-r._y*i,e.minY=e.maxY+i}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this._width,n=this._height,i=-r*this._anchor._x;let s=0;return e.x>=i&&e.x<=i+r&&(s=-n*this._anchor._y,e.y>=s&&e.y<=s+n)}onViewUpdate(){if(this._boundsDirty=!0,this._didTilingSpriteUpdate=!0,this._didChangeId+=4096,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null}};D5.defaultOptions={texture:X.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let k5=D5;class y0 extends Ve{constructor(e,r){const{text:n,resolution:i,style:s,anchor:o,width:a,height:u,roundPixels:l,...c}=e;super({...c}),this.batched=!0,this._resolution=null,this._didTextUpdate=!0,this._roundPixels=0,this._bounds=new dr,this._boundsDirty=!0,this._styleClass=r,this.text=n??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Ft({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=l??!1,a&&(this.width=a),u&&(this.height=u)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var r;e=e||{},(r=this._style)==null||r.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,r){let n,i;typeof e!="object"?(n=e,i=r??e):(n=e.width,i=e.height??e.width),n!==void 0&&this._setWidth(n,this.bounds.width),i!==void 0&&this._setHeight(i,this.bounds.height)}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this.bounds.width,n=this.bounds.height,i=-r*this.anchor.x;let s=0;return e.x>=i&&e.x<=i+r&&(s=-n*this.anchor.y,e.y>=s&&e.y<=s+n)}onViewUpdate(){if(this._didChangeId+=4096,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0,this._didTextUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_getKey(){return`${this.text}:${this._style.styleKey}-${this.resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function v0(t,e){let r=t[0]??{};return(typeof r=="string"||t[1])&&(le(de,`use new ${e}({ text: "hi!", style }) instead`),r={text:r,style:t[1]}),r}class cS extends y0{constructor(...e){const r=v0(e,"Text");super(r,fi),this.renderPipeId="text"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=Pi.measureText(this._text,this._style),{width:s,height:o}=i;e.minX=-n._x*s-r,e.maxX=e.minX+s+r*2,e.minY=-n._y*o-r,e.maxY=e.minY+o+r*2}}class O5 extends A5{resolveQueueItem(e,r){return e instanceof Ve?this.resolveContainerQueueItem(e,r):e instanceof At||e instanceof X?r.push(e.source):e instanceof Ar&&r.push(e),null}resolveContainerQueueItem(e,r){e instanceof Rn||e instanceof k5||e instanceof Fh?r.push(e.texture.source):e instanceof cS?r.push(e):e instanceof Sl?r.push(e.context):e instanceof sh&&e.textures.forEach(n=>{n.source?r.push(n.source):r.push(n.texture.source)})}resolveGraphicsContextQueueItem(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:r}=e;for(const n of r)if(n.action==="texture"){const{image:i}=n.data;return i.source}else if(n.action==="fill"){const{texture:i}=n.data.style;return i.source}return null}}class I5 extends y0{constructor(...e){var r;const n=v0(e,"BitmapText");n.style??(n.style=n.style||{}),(r=n.style).fill??(r.fill=16777215),super(n,fi),this.renderPipeId="bitmapText"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=eh.measureText(this.text,this._style),s=i.scale,o=i.offsetY*s,a=i.width*s,u=i.height*s;e.minX=-n._x*a-r,e.maxX=e.minX+a,e.minY=-n._y*(u+o)-r,e.maxY=e.minY+u}}function F5(t){const e=t._stroke,r=t._fill,i=[`div { ${[`color: ${Me.shared.setValue(r.color).toHex()}`,`font-size: ${t.fontSize}px`,`font-family: ${t.fontFamily}`,`font-weight: ${t.fontWeight}`,`font-style: ${t.fontStyle}`,`font-variant: ${t.fontVariant}`,`letter-spacing: ${t.letterSpacing}px`,`text-align: ${t.align}`,`padding: ${t.padding}px`,`white-space: ${t.whiteSpace==="pre"&&t.wordWrap?"pre-wrap":t.whiteSpace}`,...t.lineHeight?[`line-height: ${t.lineHeight}px`]:[],...t.wordWrap?[`word-wrap: ${t.breakWords?"break-all":"break-word"}`,`max-width: ${t.wordWrapWidth}px`]:[],...e?[L5(e)]:[],...t.dropShadow?[U5(t.dropShadow)]:[],...t.cssOverrides].join(";")} }`];return tZ(t.tagStyles,i),i.join(" ")}function U5(t){const e=Me.shared.setValue(t.color).setAlpha(t.alpha).toHexa(),r=Math.round(Math.cos(t.angle)*t.distance),n=Math.round(Math.sin(t.angle)*t.distance),i=`${r}px ${n}px`;return t.blur>0?`text-shadow: ${i} ${t.blur}px ${e}`:`text-shadow: ${i} ${e}`}function L5(t){return[`-webkit-text-stroke-width: ${t.width}px`,`-webkit-text-stroke-color: ${Me.shared.setValue(t.color).toHex()}`,`text-stroke-width: ${t.width}px`,`text-stroke-color: ${Me.shared.setValue(t.color).toHex()}`,"paint-order: stroke"].join(";")}const U3={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},L3={fill:t=>`color: ${Me.shared.setValue(t).toHex()}`,breakWords:t=>`word-wrap: ${t?"break-all":"break-word"}`,stroke:L5,dropShadow:U5};function tZ(t,e){for(const r in t){const n=t[r],i=[];for(const s in n)L3[s]?i.push(L3[s](n[s])):U3[s]&&i.push(U3[s].replace("{{VALUE}}",n[s]));e.push(`${r} { ${i.join(";")} }`)}}class Fa extends fi{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=N2(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new Fa({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=F5(this)),this._cssStyle}addOverride(...e){const r=e.filter(n=>!this.cssOverrides.includes(n));r.length>0&&(this.cssOverrides.push(...r),this.update())}removeOverride(...e){const r=e.filter(n=>this.cssOverrides.includes(n));r.length>0&&(this.cssOverrides=this.cssOverrides.filter(n=>!r.includes(n)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&pe("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&pe("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}const Ux="http://www.w3.org/2000/svg",Lx="http://www.w3.org/1999/xhtml";class dS{constructor(){this.svgRoot=document.createElementNS(Ux,"svg"),this.foreignObject=document.createElementNS(Ux,"foreignObject"),this.domElement=document.createElementNS(Lx,"div"),this.styleElement=document.createElementNS(Lx,"style"),this.image=new Image;const{foreignObject:e,svgRoot:r,styleElement:n,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",r.appendChild(e),e.appendChild(n),e.appendChild(i)}}let N3;function hS(t,e,r,n){n=n||N3||(N3=new dS);const{domElement:i,styleElement:s,svgRoot:o}=n;i.innerHTML=`<style>${e.cssStyle}</style><div>${t}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(o);const a=i.getBoundingClientRect();o.remove();const u=Pi.measureFont(e.fontStyle).descent;return{width:a.width,height:a.height+u}}class N5 extends y0{constructor(...e){const r=v0(e,"HtmlText");super(r,Fa),this.renderPipeId="htmlText"}_updateBounds(){const e=this._bounds,r=this._style.padding,n=this._anchor,i=hS(this.text,this._style),{width:s,height:o}=i;e.minX=-n._x*s-r,e.maxX=e.minX+s,e.minY=-n._y*o-r,e.maxY=e.minY+o}}class G5 extends O5{uploadQueueItem(e){e instanceof At?this.uploadTextureSource(e):e instanceof cS?this.uploadText(e):e instanceof N5?this.uploadHTMLText(e):e instanceof I5?this.uploadBitmapText(e):e instanceof Ar&&this.uploadGraphicsContext(e)}uploadTextureSource(e){this.renderer.texture.initSource(e)}uploadText(e){this.renderer.renderPipes.text.initGpuText(e)}uploadBitmapText(e){this.renderer.renderPipes.bitmapText.initGpuText(e)}uploadHTMLText(e){this.renderer.renderPipes.htmlText.initGpuText(e)}uploadGraphicsContext(e){this.renderer.graphicsContext.getContextRenderData(e);const{instructions:r}=e;for(const n of r)if(n.action==="texture"){const{image:i}=n.data;this.uploadTextureSource(i.source)}else if(n.action==="fill"){const{texture:i}=n.data.style;this.uploadTextureSource(i.source)}return null}}class z5 extends G5{destroy(){clearTimeout(this.timeout),this.renderer=null,this.queue=null,this.resolves=null}}z5.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"prepare"};function Nx(t,e,r){if(t)for(const n in t){const i=n.toLocaleLowerCase(),s=e[i];if(s){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&s.push(`//----${r}----//`),s.push(o)}else pe(`${n} placement hook does not exist in shader`)}}const $5=/\{\{(.*?)\}\}/g;function Gx(t){var n;const e={};return(((n=t.match($5))==null?void 0:n.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function G3(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function zx(t,e,r=!1){const n=[];G3(e,n),t.forEach(a=>{a.header&&G3(a.header,n)});const i=n;r&&i.sort();const s=i.map((a,u)=>`       @location(${u}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function z3(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function rZ(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function nZ(t){const e=/@.*?\s+/g;return t.replace(e,"")}function H5(t,e){const r=[];z3(e,r),t.forEach(u=>{u.header&&z3(u.header,r)});let n=0;const i=r.sort().map(u=>u.indexOf("builtin")>-1?u:`@location(${n++}) ${u}`).join(`,
`),s=r.sort().map(u=>`       var ${nZ(u)};`).join(`
`),o=`return VSOutput(
                ${r.sort().map(u=>` ${rZ(u)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function $x(t,e){let r=t;for(const n in e){const i=e[n];i.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const ao=Object.create(null),ny=new Map;let iZ=0;function j5({template:t,bits:e}){const r=V5(t,e);if(ao[r])return ao[r];const{vertex:n,fragment:i}=sZ(t,e);return ao[r]=X5(n,i,e),ao[r]}function W5({template:t,bits:e}){const r=V5(t,e);return ao[r]||(ao[r]=X5(t.vertex,t.fragment,e)),ao[r]}function sZ(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let i=zx(r,t.vertex,!0);i=H5(r,i);const s=zx(n,t.fragment,!0);return{vertex:i,fragment:s}}function V5(t,e){return e.map(r=>(ny.has(r)||ny.set(r,iZ++),ny.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function X5(t,e,r){const n=Gx(t),i=Gx(e);return r.forEach(s=>{Nx(s.vertex,n,s.name),Nx(s.fragment,i,s.name)}),{vertex:$x(t,n),fragment:$x(e,i)}}const Y5=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,q5=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        return outColor * vColor;
      };
`,K5=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Q5=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
    }
`,Z5={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},oZ={name:"global-uniforms-ubo-bit",vertex:{header:`
          uniform globalUniforms {
            mat3 uProjectionMatrix;
            mat3 uWorldTransformMatrix;
            vec4 uWorldColorAlpha;
            vec2 uResolution;
          };
        `}},J5={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Fl({bits:t,name:e}){const r=j5({template:{fragment:q5,vertex:Y5},bits:[Z5,...t]});return Fn.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function Ul({bits:t,name:e}){return new _i({name:e,...W5({template:{vertex:K5,fragment:Q5},bits:[J5,...t]})})}const x0={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},b0={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},iy={};function aZ(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function uZ(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function S0(t){return iy[t]||(iy[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;
    
                ${aZ(Ii())}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);
    
                ${uZ(Ii())}
            `}}),iy[t]}const sy={};function lZ(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function w0(t){return sy[t]||(sy[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;
              
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;
    
                uniform sampler2D uTextures[${t}];
              
            `,main:`
    
                ${lZ(Ii())}
            `}}),sy[t]}const Ll={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Nl={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},$3={};function E0(t){let e=$3[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=$3[t]=new Wt({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class fS{constructor(){this._didUpload=!1,this._tempState=Fi.for2d()}init(e){const r=Ii(),n=Ul({name:"batch",bits:[b0,w0(r),Nl]});this._shader=new Un({glProgram:n,resources:{batchSamplers:E0(r)}}),e.renderer.runners.contextChange.add(this)}contextChange(){this._didUpload=!1}start(e,r){const n=e.renderer;n.shader.bind(this._shader,this._didUpload),n.shader.updateUniformGroup(n.globalUniforms.uniformGroup),n.geometry.bind(r,this._shader.glProgram)}execute(e,r){const n=e.renderer;this._didUpload=!0,this._tempState.blendMode=r.blendMode,n.state.set(this._tempState);const i=r.textures.textures;for(let s=0;s<i.length;s++)n.texture.bind(i[s],s);n.geometry.draw("triangle-list",r.size,r.start)}destroy(){this._shader.destroy(!0),this._shader=null}}fS.extension={type:[A.WebGLPipesAdaptor],name:"batch"};function cZ(t){const e=[];let r=0;for(let n=0;n<t;n++)e[r]={texture:{sampleType:"float",viewDimension:"2d",multisampled:!1},binding:r,visibility:GPUShaderStage.FRAGMENT},r++,e[r]={sampler:{type:"filtering"},binding:r,visibility:GPUShaderStage.FRAGMENT},r++;return e}function dZ(t){const e={};let r=0;for(let n=0;n<t;n++)e[`textureSource${n+1}`]=r++,e[`textureSampler${n+1}`]=r++;return e}const Nf=Fi.for2d();class pS{init(){const e=Fl({name:"batch",bits:[x0,S0(Ii()),Ll]});this._shader=new Un({gpuProgram:e,groups:{}})}start(e,r){const n=e.renderer,i=n.encoder,s=this._shader.gpuProgram;this._geometry=r,i.setGeometry(r),Nf.blendMode="normal",n.pipeline.getPipeline(r,s,Nf);const o=n.globalUniforms.bindGroup;i.resetBindGroup(1),i.setBindGroup(0,o,s)}execute(e,r){const n=this._shader.gpuProgram,i=e.renderer,s=i.encoder;if(!r.bindGroup){const u=r.textures;r.bindGroup=l0(u.textures,u.count)}Nf.blendMode=r.blendMode;const o=i.bindGroup.getBindGroup(r.bindGroup,n,1),a=i.pipeline.getPipeline(this._geometry,n,Nf);r.bindGroup._touch(i.textureGC.count),s.setPipeline(a),s.renderPassEncoder.setBindGroup(1,o),s.renderPassEncoder.drawIndexed(r.size,1,r.start)}destroy(){this._shader.destroy(!0),this._shader=null}}pS.extension={type:[A.WebGPUPipesAdaptor],name:"batch"};class mS{constructor(e,r){this.state=Fi.for2d(),this._batches=Object.create(null),this._geometries=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init(this)}buildStart(e){if(!this._batches[e.uid]){const r=new C2;this._batches[e.uid]=r,this._geometries[r.uid]=new T2}this._activeBatch=this._batches[e.uid],this._activeGeometry=this._geometries[this._activeBatch.uid],this._activeBatch.begin()}addToBatch(e){this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){const r=this._activeBatch,n=this._activeGeometry;r.finish(e),n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}upload(e){const r=this._batches[e.uid],n=this._geometries[r.uid];r.dirty&&(r.dirty=!1,n.buffers[0].update(r.attributeSize*4))}execute(e){if(e.action==="startBatch"){const r=e.batcher,n=this._geometries[r.uid];this._adaptor.start(this,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor.destroy(),this._adaptor=null;for(const e in this._batches)this._batches[e].destroy();this._batches=null;for(const e in this._geometries)this._geometries[e].destroy();this._geometries=null}}mS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"batch"};function hZ(t){const e=t.split(/([\n{}])/g).map(i=>i.trim()).filter(i=>i.length);let r="";return e.map(i=>{let s=r+i;return i==="{"?r+="    ":i==="}"&&(r=r.substr(0,r.length-4),s=r+i),s}).join(`
`)}const Vu={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},e8={...Vu,vertex:{...Vu.vertex,header:Vu.vertex.header.replace("group(1)","group(2)")}},T0={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},t8={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},r8={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;

         
        `,main:`
            outColor = texture(uTexture, vUV);
        `}};function n8(t,e){const r=t.root,n=t.instructionSet;n.reset(),e.batch.buildStart(n),e.blendMode.buildStart(),e.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),i8(r,n,e,!0),e.batch.buildEnd(n),e.blendMode.buildEnd(n)}function Uh(t,e,r){t.globalDisplayStatus<7||!t.includeInBuild||(t.sortableChildren&&t.sortChildren(),t.isSimple?fZ(t,e,r):i8(t,e,r,!1))}function fZ(t,e,r){if(t.renderPipeId&&(r.blendMode.setBlendMode(t,t.groupBlendMode,e),t.didViewUpdate=!1,r[t.renderPipeId].addRenderable(t,e)),!t.renderGroup){const n=t.children,i=n.length;for(let s=0;s<i;s++)Uh(n[s],e,r)}}function i8(t,e,r,n){if(!n&&t.renderGroup)r.renderGroup.addRenderGroup(t.renderGroup,e);else{for(let o=0;o<t.effects.length;o++){const a=t.effects[o];r[a.pipe].push(a,t,e)}const i=t.renderPipeId;i&&(r.blendMode.setBlendMode(t,t.groupBlendMode,e),t.didViewUpdate=!1,r[i].addRenderable(t,e));const s=t.children;if(s.length)for(let o=0;o<s.length;o++)Uh(s[o],e,r);for(let o=t.effects.length-1;o>=0;o--){const a=t.effects[o];r[a.pipe].pop(a,t,e)}}}const pZ=new dr;class mZ extends Wd{constructor(){super(),this.filters=[new T5({sprite:new Rn(X.EMPTY)})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}}class gS{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,r,n){const i=this._renderer;if(i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,canBundle:!1,maskedContainer:r}),e.renderMaskToTexture){const s=e.mask;s.includeInBuild=!0,Uh(s,n,i.renderPipes),s.includeInBuild=!1}i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:r,canBundle:!1})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,canBundle:!1})}execute(e){const r=this._renderer,n=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const i=Re.get(mZ);if(n){e.mask.mask.measurable=!0;const s=Eh(e.mask.mask,!0,pZ);e.mask.mask.measurable=!1,s.ceil();const o=ur.getOptimalTexture(s.width,s.height,1,!1);r.renderTarget.push(o,!0),r.globalUniforms.push({offset:s,worldColor:4294967295});const a=i.sprite;a.texture=o,a.worldTransform.tx=s.minX,a.worldTransform.ty=s.minY,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer,filterTexture:o})}else i.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const i=this._activeMaskStage[this._activeMaskStage.length-1];n&&(r.renderTarget.pop(),r.globalUniforms.pop()),r.filter.push({renderPipeId:"filter",action:"pushFilter",container:i.maskedContainer,filterEffect:i.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){r.filter.pop();const i=this._activeMaskStage.pop();n&&ur.returnTexture(i.filterTexture),Re.return(i.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}gS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"alphaMask"};class _S{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,r,n){this._renderer.renderPipes.batch.break(n);const s=this._colorStack;s[this._colorStackIndex]=s[this._colorStackIndex-1]&e.mask;const o=this._colorStack[this._colorStackIndex];o!==this._currentColor&&(this._currentColor=o,n.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1})),this._colorStackIndex++}pop(e,r,n){this._renderer.renderPipes.batch.break(n);const s=this._colorStack;this._colorStackIndex--;const o=s[this._colorStackIndex-1];o!==this._currentColor&&(this._currentColor=o,n.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}_S.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"colorMask"};class gZ{constructor(e){this.priority=0,this.pipe="scissorMask",this.mask=e,this.mask.renderable=!1,this.mask.measurable=!1}addBounds(e,r){Jg(this.mask,e,r)}addLocalBounds(e,r){e0(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}reset(){this.mask.measurable=!0,this.mask=null}destroy(){this.reset()}}class yS{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,r,n){var i;const s=e,o=this._renderer;o.renderPipes.batch.break(n),o.renderPipes.blendMode.setBlendMode(s.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,canBundle:!1});const a=s.mask;a.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const u=this._maskHash.get(s);u.instructionsStart=n.instructionSize,Uh(a,n,o.renderPipes),a.includeInBuild=!1,o.renderPipes.batch.break(n),n.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,canBundle:!1});const l=n.instructionSize-u.instructionsStart-1;u.instructionsLength=l;const c=o.renderTarget.renderTarget.uid;(i=this._maskStackHash)[c]??(i[c]=0)}pop(e,r,n){const i=e,s=this._renderer;s.renderPipes.batch.break(n),s.renderPipes.blendMode.setBlendMode(i.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"popMaskBegin",canBundle:!1});const o=this._maskHash.get(e);for(let a=0;a<o.instructionsLength;a++)n.instructions[n.instructionSize++]=n.instructions[o.instructionsStart++];n.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var r;const n=this._renderer,i=n.renderTarget.renderTarget.uid;let s=(r=this._maskStackHash)[i]??(r[i]=0);e.action==="pushMaskBegin"?(n.renderTarget.ensureDepthStencil(),n.stencil.setStencilMode(Ht.RENDERING_MASK_ADD,s),s++,n.colorMask.setMask(0)):e.action==="pushMaskEnd"?(n.stencil.setStencilMode(Ht.MASK_ACTIVE,s),n.colorMask.setMask(15)):e.action==="popMaskBegin"?(n.colorMask.setMask(0),s!==0?n.stencil.setStencilMode(Ht.RENDERING_MASK_REMOVE,s):(n.renderTarget.clear(null,jr.STENCIL),n.stencil.setStencilMode(Ht.DISABLED,s)),s--):e.action==="popMaskEnd"&&(n.stencil.setStencilMode(Ht.MASK_ACTIVE,s),n.colorMask.setMask(15)),this._maskStackHash[i]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}yS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"stencilMask"};var nd=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(nd||{});class s8{constructor(e,r){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=r}}class vS{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._renderer=e}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gpuBuffers=Object.create(null),this._gl=this._renderer.gl}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:r}=this,n=this.getGlBuffer(e);r.bindBuffer(n.type,n.buffer)}bindBufferBase(e,r){const{_gl:n}=this;if(this._boundBufferBases[r]!==e){const i=this.getGlBuffer(e);this._boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,i.buffer)}}bindBufferRange(e,r,n){const{_gl:i}=this;n=n||0;const s=this.getGlBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)}updateBuffer(e){const{_gl:r}=this,n=this.getGlBuffer(e);if(e._updateID===n.updateID)return n;n.updateID=e._updateID,r.bindBuffer(n.type,n.buffer);const i=e.data;if(n.byteLength>=e.data.byteLength)r.bufferSubData(n.type,0,i,0,e._updateSize/i.BYTES_PER_ELEMENT);else{const s=e.descriptor.usage&Te.STATIC?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=i.byteLength,r.bufferData(n.type,i,s)}return n}destroyAll(){const e=this._gl;for(const r in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[r].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,r){const n=this._gpuBuffers[e.uid],i=this._gl;r||i.deleteBuffer(n.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:r}=this;let n=nd.ARRAY_BUFFER;e.descriptor.usage&Te.INDEX?n=nd.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&Te.UNIFORM&&(n=nd.UNIFORM_BUFFER);const i=new s8(r.createBuffer(),n);return this._gpuBuffers[e.uid]=i,e.on("destroy",this.onBufferDestroy,this),i}}vS.extension={type:[A.WebGLSystem],name:"buffer"};const xS=class o8{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){if(e={...o8.defaultOptions,...e},e.context)this.initFromContext(e.context);else{const r=this._renderer.background.alpha<1,n=e.premultipliedAlpha??!0,i=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:r,premultipliedAlpha:n,antialias:i,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof Be.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const r=this._renderer.view.canvas;r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,r){let n;const i=this._renderer.view.canvas;if(e===2&&(n=i.getContext("webgl2",r)),!n&&(n=i.getContext("webgl",r),!n))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=n,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...r,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...r,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const n=e.getExtension("WEBGL_provoking_vertex");n&&n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var r;this.gl.isContextLost()&&((r=this.extensions.loseContext)==null||r.restoreContext())},0))}handleContextRestored(){this._renderer.runners.contextChange.emit(this.gl)}destroy(){var r;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(r=this.extensions.loseContext)==null||r.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const r=e.getContextAttributes();r&&!r.stencil&&pe("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=this.supports,i=this.webGLVersion===2,s=this.extensions;n.uint32Indices=i||!!s.uint32ElementIndex,n.uniformBufferObject=i,n.vertexArrayObject=i||!!s.vertexArrayObject,n.srgbTextures=i||!!s.srgb,n.nonPowOf2wrapping=i,n.nonPowOf2mipmaps=i,n.msaa=i,n.uint32Indices||pe("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};xS.extension={type:[A.WebGLSystem],name:"context"};xS.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2};let a8=xS;function bS(t,e){for(const r in t.attributes){const n=t.attributes[r],i=e[r];i?(n.location??(n.location=i.location),n.format??(n.format=i.format),n.offset??(n.offset=i.offset),n.instance??(n.instance=i.instance)):pe(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}_Z(t)}function _Z(t){const{buffers:e,attributes:r}=t,n={},i={};for(const s in e){const o=e[s];n[o.uid]=0,i[o.uid]=0}for(const s in r){const o=r[s];n[o.buffer.uid]+=_l(o.format).stride}for(const s in r){const o=r[s];o.stride??(o.stride=n[o.buffer.uid]),o.start??(o.start=i[o.buffer.uid]),i[o.buffer.uid]+=_l(o.format).stride}}var Em=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Em||{}),SS=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(SS||{}),u8=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(u8||{}),Ee=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Ee||{});const H3={uint8x2:Ee.UNSIGNED_BYTE,uint8x4:Ee.UNSIGNED_BYTE,sint8x2:Ee.BYTE,sint8x4:Ee.BYTE,unorm8x2:Ee.UNSIGNED_BYTE,unorm8x4:Ee.UNSIGNED_BYTE,snorm8x2:Ee.BYTE,snorm8x4:Ee.BYTE,uint16x2:Ee.UNSIGNED_SHORT,uint16x4:Ee.UNSIGNED_SHORT,sint16x2:Ee.SHORT,sint16x4:Ee.SHORT,unorm16x2:Ee.UNSIGNED_SHORT,unorm16x4:Ee.UNSIGNED_SHORT,snorm16x2:Ee.SHORT,snorm16x4:Ee.SHORT,float16x2:Ee.HALF_FLOAT,float16x4:Ee.HALF_FLOAT,float32:Ee.FLOAT,float32x2:Ee.FLOAT,float32x3:Ee.FLOAT,float32x4:Ee.FLOAT,uint32:Ee.UNSIGNED_INT,uint32x2:Ee.UNSIGNED_INT,uint32x3:Ee.UNSIGNED_INT,uint32x4:Ee.UNSIGNED_INT,sint32:Ee.INT,sint32x2:Ee.INT,sint32x3:Ee.INT,sint32x4:Ee.INT};function l8(t){return H3[t]??H3.float32}const yZ={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class wS{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const r=this._renderer.context.extensions.vertexArrayObject;r&&(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i));const n=this._renderer.context.extensions.vertexAttribDivisorANGLE;n&&(e.drawArraysInstanced=(i,s,o,a)=>{n.drawArraysInstancedANGLE(i,s,o,a)},e.drawElementsInstanced=(i,s,o,a,u)=>{n.drawElementsInstancedANGLE(i,s,o,a,u)},e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,r){const n=this.gl;this._activeGeometry=e;const i=this.getVao(e,r);this._activeVao!==i&&(this._activeVao=i,n.bindVertexArray(i)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this._renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.updateBuffer(i)}}checkCompatibility(e,r){const n=e.attributes,i=r._attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r._attributeData,s=["g",e.uid];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}getVao(e,r){var n;return((n=this._geometryVaoHash[e.uid])==null?void 0:n[r._key])||this.initGeometryVao(e,r)}initGeometryVao(e,r,n=!0){const i=this._renderer.gl,s=this._renderer.buffer;this._renderer.shader._getProgramData(r),this.checkCompatibility(e,r);const o=this.getSignature(e,r);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let u=a[o];if(u)return a[r._key]=u,u;bS(e,r._attributeData);const l=e.buffers;u=i.createVertexArray(),i.bindVertexArray(u);for(let c=0;c<l.length;c++){const d=l[c];s.bind(d)}return this.activateVao(e,r),a[r._key]=u,a[o]=u,i.bindVertexArray(null),u}onGeometryDestroy(e,r){const n=this._geometryVaoHash[e.uid],i=this.gl;if(n){if(r)for(const s in n)this._activeVao!==n[s]&&this.unbind(),i.deleteVertexArray(n[s]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const r=this.gl;for(const n in this._geometryVaoHash){if(e)for(const i in this._geometryVaoHash[n]){const s=this._geometryVaoHash[n];this._activeVao!==s&&this.unbind(),r.deleteVertexArray(s[i])}this._geometryVaoHash[n]=null}}activateVao(e,r){var a;const n=this._renderer.gl,i=this._renderer.buffer,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let o=null;for(const u in s){const l=s[u],c=l.buffer,d=i.getGlBuffer(c),h=r._attributeData[u];if(h){o!==d&&(i.bind(c),o=d);const f=l.location;n.enableVertexAttribArray(f);const p=_l(l.format),m=l8(l.format);if(((a=h.format)==null?void 0:a.substring(1,4))==="int"?n.vertexAttribIPointer(f,p.size,m,l.stride,l.offset):n.vertexAttribPointer(f,p.size,m,p.normalised,l.stride,l.offset),l.instance)if(this.hasInstance)n.vertexAttribDivisor(f,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this._renderer,o=this._activeGeometry,a=yZ[o.topology||e];if(i||(i=o.instanceCount),o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,l=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;i>1?s.drawElementsInstanced(a,r||o.indexBuffer.data.length,l,(n||0)*u,i):s.drawElements(a,r||o.indexBuffer.data.length,l,(n||0)*u)}else i>1?s.drawArraysInstanced(a,n||0,r||o.getSize(),i):s.drawArrays(a,n||0,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}wS.extension={type:[A.WebGLSystem],name:"geometry"};const vZ=new Il({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),ES=class c8{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:r,antialias:n}={...c8.defaultOptions,...e};this.useBackBuffer=r,this._antialias=n,this._renderer.context.supports.msaa||(pe("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Fi.for2d();const i=new _i({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new Un({glProgram:i,resources:{uTexture:X.WHITE.source}})}renderStart(e){const r=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!r.isRoot,this._useBackBufferThisRender){const n=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=n.colorTexture,e.target=this._getBackBufferTexture(n.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:vZ,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new X({source:new At({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};ES.extension={type:[A.WebGLSystem],name:"backBuffer",priority:1};ES.defaultOptions={useBackBuffer:!1};let d8=ES;class TS{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}TS.extension={type:[A.WebGLSystem],name:"colorMask"};class CS{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,r){this._renderer.geometry.bind(e,r.glProgram)}finishRenderPass(){}draw(e){const r=this._renderer,{geometry:n,shader:i,state:s,skipSync:o,topology:a,size:u,start:l,instanceCount:c}=e;r.shader.bind(i,o),r.geometry.bind(n,r.shader._activeProgram),s&&r.state.set(s),r.geometry.draw(a,u,l,c??n.instanceCount)}destroy(){this._renderer=null}}CS.extension={type:[A.WebGLSystem],name:"encoder"};class h8{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const Go=[];Go[Ht.NONE]=void 0;Go[Ht.DISABLED]={stencilWriteMask:0,stencilReadMask:0};Go[Ht.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};Go[Ht.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};Go[Ht.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};class PS{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:Ht.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this._stencilCache.enabled=!1,this._stencilCache.stencilMode=Ht.NONE,this._stencilCache.stencilReference=0}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:Ht.DISABLED,stencilReference:0}),this.setStencilMode(r.stencilMode,r.stencilReference)}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid],i=this._gl,s=Go[e],o=this._stencilCache;if(n.stencilMode=e,n.stencilReference=r,e===Ht.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,i.disable(i.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,i.enable(i.STENCIL_TEST)),(e!==o.stencilMode||o.stencilReference!==r)&&(o.stencilMode=e,o.stencilReference=r,i.stencilFunc(this._comparisonFuncMapping[s.stencilBack.compare],r,255),i.stencilOp(i.KEEP,i.KEEP,this._stencilOpsMapping[s.stencilBack.passOp]))}}PS.extension={type:[A.WebGLSystem],name:"stencil"};class AS{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!v2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const r=this.getUniformGroupData(e);e.buffer||(e.buffer=new wn({data:new Float32Array(r.layout.size/4),usage:Te.UNIFORM|Te.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const r=e._signature;let n=this._syncFunctionHash[r];if(!n){const i=Object.keys(e.uniformStructures).map(a=>e.uniformStructures[a]),s=this._adaptor.createUboElements(i),o=this._generateUboSync(s.uboElements);n=this._syncFunctionHash[r]={layout:s,syncFunction:o}}return this._syncFunctionHash[r]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,r,n){const i=this.getUniformGroupData(e);return e.buffer||(e.buffer=new wn({data:new Float32Array(i.layout.size/4),usage:Te.UNIFORM|Te.COPY_DST})),r||(r=e.buffer.data),n||(n=0),i.syncFunction(e.uniforms,r,n),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const r=this.syncUniformGroup(e);return e.buffer.update(),r}destroy(){this._syncFunctionHash=null}}const RS={f32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function f8(t){const e=t.map(s=>({data:s,offset:0,size:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=RS[o.data.type],!r)throw new Error(`Unknown type ${o.data.type}`);if(o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.size=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}const uo=[{type:"mat3x3<f32>",test:t=>t.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:t=>t.type==="vec2<f32>"&&t.size===1&&t.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:t=>t.type==="vec3<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function MS(t,e,r,n){const i=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let s=0;for(let a=0;a<t.length;a++){const u=t[a],l=u.data.name;let c=!1,d=0;for(let h=0;h<uo.length;h++)if(uo[h].test(u.data)){d=u.offset/4,i.push(`name = "${l}";`,`offset += ${d-s};`,uo[h][e]||uo[h].ubo),c=!0;break}if(!c)if(u.data.size>1)d=u.offset/4,i.push(r(u,d-s));else{const h=n[u.data.type];d=u.offset/4,i.push(`
                    v = uv.${l};
                    offset += ${d-s};
                    ${h};
                `)}s=d}const o=i.join(`
`);return new Function("uv","data","offset",o)}function au(t,e){return`
        for (let i = 0; i < ${t*e}; i++) {
            data[offset + (((i / ${t})|0) * 4) + (i % ${t})] = v[i];
        }
    `}const BS={f32:`
        data[offset] = v;`,i32:`
        data[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":au(3,2),"mat4x2<f32>":au(4,2),"mat2x3<f32>":au(2,3),"mat4x3<f32>":au(4,3),"mat2x4<f32>":au(2,4),"mat3x4<f32>":au(3,4)},p8={...BS,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function m8(t,e){const r=Math.max(RS[t.data.type]/16,1),n=t.data.value.length/t.data.size,i=(4-n%4)%4;return`
        v = uv.${t.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${t.data.size*r}; i++)
        {
            for(var j = 0; j < ${n}; j++)
            {
                data[arrayOffset++] = v[t++];
            }
            ${i!==0?`arrayOffset += ${i};`:""}
        }
    `}function g8(t){return MS(t,"uboStd40",m8,BS)}class DS extends AS{constructor(){super({createUboElements:f8,generateUboSync:g8})}}DS.extension={type:[A.WebGLSystem],name:"ubo"};class _8{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new ke}init(e,r){this._renderer=e,this._renderTargetSystem=r,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new ke}copyToTexture(e,r,n,i,s){const o=this._renderTargetSystem,a=this._renderer,u=o.getGpuRenderTarget(e),l=a.gl;return this.finishRenderPass(e),l.bindFramebuffer(l.FRAMEBUFFER,u.resolveTargetFramebuffer),a.texture.bind(r,0),l.copyTexSubImage2D(l.TEXTURE_2D,0,s.x,s.y,n.x,n.y,i.width,i.height),r}startRenderPass(e,r=!0,n,i){const s=this._renderTargetSystem,o=e.colorTexture,a=s.getGpuRenderTarget(e);let u=i.y;e.isRoot&&(u=o.pixelHeight-i.height),e.colorTextures.forEach(d=>{this._renderer.texture.unbind(d)});const l=this._renderer.gl;l.bindFramebuffer(l.FRAMEBUFFER,a.framebuffer);const c=this._viewPortCache;(c.x!==i.x||c.y!==u||c.width!==i.width||c.height!==i.height)&&(c.x=i.x,c.y=u,c.width=i.width,c.height=i.height,l.viewport(i.x,u,i.width,i.height)),!a.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(a),this.clear(e,r,n)}finishRenderPass(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);if(!n.msaa)return;const i=this._renderer.gl;i.bindFramebuffer(i.FRAMEBUFFER,n.resolveTargetFramebuffer),i.bindFramebuffer(i.READ_FRAMEBUFFER,n.framebuffer),i.blitFramebuffer(0,0,n.width,n.height,0,0,n.width,n.height,i.COLOR_BUFFER_BIT,i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)}initGpuRenderTarget(e){const r=this._renderer,n=r.gl,i=new h8;return e.colorTexture.resource===r.gl.canvas?(i.framebuffer=null,i):(this._initColor(e,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i)}destroyGpuRenderTarget(e){const r=this._renderer.gl;e.framebuffer&&(r.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(r.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(r.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(n=>{r.deleteRenderbuffer(n)}),e.msaaRenderBuffer=null}clear(e,r,n){if(!r)return;const i=this._renderTargetSystem;typeof r=="boolean"&&(r=r?jr.ALL:jr.NONE);const s=this._renderer.gl;if(r&jr.COLOR){n??(n=i.defaultClearColor);const o=this._clearColorCache,a=n;(o[0]!==a[0]||o[1]!==a[1]||o[2]!==a[2]||o[3]!==a[3])&&(o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],s.clearColor(a[0],a[1],a[2],a[3]))}s.clear(r)}resizeGpuRenderTarget(e){if(e.isRoot)return;const n=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,n),e.stencil&&this._resizeStencil(n)}_initColor(e,r){const n=this._renderer,i=n.gl,s=i.createFramebuffer();if(r.resolveTargetFramebuffer=s,i.bindFramebuffer(i.FRAMEBUFFER,s),r.width=e.colorTexture.source.pixelWidth,r.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((o,a)=>{const u=o.source;u.antialias&&(n.context.supports.msaa?r.msaa=!0:pe("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),n.texture.bindSource(u,0);const c=n.texture.getGlSource(u).texture;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,3553,c,0)}),r.msaa){const o=i.createFramebuffer();r.framebuffer=o,i.bindFramebuffer(i.FRAMEBUFFER,o),e.colorTextures.forEach((a,u)=>{const l=i.createRenderbuffer();r.msaaRenderBuffer[u]=l})}else r.framebuffer=s;this._resizeColor(e,r)}_resizeColor(e,r){const n=e.colorTexture.source;if(r.width=n.pixelWidth,r.height=n.pixelHeight,e.colorTextures.forEach((i,s)=>{s!==0&&i.source.resize(n.width,n.height,n._resolution)}),r.msaa){const i=this._renderer,s=i.gl,o=r.framebuffer;s.bindFramebuffer(s.FRAMEBUFFER,o),e.colorTextures.forEach((a,u)=>{const l=a.source;i.texture.bindSource(l,0);const d=i.texture.getGlSource(l).internalFormat,h=r.msaaRenderBuffer[u];s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorageMultisample(s.RENDERBUFFER,4,d,l.pixelWidth,l.pixelHeight),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+u,s.RENDERBUFFER,h)})}}_initStencil(e){if(e.framebuffer===null)return;const r=this._renderer.gl,n=r.createRenderbuffer();e.depthStencilRenderBuffer=n,r.bindRenderbuffer(r.RENDERBUFFER,n),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n),this._resizeStencil(e)}_resizeStencil(e){const r=this._renderer.gl;r.bindRenderbuffer(r.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?r.renderbufferStorageMultisample(r.RENDERBUFFER,4,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,this._renderer.context.webGLVersion===2?r.DEPTH24_STENCIL8:r.DEPTH_STENCIL,e.width,e.height)}}function y8(t,e,r,n,i,s){const o=s?1:-1;return t.identity(),t.a=1/n*2,t.d=o*(1/i*2),t.tx=-1-e*t.a,t.ty=-o-r*t.d,t}const cu=new Map;function kS(t,e){if(!cu.has(t)){const r=new X({source:new Da({resource:t,...e})}),n=()=>{cu.get(t)===r&&cu.delete(t)};r.once("destroy",n),r.source.once("destroy",n),cu.set(t,r)}return cu.get(t)}function xZ(t){return cu.has(t)}function v8(t){const e=t.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const x8=class b8{constructor(e={}){if(this.uid=tt("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...b8.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let r=0;r<e.colorTextures;r++)this.colorTextures.push(new At({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(n=>n.source)];const r=this.colorTexture.source;this.resize(r.width,r.height,r._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof X||e.depthStencilTexture instanceof At?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new At({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,r,n=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((s,o)=>{i&&o===0||s.source.resize(e,r,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,r,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};x8.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let Tm=x8;class OS{constructor(e){this.rootViewPort=new ke,this.viewport=new ke,this.onRenderTargetChange=new b2("onRenderTargetChange"),this.projectionMatrix=new te,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:r,clearColor:n,frame:i}){this._renderTargetStack.length=0,this.push(e,r,n,i),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=v8(this.rootRenderTarget)}bind(e,r=!0,n,i){const s=this.getRenderTarget(e),o=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const a=this.getGpuRenderTarget(s);(s.pixelWidth!==a.width||s.pixelHeight!==a.height)&&(this.adaptor.resizeGpuRenderTarget(s),a.width=s.pixelWidth,a.height=s.pixelHeight);const u=s.colorTexture,l=this.viewport,c=u.pixelWidth,d=u.pixelHeight;if(!i&&e instanceof X&&(i=e.frame),i){const h=u._resolution;l.x=i.x*h+.5|0,l.y=i.y*h+.5|0,l.width=i.width*h+.5|0,l.height=i.height*h+.5|0}else l.x=0,l.y=0,l.width=c,l.height=d;return y8(this.projectionMatrix,0,0,l.width/u.resolution,l.height/u.resolution,!s.isRoot),this.adaptor.startRenderPass(s,r,n,l),o&&this.onRenderTargetChange.emit(s),s}clear(e,r=jr.ALL,n){r&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,r,n,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,r=jr.ALL,n,i){const s=this.bind(e,r,n,i);return this._renderTargetStack.push({renderTarget:s,frame:i}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,r,n,i,s){n.x<0&&(i.width+=n.x,s.x-=n.x,n.x=0),n.y<0&&(i.height+=n.y,s.y-=n.y,n.y=0);const{pixelWidth:o,pixelHeight:a}=e;return i.width=Math.min(i.width,o-n.x),i.height=Math.min(i.height,a-n.y),this.adaptor.copyToTexture(e,r,n,i,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,r)=>{e!==r&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let r=null;return Da.test(e)&&(e=kS(e).source),e instanceof Tm?r=e:e instanceof At&&(r=new Tm({colorTextures:[e]}),Da.test(e.source.resource)&&(r.isRoot=!0),e.once("destroy",()=>{r.destroy();const n=this._gpuRenderTargetHash[r.uid];n&&(this._gpuRenderTargetHash[r.uid]=null,this.adaptor.destroyGpuRenderTarget(n))})),this._renderSurfaceToRenderTargetHash.set(e,r),r}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}}class IS extends OS{constructor(e){super(e),this.adaptor=new _8,this.adaptor.init(e,this)}}IS.extension={type:[A.WebGLSystem],name:"renderTarget"};class C0 extends un{constructor({buffer:e,offset:r,size:n}){super(),this.uid=tt("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=tt("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=r|0,this.size=n,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=tt("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function S8(t,e){const r=[],n=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let i=!1,s=0,o=0;const a=e._getProgramData(t.glProgram);for(const l in t.groups){const c=t.groups[l];r.push(`
            resources = g[${l}].resources;
        `);for(const d in c.resources){const h=c.resources[d];if(h instanceof Wt)h.ubo?r.push(`
                        sS.bindUniformBlock(
                            resources[${d}],
                            sS._uniformBindMap[${l}[${d}],
                            ${s++}
                        );
                    `):r.push(`
                        ugS.updateUniformGroup(resources[${d}], p, sD);
                    `);else if(h instanceof C0)r.push(`
                    sS.bindUniformBlock(
                        resources[${d}],
                        sS._uniformBindMap[${l}[${d}],
                        ${s++}
                    );
                `);else if(h instanceof At){const f=t._uniformBindMap[l][d],p=a.uniformData[f];p&&(i||(i=!0,n.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(p.location,o),r.push(`
                        tS.bind(resources[${d}], ${o});
                    `),o++)}}}const u=[...n,...r].join(`
`);return new Function("r","s","sD",u)}class bZ{}class w8{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function Hx(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function oy(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function FS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return oy(2*e);case"bvec3":return oy(3*e);case"bvec4":return oy(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let Gf=null;const j3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},SZ={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function US(t,e){if(!Gf){const r=Object.keys(j3);Gf={};for(let n=0;n<r.length;++n){const i=r[n];Gf[t[i]]=j3[i]}}return Gf[e]}function E8(t,e){const r=US(t,e);return SZ[r]||"float32"}function T8(t,e,r=!1){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const a=e.getActiveAttrib(t,o);if(a.name.startsWith("gl_"))continue;const u=E8(e,a.type);n[a.name]={location:0,format:u,stride:_l(u).stride,offset:0,instance:!1,start:0}}const s=Object.keys(n);if(r){s.sort((o,a)=>o>a?1:-1);for(let o=0;o<s.length;o++)n[s[o]].location=o,e.bindAttribLocation(t,o,s[o]);e.linkProgram(t)}else for(let o=0;o<s.length;o++)n[s[o]].location=e.getAttribLocation(t,s[o]);return n}function C8(t,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<n;i++){const s=e.getActiveUniformBlockName(t,i),o=e.getUniformBlockIndex(t,s),a=e.getActiveUniformBlockParameter(t,i,e.UNIFORM_BLOCK_DATA_SIZE);r[s]={name:s,index:o,size:a}}return r}function P8(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=US(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:FS(u,s.size)}}return r}function W3(t,e){const r=t.getShaderSource(e).split(`
`).map((l,c)=>`${c}: ${l}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{r[l-1]=`%c${r[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function A8(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||W3(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||W3(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function R8(t,e){const r=Hx(t,t.VERTEX_SHADER,e.vertex),n=Hx(t,t.FRAGMENT_SHADER,e.fragment),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=e.transformFeedbackVaryings;s&&(typeof t.transformFeedbackVaryings!="function"?pe("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||A8(t,i,r,n),e._attributeData=T8(i,t,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=P8(i,t),e._uniformBlockData=C8(i,t),t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e._uniformData){const l=e._uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:FS(l.type,l.size)}}return new w8(i,o)}const zf={textureCount:0,blockIndex:0};class LS{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._nextIndex=0,this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e}contextChange(e){this._gl=e,this._maxBindings=e.MAX_UNIFORM_BUFFER_BINDINGS?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0,this._programDataHash=Object.create(null),this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._activeProgram=null}bind(e,r){if(this._setProgram(e.glProgram),r)return;zf.textureCount=0,zf.blockIndex=0;let n=this._shaderSyncFunctions[e.glProgram._key];n||(n=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),n(this._renderer,e,zf)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,zf)}bindUniformBlock(e,r,n=0){const i=this._renderer.buffer,s=this._getProgramData(this._activeProgram),o=e._bufferResource;o&&this._renderer.ubo.updateUniformGroup(e),i.updateBuffer(e.buffer);let a=this._boundUniformsIdsToIndexHash[e.uid];if(a===void 0){const c=this._nextIndex++%this._maxBindings,d=this._boundIndexToUniformsHash[c];d&&(this._boundUniformsIdsToIndexHash[d.uid]=void 0),a=this._boundUniformsIdsToIndexHash[e.uid]=c,this._boundIndexToUniformsHash[c]=e,o?i.bindBufferRange(e.buffer,c,e.offset):i.bindBufferBase(e.buffer,c)}const u=this._gl,l=this._activeProgram._uniformBlockData[r].index;s.uniformBlockBindings[n]!==a&&(s.uniformBlockBindings[n]=a,u.uniformBlockBinding(s.program,l,a))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const r=this._getProgramData(e);this._gl.useProgram(r.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const r=e._key;return this._programDataHash[r]=R8(this._gl,e),this._programDataHash[r]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null,this._boundUniformsIdsToIndexHash=null}_generateShaderSync(e,r){return S8(e,r)}}LS.extension={type:[A.WebGLSystem],name:"shader"};const M8={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},B8={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function D8(t,e){const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const n in t.uniforms){if(!e[n]){t.uniforms[n]instanceof Wt?t.uniforms[n].ubo?r.push(`
                        renderer.shader.bindUniformBlock(uv.${n}, "${n}");
                    `):r.push(`
                        renderer.shader.updateUniformGroup(uv.${n});
                    `):t.uniforms[n]instanceof C0&&r.push(`
                        renderer.shader.bindBufferResource(uv.${n}, "${n}");
                    `);continue}const i=t.uniformStructures[n];let s=!1;for(let o=0;o<uo.length;o++){const a=uo[o];if(i.type===a.type&&a.test(i)){r.push(`name = "${n}";`,uo[o].uniform),s=!0;break}}if(!s){const a=(i.size===1?M8:B8)[i.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}class NS{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,r,n){const i=this._renderer.shader._getProgramData(r);(!e.isStatic||e._dirtyId!==i.uniformDirtyGroups[e.uid])&&(i.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,r)(i.uniformData,e.uniforms,this._renderer,n))}_getUniformSyncFunction(e,r){var n;return((n=this._uniformGroupSyncHash[e._signature])==null?void 0:n[r._key])||this._createUniformSyncFunction(e,r)}_createUniformSyncFunction(e,r){const n=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),i=this._getSignature(e,r._uniformData,"u");return this._cache[i]||(this._cache[i]=this._generateUniformsSync(e,r._uniformData)),n[r._key]=this._cache[i],n[r._key]}_generateUniformsSync(e,r){return D8(e,r)}_getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}destroy(){this._renderer=null,this._cache=null}}NS.extension={type:[A.WebGLSystem],name:"uniformGroup"};function wZ(t){return t=t.replaceAll("texture2D","texture").replaceAll("gl_FragColor","finalColor").replaceAll("varying","in"),t=`
        out vec4 finalColor;
    ${t}
    `,t}const EZ={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function TZ(t){return EZ[t]}function k8(t){const e={};return e.normal=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e.add=[t.ONE,t.ONE],e.multiply=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.screen=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e["screen-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.erase=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e}const CZ=0,PZ=1,AZ=2,RZ=3,MZ=4,BZ=5,O8=class jx{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[CZ]=this.setBlend,this.map[PZ]=this.setOffset,this.map[AZ]=this.setCullFace,this.map[RZ]=this.setDepthTest,this.map[MZ]=this.setFrontFace,this.map[BZ]=this.setDepthMask,this.checks=[],this.defaultState=Fi.for2d()}contextChange(e){this.gl=e,this.blendModesMap=k8(e),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(jx._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(jx._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const r=this.blendModesMap[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static _checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static _checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};O8.extension={type:[A.WebGLSystem],name:"state"};let I8=O8;class F8{constructor(e){this.target=SS.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=Ee.UNSIGNED_BYTE,this.internalFormat=Em.RGBA,this.format=Em.RGBA,this.samplerType=0}}const U8={id:"buffer",upload(t,e,r){e.width===t.width||e.height===t.height?r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.width,t.height,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,t.width,t.height,0,e.format,e.type,t.resource),e.width=t.width,e.height=t.height}},DZ={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},L8={id:"compressed",upload(t,e,r){r.pixelStorei(r.UNPACK_ALIGNMENT,4);let n=t.pixelWidth,i=t.pixelHeight;const s=!!DZ[t.format];for(let o=0;o<t.resource.length;o++){const a=t.resource[o];s?r.compressedTexImage2D(r.TEXTURE_2D,o,e.internalFormat,n,i,0,a):r.texImage2D(r.TEXTURE_2D,o,e.internalFormat,n,i,0,e.format,e.type,a),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},GS={id:"image",upload(t,e,r,n){const i=t.alphaMode==="premultiply-alpha-on-upload";r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i);const s=e.width,o=e.height,a=t.pixelWidth,u=t.pixelHeight,l=t.resourceWidth,c=t.resourceHeight;l<a||c<u?((s!==a||o!==u)&&r.texImage2D(e.target,0,e.internalFormat,a,u,0,e.format,e.type,null),n===2?r.texSubImage2D(r.TEXTURE_2D,0,0,0,l,c,e.format,e.type,t.resource):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource)):s===a||o===u?r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource):n===2?r.texImage2D(e.target,0,e.internalFormat,a,u,0,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,e.format,e.type,t.resource),e.width=a,e.height=u}},N8={id:"video",upload(t,e,r,n){if(!t.isValid){r.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}GS.upload(t,e,r,n)}},Wx={linear:9729,nearest:9728},G8={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},bp={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},z8={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function Vx(t,e,r,n,i,s,o,a){const u=s;if(!a||t.addressModeU!=="repeat"||t.addressModeV!=="repeat"||t.addressModeW!=="repeat"){const l=bp[o?"clamp-to-edge":t.addressModeU],c=bp[o?"clamp-to-edge":t.addressModeV],d=bp[o?"clamp-to-edge":t.addressModeW];e[i](u,e.TEXTURE_WRAP_S,l),e[i](u,e.TEXTURE_WRAP_T,c),e.TEXTURE_WRAP_R&&e[i](u,e.TEXTURE_WRAP_R,d)}if((!a||t.magFilter!=="linear")&&e[i](u,e.TEXTURE_MAG_FILTER,Wx[t.magFilter]),r){if(!a||t.mipmapFilter!=="linear"){const l=G8[t.minFilter][t.mipmapFilter];e[i](u,e.TEXTURE_MIN_FILTER,l)}}else e[i](u,e.TEXTURE_MIN_FILTER,Wx[t.minFilter]);if(n&&t.maxAnisotropy>1){const l=Math.min(t.maxAnisotropy,e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[i](u,n.TEXTURE_MAX_ANISOTROPY_EXT,l)}t.compare&&e[i](u,e.TEXTURE_COMPARE_FUNC,z8[t.compare])}function $8(t){return{r8unorm:t.RED,r8snorm:t.RED,r8uint:t.RED,r8sint:t.RED,r16uint:t.RED,r16sint:t.RED,r16float:t.RED,rg8unorm:t.RG,rg8snorm:t.RG,rg8uint:t.RG,rg8sint:t.RG,r32uint:t.RED,r32sint:t.RED,r32float:t.RED,rg16uint:t.RG,rg16sint:t.RG,rg16float:t.RG,rgba8unorm:t.RGBA,"rgba8unorm-srgb":t.RGBA,rgba8snorm:t.RGBA,rgba8uint:t.RGBA,rgba8sint:t.RGBA,bgra8unorm:t.RGBA,"bgra8unorm-srgb":t.RGBA,rgb9e5ufloat:t.RGB,rgb10a2unorm:t.RGBA,rg11b10ufloat:t.RGB,rg32uint:t.RG,rg32sint:t.RG,rg32float:t.RG,rgba16uint:t.RGBA,rgba16sint:t.RGBA,rgba16float:t.RGBA,rgba32uint:t.RGBA,rgba32sint:t.RGBA,rgba32float:t.RGBA,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT,depth24plus:t.DEPTH_COMPONENT,"depth24plus-stencil8":t.DEPTH_STENCIL,depth32float:t.DEPTH_COMPONENT,"depth32float-stencil8":t.DEPTH_STENCIL}}function H8(t,e){let r={},n=t.RGBA;return t instanceof Be.get().getWebGLRenderingContext()?e.srgb&&(r={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(r={"rgba8unorm-srgb":t.SRGB8_ALPHA8,"bgra8unorm-srgb":t.SRGB8_ALPHA8},n=t.RGBA8),{r8unorm:t.R8,r8snorm:t.R8_SNORM,r8uint:t.R8UI,r8sint:t.R8I,r16uint:t.R16UI,r16sint:t.R16I,r16float:t.R16F,rg8unorm:t.RG8,rg8snorm:t.RG8_SNORM,rg8uint:t.RG8UI,rg8sint:t.RG8I,r32uint:t.R32UI,r32sint:t.R32I,r32float:t.R32F,rg16uint:t.RG16UI,rg16sint:t.RG16I,rg16float:t.RG16F,rgba8unorm:t.RGBA,...r,rgba8snorm:t.RGBA8_SNORM,rgba8uint:t.RGBA8UI,rgba8sint:t.RGBA8I,bgra8unorm:n,rgb9e5ufloat:t.RGB9_E5,rgb10a2unorm:t.RGB10_A2,rg11b10ufloat:t.R11F_G11F_B10F,rg32uint:t.RG32UI,rg32sint:t.RG32I,rg32float:t.RG32F,rgba16uint:t.RGBA16UI,rgba16sint:t.RGBA16I,rgba16float:t.RGBA16F,rgba32uint:t.RGBA32UI,rgba32sint:t.RGBA32I,rgba32float:t.RGBA32F,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT16,depth24plus:t.DEPTH_COMPONENT24,"depth24plus-stencil8":t.DEPTH24_STENCIL8,depth32float:t.DEPTH_COMPONENT32F,"depth32float-stencil8":t.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function j8(t){return{r8unorm:t.UNSIGNED_BYTE,r8snorm:t.BYTE,r8uint:t.UNSIGNED_BYTE,r8sint:t.BYTE,r16uint:t.UNSIGNED_SHORT,r16sint:t.SHORT,r16float:t.HALF_FLOAT,rg8unorm:t.UNSIGNED_BYTE,rg8snorm:t.BYTE,rg8uint:t.UNSIGNED_BYTE,rg8sint:t.BYTE,r32uint:t.UNSIGNED_INT,r32sint:t.INT,r32float:t.FLOAT,rg16uint:t.UNSIGNED_SHORT,rg16sint:t.SHORT,rg16float:t.HALF_FLOAT,rgba8unorm:t.UNSIGNED_BYTE,"rgba8unorm-srgb":t.UNSIGNED_BYTE,rgba8snorm:t.BYTE,rgba8uint:t.UNSIGNED_BYTE,rgba8sint:t.BYTE,bgra8unorm:t.UNSIGNED_BYTE,"bgra8unorm-srgb":t.UNSIGNED_BYTE,rgb9e5ufloat:t.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:t.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:t.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:t.UNSIGNED_INT,rg32sint:t.INT,rg32float:t.FLOAT,rgba16uint:t.UNSIGNED_SHORT,rgba16sint:t.SHORT,rgba16float:t.HALF_FLOAT,rgba32uint:t.UNSIGNED_INT,rgba32sint:t.INT,rgba32float:t.FLOAT,stencil8:t.UNSIGNED_BYTE,depth16unorm:t.UNSIGNED_SHORT,depth24plus:t.UNSIGNED_INT,"depth24plus-stencil8":t.UNSIGNED_INT_24_8,depth32float:t.FLOAT,"depth32float-stencil8":t.FLOAT_32_UNSIGNED_INT_24_8_REV}}function kZ(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}const OZ=4;class zS{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:GS,buffer:U8,video:N8,compressed:L8},this._useSeparateSamplers=!1,this._renderer=e}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=H8(e,this._renderer.context.extensions),this._mapFormatToType=j8(e),this._mapFormatToFormat=$8(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null);for(let r=0;r<16;r++)this.bind(X.EMPTY,r)}initSource(e){this.bind(e)}bind(e,r=0){const n=e.source;e?(this.bindSource(n,r),this._useSeparateSamplers&&this._bindSampler(n.style,r)):(this.bindSource(null,r),this._useSeparateSamplers&&this._bindSampler(null,r))}bindSource(e,r=0){const n=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[r]!==e){this._boundTextures[r]=e,this._activateLocation(r),e=e||X.EMPTY.source;const i=this.getGlSource(e);n.bindTexture(i.target,i.texture)}}_bindSampler(e,r=0){const n=this._gl;if(!e){this._boundSamplers[r]=null,n.bindSampler(r,null);return}const i=this._getGlSampler(e);this._boundSamplers[r]!==i&&(this._boundSamplers[r]=i,n.bindSampler(r,i))}unbind(e){const r=e.source,n=this._boundTextures,i=this._gl;for(let s=0;s<n.length;s++)if(n[s]===r){this._activateLocation(s);const o=this.getGlSource(r);i.bindTexture(o.target,null),n[s]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const r=this._gl,n=new F8(r.createTexture());if(n.type=this._mapFormatToType[e.format],n.internalFormat=this._mapFormatToInternalFormat[e.format],n.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const i=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(i))+1}return this._glTextures[e.uid]=n,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),n}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,r){const n=this._gl,i=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,i.texture),this._boundTextures[this._activeTextureLocation]=e,Vx(e.style,n,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",n.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,r)}onSourceUnload(e){const r=this._glTextures[e.uid];r&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(r.texture))}onSourceUpdate(e){const r=this._gl,n=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,n.texture),this._boundTextures[this._activeTextureLocation]=e,this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,n,r,this._renderer.context.webGLVersion):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.pixelWidth,e.pixelHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,r=!0){r&&this.bindSource(e,0);const n=this.getGlSource(e);this._gl.generateMipmap(n.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const r=this._gl,n=this._gl.createSampler();return this._glSamplers[e._resourceId]=n,Vx(e,r,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",n,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:r,width:n,height:i}=this.getPixels(e),s=Be.get().createCanvas();s.width=n,s.height=i;const o=s.getContext("2d");if(o){const a=o.createImageData(n,i);a.data.set(r),o.putImageData(a,0,0)}return s}getPixels(e){const r=e.source.resolution,n=e.frame,i=Math.max(Math.round(n.width*r),1),s=Math.max(Math.round(n.height*r),1),o=new Uint8Array(OZ*i*s),a=this._renderer,u=a.renderTarget.getRenderTarget(e),l=a.renderTarget.getGpuRenderTarget(u),c=a.gl;return c.bindFramebuffer(c.FRAMEBUFFER,l.resolveTargetFramebuffer),c.readPixels(Math.round(n.x*r),Math.round(n.y*r),i,s,c.RGBA,c.UNSIGNED_BYTE,o),{pixels:new Uint8ClampedArray(o.buffer),width:i,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}}zS.extension={type:[A.WebGLSystem],name:"texture"};class $S{init(){const e=new Wt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),r=Ii(),n=Ul({name:"graphics",bits:[b0,w0(r),T0,Nl]});this.shader=new Un({glProgram:n,resources:{localUniforms:e,batchSamplers:E0(r)}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{geometry:a,instructions:u}=o.getContextRenderData(n);i.groups[0]=s.globalUniforms.bindGroup,s.state.set(e.state),s.shader.bind(i),s.geometry.bind(a,i.glProgram);const l=u.instructions;for(let c=0;c<u.instructionSize;c++){const d=l[c];if(d.size){for(let h=0;h<d.textures.textures.length;h++)s.texture.bind(d.textures.textures[h],h);s.geometry.draw("triangle-list",d.size,d.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}$S.extension={type:[A.WebGLPipesAdaptor],name:"graphics"};class HS{init(){const e=Ul({name:"mesh",bits:[T0,r8,Nl]});this._shader=new Un({glProgram:e,resources:{uTexture:X.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new te}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(i){if(!i.glProgram){pe("Mesh shader has no glProgram",r.shader);return}}else{i=this._shader;const s=r.texture,o=s.source;i.resources.uTexture=o,i.resources.uSampler=o.style,i.resources.textureUniforms.uniforms.uTextureMatrix=s.textureMatrix.mapCoord}i.groups[100]=n.globalUniforms.bindGroup,i.groups[101]=e.localUniformsBindGroup,n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}HS.extension={type:[A.WebGLPipesAdaptor],name:"mesh"};class jS{constructor(e){this._renderer=e}addRenderable(e,r){this._renderer.renderPipes.batch.break(r),r.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}jS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"customRender"};function WS(t,e){const r=t.instructionSet,n=r.instructions;for(let i=0;i<r.instructionSize;i++){const s=n[i];e[s.renderPipeId].execute(s)}}class VS{constructor(e){this._renderer=e}addRenderGroup(e,r){this._renderer.renderPipes.batch.break(r),r.add(e)}execute(e){e.isRenderable&&(this._renderer.globalUniforms.push({worldTransformMatrix:e.worldTransform,worldColor:e.worldColorAlpha}),WS(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop())}destroy(){this._renderer=null}}VS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"renderGroup"};function XS(t,e=[]){e.push(t);for(let r=0;r<t.renderGroupChildren.length;r++)XS(t.renderGroupChildren[r],e);return e}function YS(t,e,r){const n=t>>16&255,i=t>>8&255,s=t&255,o=e>>16&255,a=e>>8&255,u=e&255,l=n+(o-n)*r,c=i+(a-i)*r,d=s+(u-s)*r;return(l<<16)+(c<<8)+d}const Xu=16777215;function qS(t,e){return t===Xu||e===Xu?t+e-Xu:YS(t,e,.5)}function IZ(t,e,r){const n=(r>>24&255)/255,i=e*n*255,s=((t&255)<<16)+(t&65280)+(t>>16&255),o=r&16777215;let a;return s===Xu||o===Xu?a=s+o-Xu:a=YS(s,o,.5),a+(i<<24)}const FZ=new Ve;function KS(t,e=!1){W8(t);const r=t.childrenToUpdate,n=t.updateTick++;for(const i in r){const s=r[i],o=s.list,a=s.index;for(let u=0;u<a;u++){const l=o[u];l.parentRenderGroup===t&&QS(l,n,0)}s.index=0}if(e)for(let i=0;i<t.renderGroupChildren.length;i++)KS(t.renderGroupChildren[i],e)}function W8(t){const e=t.root;let r;if(t.renderGroupParent){const n=t.renderGroupParent;t.worldTransform.appendFrom(e.relativeGroupTransform,n.worldTransform),t.worldColor=qS(e.groupColor,n.worldColor),r=e.groupAlpha*n.worldAlpha}else t.worldTransform.copyFrom(e.localTransform),t.worldColor=e.localColor,r=e.localAlpha;r=r<0?0:r>1?1:r,t.worldAlpha=r,t.worldColorAlpha=t.worldColor+((r*255|0)<<24)}function QS(t,e,r){if(e===t.updateTick)return;t.updateTick=e,t.didChange=!1;const n=t.localTransform;t.updateLocalTransform();const i=t.parent;if(i&&!i.renderGroup?(r=r|t._updateFlags,t.relativeGroupTransform.appendFrom(n,i.relativeGroupTransform),r&&V3(t,i,r)):(r=t._updateFlags,t.relativeGroupTransform.copyFrom(n),r&&V3(t,FZ,r)),!t.renderGroup){const s=t.children,o=s.length;for(let u=0;u<o;u++)QS(s[u],e,r);const a=t.parentRenderGroup;t.renderPipeId&&!a.structureDidChange&&a.updateRenderable(t)}}function V3(t,e,r){if(r&pm){t.groupColor=qS(t.localColor,e.groupColor);let n=t.localAlpha*e.groupAlpha;n=n<0?0:n>1?1:n,t.groupAlpha=n,t.groupColorAlpha=t.groupColor+((n*255|0)<<24)}r&c2&&(t.groupBlendMode=t.localBlendMode==="inherit"?e.groupBlendMode:t.localBlendMode),r&Jc&&(t.globalDisplayStatus=t.localDisplayStatus&e.globalDisplayStatus),t._updateFlags=0}function V8(t,e){const{list:r,index:n}=t.childrenRenderablesToUpdate;let i=!1;for(let s=0;s<n;s++){const o=r[s];if(i=e[o.renderPipeId].validateRenderable(o),i)break}return t.structureDidChange=i,i}const UZ=new te;class ZS{constructor(e){this._renderer=e}render({container:e,transform:r}){e.isRenderGroup=!0;const n=e.parent,i=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer,o=XS(e.renderGroup,[]);let a=UZ;r&&(a=a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(r));const u=s.renderPipes;for(let l=0;l<o.length;l++){const c=o[l];c.runOnRender(),c.instructionSet.renderPipes=u,c.structureDidChange||V8(c,u),KS(c),c.structureDidChange?(c.structureDidChange=!1,n8(c,u)):LZ(c),c.childrenRenderablesToUpdate.index=0,s.renderPipes.batch.upload(c.instructionSet)}s.globalUniforms.start({worldTransformMatrix:r?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),WS(e.renderGroup,u),u.uniformBatch&&u.uniformBatch.renderEnd(),r&&e.renderGroup.localTransform.copyFrom(a),e.parent=n,e.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}}ZS.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"renderGroup"};function LZ(t){const{list:e,index:r}=t.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const i=e[n];i.didViewUpdate&&t.updateRenderable(i)}}class P0{constructor(){this.vertexSize=4,this.indexSize=6,this.location=0,this.batcher=null,this.batch=null,this.roundPixels=0}get blendMode(){return this.renderable.groupBlendMode}packAttributes(e,r,n,i){const s=this.renderable,o=this.texture,a=s.groupTransform,u=a.a,l=a.b,c=a.c,d=a.d,h=a.tx,f=a.ty,p=this.bounds,m=p.maxX,g=p.minX,_=p.maxY,v=p.minY,y=o.uvs,x=s.groupColorAlpha,S=i<<16|this.roundPixels&65535;e[n+0]=u*g+c*v+h,e[n+1]=d*v+l*g+f,e[n+2]=y.x0,e[n+3]=y.y0,r[n+4]=x,r[n+5]=S,e[n+6]=u*m+c*v+h,e[n+7]=d*v+l*m+f,e[n+8]=y.x1,e[n+9]=y.y1,r[n+10]=x,r[n+11]=S,e[n+12]=u*m+c*_+h,e[n+13]=d*_+l*m+f,e[n+14]=y.x2,e[n+15]=y.y2,r[n+16]=x,r[n+17]=S,e[n+18]=u*g+c*_+h,e[n+19]=d*_+l*g+f,e[n+20]=y.x3,e[n+21]=y.y3,r[n+22]=x,r[n+23]=S}packIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}reset(){this.renderable=null,this.texture=null,this.batcher=null,this.batch=null,this.bounds=null}}class JS{constructor(e){this._gpuSpriteHash=Object.create(null),this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const r=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,r),r.batcher.updateElement(r)}validateRenderable(e){const r=e._texture,n=this._getGpuSprite(e);return n.texture._source!==r._source?!n.batcher.checkAndUpdateTexture(n,r):!1}destroyRenderable(e){const r=this._gpuSpriteHash[e.uid];Re.return(r),this._gpuSpriteHash[e.uid]=null}_updateBatchableSprite(e,r){e._didSpriteUpdate=!1,r.bounds=e.bounds,r.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=Re.get(P0);return r.renderable=e,r.texture=e._texture,r.bounds=e.bounds,r.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=r,e._didSpriteUpdate=!1,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuSpriteHash)Re.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}JS.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"sprite"};const ew=class X8{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Me(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...X8.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};ew.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"background",priority:0};ew.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let Y8=ew;const id={};dt.handle(A.BlendMode,t=>{if(!t.name)throw new Error("BlendMode extension must have a name property");id[t.name]=t.ref},t=>{delete id[t.name]});class tw{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e}setBlendMode(e,r,n){if(this._activeBlendMode===r){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=r,this._isAdvanced&&this._endAdvancedBlendMode(n),this._isAdvanced=!!id[r],this._isAdvanced&&(this._beginAdvancedBlendMode(n),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const r=this._activeBlendMode;if(!id[r]){pe(`Unable to assign BlendMode: '${r}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let n=this._filterHash[r];n||(n=this._filterHash[r]=new Wd,n.filters=[new id[r]]);const i={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:n,canBundle:!1};this._renderableList=i.renderables,e.add(i)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}tw.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"blendMode"};const ay={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},rw=class q8{constructor(e){this._renderer=e}_normalizeOptions(e,r={}){return e instanceof Ve||e instanceof X?{target:e,...r}:{...r,...e}}async image(e){const r=new Image;return r.src=await this.base64(e),r}async base64(e){e=this._normalizeOptions(e,q8.defaultImageOptions);const{format:r,quality:n}=e,i=this.canvas(e);if(i.toBlob!==void 0)return new Promise((s,o)=>{i.toBlob(a=>{if(!a){o(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(a)},ay[r],n)});if(i.toDataURL!==void 0)return i.toDataURL(ay[r],n);if(i.convertToBlob!==void 0){const s=await i.convertToBlob({type:ay[r],quality:n});return new Promise((o,a)=>{const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(s)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer;if(r instanceof X)return n.texture.generateCanvas(r);const i=n.textureGenerator.generateTexture(e),s=n.texture.generateCanvas(i);return i.destroy(),s}pixels(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer,i=r instanceof X?r:n.textureGenerator.generateTexture(e),s=n.texture.getPixels(i);return r instanceof Ve&&i.destroy(),s}texture(e){return e=this._normalizeOptions(e),e.target instanceof X?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const r=this.canvas(e),n=document.createElement("a");n.download=e.filename??"image.png",n.href=r.toDataURL("image/png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}log(e){const r=e.width??200;e=this._normalizeOptions(e);const n=this.canvas(e),i=n.toDataURL();console.log(`[Pixi Texture] ${n.width}px ${n.height}px`);const s=["font-size: 1px;",`padding: ${r}px 300px;`,`background: url(${i}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};rw.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"extract"};rw.defaultImageOptions={format:"png",quality:1};let K8=rw;class Q8 extends X{static create(e){return new X({source:new At(e)})}resize(e,r,n){return this.source.resize(e,r,n),this}}const NZ=new ke,GZ=new dr,zZ=[0,0,0,0];class nw{constructor(e){this._renderer=e}generateTexture(e){var l;e instanceof Ve&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const r=e.resolution||this._renderer.resolution,n=e.antialias||this._renderer.view.antialias,i=e.target;let s=e.clearColor;s?s=Array.isArray(s)&&s.length===4?s:Me.shared.setValue(s).toArray():s=zZ;const o=((l=e.frame)==null?void 0:l.copyTo(NZ))||Zg(i,GZ).rectangle;o.width=Math.max(o.width,1/r)|0,o.height=Math.max(o.height,1/r)|0;const a=Q8.create({...e.textureSourceOptions,width:o.width,height:o.height,resolution:r,antialias:n}),u=te.shared.translate(-o.x,-o.y);return this._renderer.render({container:i,transform:u,target:a,clearColor:s}),a}destroy(){this._renderer=null}}nw.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"textureGenerator"};function $Z(t,e,r,n){r[n++]=(t>>16&255)/255,r[n++]=(t>>8&255)/255,r[n++]=(t&255)/255,r[n++]=e}function Lh(t,e,r){const n=(t>>24&255)/255;e[r++]=(t&255)/255*n,e[r++]=(t>>8&255)/255*n,e[r++]=(t>>16&255)/255*n,e[r++]=n}class iw{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:r,worldTransformMatrix:n,worldColor:i,offset:s}){const o=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:o,worldTransformMatrix:new te,worldColor:4294967295,offset:new Ie},u={projectionMatrix:r||this._renderer.renderTarget.projectionMatrix,resolution:e||o.size,worldTransformMatrix:n||a.worldTransformMatrix,worldColor:i||a.worldColor,offset:s||a.offset,bindGroup:null},l=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(l);const c=l.uniforms;c.uProjectionMatrix=u.projectionMatrix,c.uResolution=u.resolution,c.uWorldTransformMatrix.copyFrom(u.worldTransformMatrix),c.uWorldTransformMatrix.tx-=u.offset.x,c.uWorldTransformMatrix.ty-=u.offset.y,Lh(u.worldColor,c.uWorldColorAlpha,0),l.update();let d;this._renderer.renderPipes.uniformBatch?d=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(l,!1):(d=this._bindGroupPool.pop()||new rs,this._activeBindGroups.push(d),d.setResource(l,0)),u.bindGroup=d,this._currentGlobalUniformData=u}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===Mn.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new Wt({uProjectionMatrix:{value:new te,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new te,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}iw.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"globalUniforms"};let X3=!1;const Xx="8.1.6";function Z8(t){if(!X3){if(Be.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${Xx} (${t}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${Xx} - ${t} - http://www.pixijs.com/`);X3=!0}}class A0{constructor(e){this._renderer=e}init(e){if(e.hello){let r=this._renderer.name;this._renderer.type===Mn.WEBGL&&(r+=` ${this._renderer.context.webGLVersion}`),Z8(r)}}}A0.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"hello",priority:-2};A0.defaultOptions={hello:!1};const sw=class J8{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={...J8.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let r=0;r<e.length;r++){const n=e[r];n.autoGarbageCollect&&n.resource&&n._touched>-1&&this.count-n._touched>this.maxIdle&&(n._touched=-1,n.unload())}}destroy(){this._renderer=null}};sw.extension={type:[A.WebGLSystem,A.WebGPUSystem],name:"textureGC"};sw.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:60*60,textureGCCheckCountMax:600};let ow=sw;dt.add(ow);const aw=class eI{get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...eI.defaultOptions,...e},e.view&&(le(de,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new ke(0,0,e.width,e.height),this.canvas=e.canvas||Be.get().createCanvas(),this.antialias=!!e.antialias,this.texture=kS(this.canvas,e),this.renderTarget=new Tm({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.multiView=!!e.multiView,this.autoDensity&&(this.canvas.style.width=`${this.texture.width}px`,this.canvas.style.height=`${this.texture.height}px`),this.resolution=e.resolution}resize(e,r,n){this.texture.source.resize(e,r,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height,this.autoDensity&&(this.canvas.style.width=`${e}px`,this.canvas.style.height=`${r}px`)}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};aw.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"view",priority:0};aw.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let tI=aw;const uw=[Y8,iw,A0,tI,ZS,ow,nw,K8],lw=[tw,mS,JS,VS,gS,yS,_S,jS],HZ=[...uw,DS,d8,a8,vS,zS,IS,wS,NS,LS,CS,I8,PS,TS],jZ=[...lw],WZ=[fS,HS,$S],rI=[],nI=[],iI=[];dt.handleByNamedList(A.WebGLSystem,rI);dt.handleByNamedList(A.WebGLPipes,nI);dt.handleByNamedList(A.WebGLPipesAdaptor,iI);dt.add(...HZ,...jZ,...WZ);class sI extends Ch{constructor(){const e={name:"webgl",type:Mn.WEBGL,systems:rI,renderPipes:nI,renderPipeAdaptors:iI};super(e)}}const VZ=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:sI},Symbol.toStringTag,{value:"Module"}));class cw{constructor(e){this._hash=Object.create(null),this._renderer=e}contextChange(e){this._gpu=e}getBindGroup(e,r,n){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,r,n)}_createBindGroup(e,r,n){const i=this._gpu.device,s=r.layout[n],o=[],a=this._renderer;for(const c in s){const d=e.resources[c]??e.resources[s[c]];let h;if(d._resourceType==="uniformGroup"){const f=d;a.ubo.updateUniformGroup(f);const p=f.buffer;h={buffer:a.buffer.getGPUBuffer(p),offset:0,size:p.descriptor.size}}else if(d._resourceType==="buffer"){const f=d;h={buffer:a.buffer.getGPUBuffer(f),offset:0,size:f.descriptor.size}}else if(d._resourceType==="bufferResource"){const f=d;h={buffer:a.buffer.getGPUBuffer(f.buffer),offset:f.offset,size:f.size}}else if(d._resourceType==="textureSampler"){const f=d;h=a.texture.getGpuSampler(f)}else if(d._resourceType==="textureSource"){const f=d;h=a.texture.getGpuSource(f).createView({})}o.push({binding:s[c],resource:h})}const u=a.shader.getProgramData(r).bindGroups[n],l=i.createBindGroup({layout:u,entries:o});return this._hash[e._key]=l,l}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}cw.extension={type:[A.WebGPUSystem],name:"bindGroup"};class dw{constructor(){this._gpuBuffers=Object.create(null),this._managedBuffers=[]}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const r=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),n=e.data;return e._updateID&&n&&(e._updateID=0,this._gpu.device.queue.writeBuffer(r,0,n.buffer,0,(e._updateSize||n.byteLength)+3&-4)),r}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this));const r=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(gm(e.data.buffer,r.getMappedRange()),r.unmap()),this._gpuBuffers[e.uid]=r,this._managedBuffers.push(e),r}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}dw.extension={type:[A.WebGPUSystem],name:"buffer"};function XZ(t,e){const r=t.descriptor.size,n=e.gpu.device,i=new wn({data:new Float32Array(24e5),usage:Te.MAP_READ|Te.COPY_DST}),s=e.buffer.createGPUBuffer(i),o=n.createCommandEncoder();o.copyBufferToBuffer(e.buffer.getGPUBuffer(t),0,s,0,r),n.queue.submit([o.finish()]),s.mapAsync(GPUMapMode.READ,0,r).then(()=>{s.getMappedRange(0,r),s.unmap()})}class oI{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const r=this.byteIndex;let n=r+e*4;if(n=Math.ceil(n/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,n>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=n,r}addGroup(e){const r=this.addEmptyGroup(e.length);for(let n=0;n<e.length;n++)this.data[r/4+n]=e[n];return r}destroy(){this._buffer.destroy(),this._buffer=null,this.data=null}}class hw{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}hw.extension={type:[A.WebGPUSystem],name:"colorMask"};class R0{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(e).then(r=>{this.gpu=r,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const r=await navigator.gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),n=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(s=>r.features.has(s)),i=await r.requestDevice({requiredFeatures:n});return{adapter:r,device:i}}destroy(){this.gpu=null,this._renderer=null}}R0.extension={type:[A.WebGPUSystem],name:"device"};R0.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class fw{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,r,n,i){const s=this._renderer.pipeline.getPipeline(e,r,n,i);this.setPipeline(s)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,r){this._boundVertexBuffer[e]!==r&&(this._boundVertexBuffer[e]=r,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(r)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const r=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),r)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,r,n){if(this._boundBindGroup[e]===r)return;this._boundBindGroup[e]=r,r._touch(this._renderer.textureGC.count);const i=this._renderer.bindGroup.getBindGroup(r,n,e);this.renderPassEncoder.setBindGroup(e,i)}setGeometry(e){for(const r in e.attributes){const n=e.attributes[r];this._setVertexBuffer(n.location,n.buffer)}e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,r){for(const n in e.groups){const i=e.groups[n];r||this._syncBindGroup(i),this.setBindGroup(n,i,e.gpuProgram)}}_syncBindGroup(e){for(const r in e.resources){const n=e.resources[r];n.isUniformGroup&&this._renderer.ubo.updateUniformGroup(n)}}draw(e){const{geometry:r,shader:n,state:i,topology:s,size:o,start:a,instanceCount:u,skipSync:l}=e;this.setPipelineFromGeometryProgramAndState(r,n.gpuProgram,i,s),this.setGeometry(r),this._setShaderBindGroups(n,l),r.indexBuffer?this.renderPassEncoder.drawIndexed(o||r.indexBuffer.data.length,u||r.instanceCount,a||0):this.renderPassEncoder.draw(o||r.getSize(),u||r.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const r=this._boundPipeline,n={...this._boundVertexBuffer},i=this._boundIndexBuffer,s={...this._boundBindGroup};this._clearCache();const o=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(o.x,o.y,o.width,o.height,0,1),this.setPipeline(r);for(const a in n)this._setVertexBuffer(a,n[a]);for(const a in s)this.setBindGroup(a,s[a],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}fw.extension={type:[A.WebGPUSystem],name:"encoder",priority:1};class pw{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:Ht.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(r.stencilMode,r.stencilReference)}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid];n.stencilMode=e,n.stencilReference=r;const i=this._renderer;i.pipeline.setStencilMode(e),i.encoder.renderPassEncoder.setStencilReference(r)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}pw.extension={type:[A.WebGPUSystem],name:"stencil"};const sd={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function aI(t){const e=t.map(n=>({data:n,offset:0,size:0}));let r=0;for(let n=0;n<e.length;n++){const i=e[n];let s=sd[i.data.type].size;const o=sd[i.data.type].align;if(!sd[i.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`);i.data.size>1&&(s=Math.max(s,o)*i.data.size),r=Math.ceil(r/o)*o,i.size=s,i.offset=r,r+=s}return r=Math.ceil(r/16)*16,{uboElements:e,size:r}}function uI(t,e){const{size:r,align:n}=sd[t.data.type],i=(n-r)/4;return`
         v = uv.${t.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${t.data.size*(r/4)}; i++)
         {
             for(var j = 0; j < ${r/4}; j++)
             {
                 data[arrayOffset++] = v[t++];
             }
             ${i!==0?`arrayOffset += ${i};`:""}
         }
     `}function lI(t){return MS(t,"uboWgsl",uI,p8)}class mw extends AS{constructor(){super({createUboElements:aI,generateUboSync:lI})}}mw.extension={type:[A.WebGPUSystem],name:"ubo"};const Xs=128;class gw{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._batchBuffer=new oI({minUniformOffsetAlignment:Xs});const r=256/Xs;for(let n=0;n<r;n++){let i=Te.UNIFORM|Te.COPY_DST;n===0&&(i|=Te.COPY_SRC),this._buffers.push(new wn({data:this._batchBuffer.data,usage:i}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,r){if(!r&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const n=e.buffer.data,i=this._batchBuffer.addEmptyGroup(n.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,i/4),this._bindGroupHash[e.uid]=this._getBindGroup(i/Xs),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const r=e.buffer.data,n=this._batchBuffer.addGroup(r);return this._getBufferResource(n/Xs)}getArrayBindGroup(e){const r=this._batchBuffer.addGroup(e);return this._getBindGroup(r/Xs)}getArrayBufferResource(e){const n=this._batchBuffer.addGroup(e)/Xs;return this._getBufferResource(n)}_getBufferResource(e){if(!this._bufferResources[e]){const r=this._buffers[e%2];this._bufferResources[e]=new C0({buffer:r,offset:(e/2|0)*256,size:Xs})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const r=new rs({0:this._getBufferResource(e)});this._bindGroups[e]=r}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,r=this._buffers[0];r.update(this._batchBuffer.byteIndex),e.updateBuffer(r);const n=this._renderer.gpu.device.createCommandEncoder();for(let i=1;i<this._buffers.length;i++){const s=this._buffers[i];n.copyBufferToBuffer(e.getGPUBuffer(r),Xs,e.getGPUBuffer(s),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([n.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}gw.extension={type:[A.WebGPUPipes],name:"uniformBatch"};const YZ={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function qZ(t,e,r,n,i){return t<<24|e<<16|r<<10|n<<5|i}function KZ(t,e,r,n){return r<<6|t<<3|n<<1|e}class _w{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(Ht.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=Go[e],this._updatePipeHash())}setPipeline(e,r,n,i){const s=this.getPipeline(e,r,n);i.setPipeline(s)}getPipeline(e,r,n,i){e._layoutKey||(bS(e,r.attributeData),this._generateBufferKey(e)),i=i||e.topology;const s=qZ(e._layoutKey,r._layoutKey,n.data,n._blendModeId,YZ[i]);return this._pipeCache[s]?this._pipeCache[s]:(this._pipeCache[s]=this._createPipeline(e,r,n,i),this._pipeCache[s])}_createPipeline(e,r,n,i){const s=this._gpu.device,o=this._createVertexBufferLayouts(e),a=this._renderer.state.getColorTargets(n);a[0].writeMask=this._stencilMode===Ht.RENDERING_MASK_ADD?0:this._colorMask;const u=this._renderer.shader.getProgramData(r).pipeline,l={vertex:{module:this._getModule(r.vertex.source),entryPoint:r.vertex.entryPoint,buffers:o},fragment:{module:this._getModule(r.fragment.source),entryPoint:r.fragment.entryPoint,targets:a},primitive:{topology:i,cullMode:n.cullMode},layout:u,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(l.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:n.depthTest,depthCompare:n.depthTest?"less":"always"}),s.createRenderPipeline(l)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const r=this._gpu.device;return this._moduleCache[e]=r.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const r=[];let n=0;const i=Object.keys(e.attributes).sort();for(let o=0;o<i.length;o++){const a=e.attributes[i[o]];r[n++]=a.location,r[n++]=a.offset,r[n++]=a.format,r[n++]=a.stride}const s=r.join("");return e._layoutKey=Th(s,"geometry"),e._layoutKey}_createVertexBufferLayouts(e){if(this._bufferLayoutsCache[e._layoutKey])return this._bufferLayoutsCache[e._layoutKey];const r=[];return e.buffers.forEach(n=>{const i={arrayStride:0,stepMode:"vertex",attributes:[]},s=i.attributes;for(const o in e.attributes){const a=e.attributes[o];a.buffer===n&&(i.arrayStride=a.stride,i.stepMode=a.instance?"instance":"vertex",s.push({shaderLocation:a.location,offset:a.offset,format:a.format}))}s.length&&r.push(i)}),this._bufferLayoutsCache[e._layoutKey]=r,r}_updatePipeHash(){const e=KZ(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}_w.extension={type:[A.WebGPUSystem],name:"pipeline"};class cI{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class dI{init(e,r){this._renderer=e,this._renderTargetSystem=r}copyToTexture(e,r,n,i,s){const o=this._renderer,a=this._getGpuColorTexture(e),u=o.texture.getGpuSource(r.source);return o.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:n},{texture:u,origin:s},i),r}startRenderPass(e,r=!0,n,i){const o=this._renderTargetSystem.getGpuRenderTarget(e),a=this.getDescriptor(e,r,n);o.descriptor=a,this._renderer.pipeline.setRenderTarget(o),this._renderer.encoder.beginRenderPass(o),this._renderer.encoder.setViewport(i)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);return r.contexts[0]?r.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,r,n){typeof r=="boolean"&&(r=r?jr.ALL:jr.NONE);const i=this._renderTargetSystem,s=i.getGpuRenderTarget(e),o=e.colorTextures.map((l,c)=>{const d=s.contexts[c];let h,f;d?h=d.getCurrentTexture().createView():h=this._renderer.texture.getGpuSource(l).createView({mipLevelCount:1}),s.msaaTextures[c]&&(f=h,h=this._renderer.texture.getTextureView(s.msaaTextures[c]));const p=r&jr.COLOR?"clear":"load";return n??(n=i.defaultClearColor),{view:h,resolveTarget:f,clearValue:n,storeOp:"store",loadOp:p}});let a;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=s.msaa?4:1),e.depthStencilTexture){const l=r&jr.STENCIL?"clear":"load",c=r&jr.DEPTH?"clear":"load";a={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:l,depthClearValue:1,depthLoadOp:c,depthStoreOp:"store"}}return{colorAttachments:o,depthStencilAttachment:a}}clear(e,r=!0,n,i){if(!r)return;const{gpu:s,encoder:o}=this._renderer,a=s.device;if(o.commandEncoder===null){const l=a.createCommandEncoder(),c=this.getDescriptor(e,r,n),d=l.beginRenderPass(c);d.setViewport(i.x,i.y,i.width,i.height,0,1),d.end();const h=l.finish();a.queue.submit([h])}else this.startRenderPass(e,r,n,i)}initGpuRenderTarget(e){e.isRoot=!0;const r=new cI;return e.colorTextures.forEach((n,i)=>{if(Da.test(n.resource)){const s=n.resource.getContext("webgpu"),o=n.transparent?"premultiplied":"opaque";try{s.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:o})}catch(a){console.error(a)}r.contexts[i]=s}if(r.msaa=n.source.antialias,n.source.antialias){const s=new At({width:0,height:0,sampleCount:4});r.msaaTextures[i]=s}}),r.msaa&&(r.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),r}destroyGpuRenderTarget(e){e.contexts.forEach(r=>{r.unconfigure()}),e.msaaTextures.forEach(r=>{r.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&r.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);r.width=e.width,r.height=e.height,r.msaa&&e.colorTextures.forEach((n,i)=>{const s=r.msaaTextures[i];s==null||s.resize(n.source.width,n.source.height,n.source._resolution)})}}class yw extends OS{constructor(e){super(e),this.adaptor=new dI,this.adaptor.init(e,this)}}yw.extension={type:[A.WebGPUSystem],name:"renderTarget"};class vw{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const r=this._gpu.device,n=e.gpuLayout.map(s=>r.createBindGroupLayout({entries:s})),i={bindGroupLayouts:n};return this._gpuProgramData[e._layoutKey]={bindGroups:n,pipeline:r.createPipelineLayout(i)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}vw.extension={type:[A.WebGPUSystem],name:"shader"};const Bn={};Bn.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};Bn.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Bn.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Bn.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};Bn["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};Bn["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};Bn.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};class xw{constructor(){this.defaultState=new Fi,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:Bn[e.blendMode]||Bn.normal}]}destroy(){this.gpu=null}}xw.extension={type:[A.WebGPUSystem],name:"state"};const hI={type:"image",upload(t,e,r){const n=t.resource,i=(t.pixelWidth|0)*(t.pixelHeight|0),s=n.byteLength/i;r.device.queue.writeTexture({texture:e},n,{offset:0,rowsPerImage:t.pixelHeight,bytesPerRow:t.pixelHeight*s},{width:t.pixelWidth,height:t.pixelHeight,depthOrArrayLayers:1})}},bw={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},QZ={blockBytes:4,blockWidth:1,blockHeight:1},fI={type:"compressed",upload(t,e,r){let n=t.pixelWidth,i=t.pixelHeight;const s=bw[t.format]||QZ;for(let o=0;o<t.resource.length;o++){const a=t.resource[o],u=Math.ceil(n/s.blockWidth)*s.blockBytes;r.device.queue.writeTexture({texture:e,mipLevel:o},a,{offset:0,bytesPerRow:u},{width:Math.ceil(n/s.blockWidth)*s.blockWidth,height:Math.ceil(i/s.blockHeight)*s.blockHeight,depthOrArrayLayers:1}),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},Sw={type:"image",upload(t,e,r){const n=t.resource;if(!n)return;const i=Math.min(e.width,t.resourceWidth||t.pixelWidth),s=Math.min(e.height,t.resourceHeight||t.pixelHeight),o=t.alphaMode==="premultiply-alpha-on-upload";r.device.queue.copyExternalImageToTexture({source:n},{texture:e,premultipliedAlpha:o},{width:i,height:s})}},pI={type:"video",upload(t,e,r){Sw.upload(t,e,r)}};class mI{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let r=this.pipelines[e];return r||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),r=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=r),r}generateMipmap(e){const r=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let n=e;const i=e.depthOrArrayLayers||1,s=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!s){const u={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};n=this.device.createTexture(u)}const o=this.device.createCommandEncoder({}),a=r.getBindGroupLayout(0);for(let u=0;u<i;++u){let l=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:u,arrayLayerCount:1}),c=s?1:0;for(let d=1;d<e.mipLevelCount;++d){const h=n.createView({baseMipLevel:c++,mipLevelCount:1,dimension:"2d",baseArrayLayer:u,arrayLayerCount:1}),f=o.beginRenderPass({colorAttachments:[{view:h,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),p=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:l}]});f.setPipeline(r),f.setBindGroup(0,p),f.draw(3,1,0,0),f.end(),l=h}}if(!s){const u={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i};for(let l=1;l<e.mipLevelCount;++l)o.copyTextureToTexture({texture:n,mipLevel:l-1},{texture:e,mipLevel:l},u),u.width=Math.ceil(u.width/2),u.height=Math.ceil(u.height/2)}return this.device.queue.submit([o.finish()]),s||n.destroy(),e}}class ww{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:Sw,buffer:hI,video:pI,compressed:fI},this._renderer=e}contextChange(e){this._gpu=e}initSource(e){if(e.autoGenerateMipmaps){const u=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(u))+1}let r=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(r|=GPUTextureUsage.RENDER_ATTACHMENT,r|=GPUTextureUsage.COPY_SRC);const n=bw[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},i=Math.ceil(e.pixelWidth/n.blockWidth)*n.blockWidth,s=Math.ceil(e.pixelHeight/n.blockHeight)*n.blockHeight,o={label:e.label,size:{width:i,height:s},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:r},a=this._gpu.device.createTexture(o);return this._gpuSources[e.uid]=a,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const r=this.getGpuSource(e);r&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,r,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const r=this._gpuSources[e.uid];r&&(this._gpuSources[e.uid]=null,r.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new mI(this._gpu.device));const r=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(r)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const r=this._gpuSources[e.uid];r?(r.width!==e.pixelWidth||r.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const r=e.source,n=r.uid;return this._bindGroupHash[n]=new rs({0:r,1:r.style}),this._bindGroupHash[n]}getTextureView(e){const r=e.source;return this._textureViewHash[r.uid]??this._createTextureView(r)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const r=this._renderer,n=r.gpu.device.createCommandEncoder(),i=Be.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const s=i.getContext("webgpu");return s.configure({device:r.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),n.copyTextureToTexture({texture:r.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:s.getCurrentTexture()},{width:i.width,height:i.height}),r.gpu.device.queue.submit([n.finish()]),i}getPixels(e){const r=this.generateCanvas(e),n=ns.getOptimalCanvasAndContext(r.width,r.height),i=n.context;i.drawImage(r,0,0);const{width:s,height:o}=r,a=i.getImageData(0,0,s,o),u=new Uint8ClampedArray(a.data.buffer);return ns.returnCanvasAndContext(n),{pixels:u,width:s,height:o}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const r=Number(e),n=this._bindGroupHash[r];n==null||n.destroy(),this._bindGroupHash[r]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}ww.extension={type:[A.WebGPUSystem],name:"texture"};class Ew{init(){const e=new Wt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),r=Fl({name:"graphics",bits:[x0,S0(Ii()),e8,Ll]});this.shader=new Un({gpuProgram:r,resources:{localUniforms:e}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{geometry:a,instructions:u}=o.getContextRenderData(n),l=s.encoder;l.setPipelineFromGeometryProgramAndState(a,i.gpuProgram,e.state),l.setGeometry(a);const c=s.globalUniforms.bindGroup;l.setBindGroup(0,c,i.gpuProgram);const d=s.renderPipes.uniformBatch.getUniformBindGroup(i.resources.localUniforms,!0);l.setBindGroup(2,d,i.gpuProgram);const h=u.instructions;for(let f=0;f<u.instructionSize;f++){const p=h[f];if(i.groups[1]=p.bindGroup,!p.gpuBindGroup){const m=p.textures;p.bindGroup=l0(m.textures,m.count),p.gpuBindGroup=s.bindGroup.getBindGroup(p.bindGroup,i.gpuProgram,1)}l.setBindGroup(1,p.bindGroup,i.gpuProgram),l.renderPassEncoder.drawIndexed(p.size,1,p.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}Ew.extension={type:[A.WebGPUPipesAdaptor],name:"graphics"};class Tw{init(){const e=Fl({name:"mesh",bits:[Vu,t8,Ll]});this._shader=new Un({gpuProgram:e,resources:{uTexture:X.EMPTY._source,uSampler:X.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new te}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(!i)i=this._shader,i.resources.uTexture=r.texture.source,i.resources.uSampler=r.texture.source.style,i.resources.textureUniforms.uniforms.uTextureMatrix=r.texture.textureMatrix.mapCoord;else if(!i.gpuProgram){pe("Mesh shader has no gpuProgram",r.shader);return}const s=i.gpuProgram;if(s.autoAssignGlobalUniforms&&(i.groups[0]=n.globalUniforms.bindGroup),s.autoAssignLocalUniforms){const o=e.localUniforms;i.groups[1]=n.renderPipes.uniformBatch.getUniformBindGroup(o,!0)}n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}Tw.extension={type:[A.WebGPUPipesAdaptor],name:"mesh"};const ZZ=[...uw,mw,fw,R0,dw,ww,yw,vw,xw,_w,hw,pw,cw],JZ=[...lw,gw],eJ=[pS,Tw,Ew],gI=[],_I=[],yI=[];dt.handleByNamedList(A.WebGPUSystem,gI);dt.handleByNamedList(A.WebGPUPipes,_I);dt.handleByNamedList(A.WebGPUPipesAdaptor,yI);dt.add(...ZZ,...JZ,...eJ);class vI extends Ch{constructor(){const e={name:"webgpu",type:Mn.WEBGPU,systems:gI,renderPipes:_I,renderPipeAdaptors:yI};super(e)}}const tJ=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:vI},Symbol.toStringTag,{value:"Module"})),Y3={POINTS:"point-list",LINES:"line-list",LINE_STRIP:"line-strip",TRIANGLES:"triangle-list",TRIANGLE_STRIP:"triangle-strip"},rJ=new Proxy(Y3,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${Y3[e]}' instead`),t[e]}}),nJ=new ke(0,0,1,1);function iJ(t,e,r){r||(r=nJ);const n=e.pixelWidth,i=e.pixelHeight;return t.x=r.x*n|0,t.y=r.y*i|0,t.width=r.width*n|0,t.height=r.height*i|0,t}var xI=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(xI||{}),Cm=(t=>(t.CLAMP="clamp-to-edge",t.REPEAT="repeat",t.MIRRORED_REPEAT="mirror-repeat",t))(Cm||{});const sJ=new Proxy(Cm,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${Cm[e]}' instead`),t[e]}});var Pm=(t=>(t.NEAREST="nearest",t.LINEAR="linear",t))(Pm||{});const oJ=new Proxy(Pm,{get(t,e){return le(de,`DRAW_MODES.${e} is deprecated, use '${Pm[e]}' instead`),t[e]}});class aJ{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,l=e.y/s+a;n=ye.add(n,ye.NW),this.x0=u+o*ye.uX(n),this.y0=l+a*ye.uY(n),n=ye.add(n,2),this.x1=u+o*ye.uX(n),this.y1=l+a*ye.uY(n),n=ye.add(n,2),this.x2=u+o*ye.uX(n),this.y2=l+a*ye.uY(n),n=ye.add(n,2),this.x3=u+o*ye.uX(n),this.y3=l+a*ye.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[pixi.js/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}let uJ=0;function lJ(){return uJ++}function cJ(t){const e=t.toString(),r=e.indexOf("{"),n=e.lastIndexOf("}");if(r===-1||n===-1)throw new Error("getFunctionBody: No body found in function definition");return e.slice(r+1,n).trim()}class dJ extends Ve{constructor(e){typeof e=="function"&&(e={render:e});const{render:r,...n}=e;super({label:"RenderContainer",...n}),this.batched=!1,this.bounds=new dr,this.canBundle=!1,this.renderPipeId="customRender",r&&(this.render=r),this.containsPoint=e.containsPoint??(()=>!1),this.addBounds=e.addBounds??(()=>!1)}render(e){}}function hJ(t,e){const r=e._scale,n=e._pivot,i=e._position,s=r._x,o=r._y,a=n._x,u=n._y;t.a=e._cx*s,t.b=e._sx*s,t.c=e._cy*o,t.d=e._sy*o,t.tx=i._x-(a*t.a+u*t.c),t.ty=i._y-(a*t.b+u*t.d)}function fJ(t,e,r){const n=t.a,i=t.b,s=t.c,o=t.d,a=t.tx,u=t.ty,l=e.a,c=e.b,d=e.c,h=e.d;r.a=n*l+i*d,r.b=n*c+i*h,r.c=s*l+o*d,r.d=s*c+o*h,r.tx=a*l+u*d+e.tx,r.ty=a*c+u*h+e.ty}class bI{constructor(e,r){this.state=Fi.for2d(),this._graphicsBatchesHash=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init()}validateRenderable(e){const r=e.context,n=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(r);return!!(i.isBatchable||n!==i.isBatchable)}addRenderable(e,r){const n=this.renderer.graphicsContext.updateGpuContext(e.context);e._didGraphicsUpdate&&(e._didGraphicsUpdate=!1,this._rebuild(e)),n.isBatchable?this._addToBatcher(e,r):(this.renderer.renderPipes.batch.break(r),r.add(e))}updateRenderable(e){const r=this._graphicsBatchesHash[e.uid];if(r)for(let n=0;n<r.length;n++){const i=r[n];i.batcher.updateElement(i)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid)}execute(e){if(!e.isRenderable)return;const r=this.renderer,n=e.context;if(!r.graphicsContext.getGpuContext(n).batches.length)return;const s=n.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const o=s.resources.localUniforms.uniforms;o.uTransformMatrix=e.groupTransform,o.uRound=r._roundPixels|e._roundPixels,Lh(e.groupColorAlpha,o.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const r=!!this._graphicsBatchesHash[e.uid],n=this.renderer.graphicsContext.updateGpuContext(e.context);r&&this._removeBatchForRenderable(e.uid),n.isBatchable&&this._initBatchesForRenderable(e),e.batched=n.isBatchable}_addToBatcher(e,r){const n=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let s=0;s<i.length;s++){const o=i[s];n.addToBatch(o,r)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const r=e.context,n=this.renderer.graphicsContext.getGpuContext(r),i=this.renderer._roundPixels|e._roundPixels,s=n.batches.map(o=>{const a=Re.get(d0);return o.copyTo(a),a.renderable=e,a.roundPixels=i,a});return this._graphicsBatchesHash[e.uid]===void 0&&e.on("destroyed",()=>{this.destroyRenderable(e)}),this._graphicsBatchesHash[e.uid]=s,s}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach(r=>{Re.return(r)}),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}bI.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"graphics"};const pJ={rectangle:B2,polygon:M2,triangle:D2,circle:ya,ellipse:ya,roundedRectangle:ya};function mJ(t){t instanceof Ao&&(t={path:t,textureMatrix:null,out:null});const e=[],r=[],n=[],i=t.path.shapePath,s=t.textureMatrix;i.shapePrimitives.forEach(({shape:u,transform:l})=>{const c=n.length,d=e.length/2,h=[],f=pJ[u.type];f.build(u,h),l&&c0(h,l),f.triangulate(h,e,2,d,n,c);const p=r.length/2;s?(l&&s.append(l.clone().invert()),P2(e,2,d,r,p,2,e.length/2-d,s)):A2(r,p,2,e.length/2-d)});const o=t.out;return o?(o.positions=new Float32Array(e),o.uvs=new Float32Array(r),o.indices=new Uint32Array(n),o):new No({positions:new Float32Array(e),uvs:new Float32Array(r),indices:new Uint32Array(n)})}const SI=class wI extends No{constructor(...e){super({});let r=e[0]??{};typeof r=="number"&&(le(de,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),r={width:r,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(r)}build(e){e={...wI.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const r=this.verticesX*this.verticesY,n=[],i=[],s=[],o=this.verticesX-1,a=this.verticesY-1,u=this.width/o,l=this.height/a;for(let d=0;d<r;d++){const h=d%this.verticesX,f=d/this.verticesX|0;n.push(h*u,f*l),i.push(h/o,f/a)}const c=o*a;for(let d=0;d<c;d++){const h=d%o,f=d/o|0,p=f*this.verticesX+h,m=f*this.verticesX+h+1,g=(f+1)*this.verticesX+h,_=(f+1)*this.verticesX+h+1;s.push(p,m,g,m,_,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};SI.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let Cw=SI;class gJ extends Fh{constructor(e){const{texture:r,verticesX:n,verticesY:i,...s}=e,o=new Cw(Po({width:r.width,height:r.height,verticesX:n,verticesY:i}));super(Po({...s,geometry:o,texture:r})),this.texture=r,this.autoResize=!0}textureUpdated(){const e=this.geometry,{width:r,height:n}=this.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,e.build({}))}set texture(e){var r;(r=this._texture)==null||r.off("update",this.textureUpdated,this),super.texture=e,e.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(e){this.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const EI=class TI extends No{constructor(e){const{width:r,points:n,textureScale:i}={...TI.defaultOptions,...e};super({positions:new Float32Array(n.length*4),uvs:new Float32Array(n.length*4),indices:new Uint32Array((n.length-1)*6)}),this.points=n,this._width=r,this.textureScale=i,this._build()}get width(){return this._width}_build(){const e=this.points;if(!e)return;const r=this.getBuffer("aPosition"),n=this.getBuffer("aUV"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const l=this._width*this.textureScale,c=e.length;for(let h=0;h<c;h++){const f=h*4;if(this.textureScale>0){const p=u.x-e[h].x,m=u.y-e[h].y,g=Math.sqrt(p*p+m*m);u=e[h],a+=g/l}else a=h/(c-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let d=0;for(let h=0;h<c-1;h++){const f=h*2;o[d++]=f,o[d++]=f+1,o[d++]=f+2,o[d++]=f+2,o[d++]=f+1,o[d++]=f+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const c=e[l],d=l*4;l<e.length-1?n=e[l+1]:n=c,s=-(n.x-r.x),i=n.y-r.y;const h=Math.sqrt(i*i+s*s);h<1e-6?(i=0,s=0):(i/=h,s/=h,i*=u,s*=u),o[d]=c.x+i,o[d+1]=c.y+s,o[d+2]=c.x-i,o[d+3]=c.y-s,r=c}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};EI.defaultOptions={width:200,points:[],textureScale:0};let CI=EI;const PI=class AI extends Fh{constructor(e){const{texture:r,points:n,textureScale:i,...s}={...AI.defaultOptions,...e},o=new CI(Po({width:r.height,points:n,textureScale:i}));i>0&&(r.source.style.addressMode="repeat"),super(Po({...s,texture:r,geometry:o})),this.autoUpdate=!0,this.onRender=this._render}_render(){const e=this.geometry;(this.autoUpdate||e._width!==this.texture.height)&&(e._width=this.texture.height,e.update())}};PI.defaultOptions={textureScale:0};let _J=PI;class yJ extends Fh{constructor(e){const{texture:r,vertices:n,uvs:i,indices:s,topology:o,...a}=e,u=new No(Po({positions:n,uvs:i,indices:s,topology:o}));super(Po({...a,texture:r,geometry:u})),this.autoUpdate=!0,this.onRender=this._render}get vertices(){return this.geometry.getBuffer("aPosition").data}set vertices(e){this.geometry.getBuffer("aPosition").data=e}_render(){this.autoUpdate&&this.geometry.getBuffer("aPosition").update()}}class M0{constructor(){this.batcher=null,this.batch=null,this.roundPixels=0,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.mesh.groupBlendMode}reset(){this.mesh=null,this.texture=null,this.batcher=null,this.batch=null}packIndex(e,r,n){const i=this.geometry.indices;for(let s=0;s<i.length;s++)e[r++]=i[s]+n}packAttributes(e,r,n,i){const s=this.mesh,o=this.geometry,a=s.groupTransform,u=i<<16|this.roundPixels&65535,l=a.a,c=a.b,d=a.c,h=a.d,f=a.tx,p=a.ty,m=o.positions,g=o.getBuffer("aUV"),_=g.data;let v=_;const y=this.texture.textureMatrix;y.isSimple||(v=this._transformedUvs,(this._textureMatrixUpdateId!==y._updateID||this._uvUpdateId!==g._updateID)&&((!v||v.length<_.length)&&(v=this._transformedUvs=new Float32Array(_.length)),this._textureMatrixUpdateId=y._updateID,this._uvUpdateId=g._updateID,y.multiplyUvs(_,v)));const x=s.groupColorAlpha;for(let S=0;S<m.length;S+=2){const w=m[S],b=m[S+1];e[n]=l*w+d*b+f,e[n+1]=c*w+h*b+p,e[n+2]=v[S],e[n+3]=v[S+1],r[n+4]=x,r[n+5]=u,n+=6}}get vertexSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}function vJ(t,e){const{width:r,height:n}=t.frame;return e.scale(1/r,1/n),e}class RI{constructor(e,r){this.localUniforms=new Wt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new rs({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this.renderer=e,this._adaptor=r,this._adaptor.init()}validateRenderable(e){const r=this._getMeshData(e),n=r.batched,i=e.batched;if(r.batched=i,n!==i)return!0;if(i){const s=e._geometry;if(s.indices.length!==r.indexSize||s.positions.length!==r.vertexSize)return r.indexSize=s.indices.length,r.vertexSize=s.positions.length,!0;const o=this._getBatchableMesh(e),a=e.texture;if(o.texture._source!==a._source&&o.texture._source!==a._source)return!o.batcher.checkAndUpdateTexture(o,a)}return!1}addRenderable(e,r){const n=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const s=this._getBatchableMesh(e);s.texture=e._texture,s.geometry=e._geometry,n.addToBatch(s)}else n.break(r),r.add({renderPipeId:"mesh",mesh:e})}updateRenderable(e){if(e.batched){const r=this._gpuBatchableMeshHash[e.uid];r.texture=e._texture,r.geometry=e._geometry,r.batcher.updateElement(r)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const r=this._gpuBatchableMeshHash[e.uid];r&&(Re.return(r),this._gpuBatchableMeshHash[e.uid]=null)}execute({mesh:e}){if(!e.isRenderable)return;e.state.blendMode=e.groupBlendMode;const r=this.localUniforms;r.uniforms.uTransformMatrix=e.groupTransform,r.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,r.update(),Lh(e.groupColorAlpha,r.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){var r,n;return this._meshDataHash[e.uid]={batched:e.batched,indexSize:(r=e._geometry.indices)==null?void 0:r.length,vertexSize:(n=e._geometry.positions)==null?void 0:n.length},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const r=Re.get(M0);return r.mesh=e,r.texture=e._texture,r.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=r,r.mesh=e,r}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&Re.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}RI.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"mesh"};const MI=class BI extends Cw{constructor(e={}){e={...BI.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,r=this._leftWidth+this._rightWidth,n=this.width>r?1:this.width/r,i=this._topHeight+this._bottomHeight,s=this.height>i?1:this.height/i,o=Math.min(n,s);e[9]=e[11]=e[13]=e[15]=this._topHeight*o,e[17]=e[19]=e[21]=e[23]=this.height-this._bottomHeight*o,e[25]=e[27]=e[29]=e[31]=this.height,e[2]=e[10]=e[18]=e[26]=this._leftWidth*o,e[4]=e[12]=e[20]=e[28]=this.width-this._rightWidth*o,e[6]=e[14]=e[22]=e[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const r=1/this._originalWidth,n=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.getBuffer("aUV").update()}};MI.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let Qs=MI;const DI=class kI extends Ve{constructor(e){var d,h,f,p;e instanceof X&&(e={texture:e});const{width:r,height:n,leftWidth:i,rightWidth:s,topHeight:o,bottomHeight:a,texture:u,roundPixels:l,...c}=e;super({label:"NineSliceSprite",...c}),this._roundPixels=0,this.renderPipeId="nineSliceSprite",this.batched=!0,this._didSpriteUpdate=!0,this.bounds={minX:0,minY:0,maxX:0,maxY:0},this._leftWidth=i??((d=u==null?void 0:u.defaultBorders)==null?void 0:d.left)??Qs.defaultOptions.leftWidth,this._topHeight=o??((h=u==null?void 0:u.defaultBorders)==null?void 0:h.top)??Qs.defaultOptions.topHeight,this._rightWidth=s??((f=u==null?void 0:u.defaultBorders)==null?void 0:f.right)??Qs.defaultOptions.rightWidth,this._bottomHeight=a??((p=u==null?void 0:u.defaultBorders)==null?void 0:p.bottom)??Qs.defaultOptions.bottomHeight,this.bounds.maxX=this._width=r??u.width??Qs.defaultOptions.width,this.bounds.maxY=this._height=n??u.height??Qs.defaultOptions.height,this.allowChildren=!1,this.texture=u??kI.defaultOptions.texture,this.roundPixels=l??!1}get width(){return this._width}set width(e){this.bounds.maxX=this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this.bounds.maxY=this._height=e,this.onViewUpdate()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=X.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}addBounds(e){const r=this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}containsPoint(e){const r=this.bounds;return e.x>=r.minX&&e.x<=r.maxX&&e.y>=r.minY&&e.y<=r.maxY}destroy(e){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this.bounds=null}};DI.defaultOptions={texture:X.EMPTY};let OI=DI;class xJ extends OI{constructor(...e){let r=e[0];r instanceof X&&(le(de,"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}"),r={texture:r,leftWidth:e[1],topHeight:e[2],rightWidth:e[3],bottomHeight:e[4]}),le(de,"NineSlicePlane is deprecated. Use NineSliceSprite instead."),super(r)}}class II{constructor(e){this._gpuSpriteHash=Object.create(null),this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const r=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,r),r.batcher.updateElement(r)}validateRenderable(e){const r=e._texture,n=this._getGpuSprite(e);return n.texture._source!==r._source?!n.batcher.checkAndUpdateTexture(n,r):!1}destroyRenderable(e){const r=this._gpuSpriteHash[e.uid];Re.return(r),this._gpuSpriteHash[e.uid]=null}_updateBatchableSprite(e,r){e._didSpriteUpdate=!1,r.geometry.update(e),r.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=new M0;return r.geometry=new Qs,r.mesh=e,r.texture=e._texture,r.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=r,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}II.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"nineSliceSprite"};const FI={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},UI={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `}};let uy,ly;class LI extends Un{constructor(){uy??(uy=Fl({name:"tiling-sprite-shader",bits:[Vu,FI,Ll]})),ly??(ly=Ul({name:"tiling-sprite-shader",bits:[T0,UI,Nl]}));const e=new Wt({uMapCoord:{value:new te,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new te,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:ly,gpuProgram:uy,resources:{localUniforms:new Wt({uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:X.EMPTY.source,uSampler:X.EMPTY.source.style}})}updateUniforms(e,r,n,i,s,o){const a=this.resources.tilingUniforms,u=o.width,l=o.height,c=o.textureMatrix,d=a.uniforms.uTextureTransform;d.set(n.a*u/e,n.b*u/r,n.c*l/e,n.d*l/r,n.tx/e,n.ty/r),d.invert(),a.uniforms.uMapCoord=c.mapCoord,a.uniforms.uClampFrame=c.uClampFrame,a.uniforms.uClampOffset=c.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=r,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=s,o&&(this.resources.uTexture=o.source,this.resources.uSampler=o.source.style)}}class NI extends No{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function GI(t,e){const r=t.anchor.x,n=t.anchor.y;e[0]=-r*t.width,e[1]=-n*t.height,e[2]=(1-r)*t.width,e[3]=-n*t.height,e[4]=(1-r)*t.width,e[5]=(1-n)*t.height,e[6]=-r*t.width,e[7]=(1-n)*t.height}function zI(t,e,r,n){let i=0;const s=t.length/(e||2),o=n.a,a=n.b,u=n.c,l=n.d,c=n.tx,d=n.ty;for(r*=e;i<s;){const h=t[r],f=t[r+1];t[r]=o*h+u*f+c,t[r+1]=a*h+l*f+d,r+=e,i++}}function $I(t,e){const r=t.texture,n=r.frame.width,i=r.frame.height;let s=0,o=0;t._applyAnchorToTexture&&(s=t.anchor.x,o=t.anchor.y),e[0]=e[6]=-s,e[2]=e[4]=1-s,e[1]=e[3]=-o,e[5]=e[7]=1-o;const a=te.shared;a.copyFrom(t._tileTransform.matrix),a.tx/=t.width,a.ty/=t.height,a.invert(),a.scale(t.width/n,t.height/i),zI(e,2,0,a)}const $f=new NI;class HI{constructor(e){this._tilingSpriteDataHash=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getTilingSpriteData(e),n=r.canBatch;this._updateCanBatch(e);const i=r.canBatch;if(i&&i===n){const{batchableMesh:s}=r;if(s.texture._source!==e.texture._source)return!s.batcher.checkAndUpdateTexture(s,e.texture)}return n!==i}addRenderable(e,r){const n=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:s,canBatch:o}=i;if(o){i.batchableMesh||(i.batchableMesh=new M0);const a=i.batchableMesh;e._didTilingSpriteUpdate&&(e._didTilingSpriteUpdate=!1,this._updateBatchableMesh(e),a.geometry=s,a.mesh=e,a.texture=e._texture),a.roundPixels=this._renderer._roundPixels|e._roundPixels,n.addToBatch(a)}else n.break(r),i.shader||(i.shader=new LI),this.updateRenderable(e),r.add(e)}execute(e){const{shader:r}=this._tilingSpriteDataHash[e.uid];r.groups[0]=this._renderer.globalUniforms.bindGroup;const n=r.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=this._renderer._roundPixels|e._roundPixels,Lh(e.groupColorAlpha,n.uColor,0),this._renderer.encoder.draw({geometry:$f,shader:r,state:Fi.default2d})}updateRenderable(e){const r=this._getTilingSpriteData(e),{canBatch:n}=r;if(n){const{batchableMesh:i}=r;e._didTilingSpriteUpdate&&this._updateBatchableMesh(e),i.batcher.updateElement(i)}else if(e._didTilingSpriteUpdate){const{shader:i}=r;i.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}e._didTilingSpriteUpdate=!1}destroyRenderable(e){var n;const r=this._getTilingSpriteData(e);r.batchableMesh=null,(n=r.shader)==null||n.destroy(),this._tilingSpriteDataHash[e.uid]=null}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const r=new No({indices:$f.indices,positions:$f.positions.slice(),uvs:$f.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:r},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const r=this._getTilingSpriteData(e),{geometry:n}=r,i=e.texture.source.style;i.addressMode!=="repeat"&&(i.addressMode="repeat",i.update()),$I(e,n.uvs),GI(e,n.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const r=this._getTilingSpriteData(e),n=e.texture;let i=!0;return this._renderer.type===Mn.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),r.canBatch=n.textureMatrix.isSimple&&(i||n.source.isPowerOfTwo),r.canBatch}}HI.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"tilingSprite"};const jI={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:` 
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},WI={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:` 
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},VI={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;
             
            }
        `}},XI={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);  
              
                return coverage;
            }
        `}};let cy,dy;class YI extends Un{constructor(){const e=new Wt({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new te,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),r=Ii();cy??(cy=Fl({name:"sdf-shader",bits:[x0,S0(r),jI,VI,Ll]})),dy??(dy=Ul({name:"sdf-shader",bits:[b0,w0(r),WI,XI,Nl]})),super({glProgram:dy,gpuProgram:cy,resources:{localUniforms:e,batchSamplers:E0(r)}})}}class qI{constructor(e){this._gpuBitmapText={},this._renderer=e}validateRenderable(e){const r=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.validateRenderable(r)}addRenderable(e,r){const n=this._getGpuBitmapText(e);q3(e,n),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,n)),this._renderer.renderPipes.graphics.addRenderable(n,r),n.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const r=this._gpuBitmapText[e].context;r.customShader&&(Re.return(r.customShader),r.customShader=null),Re.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const r=this._getGpuBitmapText(e);q3(e,r),this._renderer.renderPipes.graphics.updateRenderable(r),r.context.customShader&&this._updateDistanceField(e)}_updateContext(e,r){var f;const{context:n}=r,i=eh.getFont(e.text,e._style);n.clear(),i.distanceField.type!=="none"&&(n.customShader||(n.customShader=Re.get(YI)));const s=Array.from(e.text),o=e._style;let a=(((f=o._stroke)==null?void 0:f.width)||0)/2;a+=i.baseLineOffset;const u=$2(s,o,i);let l=0;const c=o.padding,d=u.scale;n.translate(-e._anchor._x*u.width-c,-e._anchor._y*(u.height+u.offsetY)-c).scale(d,d);const h=o._fill.color;for(let p=0;p<u.lines.length;p++){const m=u.lines[p];for(let g=0;g<m.charPositions.length;g++){const _=s[l++],v=i.chars[_];v!=null&&v.texture&&n.texture(v.texture,h||"black",Math.round(m.charPositions[g]+v.xOffset),Math.round(a+v.yOffset))}a+=i.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const r=Re.get(Sl);return this._gpuBitmapText[e.uid]=r,this._updateContext(e,r),e.on("destroyed",()=>{this.destroyRenderable(e)}),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const r=this._getGpuBitmapText(e).context,n=e._style.fontFamily,i=ze.get(`${n}-bitmap`),{a:s,b:o,c:a,d:u}=e.groupTransform,l=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+u*u),d=(Math.abs(l)+Math.abs(c))/2,h=i.baseRenderedFontSize/e._style.fontSize,f=d*i.distanceField.range*(1/h);r.customShader.resources.localUniforms.uniforms.uDistance=f}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}qI.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"bitmapText"};function q3(t,e){e.groupTransform=t.groupTransform,e.groupColorAlpha=t.groupColorAlpha,e.groupColor=t.groupColor,e.groupBlendMode=t.groupBlendMode,e.globalDisplayStatus=t.globalDisplayStatus,e.groupTransform=t.groupTransform,e.localDisplayStatus=t.localDisplayStatus,e.groupAlpha=t.groupAlpha,e._roundPixels=t._roundPixels}class KI{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getGpuText(e),n=e._getKey();return r.textureNeedsUploading?(r.textureNeedsUploading=!1,!0):r.currentKey!==n}addRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(n)}updateRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),n.batcher.updateElement(n)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const r=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(r.currentKey),Re.return(r.batchableSprite),this._gpuText[e]=null}_updateText(e){const r=e._getKey(),n=this._getGpuText(e),i=n.batchableSprite;n.currentKey!==r&&this._updateGpuText(e).catch(o=>{console.error(o)}),e._didTextUpdate=!1;const s=e._style.padding;jd(i.bounds,e._anchor,i.texture,s)}async _updateGpuText(e){e._didTextUpdate=!1;const r=this._getGpuText(e);if(r.generatingTexture)return;const n=e._getKey();this._renderer.htmlText.decreaseReferenceCount(r.currentKey),r.generatingTexture=!0,r.currentKey=n;const i=e.resolution??this._renderer.resolution,s=await this._renderer.htmlText.getManagedTexture(e.text,i,e._style,e._getKey()),o=r.batchableSprite;o.texture=r.texture=s,r.generatingTexture=!1,r.textureNeedsUploading=!0,e.onViewUpdate();const a=e._style.padding;jd(o.bounds,e._anchor,o.texture,a)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const r={texture:X.EMPTY,currentKey:"--",batchableSprite:Re.get(P0),textureNeedsUploading:!1,generatingTexture:!1},n=r.batchableSprite;return n.renderable=e,n.texture=X.EMPTY,n.bounds={minX:0,maxX:1,minY:0,maxY:0},n.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=r,e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}KI.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"htmlText"};function QI(){const{userAgent:t}=Be.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}const bJ=new dr;function Pw(t,e,r,n){const i=bJ;i.minX=0,i.minY=0,i.maxX=t.width/n|0,i.maxY=t.height/n|0;const s=ur.getOptimalTexture(i.width,i.height,n,!1);return s.source.uploadMethodId="image",s.source.resource=t,s.source.alphaMode="premultiply-alpha-on-upload",s.frame.width=e/n,s.frame.height=r/n,s.source.emit("update",s.source),s.updateUvs(),s}function ZI(t,e){const r=e.fontFamily,n=[],i={},s=/font-family:([^;"\s]+)/g,o=t.match(s);function a(u){i[u]||(n.push(u),i[u]=!0)}if(Array.isArray(r))for(let u=0;u<r.length;u++)a(r[u]);else a(r);o&&o.forEach(u=>{const l=u.split(":")[1].trim();a(l)});for(const u in e.tagStyles){const l=e.tagStyles[u].fontFamily;a(l)}return n}async function JI(t){const r=await(await Be.get().fetch(t)).blob(),n=new FileReader;return await new Promise((s,o)=>{n.onloadend=()=>s(n.result),n.onerror=o,n.readAsDataURL(r)})}async function Yx(t,e){const r=await JI(e);return`@font-face {
        font-family: "${t.fontFamily}";
        src: url('${r}');
        font-weight: ${t.fontWeight};
        font-style: ${t.fontStyle};
    }`}const Oc=new Map;async function eF(t,e,r){const n=t.filter(i=>ze.has(`${i}-and-url`)).map((i,s)=>{if(!Oc.has(i)){const{url:o}=ze.get(`${i}-and-url`);s===0?Oc.set(i,Yx(e,o)):Oc.set(i,Yx({fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:i},o))}return Oc.get(i)});return(await Promise.all(n)).join(`
`)}function tF(t,e,r,n,i){const{domElement:s,styleElement:o,svgRoot:a}=i;s.innerHTML=`<style>${e.cssStyle}</style><div>${t}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),o.textContent=n;const{width:u,height:l}=i.image;return a.setAttribute("width",u.toString()),a.setAttribute("height",l.toString()),new XMLSerializer().serializeToString(a)}function rF(t,e){const r=ns.getOptimalCanvasAndContext(t.width,t.height,e),{context:n}=r;return n.clearRect(0,0,t.width,t.height),n.drawImage(t,0,0),ns.returnCanvasAndContext(r),r.canvas}function nF(t,e,r){return new Promise(async n=>{r&&await new Promise(i=>setTimeout(i,100)),t.onload=()=>{n()},t.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,t.crossOrigin="anonymous"})}class Aw{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===Mn.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,r,n,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const s=this._buildTexturePromise(e,r,n).then(o=>(this._activeTextures[i].texture=o,o));return this._activeTextures[i]={texture:null,promise:s,usageCount:1},s}async _buildTexturePromise(e,r,n){const i=Re.get(dS),s=ZI(e,n),o=await eF(s,n,Fa.defaultTextStyle),a=hS(e,n,o,i),u=Math.ceil(Math.ceil(Math.max(1,a.width)+n.padding*2)*r),l=Math.ceil(Math.ceil(Math.max(1,a.height)+n.padding*2)*r),c=i.image;c.width=u|0,c.height=l|0;const d=tF(e,n,r,o,i);await nF(c,d,QI()&&s.length>0);let h=c;this._createCanvas&&(h=rF(c,r));const f=Pw(h,c.width,c.height,r);return this._createCanvas&&this._renderer.texture.initSource(f.source),Re.return(i),f}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const r=this._activeTextures[e];r&&(r.usageCount--,r.usageCount===0&&(r.texture?this._cleanUp(r):r.promise.then(n=>{r.texture=n,this._cleanUp(r)}).catch(()=>{pe("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}_cleanUp(e){ur.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}Aw.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"htmlText"};Aw.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"};class iF{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const r=this._getGpuText(e),n=e._getKey();if(r.currentKey!==n){const i=e.resolution??this._renderer.resolution,{width:s,height:o}=this._renderer.canvasText.getTextureSize(e.text,i,e._style);return!(this._renderer.canvasText.getReferenceCount(r.currentKey)===1&&s===r.texture._source.width&&o===r.texture._source.height)}return!1}addRenderable(e,r){const i=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(i)}updateRenderable(e){const n=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),n.batcher.updateElement(n)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const r=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(r.currentKey),Re.return(r.batchableSprite),this._gpuText[e]=null}_updateText(e){const r=e._getKey(),n=this._getGpuText(e),i=n.batchableSprite;n.currentKey!==r&&this._updateGpuText(e),e._didTextUpdate=!1;const s=e._style.padding;jd(i.bounds,e._anchor,i.texture,s)}_updateGpuText(e){const r=this._getGpuText(e),n=r.batchableSprite;r.texture&&this._renderer.canvasText.decreaseReferenceCount(r.currentKey),r.texture=n.texture=this._renderer.canvasText.getManagedTexture(e),r.currentKey=e._getKey(),n.texture=r.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const r={texture:null,currentKey:"--",batchableSprite:Re.get(P0)};return r.batchableSprite.renderable=e,r.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},r.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=r,this._updateText(e),e.on("destroyed",()=>{this.destroyRenderable(e)}),r}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}iF.extension={type:[A.WebGLPipes,A.WebGPUPipes,A.CanvasPipes],name:"text"};function K3(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Q3(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function sF(t,e=1){const{width:r,height:n}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const o=i.getImageData(0,0,r,n).data;let a=0,u=0,l=r-1,c=n-1;for(;u<n&&K3(o,r,u);)++u;if(u===n)return ke.EMPTY;for(;K3(o,r,c);)--c;for(;Q3(o,r,a,u,c);)++a;for(;Q3(o,r,l,u,c);)--l;return++l,++c,new ke(a/e,u/e,(l-a)/e,(c-u)/e)}class oF{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,r,n){const i=Pi.measureText(e||" ",n);let s=Math.ceil(Math.ceil(Math.max(1,i.width)+n.padding*2)*r),o=Math.ceil(Math.ceil(Math.max(1,i.height)+n.padding*2)*r);return s=Math.ceil(s-1e-6),o=Math.ceil(o-1e-6),s=Ba(s),o=Ba(o),{width:s,height:o}}getTexture(e,r,n,i){typeof e=="string"&&(le("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:n,resolution:r}),e.style instanceof fi||(e.style=new fi(e.style));const{texture:s,canvasAndContext:o}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(s._source),ns.returnCanvasAndContext(o),s}createTextureAndCanvas(e){const{text:r,style:n}=e,i=e.resolution??this._renderer.resolution,s=Pi.measureText(r||" ",n),o=Math.ceil(Math.ceil(Math.max(1,s.width)+n.padding*2)*i),a=Math.ceil(Math.ceil(Math.max(1,s.height)+n.padding*2)*i),u=ns.getOptimalCanvasAndContext(o,a),{canvas:l}=u;this.renderTextToCanvas(r,n,i,u);const c=Pw(l,o,a,i);if(n.trim){const d=sF(l,i);c.frame.copyFrom(d),c.updateUvs()}return{texture:c,canvasAndContext:u}}getManagedTexture(e){const r=e._getKey();if(this._activeTextures[r])return this._increaseReferenceCount(r),this._activeTextures[r].texture;const{texture:n,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[r]={canvasAndContext:i,texture:n,usageCount:1},n}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const r=this._activeTextures[e];if(r.usageCount--,r.usageCount===0){ns.returnCanvasAndContext(r.canvasAndContext),ur.returnTexture(r.texture);const n=r.texture.source;n.resource=null,n.uploadMethodId="unknown",n.alphaMode="no-premultiply-alpha",this._activeTextures[e]=null}}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,r,n,i){var y,x,S,w,b;const{canvas:s,context:o}=i,a=Zd(r),u=Pi.measureText(e||" ",r),l=u.lines,c=u.lineHeight,d=u.lineWidths,h=u.maxLineWidth,f=u.fontProperties,p=s.height;o.resetTransform(),o.scale(n,n);const m=r.padding*2;if(o.clearRect(0,0,u.width+4+m,u.height+4+m),(y=r._stroke)!=null&&y.width){const T=r._stroke;o.lineWidth=T.width,o.miterLimit=T.miterLimit,o.lineJoin=T.join,o.lineCap=T.cap}o.font=a;let g,_;const v=r.dropShadow?2:1;for(let T=0;T<v;++T){const E=r.dropShadow&&T===0,P=E?Math.ceil(Math.max(1,p)+r.padding*2):0,B=P*n;if(E){o.fillStyle="black",o.strokeStyle="black";const k=r.dropShadow,G=k.color,U=k.alpha;o.shadowColor=Me.shared.setValue(G).setAlpha(U).toRgbaString();const H=k.blur*n,F=k.distance*n;o.shadowBlur=H,o.shadowOffsetX=Math.cos(k.angle)*F,o.shadowOffsetY=Math.sin(k.angle)*F+B}else o.globalAlpha=((x=r._fill)==null?void 0:x.alpha)??1,o.fillStyle=r._fill?Jd(r._fill,o):null,(S=r._stroke)!=null&&S.width&&(o.strokeStyle=Jd(r._stroke,o)),o.shadowColor="black";let L=(c-f.fontSize)/2;c-f.fontSize<0&&(L=0);const O=((w=r._stroke)==null?void 0:w.width)??0;for(let k=0;k<l.length;k++)g=O/2,_=O/2+k*c+f.ascent+L,r.align==="right"?g+=h-d[k]:r.align==="center"&&(g+=(h-d[k])/2),(b=r._stroke)!=null&&b.width&&this._drawLetterSpacing(l[k],r,i,g+r.padding,_+r.padding-P,!0),r._fill!==void 0&&this._drawLetterSpacing(l[k],r,i,g+r.padding,_+r.padding-P)}}_drawLetterSpacing(e,r,n,i,s,o=!1){const{context:a}=n,u=r.letterSpacing;let l=!1;if(Pi.experimentalLetterSpacingSupported&&(Pi.experimentalLetterSpacing?(a.letterSpacing=`${u}px`,a.textLetterSpacing=`${u}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),u===0||l){o?a.strokeText(e,i,s):a.fillText(e,i,s);return}let c=i;const d=Pi.graphemeSegmenter(e);let h=a.measureText(e).width,f=0;for(let p=0;p<d.length;++p){const m=d[p];o?a.strokeText(m,c,s):a.fillText(m,c,s);let g="";for(let _=p+1;_<d.length;++_)g+=d[_];f=a.measureText(g).width,c+=h-f+u,h=f}}destroy(){this._activeTextures=null}}oF.extension={type:[A.WebGLSystem,A.WebGPUSystem,A.CanvasSystem],name:"canvasText"};function SJ(t,e){return e instanceof fi||e instanceof Fa?e:t==="html"?new Fa(e):new fi(e)}const wJ=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;async function EJ(t,e,r=200){const n=await e.extract.base64(t);await e.encoder.commandFinished;const i=r;console.log(`logging texture ${t.source.width}px ${t.source.height}px`);const s=["font-size: 1px;",`padding: ${i}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}const TJ=["#000080","#228B22","#8B0000","#4169E1","#008080","#800000","#9400D3","#FF8C00","#556B2F","#8B008B"];let CJ=0;function aF(t,e=0,r={color:"#000000"}){t.renderGroup&&(r.color=TJ[CJ++]);let n="";for(let o=0;o<e;o++)n+="    ";let i=t.label;!i&&t instanceof Rn&&(i=`sprite:${t.texture.label}`);let s=`%c ${n}|- ${i} (worldX:${t.worldTransform.tx}, relativeRenderX:${t.relativeGroupTransform.tx}, renderX:${t.groupTransform.tx}, localX:${t.x})`;t.renderGroup&&(s+=" (RenderGroup)"),t.filters&&(s+="(*filters)"),console.log(s,`color:${r.color}; font-weight:bold;`),e++;for(let o=0;o<t.children.length;o++){const a=t.children[o];aF(a,e,{...r})}}function uF(t,e=0,r={index:0,color:"#000000"}){let n="";for(let s=0;s<e;s++)n+="    ";const i=`%c ${n}- ${r.index}: ${t.root.label} worldX:${t.worldTransform.tx}`;console.log(i,`color:${r.color}; font-weight:bold;`),e++;for(let s=0;s<t.renderGroupChildren.length;s++){const o=t.renderGroupChildren[s];uF(o,e,{...r,index:s})}}dt.add(AD,RD);const PJ=Object.freeze(Object.defineProperty({__proto__:null,AbstractBitmapFont:w2,AbstractRenderer:Ch,AbstractText:y0,AccessibilitySystem:gk,AlphaFilter:WQ,AlphaMask:h2,AlphaMaskPipe:gS,AnimatedSprite:sh,Application:S2,Assets:ca,AssetsClass:uO,BLEND_TO_NPM:y4,BUFFER_TYPE:nd,BackgroundLoader:G4,BackgroundSystem:Y8,Batch:fx,BatchGeometry:T2,BatchTextureArray:hx,BatchableGraphics:d0,BatchableMesh:M0,BatchableSprite:P0,Batcher:C2,BatcherPipe:mS,BigPool:Re,BindGroup:rs,BindGroupSystem:cw,BitmapFont:H2,BitmapFontManager:eh,BitmapText:I5,BitmapTextPipe:qI,BlendModeFilter:St,BlendModePipe:tw,BlurFilter:h5,BlurFilterPass:vp,Bounds:dr,BrowserAdapter:nk,Buffer:wn,BufferImageSource:Kg,BufferResource:C0,BufferUsage:Te,CLEAR:jr,Cache:ze,CanvasPool:ns,CanvasPoolClass:U4,CanvasSource:Da,CanvasTextMetrics:Pi,CanvasTextPipe:iF,CanvasTextSystem:oF,Circle:o0,Color:Me,ColorBlend:Uk,ColorBurnBlend:Lk,ColorDodgeBlend:Nk,ColorMask:f2,ColorMaskPipe:_S,ColorMatrixFilter:qQ,CompressedSource:Mh,Container:Ve,Culler:SO,CullerPlugin:wO,CustomRenderPipe:jS,D3D10_RESOURCE_DIMENSION:q2,D3DFMT:Gr,DATA_URI:wJ,DDS:ue,DEG_TO_RAD:kD,DEPRECATED_SCALE_MODES:Pm,DEPRECATED_WRAP_MODES:Cm,DOMAdapter:Be,DRAW_MODES:rJ,DXGI_FORMAT:Y2,DXGI_TO_TEXTURE_FORMAT:zr,DarkenBlend:Gk,DifferenceBlend:zk,DisplacementFilter:KQ,DivideBlend:$k,DynamicBitmapFont:yx,Ellipse:a0,EventBoundary:JO,EventEmitter:un,EventSystem:e5,EventsTicker:_s,ExclusionBlend:Hk,ExtensionType:A,ExtractSystem:K8,FOURCC_TO_TEXTURE_FORMAT:Tx,FederatedContainer:jQ,FederatedEvent:Ol,FederatedMouseEvent:ih,FederatedPointerEvent:zn,FederatedWheelEvent:Ia,FillGradient:yl,FillPattern:Rh,Filter:Fs,FilterEffect:Wd,FilterPipe:v5,FilterSystem:S5,FontStylePromiseCache:Oc,GAUSSIAN_VALUES:aS,GL_FORMATS:Em,GL_INTERNAL_FORMAT:mO,GL_TARGETS:SS,GL_TYPES:Ee,GL_WRAP_MODES:u8,GenerateTextureSystem:nw,Geometry:Il,GlBackBufferSystem:d8,GlBatchAdaptor:fS,GlBuffer:s8,GlBufferSystem:vS,GlColorMaskSystem:TS,GlContextSystem:a8,GlEncoderSystem:CS,GlGeometrySystem:wS,GlGraphicsAdaptor:$S,GlMeshAdaptor:HS,GlProgram:_i,GlProgramData:w8,GlRenderTarget:h8,GlRenderTargetAdaptor:_8,GlRenderTargetSystem:IS,GlShaderSystem:LS,GlStateSystem:I8,GlStencilSystem:PS,GlTexture:F8,GlTextureSystem:zS,GlUboSystem:DS,GlUniformGroupSystem:NS,GlobalUniformSystem:iw,GpuBatchAdaptor:pS,GpuBlendModesToPixi:Bn,GpuBufferSystem:dw,GpuColorMaskSystem:hw,GpuDeviceSystem:R0,GpuEncoderSystem:fw,GpuGraphicsAdaptor:Ew,GpuGraphicsContext:C4,GpuMeshAdapter:Tw,GpuMipmapGenerator:mI,GpuProgram:Fn,GpuReadBuffer:XZ,GpuRenderTarget:cI,GpuRenderTargetAdaptor:dI,GpuRenderTargetSystem:yw,GpuShaderSystem:vw,GpuStateSystem:xw,GpuStencilModesToPixi:Go,GpuStencilSystem:pw,GpuTextureSystem:ww,GpuUboSystem:mw,GpuUniformBatchPipe:gw,Graphics:Sl,GraphicsContext:Ar,GraphicsContextRenderData:P4,GraphicsContextSystem:I2,GraphicsPath:Ao,GraphicsPipe:bI,HTMLText:N5,HTMLTextPipe:KI,HTMLTextRenderData:dS,HTMLTextStyle:Fa,HTMLTextSystem:Aw,HardLightBlend:jk,HardMixBlend:Wk,HelloSystem:A0,IGLUniformData:bZ,ImageSource:Ha,InstructionSet:l2,KTX:_t,LightenBlend:Vk,LinearBurnBlend:Xk,LinearDodgeBlend:Yk,LinearLightBlend:qk,Loader:Y4,LoaderParserPriority:In,LuminosityBlend:Kk,MSAA_QUALITY:xI,MaskEffectManager:fm,MaskEffectManagerClass:VD,MaskFilter:T5,Matrix:te,Mesh:Fh,MeshGeometry:No,MeshPipe:RI,MeshPlane:gJ,MeshRope:_J,MeshSimple:yJ,NOOP:i2,NegationBlend:Qk,NineSliceGeometry:Qs,NineSlicePlane:xJ,NineSliceSprite:OI,NineSliceSpritePipe:II,NoiseFilter:QQ,ObservablePoint:Ft,OverlayBlend:Zk,PI_2:BD,PinLightBlend:Jk,PipelineSystem:_w,PlaneGeometry:Cw,Point:Ie,Polygon:zu,Pool:Qg,PoolGroupClass:WD,PrepareBase:A5,PrepareQueue:O5,PrepareSystem:z5,PrepareUpload:G5,QuadGeometry:NI,RAD_TO_DEG:DD,Rectangle:ke,RenderContainer:dJ,RenderGroup:tk,RenderGroupPipe:VS,RenderGroupSystem:ZS,RenderTarget:Tm,RenderTargetSystem:OS,RenderTexture:Q8,RendererType:Mn,ResizePlugin:h4,Resolver:Fo,RopeGeometry:CI,RoundedRectangle:u0,SCALE_MODES:oJ,STENCIL_MODES:Ht,SVGParser:O4,SVGToGraphicsPath:m4,SaturationBlend:e4,ScissorMask:gZ,SdfShader:YI,Shader:Un,ShaderStage:Pu,ShapePath:k4,SharedRenderPipes:lw,SharedSystems:uw,SoftLightBlend:t4,Sprite:Rn,SpritePipe:JS,Spritesheet:ex,State:Fi,StencilMask:p2,StencilMaskPipe:yS,SubtractBlend:r4,SystemRunner:b2,TEXTURE_FORMAT_BLOCK_SIZE:fO,Text:cS,TextStyle:fi,Texture:X,TextureGCSystem:ow,TextureMatrix:s2,TexturePool:ur,TexturePoolClass:i5,TextureSource:At,TextureStyle:UD,TextureUvs:aJ,Ticker:Mr,TickerListener:gp,TickerPlugin:f4,TilingSprite:k5,TilingSpritePipe:HI,TilingSpriteShader:LI,Transform:B5,Triangle:lS,UNIFORM_TO_ARRAY_SETTERS:B8,UNIFORM_TO_SINGLE_SETTERS:M8,UNIFORM_TYPES_MAP:Ak,UNIFORM_TYPES_VALUES:_2,UPDATE_BLEND:c2,UPDATE_COLOR:pm,UPDATE_PRIORITY:Bs,UPDATE_TRANSFORM:BY,UPDATE_VISIBLE:Jc,UboBatch:oI,UboSystem:AS,UniformGroup:Wt,VERSION:Xx,VideoSource:ed,ViewSystem:tI,ViewableBuffer:cx,VividLightBlend:n4,WGSL_ALIGN_SIZE_DATA:sd,WGSL_TO_STD40_SIZE:RS,WRAP_MODES:sJ,WebGLRenderer:sI,WebGPURenderer:vI,WebWorkerAdapter:LQ,WorkerManager:Sx,_getGlobalBounds:a2,_getGlobalBoundsRecursive:uS,accessibilityTarget:VY,addBits:Nx,addMaskBounds:Jg,addMaskLocalBounds:e0,addProgramDefines:yk,alphaFrag:t5,alphaWgsl:Bx,applyMatrix:zI,applyStyleParams:Vx,assignWithIgnore:rk,autoDetectEnvironment:QY,autoDetectRenderer:c4,autoDetectSource:ok,basisTranscoderUrls:_m,bitmapFontCachePlugin:L4,bitmapFontTextParser:yp,bitmapFontXMLParser:vx,bitmapFontXMLStringParser:xx,blendTemplateFrag:Ok,blendTemplateVert:Ik,blendTemplateWgsl:Fk,blockDataMap:bw,blurTemplateWgsl:u5,boundsPool:ts,browserExt:AD,buildAdaptiveBezier:F2,buildAdaptiveQuadratic:A4,buildArc:U2,buildArcTo:R4,buildArcToSvg:M4,buildCircle:ya,buildContextBatches:T4,buildGeometryFromPath:mJ,buildInstructions:n8,buildLine:E4,buildPolygon:M2,buildRectangle:B2,buildSimpleUvs:A2,buildTriangle:D2,buildUvs:P2,cacheTextureArray:z4,calculateProjection:y8,checkChildrenDidChange:u2,checkDataUrl:ja,checkExtension:yi,childrenHelperMixin:jD,closePointEps:S4,collectAllRenderables:Uh,collectRenderGroups:XS,color32BitToUniform:Lh,colorBit:x0,colorBitGl:b0,colorMatrixFilterFrag:f5,colorMatrixFilterWgsl:Dx,colorToUniform:$Z,compareModeToGlCompare:z8,compileHighShader:j5,compileHighShaderGl:W5,compileHighShaderGlProgram:Ul,compileHighShaderGpuProgram:Fl,compileHooks:Gx,compileInputs:zx,compileOutputs:H5,compileShader:Hx,convertFormatIfRequired:JK,convertToList:Zn,copySearchParams:mm,createIdFromString:Th,createLevelBuffers:TK,createLevelBuffersFromKTX:eQ,createStringVariations:ck,createTexture:Uo,createUboElementsSTD40:f8,createUboElementsWGSL:aI,createUboSyncFunction:MS,createUboSyncFunctionSTD40:g8,createUboSyncFunctionWGSL:lI,crossOrigin:nO,cullingMixin:HD,curveEps:px,defaultFilterVert:_0,defaultValue:FS,definedProps:Po,deprecation:le,detectAvif:$4,detectBasis:xK,detectCompressed:aQ,detectDefaults:H4,detectMp4:j4,detectOgv:W4,detectVideoAlphaMode:m2,detectWebm:V4,detectWebp:X4,determineCrossOrigin:sO,displacementFrag:p5,displacementVert:m5,displacementWgsl:kx,earcut:a4,effectsMixin:XD,ensureAttributes:bS,ensureIsBuffer:E2,ensureOptions:v0,ensurePrecision:vk,ensureTextStyle:SJ,executeInstructions:WS,extensions:dt,extractAttributesFromGlProgram:T8,extractAttributesFromGpuProgram:Ek,extractFontFamilies:ZI,extractStructAndGroups:_p,fastCopy:gm,findHooksRx:$5,findMixin:YD,fontStringFromTextStyle:Zd,formatShader:hZ,fragmentGPUTemplate:q5,fragmentGlTemplate:Q5,generateArraySyncSTD40:m8,generateArraySyncWGSL:uI,generateBlurFragSource:s5,generateBlurGlProgram:a5,generateBlurProgram:l5,generateBlurVertSource:o5,generateGPULayout:cZ,generateGpuLayoutGroups:Tk,generateLayout:dZ,generateLayoutHash:Ck,generateProgram:R8,generateShaderSyncCode:S8,generateTextStyleKey:N2,generateTextureBatchBit:S0,generateTextureBatchBitGl:w0,generateUID:lJ,generateUniformsSync:D8,getAdjustedBlendModeBlend:dx,getAttributeInfoFromFormat:_l,getBatchSamplersUniformGroup:E0,getBitmapTextLayout:$2,getCanvasBoundingBox:sF,getCanvasFillStyle:Jd,getCanvasTexture:kS,getDefaultUniformValue:Rk,getFastGlobalBounds:x5,getFontCss:eF,getFontFamilyName:Q4,getGeometryBounds:g4,getGlTypeFromFormat:l8,getGlobalBounds:Eh,getGlobalRenderableBounds:b5,getLocalBounds:Zg,getMatrixRelativeToParent:d2,getMaxFragmentPrecision:_k,getOrientationOfPoints:w4,getParent:KD,getPo2TextureFromSource:Pw,getResolutionOfUrl:f0,getSVGUrl:tF,getSupportedCompressedTextureFormats:X2,getSupportedGPUCompressedTextureFormats:Ex,getSupportedGlCompressedTextureFormats:wx,getSupportedTextureFormats:Bh,getTemporaryCanvasFromImage:rF,getTestContext:g2,getTextureBatchBindGroup:l0,getTextureDefaultMatrix:vJ,getTextureFormatFromKTXTexture:nQ,getUboData:C8,getUniformData:P8,getUrlExtension:dk,glFormatToGPUFormat:xO,glUploadBufferImageResource:U8,glUploadCompressedTextureResource:L8,glUploadImageResource:GS,glUploadVideoResource:N8,globalUniformsBit:Z5,globalUniformsBitGl:J5,globalUniformsUBOBitGl:oZ,gpuFormatToBasisTranscoderFormat:PK,gpuFormatToKTXBasisTranscoderFormat:sQ,gpuUploadBufferImageResource:hI,gpuUploadCompressedTextureResource:fI,gpuUploadImageResource:Sw,gpuUploadVideoResource:pI,groupD8:ye,hasCachedCanvasTexture:xZ,hslWgsl:eZ,hslgl:r0,hslgpu:n0,injectBits:$x,insertVersion:xk,isMobile:mk,isPow2:Kv,isRenderingToScreen:v8,isSafari:QI,isSingleItem:Xd,isWebGLSupported:Ph,isWebGPUSupported:Ah,ktxTranscoderUrls:ym,loadBasis:EK,loadBasisOnWorker:hO,loadBitmapFont:N4,loadDDS:OK,loadEnvironmentExtensions:y2,loadFontAsBase64:JI,loadFontCSS:Yx,loadImageBitmap:tO,loadJson:q4,loadKTX:YK,loadKTX2:ZK,loadKTX2onWorker:vO,loadSVGImage:nF,loadSvg:J4,loadTextures:W2,loadTxt:K4,loadVideoTextures:oO,loadWebFont:Z4,localUniformBit:Vu,localUniformBitGl:T0,localUniformBitGroup2:e8,localUniformMSDFBit:jI,localUniformMSDFBitGl:WI,log2:yY,logDebugTexture:EJ,logProgramError:A8,logRenderGroupScene:uF,logScene:aF,mSDFBit:VI,mSDFBitGl:XI,mapFormatToGlFormat:$8,mapFormatToGlInternalFormat:H8,mapFormatToGlType:j8,mapGlToVertexFormat:E8,mapSize:TZ,mapType:US,mapWebGLBlendModesToPixi:k8,maskFrag:w5,maskVert:E5,maskWgsl:Ix,matrixPool:es,maxRecommendedTextures:Ii,measureHtmlText:hS,measureMixin:QD,migrateFragmentFromV7toV8:wZ,mipmapScaleModeToGlFilter:G8,mixColors:qS,mixHexColors:YS,mixStandardAnd32BitColors:IZ,multiplyHexColors:b4,nextPow2:Ba,noiseFrag:g5,noiseWgsl:Ox,nonCompressedFormats:lO,normalizeExtensionPriority:Bc,nssvg:Ux,nsxhtml:Lx,onRenderMixin:ZD,parseDDS:pO,parseFunctionBody:cJ,parseKTX:gO,path:nn,pointInTriangle:Fx,preloadVideo:iO,removeItems:o2,removeStructAndGroupDuplicates:Pk,resetUids:_Y,resolveCharacters:z2,resolveCompressedTextureUrl:oQ,resolveJsonUrl:aO,resolveTextureUrl:V2,resourceToTexture:ak,roundPixelsBit:Ll,roundPixelsBitGl:Nl,roundedShapeArc:B4,roundedShapeQuadraticCurve:D4,sayHello:Z8,scaleModeToGlFilter:Wx,setBasisTranscoderPath:SK,setKTXTranscoderPath:KK,setPositions:GI,setProgramName:bk,setUvs:$I,sortMixin:JD,spritesheetAsset:pk,squaredDistanceToLineSegment:td,stripVersion:Sk,testImageFormat:j2,testVideoFormat:h0,textStyleToCSS:F5,textureBit:t8,textureBitGl:r8,textureFrom:uk,tilingBit:FI,tilingBitGl:UI,toFillStyle:oo,toLocalGlobalMixin:ek,toStrokeStyle:Qd,transformVertices:c0,triangulateWithHoles:R2,uboSyncFunctionsSTD40:BS,uboSyncFunctionsWGSL:p8,uid:tt,uniformParsers:uo,unpremultiplyAlpha:kZ,unsafeEvalSupported:v2,updateLocalTransform:hJ,updateQuadBounds:jd,updateRenderGroupTransform:W8,updateRenderGroupTransforms:KS,updateTransformAndChildren:QS,updateTransformBackwards:Vd,updateWorldTransform:fJ,v8_0_0:de,validFormats:vm,validateRenderables:V8,vertexGPUTemplate:Y5,vertexGlTemplate:K5,viewportFromFrame:iJ,vkFormatToGPUFormat:bO,warn:pe,webworkerExt:RD,wrapModeToGlAddress:bp},Symbol.toStringTag,{value:"Module"})),AJ=({onReady:t,canvasRef:e,containerRef:r})=>{const n=C.useRef(),i=C.useRef(),s=C.useCallback((a,u)=>{const l=new S2;(async()=>{await l.init({resizeTo:u,canvas:a}),n.current=l,t(n)})()},[t]),o=C.useCallback(a=>{!(n!=null&&n.current)||!a||(i.current&&n.current.ticker.remove(i.current),n.current.ticker.add(a),i.current=a)},[n,i]);return C.useEffect(()=>{!(e!=null&&e.current)||!(r!=null&&r.current)||s(e.current,r.current)},[s,e,r]),{app:n.current,updateTicker:o}},RJ=(t,e=250)=>{const r=C.useRef(),n=C.useRef(!1);return C.useEffect(()=>{r.current=t},[t]),[C.useCallback(()=>{const s=()=>{n.current=!1,r.current&&r.current()};let o=-1;return e>0&&(o=window.setTimeout(s,e),n.current=!0),()=>window.clearTimeout(o)},[e]),n]},MJ=(t,e)=>{const r=C.useRef(t),n=C.useRef(t),i=C.useRef(),s=C.useCallback(l=>{n.current=l},[]),o=C.useCallback(()=>{n.current=r.current},[]),[a]=RJ(o,e),u=C.useCallback(l=>(i.current&&i.current(),n.current=l,i.current=a()),[a]);return[n,u,s]};/*!
 * PixiPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lo,Am,Z3,Jn,od,lF,qx,cF=function(){return typeof window<"u"},dF=function(){return lo||cF()&&(lo=window.gsap)&&lo.registerPlugin&&lo},Kx=function(e){return typeof e=="function"},hF=function(e){return console.warn(e)},BJ=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],jn=.212671,Wn=.71516,Vn=.072169,fF=function(e){return Kx(Jn[e])?Jn[e]:Jn.filters[e]},B0=function(e,r){var n=[],i=0,s=0,o,a;for(o=0;o<4;o++){for(a=0;a<5;a++)s=a===4?e[i+4]:0,n[i+a]=e[i]*r[a]+e[i+1]*r[a+5]+e[i+2]*r[a+10]+e[i+3]*r[a+15]+s;i+=5}return n},J3=function(e,r){var n=1-r,i=n*jn,s=n*Wn,o=n*Vn;return B0([i+r,s,o,0,0,i,s+r,o,0,0,i,s,o+r,0,0,0,0,0,1,0],e)},eP=function(e,r,n){var i=Am(r),s=i[0]/255,o=i[1]/255,a=i[2]/255,u=1-n;return B0([u+n*s*jn,n*s*Wn,n*s*Vn,0,0,n*o*jn,u+n*o*Wn,n*o*Vn,0,0,n*a*jn,n*a*Wn,u+n*a*Vn,0,0,0,0,0,1,0],e)},tP=function(e,r){r*=Math.PI/180;var n=Math.cos(r),i=Math.sin(r);return B0([jn+n*(1-jn)+i*-jn,Wn+n*-Wn+i*-Wn,Vn+n*-Vn+i*(1-Vn),0,0,jn+n*-jn+i*.143,Wn+n*(1-Wn)+i*.14,Vn+n*-Vn+i*-.283,0,0,jn+n*-jn+i*-(1-jn),Wn+n*-Wn+i*Wn,Vn+n*(1-Vn)+i*Vn,0,0,0,0,0,1,0,0,0,0,0,1],e)},rP=function(e,r){return B0([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},pF=function(e,r){var n=fF(r),i=e.filters||[],s=i.length,o;for(n||hF(r+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(i[s]instanceof n)return i[s];return o=new n,r==="BlurFilter"&&(o.blur=0),i.push(o),e.filters=i,o},qt=function(e,r,n,i){r.add(n,e,n[e],i[e]),r._props.push(e)},nP=function(e,r){var n=fF("ColorMatrixFilter"),i=new n;return i.matrix=r,i.brightness(e,!0),i.matrix},DJ=function(e){var r={},n;for(n in e)r[n]=e[n];return r},dn={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},kJ=function(e,r,n){var i=pF(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||DJ(dn),o=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),a,u,l;for(l=i.matrix,r.resolution&&(i.resolution=r.resolution),r.matrix&&r.matrix.length===l.length?(u=r.matrix,s.contrast!==1&&qt("contrast",n,s,dn),s.hue&&qt("hue",n,s,dn),s.brightness!==1&&qt("brightness",n,s,dn),s.colorizeAmount&&(qt("colorize",n,s,dn),qt("colorizeAmount",n,s,dn)),s.saturation!==1&&qt("saturation",n,s,dn)):(u=BJ.slice(),r.contrast!=null?(u=rP(u,+r.contrast),qt("contrast",n,s,r)):s.contrast!==1&&(o?u=rP(u,s.contrast):qt("contrast",n,s,dn)),r.hue!=null?(u=tP(u,+r.hue),qt("hue",n,s,r)):s.hue&&(o?u=tP(u,s.hue):qt("hue",n,s,dn)),r.brightness!=null?(u=nP(+r.brightness,u),qt("brightness",n,s,r)):s.brightness!==1&&(o?u=nP(s.brightness,u):qt("brightness",n,s,dn)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,u=eP(u,r.colorize,r.colorizeAmount),qt("colorize",n,s,r),qt("colorizeAmount",n,s,r)):s.colorizeAmount&&(o?u=eP(u,s.colorize,s.colorizeAmount):(qt("colorize",n,s,dn),qt("colorizeAmount",n,s,dn))),r.saturation!=null?(u=J3(u,+r.saturation),qt("saturation",n,s,r)):s.saturation!==1&&(o?u=J3(u,s.saturation):qt("saturation",n,s,dn))),a=u.length;--a>-1;)u[a]!==l[a]&&n.add(l,a,l[a],u[a],"colorMatrixFilter");n._props.push("colorMatrixFilter")},OJ=function(e,r){var n=r.t,i=r.p,s=r.color,o=r.set;o(n,i,s[0]<<16|s[1]<<8|s[2])},IJ=function(e,r){var n=r.g;n&&(n.dirty++,n.clearDirty++)},FJ=function(e,r){r.t.visible=!!r.t.alpha},iP=function(e,r,n,i){var s=e[r],o=Am(Kx(s)?e[r.indexOf("set")||!Kx(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():s),a=Am(n);i._pt=new od(i._pt,e,r,0,0,OJ,{t:e,p:r,color:o,set:lF(e,r)}),i.add(o,0,o[0],a[0]),i.add(o,1,o[1],a[1]),i.add(o,2,o[2],a[2])},UJ={tint:1,lineColor:1,fillColor:1},sP="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Qx={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},LJ={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Rm=Math.PI/180,mF=function(e){return typeof e=="string"},NJ=function(e){return mF(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*Rm:e*Rm},GJ=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},zJ=function(e,r,n,i,s,o){var a=360*(o?Rm:1),u=mF(s),l=u&&s.charAt(1)==="="?+(s.charAt(0)+"1"):0,c=parseFloat(l?s.substr(2):s)*(o?Rm:1),d=l?c*l:c-i,h=i+d,f,p;return u&&(f=s.split("_")[1],f==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),f==="cw"&&d<0?d=(d+a*1e10)%a-~~(d/a)*a:f==="ccw"&&d>0&&(d=(d-a*1e10)%a-~~(d/a)*a)),e._pt=p=new od(e._pt,r,n,i,d,GJ),p.e=h,p},oP=function(){Z3||(lo=dF(),Jn=Z3=Jn||cF()&&window.PIXI,qx=Jn&&Jn.VERSION&&Jn.VERSION.charAt(0)==="4",Am=function(r){return lo.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)})},Hf,vc;for(Hf=0;Hf<sP.length;Hf++)vc=sP[Hf],Qx[vc+"X"]=vc,Qx[vc+"Y"]=vc;var Zx={version:"3.12.5",name:"pixi",register:function(e,r,n){lo=e,od=n,lF=r.getSetter,oP()},headless:!0,registerPIXI:function(e){Jn=e},init:function(e,r,n,i,s){if(Jn||oP(),!Jn)return hF("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,u,l,c,d,h,f,p;for(d in r){if(o=Qx[d],u=r[d],o)a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],a,e[o][a],o==="skew"?NJ(u):u,0,0,0,0,0,1);else if(d==="scale"||d==="anchor"||d==="pivot"||d==="tileScale")this.add(e[d],"x",e[d].x,u),this.add(e[d],"y",e[d].y,u);else if(d==="rotation"||d==="angle")zJ(this,e,d,e[d],u,d==="rotation");else if(LJ[d])l||(kJ(e,r.colorMatrixFilter||r,this),l=!0);else if(d==="blur"||d==="blurX"||d==="blurY"||d==="blurPadding"){if(c=pF(e,"BlurFilter"),this.add(c,d,c[d],u),r.blurPadding!==0)for(h=r.blurPadding||Math.max(c[d],u)*2,f=e.filters.length;--f>-1;)e.filters[f].padding=Math.max(e.filters[f].padding,h)}else if(UJ[d])if((d==="lineColor"||d==="fillColor")&&e instanceof Jn.Graphics)for(p=(e.geometry||e).graphicsData,this._pt=new od(this._pt,e,d,0,0,IJ,{g:e.geometry||e}),f=p.length;--f>-1;)iP(qx?p[f]:p[f][d.substr(0,4)+"Style"],qx?d:"color",u,this);else iP(e,d,u,this);else d==="autoAlpha"?(this._pt=new od(this._pt,e,"visible",0,0,FJ),this.add(e,"alpha",e.alpha,u),this._props.push("alpha","visible")):d!=="resolution"&&this.add(e,d,"get",u);this._props.push(d)}}};dF()&&lo.registerPlugin(Zx);const $J={fov:20,baseSpeed:.025,speed:0,starStretch:50,starBaseSize:.05};function HJ(t,e){return{...t,...e.payload}}const jJ=()=>{const t="0123456789ABCDEF";let e="#";for(let r=0;r<6;r++)e+=t[Math.floor(Math.random()*16)];return parseInt(e.substring(1),16)},WJ=(t,e=!1,r=0)=>{t.z=e?Math.random()*2e3:r+Math.random()*1e3+2e3;const n=Math.random()*Math.PI*2,i=Math.random()*50+1;t.x=Math.cos(n)*i,t.y=Math.sin(n)*i,t.sprite.tint=jJ()},VJ=t=>{const{location:e}=Pb(Gb),r=C.useRef(),n=C.useRef();C.useEffect(()=>{e&&(n.current=e.pathname.split("/")[1],r.current&&r.current({selectedItem:n.current}))},[e]);const i=C.useCallback(s=>{location&&(r.current=s,r.current({selectedItem:n.current}))},[]);return R.jsx(XJ,{onInitialized:i,...t})},gF=({onInitialized:t})=>{const e=C.useRef(),r=C.useRef(),n=C.useRef([]),i=C.useRef(0),s=C.useRef(0),[o]=MJ(0,2e3),a=C.useRef(),[u]=C.useReducer(HJ,$J),l=C.useRef();yr.registerPlugin(Zx),Zx.registerPIXI(PJ),yr.defaults({overwrite:!0});const c=C.useCallback(y=>{var w;if(!y)return;const x=l.current,{selectedItem:S}=y;a.current&&a.current in m.current&&(yr.fromTo(m.current[a.current].planetSprite,{pixi:{scale:.5}},{pixi:{scale:6,y:"+=5000"},duration:.8,ease:"power2.inOut"}),yr.to(m.current[a.current].planetSprite,{pixi:{alpha:0},duration:.3,delay:.3,overwrite:!1})),(w=m.current[S])!=null&&w.planetSprite&&(yr.fromTo(m.current[S].planetSprite,{pixi:{alpha:0}},{pixi:{alpha:1},duration:.3,delay:1.9}),yr.fromTo(m.current[S].planetSprite,{pixi:{scale:.2,y:x.renderer.screen.height/2}},{pixi:{scale:.5},duration:.8,delay:1.9,overwrite:!1})),a.current=S,yr.to(o,{current:1,duration:1,delay:0,ease:"power2.inOut"}),yr.to(o,{current:0,duration:.5,delay:1.5,ease:"power2.outIn",overwrite:!1})},[o]),d=C.useCallback((y,x,S,w,b=0)=>{let{fov:T,starStretch:E,starBaseSize:P}=u;(x||y.z<b)&&WJ(y,x,b);const B=y.z-b;y.sprite.x=y.x*(T/B)*S+S/2,y.sprite.y=y.y*(T/B)*w+w/2;const L=y.sprite.x-S/2,O=y.sprite.y-w/2,k=Math.sqrt(L*L+O*O),G=Math.max(0,(2e3-B)/2e3);y.sprite.scale.x=G*P,y.sprite.scale.y=G*P+G*s.current*E*k/S,y.sprite.rotation=Math.atan2(O,L)+Math.PI/2},[u]),h=C.useCallback((y=0,x)=>{let{baseSpeed:S}=u;s.current+=(o.current-s.current)/20,i.current+=y*10*(s.current+S);const w=n.current.length;for(let b=0;b<w;b++)d(n.current[b],!1,x.renderer.screen.width,x.renderer.screen.height,i.current)},[u,n,d,o]),f=C.useCallback(y=>x=>{!x||!y||h(x.deltaTime,y)},[h]),p=C.useCallback(y=>new Promise((x,S)=>{try{l.current=y,(async()=>{const b=await ca.load("https://pixijs.com/assets/star.png");for(let T=0;T<1e3;T++){const E={sprite:new Rn(b),z:0,x:0,y:0};E.sprite.anchor.x=.5,E.sprite.anchor.y=.8,E.sprite.alpha=.7,l.current.stage.addChild(E.sprite),d(E,!0,y.renderer.screen.width,y.renderer.screen.height),n.current.push(E)}x()})()}catch(w){console.error("Error: ",w),S(w)}}),[d]),m=C.useRef({experience:{planetSprite:null,active:!1,url:"/portfolio/assets/planet-green.png"},about:{planetSprite:null,active:!1,url:"/portfolio/assets/planet-red.png"},interns:{planetSprite:null,active:!1,url:"/portfolio/assets/planet-blue.png"},contact:{planetSprite:null,active:!1,url:"/portfolio/assets/planet-orange.png"}}),g=C.useCallback(y=>new Promise((x,S)=>{try{l.current=y,(async()=>{const b=Object.values(m.current);for(let T=0;T<b.length;T++){const E=await ca.load(b[T].url);b[T].planetSprite=new Rn(E),b[T].planetSprite.anchor.set(.5),b[T].planetSprite.x=y.renderer.screen.width/2,b[T].planetSprite.y=y.renderer.screen.height/2,b[T].planetSprite.scale.set(.2),b[T].planetSprite.alpha=0,b[T].active=!1,l.current.stage.addChild(b[T].planetSprite)}x()})()}catch(w){console.error("Error: ",w),S(w)}}),[l]),_=async y=>{await p(y.current),await g(y.current),v(f(y.current)),t(c)},{updateTicker:v}=AJ({canvasRef:e,containerRef:r,onReady:_});return R.jsx(on,{ref:r,className:"pixi-container",children:R.jsx("canvas",{ref:e})})};gF.propTypes={onInitialized:QL.func};const XJ=Wr.memo(gF);function xc({page:t,children:e}){return R.jsx(on,{className:`page-container ${t}`,children:e})}function YJ(){const t=C.useRef(null);return C.useEffect(()=>{yr.fromTo(t.current,{opacity:0,scale:.5,y:"+=20"},{duration:.6,opacity:1,y:0,scale:1,delay:2.5})}),R.jsx(on,{className:"home",p:4,ref:t,children:R.jsxs(Bl,{direction:"column",spacing:2,children:[R.jsx(We,{variant:"h1",align:"center",children:"Robert Davis"}),R.jsx(We,{variant:"body1",align:"center",children:"Welcome to my portfolio! Im currently building awesome new features. Check back for updates!"}),R.jsx(We,{variant:"body1",align:"center",children:"Feel free to do some interplanetary travel in the meantime."}),R.jsx(We,{variant:"h3",align:"center",children:"Buckle up!"})]})})}function qJ(){return $a(()=>{yr.fromTo(".experience",{opacity:0,scale:.5,y:"+=20"},{duration:.6,opacity:1,y:0,scale:1,delay:2.5})}),R.jsx(on,{className:"experience page",m:2,children:R.jsxs(Bl,{direction:"column",spacing:2,children:[R.jsx(on,{children:R.jsx(We,{variant:"h1",align:"center",children:"EXPERIENCE"})}),R.jsx(yh,{elevation:15,sx:{background:"none"},children:R.jsxs(Ng,{sx:{maxWidth:800,backgroundColor:"#00000091",color:"#0c9cff",borderRadius:"10px"},variant:"outlined",children:[R.jsx(zg,{sx:{height:140},image:"react.jpg",title:"React"}),R.jsxs(Gg,{sx:{p:"10px"},children:[R.jsx(We,{variant:"h3",children:"Web Applications"}),R.jsx(We,{variant:"body1",children:"Developed web application for data analysis and visualization, onboarding, and validation tools. Obtained a lot of profenciency in React, Redux, Material-UI, and more."}),R.jsx(We,{variant:"h3",mt:2,children:"Ad Agencies"}),R.jsxs(We,{variant:"body1",children:["Banner ads, dynamic emails, tablet presentations, large-scale fully responsive websites! You name it, ","I've"," built it--for both pharmaceutical and consumer brands. Having done so for over a decade, I have been well versed in the world of ad agencies and the creation of digital marketing campaigns."]}),R.jsx(We,{variant:"h3",mt:2,children:"Small businesses"}),R.jsx(We,{variant:"body1",children:"Providing companies with professional websites that are responsive, user-friendly, and visually appealing. I have experience building web applications using React, Redux, Material-UI, and more."})]})]})})]})})}function KJ(){return $a(()=>{yr.fromTo(".about",{opacity:0,scale:.5,y:"+=20"},{duration:.6,opacity:1,y:0,scale:1,delay:2.5})}),R.jsx(on,{className:"about page",m:2,children:R.jsxs(Bl,{direction:"column",spacing:2,children:[R.jsx(on,{children:R.jsx(We,{variant:"h1",align:"center",children:"ABOUT"})}),R.jsx(yh,{elevation:15,sx:{background:"none"},children:R.jsxs(Ng,{sx:{maxWidth:800,backgroundColor:"#00000091",color:"#0c9cff",borderRadius:"10px"},variant:"outlined",children:[R.jsx(zg,{sx:{height:140,filter:"brightness(130%)"},image:"about.jpg",title:"About"}),R.jsxs(Gg,{sx:{p:"10px"},children:[R.jsx(We,{variant:"h3",children:"Programming:"}),R.jsx(We,{variant:"body1",children:"I love building modular, reusable tools. From static web pages to full-stack applications, I enjoy the process of creating software that is both functional and visually appealing, and polishing it until it shines."}),R.jsx(We,{variant:"h3",mt:2,children:"Music Composition:"}),R.jsxs(We,{variant:"body1",children:["I have composed music for video games, short animations, and personal fun. I was foruntate enough to write music featured in these ",R.jsx(Sv,{color:"#ffffff",underline:"always",target:"_blank",href:"http://manningkrull.com/halloween-animations/",rel:"noopener noreferrer",variant:"body1",children:"amazing animations"}),", by Manning Krull."]}),R.jsx(We,{variant:"h3",mt:2,children:"Drums:"}),R.jsxs(We,{variant:"body1",children:["I have been playing drums for over 25 years. I have played in bands, recorded in studios, and performed live. I have experience with a variety of styles, including rock, metal, funk, and jazz. Favorite band is Tool. Vinyl ",">"," digital."]})]})]})})]})})}function QJ(){return $a(()=>{yr.fromTo(".interns",{opacity:0,scale:.5,y:"+=20"},{duration:.6,opacity:1,y:0,scale:1,delay:2.5})}),R.jsx(on,{className:"interns page",m:2,children:R.jsxs(Bl,{direction:"column",spacing:2,children:[R.jsx(on,{children:R.jsx(We,{variant:"h1",align:"center",children:"INTERNS"})}),R.jsx(yh,{elevation:15,sx:{background:"none"},children:R.jsxs(Ng,{sx:{maxWidth:800,backgroundColor:"#00000091",color:"#0c9cff",borderRadius:"10px"},variant:"outlined",children:[R.jsx(zg,{sx:{height:140},image:"interns_.jpg",title:"React"}),R.jsx(Gg,{sx:{p:"10px"},children:R.jsx(We,{variant:"h3",align:"center",children:":: UNDER CONTSTRUCTION ::"})})]})})]})})}function ZJ(){return $a(()=>{yr.fromTo(".contact",{opacity:0,scale:.5,y:"+=20"},{duration:.6,opacity:1,y:0,scale:1,delay:2.5})}),R.jsx(on,{className:"contact page",m:2,children:R.jsxs(Bl,{direction:"column",spacing:2,children:[R.jsx(on,{children:R.jsx(We,{variant:"h1",align:"center",children:"CONTACT"})}),R.jsx(yh,{elevation:15,sx:{background:"none"},children:R.jsxs(Ng,{sx:{maxWidth:800,backgroundColor:"#00000091",color:"#0c9cff",borderRadius:"10px"},variant:"outlined",children:[R.jsx(zg,{sx:{height:140},image:"contact.jpg",title:"Contact"}),R.jsxs(Gg,{sx:{p:"10px"},children:[R.jsx(We,{variant:"h3",children:"Email:"}),R.jsx(We,{children:R.jsx(Sv,{color:"white",underline:"hover",href:"mailto:digitalribs@gmail.com",target:"_blank",rel:"noopener noreferrer",variant:"body1",children:"digitalribs@gmail.com"})}),R.jsx(We,{variant:"h3",mt:2,children:"LinkedIn:"}),R.jsx(We,{children:R.jsx(Sv,{color:"white",underline:"hover",target:"_blank",href:"https://www.linkedin.com/in/robert-davis-5aa87429/",rel:"noopener noreferrer",variant:"body1",children:"www.linkedin.com/in/robert-davis-5aa87429/"})})]})]})})]})})}const Mm=C.createContext({});function JJ(t){return Mt("MuiTimeline",t)}xt("MuiTimeline",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function Gl(t){return t==="alternate-reverse"?"positionAlternateReverse":`position${ft(t)}`}const eee=["position","className"],tee=t=>{const{position:e,classes:r}=t,n={root:["root",e&&Gl(e)]};return Bt(n,JJ,r)},ree=De("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.position&&e[Gl(r.position)]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),nee=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimeline"}),{position:i="right",className:s}=n,o=he(n,eee),a=D({},n,{position:i}),u=tee(a),l=C.useMemo(()=>({position:i}),[i]);return R.jsx(Mm.Provider,{value:l,children:R.jsx(ree,D({className:ge(u.root,s),ownerState:a,ref:r},o))})});function iee(t){return Mt("MuiTimelineContent",t)}const see=xt("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),oee=["className"],aee=t=>{const{position:e,classes:r}=t,n={root:["root",Gl(e)]};return Bt(n,iee,r)},uee=De(We,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[Gl(r.position)]]}})(({ownerState:t})=>D({flex:1,padding:"6px 16px",textAlign:"left"},t.position==="left"&&{textAlign:"right"})),jf=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimelineContent"}),{className:i}=n,s=he(n,oee),{position:o}=C.useContext(Mm),a=D({},n,{position:o||"right"}),u=aee(a);return R.jsx(uee,D({component:"div",className:ge(u.root,i),ownerState:a,ref:r},s))}),lee=xt("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function cee(t){return Mt("MuiTimelineItem",t)}xt("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const dee=["position","className"],hee=t=>{const{position:e,classes:r,hasOppositeContent:n}=t,i={root:["root",Gl(e),!n&&"missingOppositeContent"]};return Bt(i,cee,r)},fee=De("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[Gl(r.position)]]}})(({ownerState:t})=>D({listStyle:"none",display:"flex",position:"relative",minHeight:70},t.position==="left"&&{flexDirection:"row-reverse"},(t.position==="alternate"||t.position==="alternate-reverse")&&{[`&:nth-of-type(${t.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${see.root}`]:{textAlign:"right"},[`& .${lee.root}`]:{textAlign:"left"}}},!t.hasOppositeContent&&{"&::before":{content:'""',flex:1,padding:"6px 16px"}})),Wf=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimelineItem"}),{position:i,className:s}=n,o=he(n,dee),{position:a}=C.useContext(Mm);let u=!1;C.Children.forEach(n.children,h=>{lM(h,["TimelineOppositeContent"])&&(u=!0)});const l=D({},n,{position:i||a||"right",hasOppositeContent:u}),c=hee(l),d=C.useMemo(()=>({position:l.position}),[l.position]);return R.jsx(Mm.Provider,{value:d,children:R.jsx(fee,D({className:ge(c.root,s),ownerState:l,ref:r},o))})});function pee(t){return Mt("MuiTimelineSeparator",t)}xt("MuiTimelineSeparator",["root"]);const mee=["className"],gee=t=>{const{classes:e}=t;return Bt({root:["root"]},pee,e)},_ee=De("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Vf=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimelineSeparator"}),{className:i}=n,s=he(n,mee),o=n,a=gee(o);return R.jsx(_ee,D({className:ge(a.root,i),ownerState:o,ref:r},s))});function yee(t){return Mt("MuiTimelineConnector",t)}xt("MuiTimelineConnector",["root"]);const vee=["className"],xee=t=>{const{classes:e}=t;return Bt({root:["root"]},yee,e)},bee=De("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.grey[400],flexGrow:1})),hy=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimelineConnector"}),{className:i}=n,s=he(n,vee),o=n,a=xee(o);return R.jsx(bee,D({className:ge(a.root,i),ownerState:o,ref:r},s))});function See(t){return Mt("MuiTimelineDot",t)}xt("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const wee=["className","color","variant"],Eee=t=>{const{color:e,variant:r,classes:n}=t,i={root:["root",r,e!=="inherit"&&`${r}${ft(e)}`]};return Bt(i,See,n)},Tee=De("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.color!=="inherit"&&`${r.variant}${ft(r.color)}`],e[r.variant]]}})(({ownerState:t,theme:e})=>D({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(e.vars||e).shadows[1],margin:"11.5px 0"},t.variant==="filled"&&D({borderColor:"transparent"},t.color!=="inherit"&&D({},t.color==="grey"?{color:(e.vars||e).palette.grey[50],backgroundColor:(e.vars||e).palette.grey[400]}:{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main})),t.variant==="outlined"&&D({boxShadow:"none",backgroundColor:"transparent"},t.color!=="inherit"&&D({},t.color==="grey"?{borderColor:(e.vars||e).palette.grey[400]}:{borderColor:(e.vars||e).palette[t.color].main})))),Xf=C.forwardRef(function(e,r){const n=bt({props:e,name:"MuiTimelineDot"}),{className:i,color:s="grey",variant:o="filled"}=n,a=he(n,wee),u=D({},n,{color:s,variant:o}),l=Eee(u);return R.jsx(Tee,D({className:ge(l.root,i),ownerState:u,ref:r},a))});function Cee(){const{location:t}=Pb(Gb),e="#0384fcab",r="#fce303ab",n="#ff7700ab",i="#15ff00ab",s="0px 0px 11px 8px",o=a=>t?t.pathname.split("/")[1]===a:!1;return R.jsx(on,{className:"timeline",sx:{position:"absolute",top:3,left:3},children:R.jsx(Bl,{direction:"column",spacing:2,children:R.jsxs(nee,{position:"alternate",sx:{minWidth:"240px",padding:"0"},children:[R.jsxs(Wf,{children:[R.jsxs(Vf,{children:[R.jsx(Xf,{sx:{bgcolor:"#15ff00",boxShadow:o("experience")?`${s} ${i}`:"none"}}),R.jsx(hy,{sx:{bgcolor:"#7e00ff"}})]}),R.jsx(jf,{children:"Experience"})]}),R.jsxs(Wf,{children:[R.jsxs(Vf,{children:[R.jsx(Xf,{sx:{bgcolor:"#ff7700",boxShadow:o("about")?`${s} ${n}`:"none"}}),R.jsx(hy,{sx:{bgcolor:"#7e00ff"}})]}),R.jsx(jf,{children:"About"})]}),R.jsxs(Wf,{children:[R.jsxs(Vf,{children:[R.jsx(Xf,{sx:{bgcolor:"#0384fc",boxShadow:o("interns")?`${s} ${e}`:"none"}}),R.jsx(hy,{sx:{bgcolor:"#7e00ff"}})]}),R.jsx(jf,{children:"Interns"})]}),R.jsxs(Wf,{children:[R.jsx(Vf,{children:R.jsx(Xf,{sx:{bgcolor:"#fce303",boxShadow:o("contact")?`${s} ${r}`:"none"}})}),R.jsx(jf,{children:"Contact"})]})]})})})}const Pee=Tg({typography:{fontSize:14,h1:{fontSize:"2rem",fontWeight:500,fontFamily:"Orbitron"},h3:{fontSize:"1.5rem",fontWeight:500,fontFamily:"Orbitron"},body1:{fontFamily:"arial",fontSize:"1rem",color:"white"}},components:{MuiTypography:{styleOverrides:{root:{textShadow:"2px 2px 3px #000000"}}},MuiTimelineContent:{styleOverrides:{root:{textShadow:"2px 2px 3px #000000",fontFamily:"Orbitron",fontSize:".8rem"}}},MuiTimelineItem:{styleOverrides:{root:{minHeight:"60px"}}}}});let Aee=DV([{path:"/",element:R.jsxs(TM,{theme:Pee,children:[R.jsx(EV,{}),R.jsx(lY,{}),R.jsx(Cee,{})]}),children:[{index:!0,element:R.jsx(xc,{page:"home",children:R.jsx(YJ,{})})},{path:"experience",element:R.jsx(xc,{page:"experience",children:R.jsx(qJ,{})})},{path:"about",element:R.jsx(xc,{page:"about",children:R.jsx(KJ,{})})},{path:"interns",element:R.jsx(xc,{className:"interns",children:R.jsx(QJ,{})})},{path:"contact",element:R.jsx(xc,{children:R.jsx(ZJ,{})})}]}]);function Ree(){const t=kl();return R.jsxs("div",{children:["Current Route: ",t.pathname]})}function Mee(){return R.jsx(MH,{children:R.jsx(VJ,{style:{position:"absolute",top:0}})})}function Bee(){return R.jsxs(ZH,{store:cY,children:[R.jsx(Mee,{}),R.jsx(zV,{router:Aee,fallbackElement:R.jsx("p",{children:"Loading..."}),children:R.jsx(Ree,{})})]})}fy.createRoot(document.getElementById("root")).render(R.jsx(Wr.StrictMode,{children:R.jsx(Bee,{})}));export{gk as A,qI as B,Ve as C,e5 as E,jQ as F,bI as G,Aw as H,RI as M,II as N,h4 as R,f4 as T,VY as a,I2 as b,oF as c,iF as d,dt as e,KI as f,HI as g,S5 as h,v5 as i};
